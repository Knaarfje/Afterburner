/*!
 * Chart.js
 * http://chartjs.org/
 * Version: 2.2.1
 *
 * Copyright 2016 Nick Downie
 * Released under the MIT license
 * https://github.com/chartjs/Chart.js/blob/master/LICENSE.md
 */
!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.Chart=t()}}(function(){return function t(e,a,i){function n(r,l){if(!a[r]){if(!e[r]){var s="function"==typeof require&&require;if(!l&&s)return s(r,!0);if(o)return o(r,!0);var d=new Error("Cannot find module '"+r+"'");throw d.code="MODULE_NOT_FOUND",d}var u=a[r]={exports:{}};e[r][0].call(u.exports,function(t){var a=e[r][1][t];return n(a?a:t)},u,u.exports,t,e,a,i)}return a[r].exports}for(var o="function"==typeof require&&require,r=0;r<i.length;r++)n(i[r]);return n}({1:[function(t,e,a){},{}],2:[function(t,e,a){function i(t){if(t){var e=/^#([a-fA-F0-9]{3})$/,a=/^#([a-fA-F0-9]{6})$/,i=/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,n=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,o=/(\w+)/,r=[0,0,0],l=1,s=t.match(e);if(s){s=s[1];for(var d=0;d<r.length;d++)r[d]=parseInt(s[d]+s[d],16)}else if(s=t.match(a)){s=s[1];for(var d=0;d<r.length;d++)r[d]=parseInt(s.slice(2*d,2*d+2),16)}else if(s=t.match(i)){for(var d=0;d<r.length;d++)r[d]=parseInt(s[d+1]);l=parseFloat(s[4])}else if(s=t.match(n)){for(var d=0;d<r.length;d++)r[d]=Math.round(2.55*parseFloat(s[d+1]));l=parseFloat(s[4])}else if(s=t.match(o)){if("transparent"==s[1])return[0,0,0,0];if(r=y[s[1]],!r)return}for(var d=0;d<r.length;d++)r[d]=v(r[d],0,255);return l=l||0==l?v(l,0,1):1,r[3]=l,r}}function n(t){if(t){var e=/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/,a=t.match(e);if(a){var i=parseFloat(a[4]),n=v(parseInt(a[1]),0,360),o=v(parseFloat(a[2]),0,100),r=v(parseFloat(a[3]),0,100),l=v(isNaN(i)?1:i,0,1);return[n,o,r,l]}}}function o(t){if(t){var e=/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/,a=t.match(e);if(a){var i=parseFloat(a[4]),n=v(parseInt(a[1]),0,360),o=v(parseFloat(a[2]),0,100),r=v(parseFloat(a[3]),0,100),l=v(isNaN(i)?1:i,0,1);return[n,o,r,l]}}}function r(t){var e=i(t);return e&&e.slice(0,3)}function l(t){var e=n(t);return e&&e.slice(0,3)}function s(t){var e=i(t);return e?e[3]:(e=n(t))?e[3]:(e=o(t))?e[3]:void 0}function d(t){return"#"+x(t[0])+x(t[1])+x(t[2])}function u(t,e){return 1>e||t[3]&&t[3]<1?c(t,e):"rgb("+t[0]+", "+t[1]+", "+t[2]+")"}function c(t,e){return void 0===e&&(e=void 0!==t[3]?t[3]:1),"rgba("+t[0]+", "+t[1]+", "+t[2]+", "+e+")"}function h(t,e){if(1>e||t[3]&&t[3]<1)return f(t,e);var a=Math.round(t[0]/255*100),i=Math.round(t[1]/255*100),n=Math.round(t[2]/255*100);return"rgb("+a+"%, "+i+"%, "+n+"%)"}function f(t,e){var a=Math.round(t[0]/255*100),i=Math.round(t[1]/255*100),n=Math.round(t[2]/255*100);return"rgba("+a+"%, "+i+"%, "+n+"%, "+(e||t[3]||1)+")"}function g(t,e){return 1>e||t[3]&&t[3]<1?p(t,e):"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)"}function p(t,e){return void 0===e&&(e=void 0!==t[3]?t[3]:1),"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+e+")"}function m(t,e){return void 0===e&&(e=void 0!==t[3]?t[3]:1),"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+(void 0!==e&&1!==e?", "+e:"")+")"}function b(t){return k[t.slice(0,3)]}function v(t,e,a){return Math.min(Math.max(e,t),a)}function x(t){var e=t.toString(16).toUpperCase();return e.length<2?"0"+e:e}var y=t(6);e.exports={getRgba:i,getHsla:n,getRgb:r,getHsl:l,getHwb:o,getAlpha:s,hexString:d,rgbString:u,rgbaString:c,percentString:h,percentaString:f,hslString:g,hslaString:p,hwbString:m,keyword:b};var k={};for(var S in y)k[y[S]]=S},{6:6}],3:[function(t,e,a){var i=t(5),n=t(2),o=function(t){if(t instanceof o)return t;if(!(this instanceof o))return new o(t);this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1};var e;if("string"==typeof t)if(e=n.getRgba(t))this.setValues("rgb",e);else if(e=n.getHsla(t))this.setValues("hsl",e);else{if(!(e=n.getHwb(t)))throw new Error('Unable to parse color from string "'+t+'"');this.setValues("hwb",e)}else if("object"==typeof t)if(e=t,void 0!==e.r||void 0!==e.red)this.setValues("rgb",e);else if(void 0!==e.l||void 0!==e.lightness)this.setValues("hsl",e);else if(void 0!==e.v||void 0!==e.value)this.setValues("hsv",e);else if(void 0!==e.w||void 0!==e.whiteness)this.setValues("hwb",e);else{if(void 0===e.c&&void 0===e.cyan)throw new Error("Unable to parse color from object "+JSON.stringify(t));this.setValues("cmyk",e)}};o.prototype={rgb:function(){return this.setSpace("rgb",arguments)},hsl:function(){return this.setSpace("hsl",arguments)},hsv:function(){return this.setSpace("hsv",arguments)},hwb:function(){return this.setSpace("hwb",arguments)},cmyk:function(){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){var t=this.values;return 1!==t.alpha?t.hwb.concat([t.alpha]):t.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var t=this.values;return t.rgb.concat([t.alpha])},hslaArray:function(){var t=this.values;return t.hsl.concat([t.alpha])},alpha:function(t){return void 0===t?this.values.alpha:(this.setValues("alpha",t),this)},red:function(t){return this.setChannel("rgb",0,t)},green:function(t){return this.setChannel("rgb",1,t)},blue:function(t){return this.setChannel("rgb",2,t)},hue:function(t){return t&&(t%=360,t=0>t?360+t:t),this.setChannel("hsl",0,t)},saturation:function(t){return this.setChannel("hsl",1,t)},lightness:function(t){return this.setChannel("hsl",2,t)},saturationv:function(t){return this.setChannel("hsv",1,t)},whiteness:function(t){return this.setChannel("hwb",1,t)},blackness:function(t){return this.setChannel("hwb",2,t)},value:function(t){return this.setChannel("hsv",2,t)},cyan:function(t){return this.setChannel("cmyk",0,t)},magenta:function(t){return this.setChannel("cmyk",1,t)},yellow:function(t){return this.setChannel("cmyk",2,t)},black:function(t){return this.setChannel("cmyk",3,t)},hexString:function(){return n.hexString(this.values.rgb)},rgbString:function(){return n.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return n.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return n.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return n.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return n.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return n.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return n.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){var t=this.values.rgb;return t[0]<<16|t[1]<<8|t[2]},luminosity:function(){for(var t=this.values.rgb,e=[],a=0;a<t.length;a++){var i=t[a]/255;e[a]=.03928>=i?i/12.92:Math.pow((i+.055)/1.055,2.4)}return.2126*e[0]+.7152*e[1]+.0722*e[2]},contrast:function(t){var e=this.luminosity(),a=t.luminosity();return e>a?(e+.05)/(a+.05):(a+.05)/(e+.05)},level:function(t){var e=this.contrast(t);return e>=7.1?"AAA":e>=4.5?"AA":""},dark:function(){var t=this.values.rgb,e=(299*t[0]+587*t[1]+114*t[2])/1e3;return 128>e},light:function(){return!this.dark()},negate:function(){for(var t=[],e=0;3>e;e++)t[e]=255-this.values.rgb[e];return this.setValues("rgb",t),this},lighten:function(t){var e=this.values.hsl;return e[2]+=e[2]*t,this.setValues("hsl",e),this},darken:function(t){var e=this.values.hsl;return e[2]-=e[2]*t,this.setValues("hsl",e),this},saturate:function(t){var e=this.values.hsl;return e[1]+=e[1]*t,this.setValues("hsl",e),this},desaturate:function(t){var e=this.values.hsl;return e[1]-=e[1]*t,this.setValues("hsl",e),this},whiten:function(t){var e=this.values.hwb;return e[1]+=e[1]*t,this.setValues("hwb",e),this},blacken:function(t){var e=this.values.hwb;return e[2]+=e[2]*t,this.setValues("hwb",e),this},greyscale:function(){var t=this.values.rgb,e=.3*t[0]+.59*t[1]+.11*t[2];return this.setValues("rgb",[e,e,e]),this},clearer:function(t){var e=this.values.alpha;return this.setValues("alpha",e-e*t),this},opaquer:function(t){var e=this.values.alpha;return this.setValues("alpha",e+e*t),this},rotate:function(t){var e=this.values.hsl,a=(e[0]+t)%360;return e[0]=0>a?360+a:a,this.setValues("hsl",e),this},mix:function(t,e){var a=this,i=t,n=void 0===e?.5:e,o=2*n-1,r=a.alpha()-i.alpha(),l=((o*r===-1?o:(o+r)/(1+o*r))+1)/2,s=1-l;return this.rgb(l*a.red()+s*i.red(),l*a.green()+s*i.green(),l*a.blue()+s*i.blue()).alpha(a.alpha()*n+i.alpha()*(1-n))},toJSON:function(){return this.rgb()},clone:function(){var t,e,a=new o,i=this.values,n=a.values;for(var r in i)i.hasOwnProperty(r)&&(t=i[r],e={}.toString.call(t),"[object Array]"===e?n[r]=t.slice(0):"[object Number]"===e?n[r]=t:console.error("unexpected color value:",t));return a}},o.prototype.spaces={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]},o.prototype.maxes={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},o.prototype.getValues=function(t){for(var e=this.values,a={},i=0;i<t.length;i++)a[t.charAt(i)]=e[t][i];return 1!==e.alpha&&(a.a=e.alpha),a},o.prototype.setValues=function(t,e){var a,n=this.values,o=this.spaces,r=this.maxes,l=1;if("alpha"===t)l=e;else if(e.length)n[t]=e.slice(0,t.length),l=e[t.length];else if(void 0!==e[t.charAt(0)]){for(a=0;a<t.length;a++)n[t][a]=e[t.charAt(a)];l=e.a}else if(void 0!==e[o[t][0]]){var s=o[t];for(a=0;a<t.length;a++)n[t][a]=e[s[a]];l=e.alpha}if(n.alpha=Math.max(0,Math.min(1,void 0===l?n.alpha:l)),"alpha"===t)return!1;var d;for(a=0;a<t.length;a++)d=Math.max(0,Math.min(r[t][a],n[t][a])),n[t][a]=Math.round(d);for(var u in o)u!==t&&(n[u]=i[t][u](n[t]));return!0},o.prototype.setSpace=function(t,e){var a=e[0];return void 0===a?this.getValues(t):("number"==typeof a&&(a=Array.prototype.slice.call(e)),this.setValues(t,a),this)},o.prototype.setChannel=function(t,e,a){var i=this.values[t];return void 0===a?i[e]:a===i[e]?this:(i[e]=a,this.setValues(t,i),this)},"undefined"!=typeof window&&(window.Color=o),e.exports=o},{2:2,5:5}],4:[function(t,e,a){function i(t){var e,a,i,n=t[0]/255,o=t[1]/255,r=t[2]/255,l=Math.min(n,o,r),s=Math.max(n,o,r),d=s-l;return s==l?e=0:n==s?e=(o-r)/d:o==s?e=2+(r-n)/d:r==s&&(e=4+(n-o)/d),e=Math.min(60*e,360),0>e&&(e+=360),i=(l+s)/2,a=s==l?0:.5>=i?d/(s+l):d/(2-s-l),[e,100*a,100*i]}function n(t){var e,a,i,n=t[0],o=t[1],r=t[2],l=Math.min(n,o,r),s=Math.max(n,o,r),d=s-l;return a=0==s?0:d/s*1e3/10,s==l?e=0:n==s?e=(o-r)/d:o==s?e=2+(r-n)/d:r==s&&(e=4+(n-o)/d),e=Math.min(60*e,360),0>e&&(e+=360),i=s/255*1e3/10,[e,a,i]}function o(t){var e=t[0],a=t[1],n=t[2],o=i(t)[0],r=1/255*Math.min(e,Math.min(a,n)),n=1-1/255*Math.max(e,Math.max(a,n));return[o,100*r,100*n]}function l(t){var e,a,i,n,o=t[0]/255,r=t[1]/255,l=t[2]/255;return n=Math.min(1-o,1-r,1-l),e=(1-o-n)/(1-n)||0,a=(1-r-n)/(1-n)||0,i=(1-l-n)/(1-n)||0,[100*e,100*a,100*i,100*n]}function s(t){return Z[JSON.stringify(t)]}function d(t){var e=t[0]/255,a=t[1]/255,i=t[2]/255;e=e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92,a=a>.04045?Math.pow((a+.055)/1.055,2.4):a/12.92,i=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92;var n=.4124*e+.3576*a+.1805*i,o=.2126*e+.7152*a+.0722*i,r=.0193*e+.1192*a+.9505*i;return[100*n,100*o,100*r]}function u(t){var e,a,i,n=d(t),o=n[0],r=n[1],l=n[2];return o/=95.047,r/=100,l/=108.883,o=o>.008856?Math.pow(o,1/3):7.787*o+16/116,r=r>.008856?Math.pow(r,1/3):7.787*r+16/116,l=l>.008856?Math.pow(l,1/3):7.787*l+16/116,e=116*r-16,a=500*(o-r),i=200*(r-l),[e,a,i]}function c(t){return W(u(t))}function h(t){var e,a,i,n,o,r=t[0]/360,l=t[1]/100,s=t[2]/100;if(0==l)return o=255*s,[o,o,o];a=.5>s?s*(1+l):s+l-s*l,e=2*s-a,n=[0,0,0];for(var d=0;3>d;d++)i=r+1/3*-(d-1),0>i&&i++,i>1&&i--,o=1>6*i?e+6*(a-e)*i:1>2*i?a:2>3*i?e+(a-e)*(2/3-i)*6:e,n[d]=255*o;return n}function f(t){var e,a,i=t[0],n=t[1]/100,o=t[2]/100;return 0===o?[0,0,0]:(o*=2,n*=1>=o?o:2-o,a=(o+n)/2,e=2*n/(o+n),[i,100*e,100*a])}function p(t){return o(h(t))}function m(t){return l(h(t))}function v(t){return s(h(t))}function x(t){var e=t[0]/60,a=t[1]/100,i=t[2]/100,n=Math.floor(e)%6,o=e-Math.floor(e),r=255*i*(1-a),l=255*i*(1-a*o),s=255*i*(1-a*(1-o)),i=255*i;switch(n){case 0:return[i,s,r];case 1:return[l,i,r];case 2:return[r,i,s];case 3:return[r,l,i];case 4:return[s,r,i];case 5:return[i,r,l]}}function y(t){var e,a,i=t[0],n=t[1]/100,o=t[2]/100;return a=(2-n)*o,e=n*o,e/=1>=a?a:2-a,e=e||0,a/=2,[i,100*e,100*a]}function k(t){return o(x(t))}function S(t){return l(x(t))}function w(t){return s(x(t))}function C(t){var e,a,i,n,o=t[0]/360,l=t[1]/100,s=t[2]/100,d=l+s;switch(d>1&&(l/=d,s/=d),e=Math.floor(6*o),a=1-s,i=6*o-e,0!=(1&e)&&(i=1-i),n=l+i*(a-l),e){default:case 6:case 0:r=a,g=n,b=l;break;case 1:r=n,g=a,b=l;break;case 2:r=l,g=a,b=n;break;case 3:r=l,g=n,b=a;break;case 4:r=n,g=l,b=a;break;case 5:r=a,g=l,b=n}return[255*r,255*g,255*b]}function M(t){return i(C(t))}function D(t){return n(C(t))}function A(t){return l(C(t))}function I(t){return s(C(t))}function T(t){var e,a,i,n=t[0]/100,o=t[1]/100,r=t[2]/100,l=t[3]/100;return e=1-Math.min(1,n*(1-l)+l),a=1-Math.min(1,o*(1-l)+l),i=1-Math.min(1,r*(1-l)+l),[255*e,255*a,255*i]}function F(t){return i(T(t))}function P(t){return n(T(t))}function R(t){return o(T(t))}function _(t){return s(T(t))}function V(t){var e,a,i,n=t[0]/100,o=t[1]/100,r=t[2]/100;return e=3.2406*n+-1.5372*o+r*-.4986,a=n*-.9689+1.8758*o+.0415*r,i=.0557*n+o*-.204+1.057*r,e=e>.0031308?1.055*Math.pow(e,1/2.4)-.055:e=12.92*e,a=a>.0031308?1.055*Math.pow(a,1/2.4)-.055:a=12.92*a,i=i>.0031308?1.055*Math.pow(i,1/2.4)-.055:i=12.92*i,e=Math.min(Math.max(0,e),1),a=Math.min(Math.max(0,a),1),i=Math.min(Math.max(0,i),1),[255*e,255*a,255*i]}function L(t){var e,a,i,n=t[0],o=t[1],r=t[2];return n/=95.047,o/=100,r/=108.883,n=n>.008856?Math.pow(n,1/3):7.787*n+16/116,o=o>.008856?Math.pow(o,1/3):7.787*o+16/116,r=r>.008856?Math.pow(r,1/3):7.787*r+16/116,e=116*o-16,a=500*(n-o),i=200*(o-r),[e,a,i]}function O(t){return W(L(t))}function B(t){var e,a,i,n,o=t[0],r=t[1],l=t[2];return 8>=o?(a=100*o/903.3,n=7.787*(a/100)+16/116):(a=100*Math.pow((o+16)/116,3),n=Math.pow(a/100,1/3)),e=.008856>=e/95.047?e=95.047*(r/500+n-16/116)/7.787:95.047*Math.pow(r/500+n,3),i=.008859>=i/108.883?i=108.883*(n-l/200-16/116)/7.787:108.883*Math.pow(n-l/200,3),[e,a,i]}function W(t){var e,a,i,n=t[0],o=t[1],r=t[2];return e=Math.atan2(r,o),a=360*e/2/Math.PI,0>a&&(a+=360),i=Math.sqrt(o*o+r*r),[n,i,a]}function z(t){return V(B(t))}function N(t){var e,a,i,n=t[0],o=t[1],r=t[2];return i=r/360*2*Math.PI,e=o*Math.cos(i),a=o*Math.sin(i),[n,e,a]}function H(t){return B(N(t))}function E(t){return z(N(t))}function U(t){return Q[t]}function q(t){return i(U(t))}function j(t){return n(U(t))}function Y(t){return o(U(t))}function J(t){return l(U(t))}function X(t){return u(U(t))}function G(t){return d(U(t))}e.exports={rgb2hsl:i,rgb2hsv:n,rgb2hwb:o,rgb2cmyk:l,rgb2keyword:s,rgb2xyz:d,rgb2lab:u,rgb2lch:c,hsl2rgb:h,hsl2hsv:f,hsl2hwb:p,hsl2cmyk:m,hsl2keyword:v,hsv2rgb:x,hsv2hsl:y,hsv2hwb:k,hsv2cmyk:S,hsv2keyword:w,hwb2rgb:C,hwb2hsl:M,hwb2hsv:D,hwb2cmyk:A,hwb2keyword:I,cmyk2rgb:T,cmyk2hsl:F,cmyk2hsv:P,cmyk2hwb:R,cmyk2keyword:_,keyword2rgb:U,keyword2hsl:q,keyword2hsv:j,keyword2hwb:Y,keyword2cmyk:J,keyword2lab:X,keyword2xyz:G,xyz2rgb:V,xyz2lab:L,xyz2lch:O,lab2xyz:B,lab2rgb:z,lab2lch:W,lch2lab:N,lch2xyz:H,lch2rgb:E};var Q={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},Z={};for(var $ in Q)Z[JSON.stringify(Q[$])]=$},{}],5:[function(t,e,a){var i=t(4),n=function(){return new d};for(var o in i){n[o+"Raw"]=function(t){return function(e){return"number"==typeof e&&(e=Array.prototype.slice.call(arguments)),i[t](e)}}(o);var r=/(\w+)2(\w+)/.exec(o),l=r[1],s=r[2];n[l]=n[l]||{},n[l][s]=n[o]=function(t){return function(e){"number"==typeof e&&(e=Array.prototype.slice.call(arguments));var a=i[t](e);if("string"==typeof a||void 0===a)return a;for(var n=0;n<a.length;n++)a[n]=Math.round(a[n]);return a}}(o)}var d=function(){this.convs={}};d.prototype.routeSpace=function(t,e){var a=e[0];return void 0===a?this.getValues(t):("number"==typeof a&&(a=Array.prototype.slice.call(e)),this.setValues(t,a))},d.prototype.setValues=function(t,e){return this.space=t,this.convs={},this.convs[t]=e,this},d.prototype.getValues=function(t){var e=this.convs[t];if(!e){var a=this.space,i=this.convs[a];e=n[a][t](i),this.convs[t]=e}return e},["rgb","hsl","hsv","cmyk","keyword"].forEach(function(t){d.prototype[t]=function(e){return this.routeSpace(t,arguments)}}),e.exports=n},{4:4}],6:[function(t,e,a){e.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},{}],7:[function(t,e,a){var i=t(27)();t(26)(i),t(22)(i),t(25)(i),t(21)(i),t(23)(i),t(24)(i),t(28)(i),t(32)(i),t(30)(i),t(31)(i),t(33)(i),t(29)(i),t(34)(i),t(35)(i),t(36)(i),t(37)(i),t(38)(i),t(41)(i),t(39)(i),t(40)(i),t(42)(i),t(43)(i),t(44)(i),t(15)(i),t(16)(i),t(17)(i),t(18)(i),t(19)(i),t(20)(i),t(8)(i),t(9)(i),t(10)(i),t(11)(i),t(12)(i),t(13)(i),t(14)(i),window.Chart=e.exports=i},{10:10,11:11,12:12,13:13,14:14,15:15,16:16,17:17,18:18,19:19,20:20,21:21,22:22,23:23,24:24,25:25,26:26,27:27,28:28,29:29,30:30,31:31,32:32,33:33,34:34,35:35,36:36,37:37,38:38,39:39,40:40,41:41,42:42,43:43,44:44,8:8,9:9}],8:[function(t,e,a){"use strict";e.exports=function(t){t.Bar=function(e,a){return a.type="bar",new t(e,a)}}},{}],9:[function(t,e,a){"use strict";e.exports=function(t){t.Bubble=function(e,a){return a.type="bubble",new t(e,a)}}},{}],10:[function(t,e,a){"use strict";e.exports=function(t){t.Doughnut=function(e,a){return a.type="doughnut",new t(e,a)}}},{}],11:[function(t,e,a){"use strict";e.exports=function(t){t.Line=function(e,a){return a.type="line",new t(e,a)}}},{}],12:[function(t,e,a){"use strict";e.exports=function(t){t.PolarArea=function(e,a){return a.type="polarArea",new t(e,a)}}},{}],13:[function(t,e,a){"use strict";e.exports=function(t){t.Radar=function(e,a){return a.options=t.helpers.configMerge({aspectRatio:1},a.options),a.type="radar",new t(e,a)}}},{}],14:[function(t,e,a){"use strict";e.exports=function(t){var e={hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-1"}],yAxes:[{type:"linear",position:"left",id:"y-axis-1"}]},tooltips:{callbacks:{title:function(){return""},label:function(t){return"("+t.xLabel+", "+t.yLabel+")"}}}};t.defaults.scatter=e,t.controllers.scatter=t.controllers.line,t.Scatter=function(e,a){return a.type="scatter",new t(e,a)}}},{}],15:[function(t,e,a){"use strict";e.exports=function(t){var e=t.helpers;t.defaults.bar={hover:{mode:"label"},scales:{xAxes:[{type:"category",categoryPercentage:.8,barPercentage:.9,gridLines:{offsetGridLines:!0}}],yAxes:[{type:"linear"}]}},t.controllers.bar=t.DatasetController.extend({dataElementType:t.elements.Rectangle,initialize:function(e,a){t.DatasetController.prototype.initialize.call(this,e,a),this.getMeta().bar=!0},getBarCount:function(){var t=this,a=0;return e.each(t.chart.data.datasets,function(e,i){var n=t.chart.getDatasetMeta(i);n.bar&&t.chart.isDatasetVisible(i)&&++a},t),a},update:function(t){var a=this;e.each(a.getMeta().data,function(e,i){a.updateElement(e,i,t)},a)},updateElement:function(t,a,i){var n=this,o=n.getMeta(),r=n.getScaleForId(o.xAxisID),l=n.getScaleForId(o.yAxisID),s=l.getBasePixel(),d=n.chart.options.elements.rectangle,u=t.custom||{},c=n.getDataset();e.extend(t,{_xScale:r,_yScale:l,_datasetIndex:n.index,_index:a,_model:{x:n.calculateBarX(a,n.index),y:i?s:n.calculateBarY(a,n.index),label:n.chart.data.labels[a],datasetLabel:c.label,base:i?s:n.calculateBarBase(n.index,a),width:n.calculateBarWidth(a),backgroundColor:u.backgroundColor?u.backgroundColor:e.getValueAtIndexOrDefault(c.backgroundColor,a,d.backgroundColor),borderSkipped:u.borderSkipped?u.borderSkipped:d.borderSkipped,borderColor:u.borderColor?u.borderColor:e.getValueAtIndexOrDefault(c.borderColor,a,d.borderColor),borderWidth:u.borderWidth?u.borderWidth:e.getValueAtIndexOrDefault(c.borderWidth,a,d.borderWidth)}}),t.pivot()},calculateBarBase:function(t,e){var a=this,i=a.getMeta(),n=a.getScaleForId(i.yAxisID),o=0;if(n.options.stacked){for(var r=a.chart,l=r.data.datasets,s=Number(l[t].data[e]),d=0;t>d;d++){var u=l[d],c=r.getDatasetMeta(d);if(c.bar&&c.yAxisID===n.id&&r.isDatasetVisible(d)){var h=Number(u.data[e]);o+=0>s?Math.min(h,0):Math.max(h,0)}}return n.getPixelForValue(o)}return n.getBasePixel()},getRuler:function(t){var e,a=this,i=a.getMeta(),n=a.getScaleForId(i.xAxisID),o=a.getBarCount();e="category"===n.options.type?n.getPixelForTick(t+1)-n.getPixelForTick(t):n.width/n.ticks.length;var r=e*n.options.categoryPercentage,l=(e-e*n.options.categoryPercentage)/2,s=r/o;if(n.ticks.length!==a.chart.data.labels.length){var d=n.ticks.length/a.chart.data.labels.length;s*=d}var u=s*n.options.barPercentage,c=s-s*n.options.barPercentage;return{datasetCount:o,tickWidth:e,categoryWidth:r,categorySpacing:l,fullBarWidth:s,barWidth:u,barSpacing:c}},calculateBarWidth:function(t){var e=this.getScaleForId(this.getMeta().xAxisID);if(e.options.barThickness)return e.options.barThickness;var a=this.getRuler(t);return e.options.stacked?a.categoryWidth:a.barWidth},getBarIndex:function(t){var e,a,i=0;for(a=0;t>a;++a)e=this.chart.getDatasetMeta(a),e.bar&&this.chart.isDatasetVisible(a)&&++i;return i},calculateBarX:function(t,e){var a=this,i=a.getMeta(),n=a.getScaleForId(i.xAxisID),o=a.getBarIndex(e),r=a.getRuler(t),l=n.getPixelForValue(null,t,e,a.chart.isCombo);return l-=a.chart.isCombo?r.tickWidth/2:0,n.options.stacked?l+r.categoryWidth/2+r.categorySpacing:l+r.barWidth/2+r.categorySpacing+r.barWidth*o+r.barSpacing/2+r.barSpacing*o},calculateBarY:function(t,e){var a=this,i=a.getMeta(),n=a.getScaleForId(i.yAxisID),o=Number(a.getDataset().data[t]);if(n.options.stacked){for(var r=0,l=0,s=0;e>s;s++){var d=a.chart.data.datasets[s],u=a.chart.getDatasetMeta(s);if(u.bar&&u.yAxisID===n.id&&a.chart.isDatasetVisible(s)){var c=Number(d.data[t]);0>c?l+=c||0:r+=c||0}}return 0>o?n.getPixelForValue(l+o):n.getPixelForValue(r+o)}return n.getPixelForValue(o)},draw:function(t){var a=this,i=t||1;e.each(a.getMeta().data,function(t,e){var n=a.getDataset().data[e];null===n||void 0===n||isNaN(n)||t.transition(i).draw()},a)},setHoverStyle:function(t){var a=this.chart.data.datasets[t._datasetIndex],i=t._index,n=t.custom||{},o=t._model;o.backgroundColor=n.hoverBackgroundColor?n.hoverBackgroundColor:e.getValueAtIndexOrDefault(a.hoverBackgroundColor,i,e.getHoverColor(o.backgroundColor)),o.borderColor=n.hoverBorderColor?n.hoverBorderColor:e.getValueAtIndexOrDefault(a.hoverBorderColor,i,e.getHoverColor(o.borderColor)),o.borderWidth=n.hoverBorderWidth?n.hoverBorderWidth:e.getValueAtIndexOrDefault(a.hoverBorderWidth,i,o.borderWidth)},removeHoverStyle:function(t){var a=this.chart.data.datasets[t._datasetIndex],i=t._index,n=t.custom||{},o=t._model,r=this.chart.options.elements.rectangle;o.backgroundColor=n.backgroundColor?n.backgroundColor:e.getValueAtIndexOrDefault(a.backgroundColor,i,r.backgroundColor),o.borderColor=n.borderColor?n.borderColor:e.getValueAtIndexOrDefault(a.borderColor,i,r.borderColor),o.borderWidth=n.borderWidth?n.borderWidth:e.getValueAtIndexOrDefault(a.borderWidth,i,r.borderWidth)}}),t.defaults.horizontalBar={hover:{mode:"label"},scales:{xAxes:[{type:"linear",position:"bottom"}],yAxes:[{position:"left",type:"category",categoryPercentage:.8,barPercentage:.9,gridLines:{offsetGridLines:!0}}]},elements:{rectangle:{borderSkipped:"left"}},tooltips:{callbacks:{title:function(t,e){var a="";return t.length>0&&(t[0].yLabel?a=t[0].yLabel:e.labels.length>0&&t[0].index<e.labels.length&&(a=e.labels[t[0].index])),a},label:function(t,e){var a=e.datasets[t.datasetIndex].label||"";return a+": "+t.xLabel}}}},t.controllers.horizontalBar=t.controllers.bar.extend({updateElement:function(t,a,i){var n=this,o=n.getMeta(),r=n.getScaleForId(o.xAxisID),l=n.getScaleForId(o.yAxisID),s=r.getBasePixel(),d=t.custom||{},u=n.getDataset(),c=n.chart.options.elements.rectangle;e.extend(t,{_xScale:r,_yScale:l,_datasetIndex:n.index,_index:a,_model:{x:i?s:n.calculateBarX(a,n.index),y:n.calculateBarY(a,n.index),label:n.chart.data.labels[a],datasetLabel:u.label,base:i?s:n.calculateBarBase(n.index,a),height:n.calculateBarHeight(a),backgroundColor:d.backgroundColor?d.backgroundColor:e.getValueAtIndexOrDefault(u.backgroundColor,a,c.backgroundColor),borderSkipped:d.borderSkipped?d.borderSkipped:c.borderSkipped,borderColor:d.borderColor?d.borderColor:e.getValueAtIndexOrDefault(u.borderColor,a,c.borderColor),borderWidth:d.borderWidth?d.borderWidth:e.getValueAtIndexOrDefault(u.borderWidth,a,c.borderWidth)},draw:function(){function t(t){return s[(u+t)%4]}var e=this._chart.ctx,a=this._view,i=a.height/2,n=a.y-i,o=a.y+i,r=a.base-(a.base-a.x),l=a.borderWidth/2;a.borderWidth&&(n+=l,o-=l,r+=l),e.beginPath(),e.fillStyle=a.backgroundColor,e.strokeStyle=a.borderColor,e.lineWidth=a.borderWidth;var s=[[a.base,o],[a.base,n],[r,n],[r,o]],d=["bottom","left","top","right"],u=d.indexOf(a.borderSkipped,0);-1===u&&(u=0),e.moveTo.apply(e,t(0));for(var c=1;4>c;c++)e.lineTo.apply(e,t(c));e.fill(),a.borderWidth&&e.stroke()},inRange:function(t,e){var a=this._view,i=!1;return a&&(i=a.x<a.base?e>=a.y-a.height/2&&e<=a.y+a.height/2&&t>=a.x&&t<=a.base:e>=a.y-a.height/2&&e<=a.y+a.height/2&&t>=a.base&&t<=a.x),i}}),t.pivot()},calculateBarBase:function(t,e){var a=this,i=a.getMeta(),n=a.getScaleForId(i.xAxisID),o=0;
if(n.options.stacked){for(var r=a.chart,l=r.data.datasets,s=Number(l[t].data[e]),d=0;t>d;d++){var u=l[d],c=r.getDatasetMeta(d);if(c.bar&&c.xAxisID===n.id&&r.isDatasetVisible(d)){var h=Number(u.data[e]);o+=0>s?Math.min(h,0):Math.max(h,0)}}return n.getPixelForValue(o)}return n.getBasePixel()},getRuler:function(t){var e,a=this,i=a.getMeta(),n=a.getScaleForId(i.yAxisID),o=a.getBarCount();e="category"===n.options.type?n.getPixelForTick(t+1)-n.getPixelForTick(t):n.width/n.ticks.length;var r=e*n.options.categoryPercentage,l=(e-e*n.options.categoryPercentage)/2,s=r/o;if(n.ticks.length!==a.chart.data.labels.length){var d=n.ticks.length/a.chart.data.labels.length;s*=d}var u=s*n.options.barPercentage,c=s-s*n.options.barPercentage;return{datasetCount:o,tickHeight:e,categoryHeight:r,categorySpacing:l,fullBarHeight:s,barHeight:u,barSpacing:c}},calculateBarHeight:function(t){var e=this,a=e.getScaleForId(e.getMeta().yAxisID);if(a.options.barThickness)return a.options.barThickness;var i=e.getRuler(t);return a.options.stacked?i.categoryHeight:i.barHeight},calculateBarX:function(t,e){var a=this,i=a.getMeta(),n=a.getScaleForId(i.xAxisID),o=Number(a.getDataset().data[t]);if(n.options.stacked){for(var r=0,l=0,s=0;e>s;s++){var d=a.chart.data.datasets[s],u=a.chart.getDatasetMeta(s);if(u.bar&&u.xAxisID===n.id&&a.chart.isDatasetVisible(s)){var c=Number(d.data[t]);0>c?l+=c||0:r+=c||0}}return 0>o?n.getPixelForValue(l+o):n.getPixelForValue(r+o)}return n.getPixelForValue(o)},calculateBarY:function(t,e){var a=this,i=a.getMeta(),n=a.getScaleForId(i.yAxisID),o=a.getBarIndex(e),r=a.getRuler(t),l=n.getPixelForValue(null,t,e,a.chart.isCombo);return l-=a.chart.isCombo?r.tickHeight/2:0,n.options.stacked?l+r.categoryHeight/2+r.categorySpacing:l+r.barHeight/2+r.categorySpacing+r.barHeight*o+r.barSpacing/2+r.barSpacing*o}})}},{}],16:[function(t,e,a){"use strict";e.exports=function(t){var e=t.helpers;t.defaults.bubble={hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-0"}],yAxes:[{type:"linear",position:"left",id:"y-axis-0"}]},tooltips:{callbacks:{title:function(){return""},label:function(t,e){var a=e.datasets[t.datasetIndex].label||"",i=e.datasets[t.datasetIndex].data[t.index];return a+": ("+i.x+", "+i.y+", "+i.r+")"}}}},t.controllers.bubble=t.DatasetController.extend({dataElementType:t.elements.Point,update:function(t){var a=this,i=a.getMeta(),n=i.data;e.each(n,function(e,i){a.updateElement(e,i,t)})},updateElement:function(a,i,n){var o=this,r=o.getMeta(),l=o.getScaleForId(r.xAxisID),s=o.getScaleForId(r.yAxisID),d=a.custom||{},u=o.getDataset(),c=u.data[i],h=o.chart.options.elements.point,f=o.index;e.extend(a,{_xScale:l,_yScale:s,_datasetIndex:f,_index:i,_model:{x:n?l.getPixelForDecimal(.5):l.getPixelForValue("object"==typeof c?c:NaN,i,f,o.chart.isCombo),y:n?s.getBasePixel():s.getPixelForValue(c,i,f),radius:n?0:d.radius?d.radius:o.getRadius(c),hitRadius:d.hitRadius?d.hitRadius:e.getValueAtIndexOrDefault(u.hitRadius,i,h.hitRadius)}}),t.DatasetController.prototype.removeHoverStyle.call(o,a,h);var g=a._model;g.skip=d.skip?d.skip:isNaN(g.x)||isNaN(g.y),a.pivot()},getRadius:function(t){return t.r||this.chart.options.elements.point.radius},setHoverStyle:function(a){var i=this;t.DatasetController.prototype.setHoverStyle.call(i,a);var n=i.chart.data.datasets[a._datasetIndex],o=a._index,r=a.custom||{},l=a._model;l.radius=r.hoverRadius?r.hoverRadius:e.getValueAtIndexOrDefault(n.hoverRadius,o,i.chart.options.elements.point.hoverRadius)+i.getRadius(n.data[o])},removeHoverStyle:function(e){var a=this;t.DatasetController.prototype.removeHoverStyle.call(a,e,a.chart.options.elements.point);var i=a.chart.data.datasets[e._datasetIndex].data[e._index],n=e.custom||{},o=e._model;o.radius=n.radius?n.radius:a.getRadius(i)}})}},{}],17:[function(t,e,a){"use strict";e.exports=function(t){var e=t.helpers,a=t.defaults;a.doughnut={animation:{animateRotate:!0,animateScale:!1},aspectRatio:1,hover:{mode:"single"},legendCallback:function(t){var e=[];e.push('<ul class="'+t.id+'-legend">');var a=t.data,i=a.datasets,n=a.labels;if(i.length)for(var o=0;o<i[0].data.length;++o)e.push('<li><span style="background-color:'+i[0].backgroundColor[o]+'"></span>'),n[o]&&e.push(n[o]),e.push("</li>");return e.push("</ul>"),e.join("")},legend:{labels:{generateLabels:function(t){var a=t.data;return a.labels.length&&a.datasets.length?a.labels.map(function(i,n){var o=t.getDatasetMeta(0),r=a.datasets[0],l=o.data[n],s=l&&l.custom||{},d=e.getValueAtIndexOrDefault,u=t.options.elements.arc,c=s.backgroundColor?s.backgroundColor:d(r.backgroundColor,n,u.backgroundColor),h=s.borderColor?s.borderColor:d(r.borderColor,n,u.borderColor),f=s.borderWidth?s.borderWidth:d(r.borderWidth,n,u.borderWidth);return{text:i,fillStyle:c,strokeStyle:h,lineWidth:f,hidden:isNaN(r.data[n])||o.data[n].hidden,index:n}}):[]}},onClick:function(t,e){var a,i,n,o=e.index,r=this.chart;for(a=0,i=(r.data.datasets||[]).length;i>a;++a)n=r.getDatasetMeta(a),n.data[o].hidden=!n.data[o].hidden;r.update()}},cutoutPercentage:50,rotation:Math.PI*-.5,circumference:2*Math.PI,tooltips:{callbacks:{title:function(){return""},label:function(t,e){return e.labels[t.index]+": "+e.datasets[t.datasetIndex].data[t.index]}}}},a.pie=e.clone(a.doughnut),e.extend(a.pie,{cutoutPercentage:0}),t.controllers.doughnut=t.controllers.pie=t.DatasetController.extend({dataElementType:t.elements.Arc,linkScales:e.noop,getRingIndex:function(t){for(var e=0,a=0;t>a;++a)this.chart.isDatasetVisible(a)&&++e;return e},update:function(t){var a=this,i=a.chart,n=i.chartArea,o=i.options,r=o.elements.arc,l=n.right-n.left-r.borderWidth,s=n.bottom-n.top-r.borderWidth,d=Math.min(l,s),u={x:0,y:0},c=a.getMeta(),h=o.cutoutPercentage,f=o.circumference;if(f<2*Math.PI){var g=o.rotation%(2*Math.PI);g+=2*Math.PI*(g>=Math.PI?-1:g<-Math.PI?1:0);var p=g+f,m={x:Math.cos(g),y:Math.sin(g)},b={x:Math.cos(p),y:Math.sin(p)},v=0>=g&&p>=0||g<=2*Math.PI&&2*Math.PI<=p,x=g<=.5*Math.PI&&.5*Math.PI<=p||g<=2.5*Math.PI&&2.5*Math.PI<=p,y=g<=-Math.PI&&-Math.PI<=p||g<=Math.PI&&Math.PI<=p,k=g<=.5*-Math.PI&&.5*-Math.PI<=p||g<=1.5*Math.PI&&1.5*Math.PI<=p,S=h/100,w={x:y?-1:Math.min(m.x*(m.x<0?1:S),b.x*(b.x<0?1:S)),y:k?-1:Math.min(m.y*(m.y<0?1:S),b.y*(b.y<0?1:S))},C={x:v?1:Math.max(m.x*(m.x>0?1:S),b.x*(b.x>0?1:S)),y:x?1:Math.max(m.y*(m.y>0?1:S),b.y*(b.y>0?1:S))},M={width:.5*(C.x-w.x),height:.5*(C.y-w.y)};d=Math.min(l/M.width,s/M.height),u={x:(C.x+w.x)*-.5,y:(C.y+w.y)*-.5}}i.borderWidth=a.getMaxBorderWidth(c.data),i.outerRadius=Math.max((d-i.borderWidth)/2,0),i.innerRadius=Math.max(h?i.outerRadius/100*h:1,0),i.radiusLength=(i.outerRadius-i.innerRadius)/i.getVisibleDatasetCount(),i.offsetX=u.x*i.outerRadius,i.offsetY=u.y*i.outerRadius,c.total=a.calculateTotal(),a.outerRadius=i.outerRadius-i.radiusLength*a.getRingIndex(a.index),a.innerRadius=a.outerRadius-i.radiusLength,e.each(c.data,function(e,i){a.updateElement(e,i,t)})},updateElement:function(t,a,i){var n=this,o=n.chart,r=o.chartArea,l=o.options,s=l.animation,d=(r.left+r.right)/2,u=(r.top+r.bottom)/2,c=l.rotation,h=l.rotation,f=n.getDataset(),g=i&&s.animateRotate?0:t.hidden?0:n.calculateCircumference(f.data[a])*(l.circumference/(2*Math.PI)),p=i&&s.animateScale?0:n.innerRadius,m=i&&s.animateScale?0:n.outerRadius,b=e.getValueAtIndexOrDefault;e.extend(t,{_datasetIndex:n.index,_index:a,_model:{x:d+o.offsetX,y:u+o.offsetY,startAngle:c,endAngle:h,circumference:g,outerRadius:m,innerRadius:p,label:b(f.label,a,o.data.labels[a])}});var v=t._model;this.removeHoverStyle(t),i&&s.animateRotate||(0===a?v.startAngle=l.rotation:v.startAngle=n.getMeta().data[a-1]._model.endAngle,v.endAngle=v.startAngle+v.circumference),t.pivot()},removeHoverStyle:function(e){t.DatasetController.prototype.removeHoverStyle.call(this,e,this.chart.options.elements.arc)},calculateTotal:function(){var t,a=this.getDataset(),i=this.getMeta(),n=0;return e.each(i.data,function(e,i){t=a.data[i],isNaN(t)||e.hidden||(n+=Math.abs(t))}),n},calculateCircumference:function(t){var e=this.getMeta().total;return e>0&&!isNaN(t)?2*Math.PI*(t/e):0},getMaxBorderWidth:function(t){for(var e,a,i=0,n=this.index,o=t.length,r=0;o>r;r++)e=t[r]._model?t[r]._model.borderWidth:0,a=t[r]._chart?t[r]._chart.config.data.datasets[n].hoverBorderWidth:0,i=e>i?e:i,i=a>i?a:i;return i}})}},{}],18:[function(t,e,a){"use strict";e.exports=function(t){function e(t,e){return a.getValueOrDefault(t.showLine,e.showLines)}var a=t.helpers;t.defaults.line={showLines:!0,spanGaps:!1,hover:{mode:"label"},scales:{xAxes:[{type:"category",id:"x-axis-0"}],yAxes:[{type:"linear",id:"y-axis-0"}]}},t.controllers.line=t.DatasetController.extend({datasetElementType:t.elements.Line,dataElementType:t.elements.Point,addElementAndReset:function(a){var i=this,n=i.chart.options,o=i.getMeta();t.DatasetController.prototype.addElementAndReset.call(i,a),e(i.getDataset(),n)&&0!==o.dataset._model.tension&&i.updateBezierControlPoints()},update:function(t){var i,n,o,r=this,l=r.getMeta(),s=l.dataset,d=l.data||[],u=r.chart.options,c=u.elements.line,h=r.getScaleForId(l.yAxisID),f=r.getDataset(),g=e(f,u);for(g&&(o=s.custom||{},void 0!==f.tension&&void 0===f.lineTension&&(f.lineTension=f.tension),s._scale=h,s._datasetIndex=r.index,s._children=d,s._model={spanGaps:f.spanGaps?f.spanGaps:u.spanGaps,tension:o.tension?o.tension:a.getValueOrDefault(f.lineTension,c.tension),backgroundColor:o.backgroundColor?o.backgroundColor:f.backgroundColor||c.backgroundColor,borderWidth:o.borderWidth?o.borderWidth:f.borderWidth||c.borderWidth,borderColor:o.borderColor?o.borderColor:f.borderColor||c.borderColor,borderCapStyle:o.borderCapStyle?o.borderCapStyle:f.borderCapStyle||c.borderCapStyle,borderDash:o.borderDash?o.borderDash:f.borderDash||c.borderDash,borderDashOffset:o.borderDashOffset?o.borderDashOffset:f.borderDashOffset||c.borderDashOffset,borderJoinStyle:o.borderJoinStyle?o.borderJoinStyle:f.borderJoinStyle||c.borderJoinStyle,fill:o.fill?o.fill:void 0!==f.fill?f.fill:c.fill,steppedLine:o.steppedLine?o.steppedLine:a.getValueOrDefault(f.steppedLine,c.stepped),scaleTop:h.top,scaleBottom:h.bottom,scaleZero:h.getBasePixel()},s.pivot()),i=0,n=d.length;n>i;++i)r.updateElement(d[i],i,t);for(g&&0!==s._model.tension&&r.updateBezierControlPoints(),i=0,n=d.length;n>i;++i)d[i].pivot()},getPointBackgroundColor:function(t,e){var i=this.chart.options.elements.point.backgroundColor,n=this.getDataset(),o=t.custom||{};return o.backgroundColor?i=o.backgroundColor:n.pointBackgroundColor?i=a.getValueAtIndexOrDefault(n.pointBackgroundColor,e,i):n.backgroundColor&&(i=n.backgroundColor),i},getPointBorderColor:function(t,e){var i=this.chart.options.elements.point.borderColor,n=this.getDataset(),o=t.custom||{};return o.borderColor?i=o.borderColor:n.pointBorderColor?i=a.getValueAtIndexOrDefault(n.pointBorderColor,e,i):n.borderColor&&(i=n.borderColor),i},getPointBorderWidth:function(t,e){var i=this.chart.options.elements.point.borderWidth,n=this.getDataset(),o=t.custom||{};return o.borderWidth?i=o.borderWidth:n.pointBorderWidth?i=a.getValueAtIndexOrDefault(n.pointBorderWidth,e,i):n.borderWidth&&(i=n.borderWidth),i},updateElement:function(t,e,i){var n,o,r=this,l=r.getMeta(),s=t.custom||{},d=r.getDataset(),u=r.index,c=d.data[e],h=r.getScaleForId(l.yAxisID),f=r.getScaleForId(l.xAxisID),g=r.chart.options.elements.point;void 0!==d.radius&&void 0===d.pointRadius&&(d.pointRadius=d.radius),void 0!==d.hitRadius&&void 0===d.pointHitRadius&&(d.pointHitRadius=d.hitRadius),n=f.getPixelForValue("object"==typeof c?c:NaN,e,u,r.chart.isCombo),o=i?h.getBasePixel():r.calculatePointY(c,e,u),t._xScale=f,t._yScale=h,t._datasetIndex=u,t._index=e,t._model={x:n,y:o,skip:s.skip||isNaN(n)||isNaN(o),radius:s.radius||a.getValueAtIndexOrDefault(d.pointRadius,e,g.radius),pointStyle:s.pointStyle||a.getValueAtIndexOrDefault(d.pointStyle,e,g.pointStyle),backgroundColor:r.getPointBackgroundColor(t,e),borderColor:r.getPointBorderColor(t,e),borderWidth:r.getPointBorderWidth(t,e),tension:l.dataset._model?l.dataset._model.tension:0,steppedLine:l.dataset._model?l.dataset._model.steppedLine:!1,hitRadius:s.hitRadius||a.getValueAtIndexOrDefault(d.pointHitRadius,e,g.hitRadius)}},calculatePointY:function(t,e,a){var i,n,o,r=this,l=r.chart,s=r.getMeta(),d=r.getScaleForId(s.yAxisID),u=0,c=0;if(d.options.stacked){for(i=0;a>i;i++)if(n=l.data.datasets[i],o=l.getDatasetMeta(i),"line"===o.type&&o.yAxisID===d.id&&l.isDatasetVisible(i)){var h=Number(d.getRightValue(n.data[e]));0>h?c+=h||0:u+=h||0}var f=Number(d.getRightValue(t));return 0>f?d.getPixelForValue(c+f):d.getPixelForValue(u+f)}return d.getPixelForValue(t)},updateBezierControlPoints:function(){function t(t,e,a){return c?Math.max(Math.min(t,a),e):t}var e,i,n,o,r,l=this,s=l.getMeta(),d=l.chart.chartArea,u=(s.data||[]).filter(function(t){return!t._model.skip}),c=l.chart.options.elements.line.capBezierPoints;for(e=0,i=u.length;i>e;++e)n=u[e],o=n._model,r=a.splineCurve(a.previousItem(u,e)._model,o,a.nextItem(u,e)._model,s.dataset._model.tension),o.controlPointPreviousX=t(r.previous.x,d.left,d.right),o.controlPointPreviousY=t(r.previous.y,d.top,d.bottom),o.controlPointNextX=t(r.next.x,d.left,d.right),o.controlPointNextY=t(r.next.y,d.top,d.bottom)},draw:function(t){var a,i,n=this,o=n.getMeta(),r=o.data||[],l=t||1;for(a=0,i=r.length;i>a;++a)r[a].transition(l);for(e(n.getDataset(),n.chart.options)&&o.dataset.transition(l).draw(),a=0,i=r.length;i>a;++a)r[a].draw()},setHoverStyle:function(t){var e=this.chart.data.datasets[t._datasetIndex],i=t._index,n=t.custom||{},o=t._model;o.radius=n.hoverRadius||a.getValueAtIndexOrDefault(e.pointHoverRadius,i,this.chart.options.elements.point.hoverRadius),o.backgroundColor=n.hoverBackgroundColor||a.getValueAtIndexOrDefault(e.pointHoverBackgroundColor,i,a.getHoverColor(o.backgroundColor)),o.borderColor=n.hoverBorderColor||a.getValueAtIndexOrDefault(e.pointHoverBorderColor,i,a.getHoverColor(o.borderColor)),o.borderWidth=n.hoverBorderWidth||a.getValueAtIndexOrDefault(e.pointHoverBorderWidth,i,o.borderWidth)},removeHoverStyle:function(t){var e=this,i=e.chart.data.datasets[t._datasetIndex],n=t._index,o=t.custom||{},r=t._model;void 0!==i.radius&&void 0===i.pointRadius&&(i.pointRadius=i.radius),r.radius=o.radius||a.getValueAtIndexOrDefault(i.pointRadius,n,e.chart.options.elements.point.radius),r.backgroundColor=e.getPointBackgroundColor(t,n),r.borderColor=e.getPointBorderColor(t,n),r.borderWidth=e.getPointBorderWidth(t,n)}})}},{}],19:[function(t,e,a){"use strict";e.exports=function(t){var e=t.helpers;t.defaults.polarArea={scale:{type:"radialLinear",lineArc:!0,ticks:{beginAtZero:!0}},animation:{animateRotate:!0,animateScale:!0},startAngle:-.5*Math.PI,aspectRatio:1,legendCallback:function(t){var e=[];e.push('<ul class="'+t.id+'-legend">');var a=t.data,i=a.datasets,n=a.labels;if(i.length)for(var o=0;o<i[0].data.length;++o)e.push('<li><span style="background-color:'+i[0].backgroundColor[o]+'">'),n[o]&&e.push(n[o]),e.push("</span></li>");return e.push("</ul>"),e.join("")},legend:{labels:{generateLabels:function(t){var a=t.data;return a.labels.length&&a.datasets.length?a.labels.map(function(i,n){var o=t.getDatasetMeta(0),r=a.datasets[0],l=o.data[n],s=l.custom||{},d=e.getValueAtIndexOrDefault,u=t.options.elements.arc,c=s.backgroundColor?s.backgroundColor:d(r.backgroundColor,n,u.backgroundColor),h=s.borderColor?s.borderColor:d(r.borderColor,n,u.borderColor),f=s.borderWidth?s.borderWidth:d(r.borderWidth,n,u.borderWidth);return{text:i,fillStyle:c,strokeStyle:h,lineWidth:f,hidden:isNaN(r.data[n])||o.data[n].hidden,index:n}}):[]}},onClick:function(t,e){var a,i,n,o=e.index,r=this.chart;for(a=0,i=(r.data.datasets||[]).length;i>a;++a)n=r.getDatasetMeta(a),n.data[o].hidden=!n.data[o].hidden;r.update()}},tooltips:{callbacks:{title:function(){return""},label:function(t,e){return e.labels[t.index]+": "+t.yLabel}}}},t.controllers.polarArea=t.DatasetController.extend({dataElementType:t.elements.Arc,linkScales:e.noop,update:function(t){var a=this,i=a.chart,n=i.chartArea,o=a.getMeta(),r=i.options,l=r.elements.arc,s=Math.min(n.right-n.left,n.bottom-n.top);i.outerRadius=Math.max((s-l.borderWidth/2)/2,0),i.innerRadius=Math.max(r.cutoutPercentage?i.outerRadius/100*r.cutoutPercentage:1,0),i.radiusLength=(i.outerRadius-i.innerRadius)/i.getVisibleDatasetCount(),a.outerRadius=i.outerRadius-i.radiusLength*a.index,a.innerRadius=a.outerRadius-i.radiusLength,o.count=a.countVisibleElements(),e.each(o.data,function(e,i){a.updateElement(e,i,t)})},updateElement:function(t,a,i){for(var n=this,o=n.chart,r=n.getDataset(),l=o.options,s=l.animation,d=o.scale,u=e.getValueAtIndexOrDefault,c=o.data.labels,h=n.calculateCircumference(r.data[a]),f=d.xCenter,g=d.yCenter,p=0,m=n.getMeta(),b=0;a>b;++b)isNaN(r.data[b])||m.data[b].hidden||++p;var v=l.startAngle,x=t.hidden?0:d.getDistanceFromCenterForValue(r.data[a]),y=v+h*p,k=y+(t.hidden?0:h),S=s.animateScale?0:d.getDistanceFromCenterForValue(r.data[a]);e.extend(t,{_datasetIndex:n.index,_index:a,_scale:d,_model:{x:f,y:g,innerRadius:0,outerRadius:i?S:x,startAngle:i&&s.animateRotate?v:y,endAngle:i&&s.animateRotate?v:k,label:u(c,a,c[a])}}),n.removeHoverStyle(t),t.pivot()},removeHoverStyle:function(e){t.DatasetController.prototype.removeHoverStyle.call(this,e,this.chart.options.elements.arc)},countVisibleElements:function(){var t=this.getDataset(),a=this.getMeta(),i=0;return e.each(a.data,function(e,a){isNaN(t.data[a])||e.hidden||i++}),i},calculateCircumference:function(t){var e=this.getMeta().count;return e>0&&!isNaN(t)?2*Math.PI/e:0}})}},{}],20:[function(t,e,a){"use strict";e.exports=function(t){var e=t.helpers;t.defaults.radar={scale:{type:"radialLinear"},elements:{line:{tension:0}}},t.controllers.radar=t.DatasetController.extend({datasetElementType:t.elements.Line,dataElementType:t.elements.Point,linkScales:e.noop,addElementAndReset:function(e){t.DatasetController.prototype.addElementAndReset.call(this,e),this.updateBezierControlPoints()},update:function(t){var a=this,i=a.getMeta(),n=i.dataset,o=i.data,r=n.custom||{},l=a.getDataset(),s=a.chart.options.elements.line,d=a.chart.scale;void 0!==l.tension&&void 0===l.lineTension&&(l.lineTension=l.tension),e.extend(i.dataset,{_datasetIndex:a.index,_children:o,_loop:!0,_model:{tension:r.tension?r.tension:e.getValueOrDefault(l.lineTension,s.tension),backgroundColor:r.backgroundColor?r.backgroundColor:l.backgroundColor||s.backgroundColor,borderWidth:r.borderWidth?r.borderWidth:l.borderWidth||s.borderWidth,borderColor:r.borderColor?r.borderColor:l.borderColor||s.borderColor,fill:r.fill?r.fill:void 0!==l.fill?l.fill:s.fill,borderCapStyle:r.borderCapStyle?r.borderCapStyle:l.borderCapStyle||s.borderCapStyle,borderDash:r.borderDash?r.borderDash:l.borderDash||s.borderDash,borderDashOffset:r.borderDashOffset?r.borderDashOffset:l.borderDashOffset||s.borderDashOffset,borderJoinStyle:r.borderJoinStyle?r.borderJoinStyle:l.borderJoinStyle||s.borderJoinStyle,scaleTop:d.top,scaleBottom:d.bottom,scaleZero:d.getBasePosition()}}),i.dataset.pivot(),e.each(o,function(e,i){a.updateElement(e,i,t)},a),a.updateBezierControlPoints()},updateElement:function(t,a,i){var n=this,o=t.custom||{},r=n.getDataset(),l=n.chart.scale,s=n.chart.options.elements.point,d=l.getPointPositionForValue(a,r.data[a]);e.extend(t,{_datasetIndex:n.index,_index:a,_scale:l,_model:{x:i?l.xCenter:d.x,y:i?l.yCenter:d.y,tension:o.tension?o.tension:e.getValueOrDefault(r.tension,n.chart.options.elements.line.tension),radius:o.radius?o.radius:e.getValueAtIndexOrDefault(r.pointRadius,a,s.radius),backgroundColor:o.backgroundColor?o.backgroundColor:e.getValueAtIndexOrDefault(r.pointBackgroundColor,a,s.backgroundColor),borderColor:o.borderColor?o.borderColor:e.getValueAtIndexOrDefault(r.pointBorderColor,a,s.borderColor),borderWidth:o.borderWidth?o.borderWidth:e.getValueAtIndexOrDefault(r.pointBorderWidth,a,s.borderWidth),pointStyle:o.pointStyle?o.pointStyle:e.getValueAtIndexOrDefault(r.pointStyle,a,s.pointStyle),hitRadius:o.hitRadius?o.hitRadius:e.getValueAtIndexOrDefault(r.hitRadius,a,s.hitRadius)}}),t._model.skip=o.skip?o.skip:isNaN(t._model.x)||isNaN(t._model.y)},updateBezierControlPoints:function(){var t=this.chart.chartArea,a=this.getMeta();e.each(a.data,function(i,n){var o=i._model,r=e.splineCurve(e.previousItem(a.data,n,!0)._model,o,e.nextItem(a.data,n,!0)._model,o.tension);o.controlPointPreviousX=Math.max(Math.min(r.previous.x,t.right),t.left),o.controlPointPreviousY=Math.max(Math.min(r.previous.y,t.bottom),t.top),o.controlPointNextX=Math.max(Math.min(r.next.x,t.right),t.left),o.controlPointNextY=Math.max(Math.min(r.next.y,t.bottom),t.top),i.pivot()})},draw:function(t){var a=this.getMeta(),i=t||1;e.each(a.data,function(t){t.transition(i)}),a.dataset.transition(i).draw(),e.each(a.data,function(t){t.draw()})},setHoverStyle:function(t){var a=this.chart.data.datasets[t._datasetIndex],i=t.custom||{},n=t._index,o=t._model;o.radius=i.hoverRadius?i.hoverRadius:e.getValueAtIndexOrDefault(a.pointHoverRadius,n,this.chart.options.elements.point.hoverRadius),o.backgroundColor=i.hoverBackgroundColor?i.hoverBackgroundColor:e.getValueAtIndexOrDefault(a.pointHoverBackgroundColor,n,e.getHoverColor(o.backgroundColor)),o.borderColor=i.hoverBorderColor?i.hoverBorderColor:e.getValueAtIndexOrDefault(a.pointHoverBorderColor,n,e.getHoverColor(o.borderColor)),o.borderWidth=i.hoverBorderWidth?i.hoverBorderWidth:e.getValueAtIndexOrDefault(a.pointHoverBorderWidth,n,o.borderWidth)},removeHoverStyle:function(t){var a=this.chart.data.datasets[t._datasetIndex],i=t.custom||{},n=t._index,o=t._model,r=this.chart.options.elements.point;o.radius=i.radius?i.radius:e.getValueAtIndexOrDefault(a.radius,n,r.radius),o.backgroundColor=i.backgroundColor?i.backgroundColor:e.getValueAtIndexOrDefault(a.pointBackgroundColor,n,r.backgroundColor),o.borderColor=i.borderColor?i.borderColor:e.getValueAtIndexOrDefault(a.pointBorderColor,n,r.borderColor),o.borderWidth=i.borderWidth?i.borderWidth:e.getValueAtIndexOrDefault(a.pointBorderWidth,n,r.borderWidth)}})}},{}],21:[function(t,e,a){"use strict";e.exports=function(t){var e=t.helpers;t.defaults.global.animation={duration:1e3,easing:"easeOutQuart",onProgress:e.noop,onComplete:e.noop},t.Animation=t.Element.extend({currentStep:null,numSteps:60,easing:"",render:null,onAnimationProgress:null,onAnimationComplete:null}),t.animationService={frameDuration:17,animations:[],dropFrames:0,request:null,addAnimation:function(t,e,a,i){var n=this;i||(t.animating=!0);for(var o=0;o<n.animations.length;++o)if(n.animations[o].chartInstance===t)return void(n.animations[o].animationObject=e);n.animations.push({chartInstance:t,animationObject:e}),1===n.animations.length&&n.requestAnimationFrame()},cancelAnimation:function(t){var a=e.findIndex(this.animations,function(e){return e.chartInstance===t});-1!==a&&(this.animations.splice(a,1),t.animating=!1)},requestAnimationFrame:function(){var t=this;null===t.request&&(t.request=e.requestAnimFrame.call(window,function(){t.request=null,t.startDigest()}))},startDigest:function(){var t=this,e=Date.now(),a=0;t.dropFrames>1&&(a=Math.floor(t.dropFrames),t.dropFrames=t.dropFrames%1);for(var i=0;i<t.animations.length;)null===t.animations[i].animationObject.currentStep&&(t.animations[i].animationObject.currentStep=0),t.animations[i].animationObject.currentStep+=1+a,t.animations[i].animationObject.currentStep>t.animations[i].animationObject.numSteps&&(t.animations[i].animationObject.currentStep=t.animations[i].animationObject.numSteps),t.animations[i].animationObject.render(t.animations[i].chartInstance,t.animations[i].animationObject),t.animations[i].animationObject.onAnimationProgress&&t.animations[i].animationObject.onAnimationProgress.call&&t.animations[i].animationObject.onAnimationProgress.call(t.animations[i].chartInstance,t.animations[i]),t.animations[i].animationObject.currentStep===t.animations[i].animationObject.numSteps?(t.animations[i].animationObject.onAnimationComplete&&t.animations[i].animationObject.onAnimationComplete.call&&t.animations[i].animationObject.onAnimationComplete.call(t.animations[i].chartInstance,t.animations[i]),t.animations[i].chartInstance.animating=!1,t.animations.splice(i,1)):++i;var n=Date.now(),o=(n-e)/t.frameDuration;t.dropFrames+=o,t.animations.length>0&&t.requestAnimationFrame()}}}},{}],22:[function(t,e,a){"use strict";e.exports=function(t){var e=t.canvasHelpers={};e.drawPoint=function(t,e,a,i,n){var o,r,l,s,d,u;if("object"==typeof e&&(o=e.toString(),"[object HTMLImageElement]"===o||"[object HTMLCanvasElement]"===o))return void t.drawImage(e,i-e.width/2,n-e.height/2);if(!(isNaN(a)||0>=a)){switch(e){default:t.beginPath(),t.arc(i,n,a,0,2*Math.PI),t.closePath(),t.fill();break;case"triangle":t.beginPath(),r=3*a/Math.sqrt(3),d=r*Math.sqrt(3)/2,t.moveTo(i-r/2,n+d/3),t.lineTo(i+r/2,n+d/3),t.lineTo(i,n-2*d/3),t.closePath(),t.fill();break;case"rect":u=1/Math.SQRT2*a,t.beginPath(),t.fillRect(i-u,n-u,2*u,2*u),t.strokeRect(i-u,n-u,2*u,2*u);break;case"rectRot":u=1/Math.SQRT2*a,t.beginPath(),t.moveTo(i-u,n),t.lineTo(i,n+u),t.lineTo(i+u,n),t.lineTo(i,n-u),t.closePath(),t.fill();break;case"cross":t.beginPath(),t.moveTo(i,n+a),t.lineTo(i,n-a),t.moveTo(i-a,n),t.lineTo(i+a,n),t.closePath();break;case"crossRot":t.beginPath(),l=Math.cos(Math.PI/4)*a,s=Math.sin(Math.PI/4)*a,t.moveTo(i-l,n-s),t.lineTo(i+l,n+s),t.moveTo(i-l,n+s),t.lineTo(i+l,n-s),t.closePath();break;case"star":t.beginPath(),t.moveTo(i,n+a),t.lineTo(i,n-a),t.moveTo(i-a,n),t.lineTo(i+a,n),l=Math.cos(Math.PI/4)*a,s=Math.sin(Math.PI/4)*a,t.moveTo(i-l,n-s),t.lineTo(i+l,n+s),t.moveTo(i-l,n+s),t.lineTo(i+l,n-s),t.closePath();break;case"line":t.beginPath(),t.moveTo(i-a,n),t.lineTo(i+a,n),t.closePath();break;case"dash":t.beginPath(),t.moveTo(i,n),t.lineTo(i+a,n),t.closePath()}t.stroke()}}}},{}],23:[function(t,e,a){"use strict";e.exports=function(t){var e=t.helpers;t.types={},t.instances={},t.controllers={},t.Controller=function(a){return this.chart=a,this.config=a.config,this.options=this.config.options=e.configMerge(t.defaults.global,t.defaults[this.config.type],this.config.options||{}),this.id=e.uid(),Object.defineProperty(this,"data",{get:function(){return this.config.data}}),t.instances[this.id]=this,this.options.responsive&&this.resize(!0),this.initialize(),this},e.extend(t.Controller.prototype,{initialize:function(){var e=this;return t.plugins.notify("beforeInit",[e]),e.bindEvents(),e.ensureScalesHaveIDs(),e.buildOrUpdateControllers(),e.buildScales(),e.updateLayout(),e.resetElements(),e.initToolTip(),e.update(),t.plugins.notify("afterInit",[e]),e},clear:function(){return e.clear(this.chart),this},stop:function(){return t.animationService.cancelAnimation(this),this},resize:function(a){var i=this,n=i.chart,o=n.canvas,r=e.getMaximumWidth(o),l=n.aspectRatio,s=i.options.maintainAspectRatio&&isNaN(l)===!1&&isFinite(l)&&0!==l?r/l:e.getMaximumHeight(o),d=n.width!==r||n.height!==s;if(!d)return i;o.width=n.width=r,o.height=n.height=s,e.retinaScale(n);var u={width:r,height:s};return t.plugins.notify("resize",[i,u]),i.options.onResize&&i.options.onResize(i,u),a||(i.stop(),i.update(i.options.responsiveAnimationDuration)),i},ensureScalesHaveIDs:function(){var t=this.options,a=t.scales||{},i=t.scale;e.each(a.xAxes,function(t,e){t.id=t.id||"x-axis-"+e}),e.each(a.yAxes,function(t,e){t.id=t.id||"y-axis-"+e}),i&&(i.id=i.id||"scale")},buildScales:function(){var a=this,i=a.options,n=a.scales={},o=[];i.scales&&(o=o.concat((i.scales.xAxes||[]).map(function(t){return{options:t,dtype:"category"}}),(i.scales.yAxes||[]).map(function(t){return{options:t,dtype:"linear"}}))),i.scale&&o.push({options:i.scale,dtype:"radialLinear",isDefault:!0}),e.each(o,function(i){var o=i.options,r=e.getValueOrDefault(o.type,i.dtype),l=t.scaleService.getScaleConstructor(r);if(l){var s=new l({id:o.id,options:o,ctx:a.chart.ctx,chart:a});n[s.id]=s,i.isDefault&&(a.scale=s)}}),t.scaleService.addScalesToLayout(this)},updateLayout:function(){t.layoutService.update(this,this.chart.width,this.chart.height)},buildOrUpdateControllers:function(){var a=this,i=[],n=[];if(e.each(a.data.datasets,function(e,o){var r=a.getDatasetMeta(o);r.type||(r.type=e.type||a.config.type),i.push(r.type),r.controller?r.controller.updateIndex(o):(r.controller=new t.controllers[r.type](a,o),n.push(r.controller))},a),i.length>1)for(var o=1;o<i.length;o++)if(i[o]!==i[o-1]){a.isCombo=!0;break}return n},resetElements:function(){var t=this;e.each(t.data.datasets,function(e,a){t.getDatasetMeta(a).controller.reset()},t)},update:function(a,i){var n=this;t.plugins.notify("beforeUpdate",[n]),n.tooltip._data=n.data;var o=n.buildOrUpdateControllers();e.each(n.data.datasets,function(t,e){n.getDatasetMeta(e).controller.buildOrUpdateElements()},n),t.layoutService.update(n,n.chart.width,n.chart.height),t.plugins.notify("afterScaleUpdate",[n]),e.each(o,function(t){t.reset()}),n.updateDatasets(),t.plugins.notify("afterUpdate",[n]),n.render(a,i)},updateDatasets:function(){var e,a,i=this;if(t.plugins.notify("beforeDatasetsUpdate",[i])){for(e=0,a=i.data.datasets.length;a>e;++e)i.getDatasetMeta(e).controller.update();t.plugins.notify("afterDatasetsUpdate",[i])}},render:function(a,i){var n=this;t.plugins.notify("beforeRender",[n]);var o=n.options.animation;if(o&&("undefined"!=typeof a&&0!==a||"undefined"==typeof a&&0!==o.duration)){var r=new t.Animation;r.numSteps=(a||o.duration)/16.66,r.easing=o.easing,r.render=function(t,a){var i=e.easingEffects[a.easing],n=a.currentStep/a.numSteps,o=i(n);t.draw(o,n,a.currentStep)},r.onAnimationProgress=o.onProgress,r.onAnimationComplete=o.onComplete,t.animationService.addAnimation(n,r,a,i)}else n.draw(),o&&o.onComplete&&o.onComplete.call&&o.onComplete.call(n);return n},draw:function(a){var i=this,n=a||1;i.clear(),t.plugins.notify("beforeDraw",[i,n]),e.each(i.boxes,function(t){t.draw(i.chartArea)},i),i.scale&&i.scale.draw(),t.plugins.notify("beforeDatasetsDraw",[i,n]),e.each(i.data.datasets,function(t,e){i.isDatasetVisible(e)&&i.getDatasetMeta(e).controller.draw(a)},i,!0),t.plugins.notify("afterDatasetsDraw",[i,n]),i.tooltip.transition(n).draw(),t.plugins.notify("afterDraw",[i,n])},getElementAtEvent:function(t){var a=this,i=e.getRelativePosition(t,a.chart),n=[];return e.each(a.data.datasets,function(t,o){if(a.isDatasetVisible(o)){var r=a.getDatasetMeta(o);e.each(r.data,function(t){return t.inRange(i.x,i.y)?(n.push(t),n):void 0})}}),n.slice(0,1)},getElementsAtEvent:function(t){var a=this,i=e.getRelativePosition(t,a.chart),n=[],o=function(){if(a.data.datasets)for(var t=0;t<a.data.datasets.length;t++){var e=a.getDatasetMeta(t);if(a.isDatasetVisible(t))for(var n=0;n<e.data.length;n++)if(e.data[n].inRange(i.x,i.y))return e.data[n]}}.call(a);return o?(e.each(a.data.datasets,function(t,e){if(a.isDatasetVisible(e)){var i=a.getDatasetMeta(e),r=i.data[o._index];r&&!r._view.skip&&n.push(r)}},a),n):n},getElementsAtXAxis:function(t){var a=this,i=e.getRelativePosition(t,a.chart),n=[],o=function(){if(a.data.datasets)for(var t=0;t<a.data.datasets.length;t++){var e=a.getDatasetMeta(t);if(a.isDatasetVisible(t))for(var n=0;n<e.data.length;n++)if(e.data[n].inLabelRange(i.x,i.y))return e.data[n]}}.call(a);return o?(e.each(a.data.datasets,function(t,i){if(a.isDatasetVisible(i)){var r=a.getDatasetMeta(i),l=e.findIndex(r.data,function(t){return o._model.x===t._model.x});-1===l||r.data[l]._view.skip||n.push(r.data[l])}},a),n):n},getElementsAtEventForMode:function(t,e){var a=this;switch(e){case"single":return a.getElementAtEvent(t);case"label":return a.getElementsAtEvent(t);case"dataset":return a.getDatasetAtEvent(t);case"x-axis":return a.getElementsAtXAxis(t);default:return t}},getDatasetAtEvent:function(t){var e=this.getElementAtEvent(t);return e.length>0&&(e=this.getDatasetMeta(e[0]._datasetIndex).data),e},getDatasetMeta:function(t){var e=this,a=e.data.datasets[t];a._meta||(a._meta={});var i=a._meta[e.id];return i||(i=a._meta[e.id]={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null}),i},getVisibleDatasetCount:function(){for(var t=0,e=0,a=this.data.datasets.length;a>e;++e)this.isDatasetVisible(e)&&t++;return t},isDatasetVisible:function(t){var e=this.getDatasetMeta(t);return"boolean"==typeof e.hidden?!e.hidden:!this.data.datasets[t].hidden;
},generateLegend:function(){return this.options.legendCallback(this)},destroy:function(){var a=this;a.stop(),a.clear(),e.unbindEvents(a,a.events),e.removeResizeListener(a.chart.canvas.parentNode);var i=a.chart.canvas;i.width=a.chart.width,i.height=a.chart.height,void 0!==a.chart.originalDevicePixelRatio&&a.chart.ctx.scale(1/a.chart.originalDevicePixelRatio,1/a.chart.originalDevicePixelRatio),i.style.width=a.chart.originalCanvasStyleWidth,i.style.height=a.chart.originalCanvasStyleHeight,t.plugins.notify("destroy",[a]),delete t.instances[a.id]},toBase64Image:function(){return this.chart.canvas.toDataURL.apply(this.chart.canvas,arguments)},initToolTip:function(){var e=this;e.tooltip=new t.Tooltip({_chart:e.chart,_chartInstance:e,_data:e.data,_options:e.options.tooltips},e)},bindEvents:function(){var t=this;e.bindEvents(t,t.options.events,function(e){t.eventHandler(e)})},updateHoverStyle:function(t,e,a){var i,n,o,r=a?"setHoverStyle":"removeHoverStyle";switch(e){case"single":t=[t[0]];break;case"label":case"dataset":case"x-axis":break;default:return}for(n=0,o=t.length;o>n;++n)i=t[n],i&&this.getDatasetMeta(i._datasetIndex).controller[r](i)},eventHandler:function(t){var a=this,i=a.tooltip,n=a.options||{},o=n.hover,r=n.tooltips;return a.lastActive=a.lastActive||[],a.lastTooltipActive=a.lastTooltipActive||[],"mouseout"===t.type?(a.active=[],a.tooltipActive=[]):(a.active=a.getElementsAtEventForMode(t,o.mode),a.tooltipActive=a.getElementsAtEventForMode(t,r.mode)),o.onHover&&o.onHover.call(a,a.active),("mouseup"===t.type||"click"===t.type)&&(n.onClick&&n.onClick.call(a,t,a.active),a.legend&&a.legend.handleEvent&&a.legend.handleEvent(t)),a.lastActive.length&&a.updateHoverStyle(a.lastActive,o.mode,!1),a.active.length&&o.mode&&a.updateHoverStyle(a.active,o.mode,!0),(r.enabled||r.custom)&&(i.initialize(),i._active=a.tooltipActive,i.update(!0)),i.pivot(),a.animating||e.arrayEquals(a.active,a.lastActive)&&e.arrayEquals(a.tooltipActive,a.lastTooltipActive)||(a.stop(),(r.enabled||r.custom)&&i.update(!0),a.render(o.animationDuration,!0)),a.lastActive=a.active,a.lastTooltipActive=a.tooltipActive,a}})}},{}],24:[function(t,e,a){"use strict";e.exports=function(t){var e=t.helpers,a=e.noop;t.DatasetController=function(t,e){this.initialize.call(this,t,e)},e.extend(t.DatasetController.prototype,{datasetElementType:null,dataElementType:null,initialize:function(t,e){var a=this;a.chart=t,a.index=e,a.linkScales(),a.addElements()},updateIndex:function(t){this.index=t},linkScales:function(){var t=this,e=t.getMeta(),a=t.getDataset();null===e.xAxisID&&(e.xAxisID=a.xAxisID||t.chart.options.scales.xAxes[0].id),null===e.yAxisID&&(e.yAxisID=a.yAxisID||t.chart.options.scales.yAxes[0].id)},getDataset:function(){return this.chart.data.datasets[this.index]},getMeta:function(){return this.chart.getDatasetMeta(this.index)},getScaleForId:function(t){return this.chart.scales[t]},reset:function(){this.update(!0)},createMetaDataset:function(){var t=this,e=t.datasetElementType;return e&&new e({_chart:t.chart.chart,_datasetIndex:t.index})},createMetaData:function(t){var e=this,a=e.dataElementType;return a&&new a({_chart:e.chart.chart,_datasetIndex:e.index,_index:t})},addElements:function(){var t,e,a=this,i=a.getMeta(),n=a.getDataset().data||[],o=i.data;for(t=0,e=n.length;e>t;++t)o[t]=o[t]||a.createMetaData(i,t);i.dataset=i.dataset||a.createMetaDataset()},addElementAndReset:function(t){var e=this,a=e.createMetaData(t);e.getMeta().data.splice(t,0,a),e.updateElement(a,t,!0)},buildOrUpdateElements:function(){var t=this.getMeta(),e=t.data,a=this.getDataset().data.length,i=e.length;if(i>a)e.splice(a,i-a);else if(a>i)for(var n=i;a>n;++n)this.addElementAndReset(n)},update:a,draw:function(t){var a=t||1;e.each(this.getMeta().data,function(t){t.transition(a).draw()})},removeHoverStyle:function(t,a){var i=this.chart.data.datasets[t._datasetIndex],n=t._index,o=t.custom||{},r=e.getValueAtIndexOrDefault,l=t._model;l.backgroundColor=o.backgroundColor?o.backgroundColor:r(i.backgroundColor,n,a.backgroundColor),l.borderColor=o.borderColor?o.borderColor:r(i.borderColor,n,a.borderColor),l.borderWidth=o.borderWidth?o.borderWidth:r(i.borderWidth,n,a.borderWidth)},setHoverStyle:function(t){var a=this.chart.data.datasets[t._datasetIndex],i=t._index,n=t.custom||{},o=e.getValueAtIndexOrDefault,r=e.getHoverColor,l=t._model;l.backgroundColor=n.hoverBackgroundColor?n.hoverBackgroundColor:o(a.hoverBackgroundColor,i,r(l.backgroundColor)),l.borderColor=n.hoverBorderColor?n.hoverBorderColor:o(a.hoverBorderColor,i,r(l.borderColor)),l.borderWidth=n.hoverBorderWidth?n.hoverBorderWidth:o(a.hoverBorderWidth,i,l.borderWidth)}}),t.DatasetController.extend=e.inherits}},{}],25:[function(t,e,a){"use strict";e.exports=function(t){var e=t.helpers;t.elements={},t.Element=function(t){e.extend(this,t),this.initialize.apply(this,arguments)},e.extend(t.Element.prototype,{initialize:function(){this.hidden=!1},pivot:function(){var t=this;return t._view||(t._view=e.clone(t._model)),t._start=e.clone(t._view),t},transition:function(t){var a=this;return a._view||(a._view=e.clone(a._model)),1===t?(a._view=a._model,a._start=null,a):(a._start||a.pivot(),e.each(a._model,function(i,n){if("_"===n[0]);else if(a._view.hasOwnProperty(n))if(i===a._view[n]);else if("string"==typeof i)try{var o=e.color(a._model[n]).mix(e.color(a._start[n]),t);a._view[n]=o.rgbString()}catch(r){a._view[n]=i}else if("number"==typeof i){var l=void 0!==a._start[n]&&isNaN(a._start[n])===!1?a._start[n]:0;a._view[n]=(a._model[n]-l)*t+l}else a._view[n]=i;else"number"!=typeof i||isNaN(a._view[n])?a._view[n]=i:a._view[n]=i*t},a),a)},tooltipPosition:function(){return{x:this._model.x,y:this._model.y}},hasValue:function(){return e.isNumber(this._model.x)&&e.isNumber(this._model.y)}}),t.Element.extend=e.inherits}},{}],26:[function(t,e,a){"use strict";var i=t(3);e.exports=function(t){function e(t,e,a){var i;return"string"==typeof t?(i=parseInt(t,10),-1!=t.indexOf("%")&&(i=i/100*e.parentNode[a])):i=t,i}function a(t){return void 0!==t&&null!==t&&"none"!==t}function n(t,i,n){var o=document.defaultView,r=t.parentNode,l=o.getComputedStyle(t)[i],s=o.getComputedStyle(r)[i],d=a(l),u=a(s),c=Number.POSITIVE_INFINITY;return d||u?Math.min(d?e(l,t,n):c,u?e(s,r,n):c):"none"}var o=t.helpers={};o.each=function(t,e,a,i){var n,r;if(o.isArray(t))if(r=t.length,i)for(n=r-1;n>=0;n--)e.call(a,t[n],n);else for(n=0;r>n;n++)e.call(a,t[n],n);else if("object"==typeof t){var l=Object.keys(t);for(r=l.length,n=0;r>n;n++)e.call(a,t[l[n]],l[n])}},o.clone=function(t){var e={};return o.each(t,function(t,a){o.isArray(t)?e[a]=t.slice(0):"object"==typeof t&&null!==t?e[a]=o.clone(t):e[a]=t}),e},o.extend=function(t){for(var e=function(e,a){t[a]=e},a=1,i=arguments.length;i>a;a++)o.each(arguments[a],e);return t},o.configMerge=function(e){var a=o.clone(e);return o.each(Array.prototype.slice.call(arguments,1),function(e){o.each(e,function(e,i){if("scales"===i)a[i]=o.scaleMerge(a.hasOwnProperty(i)?a[i]:{},e);else if("scale"===i)a[i]=o.configMerge(a.hasOwnProperty(i)?a[i]:{},t.scaleService.getScaleDefaults(e.type),e);else if(a.hasOwnProperty(i)&&o.isArray(a[i])&&o.isArray(e)){var n=a[i];o.each(e,function(t,e){e<n.length?"object"==typeof n[e]&&null!==n[e]&&"object"==typeof t&&null!==t?n[e]=o.configMerge(n[e],t):n[e]=t:n.push(t)})}else a.hasOwnProperty(i)&&"object"==typeof a[i]&&null!==a[i]&&"object"==typeof e?a[i]=o.configMerge(a[i],e):a[i]=e})}),a},o.scaleMerge=function(e,a){var i=o.clone(e);return o.each(a,function(e,a){"xAxes"===a||"yAxes"===a?i.hasOwnProperty(a)?o.each(e,function(e,n){var r=o.getValueOrDefault(e.type,"xAxes"===a?"category":"linear"),l=t.scaleService.getScaleDefaults(r);n>=i[a].length||!i[a][n].type?i[a].push(o.configMerge(l,e)):e.type&&e.type!==i[a][n].type?i[a][n]=o.configMerge(i[a][n],l,e):i[a][n]=o.configMerge(i[a][n],e)}):(i[a]=[],o.each(e,function(e){var n=o.getValueOrDefault(e.type,"xAxes"===a?"category":"linear");i[a].push(o.configMerge(t.scaleService.getScaleDefaults(n),e))})):i.hasOwnProperty(a)&&"object"==typeof i[a]&&null!==i[a]&&"object"==typeof e?i[a]=o.configMerge(i[a],e):i[a]=e}),i},o.getValueAtIndexOrDefault=function(t,e,a){return void 0===t||null===t?a:o.isArray(t)?e<t.length?t[e]:a:t},o.getValueOrDefault=function(t,e){return void 0===t?e:t},o.indexOf=Array.prototype.indexOf?function(t,e){return t.indexOf(e)}:function(t,e){for(var a=0,i=t.length;i>a;++a)if(t[a]===e)return a;return-1},o.where=function(t,e){if(o.isArray(t)&&Array.prototype.filter)return t.filter(e);var a=[];return o.each(t,function(t){e(t)&&a.push(t)}),a},o.findIndex=Array.prototype.findIndex?function(t,e,a){return t.findIndex(e,a)}:function(t,e,a){a=void 0===a?t:a;for(var i=0,n=t.length;n>i;++i)if(e.call(a,t[i],i,t))return i;return-1},o.findNextWhere=function(t,e,a){(void 0===a||null===a)&&(a=-1);for(var i=a+1;i<t.length;i++){var n=t[i];if(e(n))return n}},o.findPreviousWhere=function(t,e,a){(void 0===a||null===a)&&(a=t.length);for(var i=a-1;i>=0;i--){var n=t[i];if(e(n))return n}},o.inherits=function(t){var e=this,a=t&&t.hasOwnProperty("constructor")?t.constructor:function(){return e.apply(this,arguments)},i=function(){this.constructor=a};return i.prototype=e.prototype,a.prototype=new i,a.extend=o.inherits,t&&o.extend(a.prototype,t),a.__super__=e.prototype,a},o.noop=function(){},o.uid=function(){var t=0;return function(){return t++}}(),o.isNumber=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},o.almostEquals=function(t,e,a){return Math.abs(t-e)<a},o.max=function(t){return t.reduce(function(t,e){return isNaN(e)?t:Math.max(t,e)},Number.NEGATIVE_INFINITY)},o.min=function(t){return t.reduce(function(t,e){return isNaN(e)?t:Math.min(t,e)},Number.POSITIVE_INFINITY)},o.sign=Math.sign?function(t){return Math.sign(t)}:function(t){return t=+t,0===t||isNaN(t)?t:t>0?1:-1},o.log10=Math.log10?function(t){return Math.log10(t)}:function(t){return Math.log(t)/Math.LN10},o.toRadians=function(t){return t*(Math.PI/180)},o.toDegrees=function(t){return t*(180/Math.PI)},o.getAngleFromPoint=function(t,e){var a=e.x-t.x,i=e.y-t.y,n=Math.sqrt(a*a+i*i),o=Math.atan2(i,a);return o<-.5*Math.PI&&(o+=2*Math.PI),{angle:o,distance:n}},o.aliasPixel=function(t){return t%2===0?0:.5},o.splineCurve=function(t,e,a,i){var n=t.skip?e:t,o=e,r=a.skip?e:a,l=Math.sqrt(Math.pow(o.x-n.x,2)+Math.pow(o.y-n.y,2)),s=Math.sqrt(Math.pow(r.x-o.x,2)+Math.pow(r.y-o.y,2)),d=l/(l+s),u=s/(l+s);d=isNaN(d)?0:d,u=isNaN(u)?0:u;var c=i*d,h=i*u;return{previous:{x:o.x-c*(r.x-n.x),y:o.y-c*(r.y-n.y)},next:{x:o.x+h*(r.x-n.x),y:o.y+h*(r.y-n.y)}}},o.nextItem=function(t,e,a){return a?e>=t.length-1?t[0]:t[e+1]:e>=t.length-1?t[t.length-1]:t[e+1]},o.previousItem=function(t,e,a){return a?0>=e?t[t.length-1]:t[e-1]:0>=e?t[0]:t[e-1]},o.niceNum=function(t,e){var a,i=Math.floor(o.log10(t)),n=t/Math.pow(10,i);return a=e?1.5>n?1:3>n?2:7>n?5:10:1>=n?1:2>=n?2:5>=n?5:10,a*Math.pow(10,i)};var r=o.easingEffects={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return-1*t*(t-2)},easeInOutQuad:function(t){return(t/=.5)<1?.5*t*t:-0.5*(--t*(t-2)-1)},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return 1*((t=t/1-1)*t*t+1)},easeInOutCubic:function(t){return(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return-1*((t=t/1-1)*t*t*t-1)},easeInOutQuart:function(t){return(t/=.5)<1?.5*t*t*t*t:-0.5*((t-=2)*t*t*t-2)},easeInQuint:function(t){return 1*(t/=1)*t*t*t*t},easeOutQuint:function(t){return 1*((t=t/1-1)*t*t*t*t+1)},easeInOutQuint:function(t){return(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},easeInSine:function(t){return-1*Math.cos(t/1*(Math.PI/2))+1},easeOutSine:function(t){return 1*Math.sin(t/1*(Math.PI/2))},easeInOutSine:function(t){return-0.5*(Math.cos(Math.PI*t/1)-1)},easeInExpo:function(t){return 0===t?1:1*Math.pow(2,10*(t/1-1))},easeOutExpo:function(t){return 1===t?1:1*(-Math.pow(2,-10*t/1)+1)},easeInOutExpo:function(t){return 0===t?0:1===t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(-Math.pow(2,-10*--t)+2)},easeInCirc:function(t){return t>=1?t:-1*(Math.sqrt(1-(t/=1)*t)-1)},easeOutCirc:function(t){return 1*Math.sqrt(1-(t=t/1-1)*t)},easeInOutCirc:function(t){return(t/=.5)<1?-0.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},easeInElastic:function(t){var e=1.70158,a=0,i=1;return 0===t?0:1===(t/=1)?1:(a||(a=.3),i<Math.abs(1)?(i=1,e=a/4):e=a/(2*Math.PI)*Math.asin(1/i),-(i*Math.pow(2,10*(t-=1))*Math.sin((1*t-e)*(2*Math.PI)/a)))},easeOutElastic:function(t){var e=1.70158,a=0,i=1;return 0===t?0:1===(t/=1)?1:(a||(a=.3),i<Math.abs(1)?(i=1,e=a/4):e=a/(2*Math.PI)*Math.asin(1/i),i*Math.pow(2,-10*t)*Math.sin((1*t-e)*(2*Math.PI)/a)+1)},easeInOutElastic:function(t){var e=1.70158,a=0,i=1;return 0===t?0:2===(t/=.5)?1:(a||(a=1*(.3*1.5)),i<Math.abs(1)?(i=1,e=a/4):e=a/(2*Math.PI)*Math.asin(1/i),1>t?-.5*(i*Math.pow(2,10*(t-=1))*Math.sin((1*t-e)*(2*Math.PI)/a)):i*Math.pow(2,-10*(t-=1))*Math.sin((1*t-e)*(2*Math.PI)/a)*.5+1)},easeInBack:function(t){var e=1.70158;return 1*(t/=1)*t*((e+1)*t-e)},easeOutBack:function(t){var e=1.70158;return 1*((t=t/1-1)*t*((e+1)*t+e)+1)},easeInOutBack:function(t){var e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:function(t){return 1-r.easeOutBounce(1-t)},easeOutBounce:function(t){return(t/=1)<1/2.75?1*(7.5625*t*t):2/2.75>t?1*(7.5625*(t-=1.5/2.75)*t+.75):2.5/2.75>t?1*(7.5625*(t-=2.25/2.75)*t+.9375):1*(7.5625*(t-=2.625/2.75)*t+.984375)},easeInOutBounce:function(t){return.5>t?.5*r.easeInBounce(2*t):.5*r.easeOutBounce(2*t-1)+.5}};o.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return window.setTimeout(t,1e3/60)}}(),o.cancelAnimFrame=function(){return window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||function(t){return window.clearTimeout(t,1e3/60)}}(),o.getRelativePosition=function(t,e){var a,i,n=t.originalEvent||t,r=t.currentTarget||t.srcElement,l=r.getBoundingClientRect(),s=n.touches;s&&s.length>0?(a=s[0].clientX,i=s[0].clientY):(a=n.clientX,i=n.clientY);var d=parseFloat(o.getStyle(r,"padding-left")),u=parseFloat(o.getStyle(r,"padding-top")),c=parseFloat(o.getStyle(r,"padding-right")),h=parseFloat(o.getStyle(r,"padding-bottom")),f=l.right-l.left-d-c,g=l.bottom-l.top-u-h;return a=Math.round((a-l.left-d)/f*r.width/e.currentDevicePixelRatio),i=Math.round((i-l.top-u)/g*r.height/e.currentDevicePixelRatio),{x:a,y:i}},o.addEvent=function(t,e,a){t.addEventListener?t.addEventListener(e,a):t.attachEvent?t.attachEvent("on"+e,a):t["on"+e]=a},o.removeEvent=function(t,e,a){t.removeEventListener?t.removeEventListener(e,a,!1):t.detachEvent?t.detachEvent("on"+e,a):t["on"+e]=o.noop},o.bindEvents=function(t,e,a){var i=t.events=t.events||{};o.each(e,function(e){i[e]=function(){a.apply(t,arguments)},o.addEvent(t.chart.canvas,e,i[e])})},o.unbindEvents=function(t,e){var a=t.chart.canvas;o.each(e,function(t,e){o.removeEvent(a,e,t)})},o.getConstraintWidth=function(t){return n(t,"max-width","clientWidth")},o.getConstraintHeight=function(t){return n(t,"max-height","clientHeight")},o.getMaximumWidth=function(t){var e=t.parentNode,a=parseInt(o.getStyle(e,"padding-left"))+parseInt(o.getStyle(e,"padding-right")),i=e.clientWidth-a,n=o.getConstraintWidth(t);return isNaN(n)?i:Math.min(i,n)},o.getMaximumHeight=function(t){var e=t.parentNode,a=parseInt(o.getStyle(e,"padding-top"))+parseInt(o.getStyle(e,"padding-bottom")),i=e.clientHeight-a,n=o.getConstraintHeight(t);return isNaN(n)?i:Math.min(i,n)},o.getStyle=function(t,e){return t.currentStyle?t.currentStyle[e]:document.defaultView.getComputedStyle(t,null).getPropertyValue(e)},o.retinaScale=function(t){var e=t.ctx,a=t.canvas,i=a.width,n=a.height,o=t.currentDevicePixelRatio=window.devicePixelRatio||1;1!==o&&(a.height=n*o,a.width=i*o,e.scale(o,o),t.originalDevicePixelRatio=t.originalDevicePixelRatio||o),a.style.width=i+"px",a.style.height=n+"px"},o.clear=function(t){t.ctx.clearRect(0,0,t.width,t.height)},o.fontString=function(t,e,a){return e+" "+t+"px "+a},o.longestText=function(t,e,a,i){i=i||{};var n=i.data=i.data||{},r=i.garbageCollect=i.garbageCollect||[];i.font!==e&&(n=i.data={},r=i.garbageCollect=[],i.font=e),t.font=e;var l=0;o.each(a,function(e){void 0!==e&&null!==e&&o.isArray(e)!==!0?l=o.measureText(t,n,r,l,e):o.isArray(e)&&o.each(e,function(e){void 0===e||null===e||o.isArray(e)||(l=o.measureText(t,n,r,l,e))})});var s=r.length/2;if(s>a.length){for(var d=0;s>d;d++)delete n[r[d]];r.splice(0,s)}return l},o.measureText=function(t,e,a,i,n){var o=e[n];return o||(o=e[n]=t.measureText(n).width,a.push(n)),o>i&&(i=o),i},o.numberOfLabelLines=function(t){var e=1;return o.each(t,function(t){o.isArray(t)&&t.length>e&&(e=t.length)}),e},o.drawRoundedRectangle=function(t,e,a,i,n,o){t.beginPath(),t.moveTo(e+o,a),t.lineTo(e+i-o,a),t.quadraticCurveTo(e+i,a,e+i,a+o),t.lineTo(e+i,a+n-o),t.quadraticCurveTo(e+i,a+n,e+i-o,a+n),t.lineTo(e+o,a+n),t.quadraticCurveTo(e,a+n,e,a+n-o),t.lineTo(e,a+o),t.quadraticCurveTo(e,a,e+o,a),t.closePath()},o.color=function(e){return i?i(e instanceof CanvasGradient?t.defaults.global.defaultColor:e):(console.log("Color.js not found!"),e)},o.addResizeListener=function(t,e){var a=document.createElement("iframe"),i="chartjs-hidden-iframe";a.classlist?a.classlist.add(i):a.setAttribute("class",i);var n=a.style;n.width="100%",n.display="block",n.border=0,n.height=0,n.margin=0,n.position="absolute",n.left=0,n.right=0,n.top=0,n.bottom=0,t.insertBefore(a,t.firstChild),(a.contentWindow||a).onresize=function(){e&&e()}},o.removeResizeListener=function(t){var e=t.querySelector(".chartjs-hidden-iframe");e&&e.parentNode.removeChild(e)},o.isArray=Array.isArray?function(t){return Array.isArray(t)}:function(t){return"[object Array]"===Object.prototype.toString.call(t)},o.arrayEquals=function(t,e){var a,i,n,r;if(!t||!e||t.length!=e.length)return!1;for(a=0,i=t.length;i>a;++a)if(n=t[a],r=e[a],n instanceof Array&&r instanceof Array){if(!o.arrayEquals(n,r))return!1}else if(n!=r)return!1;return!0},o.callCallback=function(t,e,a){t&&"function"==typeof t.call&&t.apply(a,e)},o.getHoverColor=function(t){return t instanceof CanvasPattern?t:o.color(t).saturate(.5).darken(.1).rgbString()}}},{3:3}],27:[function(t,e,a){"use strict";e.exports=function(){var t=function(e,a){var i=this,n=t.helpers;return i.config=a||{data:{datasets:[]}},e.length&&e[0].getContext&&(e=e[0]),e.getContext&&(e=e.getContext("2d")),i.ctx=e,i.canvas=e.canvas,e.canvas.style.display=e.canvas.style.display||"block",i.width=e.canvas.width||parseInt(n.getStyle(e.canvas,"width"),10)||n.getMaximumWidth(e.canvas),i.height=e.canvas.height||parseInt(n.getStyle(e.canvas,"height"),10)||n.getMaximumHeight(e.canvas),i.aspectRatio=i.width/i.height,(isNaN(i.aspectRatio)||isFinite(i.aspectRatio)===!1)&&(i.aspectRatio=void 0!==a.aspectRatio?a.aspectRatio:2),i.originalCanvasStyleWidth=e.canvas.style.width,i.originalCanvasStyleHeight=e.canvas.style.height,n.retinaScale(i),i.controller=new t.Controller(i),n.addResizeListener(e.canvas.parentNode,function(){i.controller&&i.controller.config.options.responsive&&i.controller.resize()}),i.controller?i.controller:i};return t.defaults={global:{responsive:!0,responsiveAnimationDuration:0,maintainAspectRatio:!0,events:["mousemove","mouseout","click","touchstart","touchmove"],hover:{onHover:null,mode:"single",animationDuration:400},onClick:null,defaultColor:"rgba(0,0,0,0.1)",defaultFontColor:"#666",defaultFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",defaultFontSize:12,defaultFontStyle:"normal",showLines:!0,elements:{},legendCallback:function(t){var e=[];e.push('<ul class="'+t.id+'-legend">');for(var a=0;a<t.data.datasets.length;a++)e.push('<li><span style="background-color:'+t.data.datasets[a].backgroundColor+'"></span>'),t.data.datasets[a].label&&e.push(t.data.datasets[a].label),e.push("</li>");return e.push("</ul>"),e.join("")}}},t.Chart=t,t}},{}],28:[function(t,e,a){"use strict";e.exports=function(t){var e=t.helpers;t.layoutService={defaults:{},addBox:function(t,e){t.boxes||(t.boxes=[]),t.boxes.push(e)},removeBox:function(t,e){t.boxes&&t.boxes.splice(t.boxes.indexOf(e),1)},update:function(t,a,i){function n(t){var e,a=t.isHorizontal();a?(e=t.update(t.options.fullWidth?p:k,y),S-=e.height):(e=t.update(x,v),k-=e.width),w.push({horizontal:a,minSize:e,box:t})}function o(t){var a=e.findNextWhere(w,function(e){return e.box===t});if(a)if(t.isHorizontal()){var i={left:C,right:M,top:0,bottom:0};t.update(t.options.fullWidth?p:k,m/2,i)}else t.update(a.minSize.width,S)}function r(t){var a=e.findNextWhere(w,function(e){return e.box===t}),i={left:0,right:0,top:D,bottom:A};a&&t.update(a.minSize.width,S,i)}function l(t){t.isHorizontal()?(t.left=t.options.fullWidth?s:C,t.right=t.options.fullWidth?a-s:C+k,t.top=P,t.bottom=P+t.height,P=t.bottom):(t.left=F,t.right=F+t.width,t.top=D,t.bottom=D+S,F=t.right)}if(t){var s=0,d=0,u=e.where(t.boxes,function(t){return"left"===t.options.position}),c=e.where(t.boxes,function(t){return"right"===t.options.position}),h=e.where(t.boxes,function(t){return"top"===t.options.position}),f=e.where(t.boxes,function(t){return"bottom"===t.options.position}),g=e.where(t.boxes,function(t){return"chartArea"===t.options.position});h.sort(function(t,e){return(e.options.fullWidth?1:0)-(t.options.fullWidth?1:0)}),f.sort(function(t,e){return(t.options.fullWidth?1:0)-(e.options.fullWidth?1:0)});var p=a-2*s,m=i-2*d,b=p/2,v=m/2,x=(a-b)/(u.length+c.length),y=(i-v)/(h.length+f.length),k=p,S=m,w=[];e.each(u.concat(c,h,f),n);var C=s,M=s,D=d,A=d;e.each(u.concat(c),o),e.each(u,function(t){C+=t.width}),e.each(c,function(t){M+=t.width}),e.each(h.concat(f),o),e.each(h,function(t){D+=t.height}),e.each(f,function(t){A+=t.height}),e.each(u.concat(c),r),C=s,M=s,D=d,A=d,e.each(u,function(t){C+=t.width}),e.each(c,function(t){M+=t.width}),e.each(h,function(t){D+=t.height}),e.each(f,function(t){A+=t.height});var I=i-D-A,T=a-C-M;(T!==k||I!==S)&&(e.each(u,function(t){t.height=I}),e.each(c,function(t){t.height=I}),e.each(h,function(t){t.options.fullWidth||(t.width=T)}),e.each(f,function(t){t.options.fullWidth||(t.width=T)}),S=I,k=T);var F=s,P=d;e.each(u.concat(h),l),F+=k,P+=S,e.each(c,l),e.each(f,l),t.chartArea={left:C,top:D,right:C+k,bottom:D+S},e.each(g,function(e){e.left=t.chartArea.left,e.top=t.chartArea.top,e.right=t.chartArea.right,e.bottom=t.chartArea.bottom,e.update(k,S)})}}}}},{}],29:[function(t,e,a){"use strict";e.exports=function(t){var e=t.helpers,a=e.noop;t.defaults.global.legend={display:!0,position:"top",fullWidth:!0,reverse:!1,onClick:function(t,e){var a=e.datasetIndex,i=this.chart,n=i.getDatasetMeta(a);n.hidden=null===n.hidden?!i.data.datasets[a].hidden:null,i.update()},labels:{boxWidth:40,padding:10,generateLabels:function(t){var a=t.data;return e.isArray(a.datasets)?a.datasets.map(function(a,i){return{text:a.label,fillStyle:e.isArray(a.backgroundColor)?a.backgroundColor[0]:a.backgroundColor,hidden:!t.isDatasetVisible(i),lineCap:a.borderCapStyle,lineDash:a.borderDash,lineDashOffset:a.borderDashOffset,lineJoin:a.borderJoinStyle,lineWidth:a.borderWidth,strokeStyle:a.borderColor,pointStyle:a.pointStyle,datasetIndex:i}},this):[]}}},t.Legend=t.Element.extend({initialize:function(t){e.extend(this,t),this.legendHitBoxes=[],this.doughnutMode=!1},beforeUpdate:a,update:function(t,e,a){var i=this;return i.beforeUpdate(),i.maxWidth=t,i.maxHeight=e,i.margins=a,i.beforeSetDimensions(),i.setDimensions(),i.afterSetDimensions(),i.beforeBuildLabels(),i.buildLabels(),i.afterBuildLabels(),i.beforeFit(),i.fit(),i.afterFit(),i.afterUpdate(),i.minSize},afterUpdate:a,beforeSetDimensions:a,setDimensions:function(){var t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0,t.minSize={width:0,height:0}},afterSetDimensions:a,beforeBuildLabels:a,buildLabels:function(){var t=this;t.legendItems=t.options.labels.generateLabels.call(t,t.chart),t.options.reverse&&t.legendItems.reverse()},afterBuildLabels:a,beforeFit:a,fit:function(){var a=this,i=a.options,n=i.labels,o=i.display,r=a.ctx,l=t.defaults.global,s=e.getValueOrDefault,d=s(n.fontSize,l.defaultFontSize),u=s(n.fontStyle,l.defaultFontStyle),c=s(n.fontFamily,l.defaultFontFamily),h=e.fontString(d,u,c),f=a.legendHitBoxes=[],g=a.minSize,p=a.isHorizontal();if(p?(g.width=a.maxWidth,g.height=o?10:0):(g.width=o?10:0,g.height=a.maxHeight),o)if(r.font=h,p){var m=a.lineWidths=[0],b=a.legendItems.length?d+n.padding:0;r.textAlign="left",r.textBaseline="top",e.each(a.legendItems,function(t,e){var i=n.usePointStyle?d*Math.sqrt(2):n.boxWidth,o=i+d/2+r.measureText(t.text).width;m[m.length-1]+o+n.padding>=a.width&&(b+=d+n.padding,m[m.length]=a.left),f[e]={left:0,top:0,width:o,height:d},m[m.length-1]+=o+n.padding}),g.height+=b}else{var v=n.padding,x=a.columnWidths=[],y=n.padding,k=0,S=0,w=d+v;e.each(a.legendItems,function(t,e){var a=n.usePointStyle?2*n.boxWidth:n.boxWidth,i=a+d/2+r.measureText(t.text).width;S+w>g.height&&(y+=k+n.padding,x.push(k),k=0,S=0),k=Math.max(k,i),S+=w,f[e]={left:0,top:0,width:i,height:d}}),y+=k,x.push(k),g.width+=y}a.width=g.width,a.height=g.height},afterFit:a,isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},draw:function(){var a=this,i=a.options,n=i.labels,o=t.defaults.global,r=o.elements.line,l=a.width,s=a.lineWidths;if(i.display){var d,u=a.ctx,c=e.getValueOrDefault,h=c(n.fontColor,o.defaultFontColor),f=c(n.fontSize,o.defaultFontSize),g=c(n.fontStyle,o.defaultFontStyle),p=c(n.fontFamily,o.defaultFontFamily),m=e.fontString(f,g,p);u.textAlign="left",u.textBaseline="top",u.lineWidth=.5,u.strokeStyle=h,u.fillStyle=h,u.font=m;var b=n.boxWidth,v=a.legendHitBoxes,x=function(e,a,n){if(!(isNaN(b)||0>=b)){if(u.save(),u.fillStyle=c(n.fillStyle,o.defaultColor),u.lineCap=c(n.lineCap,r.borderCapStyle),u.lineDashOffset=c(n.lineDashOffset,r.borderDashOffset),u.lineJoin=c(n.lineJoin,r.borderJoinStyle),u.lineWidth=c(n.lineWidth,r.borderWidth),u.strokeStyle=c(n.strokeStyle,o.defaultColor),u.setLineDash&&u.setLineDash(c(n.lineDash,r.borderDash)),i.labels&&i.labels.usePointStyle){var l=f*Math.SQRT2/2,s=l/Math.SQRT2,d=e+s,h=a+s;t.canvasHelpers.drawPoint(u,n.pointStyle,l,d,h)}else u.strokeRect(e,a,b,f),u.fillRect(e,a,b,f);u.restore()}},y=function(t,e,a,i){u.fillText(a.text,b+f/2+t,e),a.hidden&&(u.beginPath(),u.lineWidth=2,u.moveTo(b+f/2+t,e+f/2),u.lineTo(b+f/2+t+i,e+f/2),u.stroke())},k=a.isHorizontal();d=k?{x:a.left+(l-s[0])/2,y:a.top+n.padding,line:0}:{x:a.left+n.padding,y:a.top+n.padding,line:0};var S=f+n.padding;e.each(a.legendItems,function(t,e){var i=u.measureText(t.text).width,o=n.usePointStyle?f+f/2+i:b+f/2+i,r=d.x,c=d.y;k?r+o>=l&&(c=d.y+=S,d.line++,r=d.x=a.left+(l-s[d.line])/2):c+S>a.bottom&&(r=d.x=r+a.columnWidths[d.line]+n.padding,c=d.y=a.top,d.line++),x(r,c,t),v[e].left=r,v[e].top=c,y(r,c,t,i),k?d.x+=o+n.padding:d.y+=S})}},handleEvent:function(t){var a=this,i=e.getRelativePosition(t,a.chart.chart),n=i.x,o=i.y,r=a.options;if(n>=a.left&&n<=a.right&&o>=a.top&&o<=a.bottom)for(var l=a.legendHitBoxes,s=0;s<l.length;++s){var d=l[s];if(n>=d.left&&n<=d.left+d.width&&o>=d.top&&o<=d.top+d.height){r.onClick&&r.onClick.call(a,t,a.legendItems[s]);break}}}}),t.plugins.register({beforeInit:function(e){var a=e.options,i=a.legend;i&&(e.legend=new t.Legend({ctx:e.chart.ctx,options:i,chart:e}),t.layoutService.addBox(e,e.legend))}})}},{}],30:[function(t,e,a){"use strict";e.exports=function(t){var e=t.helpers.noop;t.plugins={_plugins:[],register:function(t){var e=this._plugins;[].concat(t).forEach(function(t){-1===e.indexOf(t)&&e.push(t)})},unregister:function(t){var e=this._plugins;[].concat(t).forEach(function(t){var a=e.indexOf(t);-1!==a&&e.splice(a,1)})},clear:function(){this._plugins=[]},count:function(){return this._plugins.length},getAll:function(){return this._plugins},notify:function(t,e){var a,i,n=this._plugins,o=n.length;for(a=0;o>a;++a)if(i=n[a],"function"==typeof i[t]&&i[t].apply(i,e||[])===!1)return!1;return!0}},t.PluginBase=t.Element.extend({beforeInit:e,afterInit:e,beforeUpdate:e,afterUpdate:e,beforeDraw:e,afterDraw:e,destroy:e}),t.pluginService=t.plugins}},{}],31:[function(t,e,a){"use strict";e.exports=function(t){var e=t.helpers;t.defaults.scale={display:!0,position:"left",gridLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickMarkLength:10,zeroLineWidth:1,zeroLineColor:"rgba(0,0,0,0.25)",offsetGridLines:!1},scaleLabel:{labelString:"",display:!1},ticks:{beginAtZero:!1,minRotation:0,maxRotation:50,mirror:!1,padding:10,reverse:!1,display:!0,autoSkip:!0,autoSkipPadding:0,labelOffset:0,callback:function(t){return e.isArray(t)?t:""+t}}},t.Scale=t.Element.extend({beforeUpdate:function(){e.callCallback(this.options.beforeUpdate,[this])},update:function(t,a,i){var n=this;return n.beforeUpdate(),n.maxWidth=t,n.maxHeight=a,n.margins=e.extend({left:0,right:0,top:0,bottom:0},i),n.beforeSetDimensions(),n.setDimensions(),n.afterSetDimensions(),n.beforeDataLimits(),n.determineDataLimits(),n.afterDataLimits(),n.beforeBuildTicks(),n.buildTicks(),n.afterBuildTicks(),n.beforeTickToLabelConversion(),n.convertTicksToLabels(),n.afterTickToLabelConversion(),n.beforeCalculateTickRotation(),n.calculateTickRotation(),n.afterCalculateTickRotation(),n.beforeFit(),n.fit(),n.afterFit(),n.afterUpdate(),n.minSize},afterUpdate:function(){e.callCallback(this.options.afterUpdate,[this])},beforeSetDimensions:function(){e.callCallback(this.options.beforeSetDimensions,[this])},setDimensions:function(){var t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0},afterSetDimensions:function(){e.callCallback(this.options.afterSetDimensions,[this])},beforeDataLimits:function(){e.callCallback(this.options.beforeDataLimits,[this])},determineDataLimits:e.noop,afterDataLimits:function(){e.callCallback(this.options.afterDataLimits,[this])},beforeBuildTicks:function(){e.callCallback(this.options.beforeBuildTicks,[this])},buildTicks:e.noop,afterBuildTicks:function(){e.callCallback(this.options.afterBuildTicks,[this])},beforeTickToLabelConversion:function(){e.callCallback(this.options.beforeTickToLabelConversion,[this])},convertTicksToLabels:function(){var t=this;t.ticks=t.ticks.map(function(e,a,i){return t.options.ticks.userCallback?t.options.ticks.userCallback(e,a,i):t.options.ticks.callback(e,a,i)},t)},afterTickToLabelConversion:function(){e.callCallback(this.options.afterTickToLabelConversion,[this])},beforeCalculateTickRotation:function(){e.callCallback(this.options.beforeCalculateTickRotation,[this])},calculateTickRotation:function(){var a=this,i=a.ctx,n=t.defaults.global,o=a.options.ticks,r=e.getValueOrDefault(o.fontSize,n.defaultFontSize),l=e.getValueOrDefault(o.fontStyle,n.defaultFontStyle),s=e.getValueOrDefault(o.fontFamily,n.defaultFontFamily),d=e.fontString(r,l,s);i.font=d;var u,c=i.measureText(a.ticks[0]).width,h=i.measureText(a.ticks[a.ticks.length-1]).width;if(a.labelRotation=o.minRotation||0,a.paddingRight=0,a.paddingLeft=0,a.options.display&&a.isHorizontal()){a.paddingRight=h/2+3,a.paddingLeft=c/2+3,a.longestTextCache||(a.longestTextCache={});for(var f,g,p=e.longestText(i,d,a.ticks,a.longestTextCache),m=p,b=a.getPixelForTick(1)-a.getPixelForTick(0)-6;m>b&&a.labelRotation<o.maxRotation;){if(f=Math.cos(e.toRadians(a.labelRotation)),g=Math.sin(e.toRadians(a.labelRotation)),u=f*c,u+r/2>a.yLabelWidth&&(a.paddingLeft=u+r/2),a.paddingRight=r/2,g*p>a.maxHeight){a.labelRotation--;break}a.labelRotation++,m=f*p}}a.margins&&(a.paddingLeft=Math.max(a.paddingLeft-a.margins.left,0),a.paddingRight=Math.max(a.paddingRight-a.margins.right,0))},afterCalculateTickRotation:function(){e.callCallback(this.options.afterCalculateTickRotation,[this])},beforeFit:function(){e.callCallback(this.options.beforeFit,[this]);
},fit:function(){var a=this,i=a.minSize={width:0,height:0},n=a.options,o=t.defaults.global,r=n.ticks,l=n.scaleLabel,s=n.display,d=a.isHorizontal(),u=e.getValueOrDefault(r.fontSize,o.defaultFontSize),c=e.getValueOrDefault(r.fontStyle,o.defaultFontStyle),h=e.getValueOrDefault(r.fontFamily,o.defaultFontFamily),f=e.fontString(u,c,h),g=e.getValueOrDefault(l.fontSize,o.defaultFontSize),p=n.gridLines.tickMarkLength;if(d?i.width=a.isFullWidth()?a.maxWidth-a.margins.left-a.margins.right:a.maxWidth:i.width=s?p:0,d?i.height=s?p:0:i.height=a.maxHeight,l.display&&s&&(d?i.height+=1.5*g:i.width+=1.5*g),r.display&&s){a.longestTextCache||(a.longestTextCache={});var m=e.longestText(a.ctx,f,a.ticks,a.longestTextCache),b=e.numberOfLabelLines(a.ticks),v=.5*u;if(d){a.longestLabelWidth=m;var x=Math.sin(e.toRadians(a.labelRotation))*a.longestLabelWidth+u*b+v*b;i.height=Math.min(a.maxHeight,i.height+x),a.ctx.font=f;var y=a.ctx.measureText(a.ticks[0]).width,k=a.ctx.measureText(a.ticks[a.ticks.length-1]).width,S=Math.cos(e.toRadians(a.labelRotation)),w=Math.sin(e.toRadians(a.labelRotation));a.paddingLeft=0!==a.labelRotation?S*y+3:y/2+3,a.paddingRight=0!==a.labelRotation?w*(u/2)+3:k/2+3}else{var C=a.maxWidth-i.width,M=r.mirror;M?m=0:m+=a.options.ticks.padding,C>m?i.width+=m:i.width=a.maxWidth,a.paddingTop=u/2,a.paddingBottom=u/2}}a.margins&&(a.paddingLeft=Math.max(a.paddingLeft-a.margins.left,0),a.paddingTop=Math.max(a.paddingTop-a.margins.top,0),a.paddingRight=Math.max(a.paddingRight-a.margins.right,0),a.paddingBottom=Math.max(a.paddingBottom-a.margins.bottom,0)),a.width=i.width,a.height=i.height},afterFit:function(){e.callCallback(this.options.afterFit,[this])},isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},isFullWidth:function(){return this.options.fullWidth},getRightValue:function(t){return null===t||"undefined"==typeof t?NaN:"number"==typeof t&&isNaN(t)?NaN:"object"==typeof t?t instanceof Date||t.isValid?t:this.getRightValue(this.isHorizontal()?t.x:t.y):t},getLabelForIndex:e.noop,getPixelForValue:e.noop,getValueForPixel:e.noop,getPixelForTick:function(t,e){var a=this;if(a.isHorizontal()){var i=a.width-(a.paddingLeft+a.paddingRight),n=i/Math.max(a.ticks.length-(a.options.gridLines.offsetGridLines?0:1),1),o=n*t+a.paddingLeft;e&&(o+=n/2);var r=a.left+Math.round(o);return r+=a.isFullWidth()?a.margins.left:0}var l=a.height-(a.paddingTop+a.paddingBottom);return a.top+t*(l/(a.ticks.length-1))},getPixelForDecimal:function(t){var e=this;if(e.isHorizontal()){var a=e.width-(e.paddingLeft+e.paddingRight),i=a*t+e.paddingLeft,n=e.left+Math.round(i);return n+=e.isFullWidth()?e.margins.left:0}return e.top+t*e.height},getBasePixel:function(){var t=this,e=t.min,a=t.max;return t.getPixelForValue(t.beginAtZero?0:0>e&&0>a?a:e>0&&a>0?e:0)},draw:function(a){var i=this,n=i.options;if(n.display){var o,r,l=i.ctx,s=t.defaults.global,d=n.ticks,u=n.gridLines,c=n.scaleLabel,h=0!==i.labelRotation,f=d.autoSkip,g=i.isHorizontal();d.maxTicksLimit&&(r=d.maxTicksLimit);var p=e.getValueOrDefault(d.fontColor,s.defaultFontColor),m=e.getValueOrDefault(d.fontSize,s.defaultFontSize),b=e.getValueOrDefault(d.fontStyle,s.defaultFontStyle),v=e.getValueOrDefault(d.fontFamily,s.defaultFontFamily),x=e.fontString(m,b,v),y=u.tickMarkLength,k=e.getValueOrDefault(c.fontColor,s.defaultFontColor),S=e.getValueOrDefault(c.fontSize,s.defaultFontSize),w=e.getValueOrDefault(c.fontStyle,s.defaultFontStyle),C=e.getValueOrDefault(c.fontFamily,s.defaultFontFamily),M=e.fontString(S,w,C),D=e.toRadians(i.labelRotation),A=Math.cos(D),I=i.longestLabelWidth*A;l.fillStyle=p;var T=[];if(g){if(o=!1,h&&(I/=2),(I+d.autoSkipPadding)*i.ticks.length>i.width-(i.paddingLeft+i.paddingRight)&&(o=1+Math.floor((I+d.autoSkipPadding)*i.ticks.length/(i.width-(i.paddingLeft+i.paddingRight)))),r&&i.ticks.length>r)for(;!o||i.ticks.length/(o||1)>r;)o||(o=1),o+=1;f||(o=!1)}var F="right"===n.position?i.left:i.right-y,P="right"===n.position?i.left+y:i.right,R="bottom"===n.position?i.top:i.bottom-y,_="bottom"===n.position?i.top+y:i.bottom;if(e.each(i.ticks,function(t,r){if(void 0!==t&&null!==t){var l=i.ticks.length===r+1,s=o>1&&r%o>0||r%o===0&&r+o>=i.ticks.length;if((!s||l)&&void 0!==t&&null!==t){var c,f;r===("undefined"!=typeof i.zeroLineIndex?i.zeroLineIndex:0)?(c=u.zeroLineWidth,f=u.zeroLineColor):(c=e.getValueAtIndexOrDefault(u.lineWidth,r),f=e.getValueAtIndexOrDefault(u.color,r));var p,m,b,v,x,k,S,w,C,M,A,I="middle";if(g){h||(I="top"===n.position?"bottom":"top"),A=h?"right":"center";var V=i.getPixelForTick(r)+e.aliasPixel(c);C=i.getPixelForTick(r,u.offsetGridLines)+d.labelOffset,M=h?i.top+12:"top"===n.position?i.bottom-y:i.top+y,p=b=x=S=V,m=R,v=_,k=a.top,w=a.bottom}else{"left"===n.position?d.mirror?(C=i.right+d.padding,A="left"):(C=i.right-d.padding,A="right"):d.mirror?(C=i.left-d.padding,A="right"):(C=i.left+d.padding,A="left");var L=i.getPixelForTick(r);L+=e.aliasPixel(c),M=i.getPixelForTick(r,u.offsetGridLines),p=F,b=P,x=a.left,S=a.right,m=v=k=w=L}T.push({tx1:p,ty1:m,tx2:b,ty2:v,x1:x,y1:k,x2:S,y2:w,labelX:C,labelY:M,glWidth:c,glColor:f,rotation:-1*D,label:t,textBaseline:I,textAlign:A})}}}),e.each(T,function(t){if(u.display&&(l.lineWidth=t.glWidth,l.strokeStyle=t.glColor,l.beginPath(),u.drawTicks&&(l.moveTo(t.tx1,t.ty1),l.lineTo(t.tx2,t.ty2)),u.drawOnChartArea&&(l.moveTo(t.x1,t.y1),l.lineTo(t.x2,t.y2)),l.stroke()),d.display){l.save(),l.translate(t.labelX,t.labelY),l.rotate(t.rotation),l.font=x,l.textBaseline=t.textBaseline,l.textAlign=t.textAlign;var a=t.label;if(e.isArray(a))for(var i=0,n=0;i<a.length;++i)l.fillText(""+a[i],0,n),n+=1.5*m;else l.fillText(a,0,0);l.restore()}}),c.display){var V,L,O=0;if(g)V=i.left+(i.right-i.left)/2,L="bottom"===n.position?i.bottom-S/2:i.top+S/2;else{var B="left"===n.position;V=B?i.left+S/2:i.right-S/2,L=i.top+(i.bottom-i.top)/2,O=B?-.5*Math.PI:.5*Math.PI}l.save(),l.translate(V,L),l.rotate(O),l.textAlign="center",l.textBaseline="middle",l.fillStyle=k,l.font=M,l.fillText(c.labelString,0,0),l.restore()}if(u.drawBorder){l.lineWidth=e.getValueAtIndexOrDefault(u.lineWidth,0),l.strokeStyle=e.getValueAtIndexOrDefault(u.color,0);var W=i.left,z=i.right,N=i.top,H=i.bottom,E=e.aliasPixel(l.lineWidth);g?(N=H="top"===n.position?i.bottom:i.top,N+=E,H+=E):(W=z="left"===n.position?i.right:i.left,W+=E,z+=E),l.beginPath(),l.moveTo(W,N),l.lineTo(z,H),l.stroke()}}}})}},{}],32:[function(t,e,a){"use strict";e.exports=function(t){var e=t.helpers;t.scaleService={constructors:{},defaults:{},registerScaleType:function(t,a,i){this.constructors[t]=a,this.defaults[t]=e.clone(i)},getScaleConstructor:function(t){return this.constructors.hasOwnProperty(t)?this.constructors[t]:void 0},getScaleDefaults:function(a){return this.defaults.hasOwnProperty(a)?e.scaleMerge(t.defaults.scale,this.defaults[a]):{}},updateScaleDefaults:function(t,a){var i=this.defaults;i.hasOwnProperty(t)&&(i[t]=e.extend(i[t],a))},addScalesToLayout:function(a){e.each(a.scales,function(e){t.layoutService.addBox(a,e)})}}}},{}],33:[function(t,e,a){"use strict";e.exports=function(t){var e=t.helpers;t.defaults.global.title={display:!1,position:"top",fullWidth:!0,fontStyle:"bold",padding:10,text:""};var a=e.noop;t.Title=t.Element.extend({initialize:function(a){var i=this;e.extend(i,a),i.options=e.configMerge(t.defaults.global.title,a.options),i.legendHitBoxes=[]},beforeUpdate:function(){var a=this.chart.options;a&&a.title&&(this.options=e.configMerge(t.defaults.global.title,a.title))},update:function(t,e,a){var i=this;return i.beforeUpdate(),i.maxWidth=t,i.maxHeight=e,i.margins=a,i.beforeSetDimensions(),i.setDimensions(),i.afterSetDimensions(),i.beforeBuildLabels(),i.buildLabels(),i.afterBuildLabels(),i.beforeFit(),i.fit(),i.afterFit(),i.afterUpdate(),i.minSize},afterUpdate:a,beforeSetDimensions:a,setDimensions:function(){var t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0,t.minSize={width:0,height:0}},afterSetDimensions:a,beforeBuildLabels:a,buildLabels:a,afterBuildLabels:a,beforeFit:a,fit:function(){var a=this,i=e.getValueOrDefault,n=a.options,o=t.defaults.global,r=n.display,l=i(n.fontSize,o.defaultFontSize),s=a.minSize;a.isHorizontal()?(s.width=a.maxWidth,s.height=r?l+2*n.padding:0):(s.width=r?l+2*n.padding:0,s.height=a.maxHeight),a.width=s.width,a.height=s.height},afterFit:a,isHorizontal:function(){var t=this.options.position;return"top"===t||"bottom"===t},draw:function(){var a=this,i=a.ctx,n=e.getValueOrDefault,o=a.options,r=t.defaults.global;if(o.display){var l,s,d=n(o.fontSize,r.defaultFontSize),u=n(o.fontStyle,r.defaultFontStyle),c=n(o.fontFamily,r.defaultFontFamily),h=e.fontString(d,u,c),f=0,g=a.top,p=a.left,m=a.bottom,b=a.right;i.fillStyle=n(o.fontColor,r.defaultFontColor),i.font=h,a.isHorizontal()?(l=p+(b-p)/2,s=g+(m-g)/2):(l="left"===o.position?p+d/2:b-d/2,s=g+(m-g)/2,f=Math.PI*("left"===o.position?-.5:.5)),i.save(),i.translate(l,s),i.rotate(f),i.textAlign="center",i.textBaseline="middle",i.fillText(o.text,0,0),i.restore()}}}),t.plugins.register({beforeInit:function(e){var a=e.options,i=a.title;i&&(e.titleBlock=new t.Title({ctx:e.chart.ctx,options:i,chart:e}),t.layoutService.addBox(e,e.titleBlock))}})}},{}],34:[function(t,e,a){"use strict";e.exports=function(t){function e(t,e){return e&&(n.isArray(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function a(t){if(!t.length)return!1;var e,a,i=[],n=[];for(e=0,a=t.length;a>e;++e){var o=t[e];if(o&&o.hasValue()){var r=o.tooltipPosition();i.push(r.x),n.push(r.y)}}var l=0,s=0;for(e=0;e<i.length;++e)i[e]&&(l+=i[e],s+=n[e]);return{x:Math.round(l/i.length),y:Math.round(s/i.length)}}function i(t){var e=t._xScale,a=t._yScale||t._scale,i=t._index,n=t._datasetIndex;return{xLabel:e?e.getLabelForIndex(i,n):"",yLabel:a?a.getLabelForIndex(i,n):"",index:i,datasetIndex:n}}var n=t.helpers;t.defaults.global.tooltips={enabled:!0,custom:null,mode:"single",backgroundColor:"rgba(0,0,0,0.8)",titleFontStyle:"bold",titleSpacing:2,titleMarginBottom:6,titleFontColor:"#fff",titleAlign:"left",bodySpacing:2,bodyFontColor:"#fff",bodyAlign:"left",footerFontStyle:"bold",footerSpacing:2,footerMarginTop:6,footerFontColor:"#fff",footerAlign:"left",yPadding:6,xPadding:6,yAlign:"center",xAlign:"center",caretSize:5,cornerRadius:6,multiKeyBackground:"#fff",callbacks:{beforeTitle:n.noop,title:function(t,e){var a="",i=e.labels,n=i?i.length:0;if(t.length>0){var o=t[0];o.xLabel?a=o.xLabel:n>0&&o.index<n&&(a=i[o.index])}return a},afterTitle:n.noop,beforeBody:n.noop,beforeLabel:n.noop,label:function(t,e){var a=e.datasets[t.datasetIndex].label||"";return a+": "+t.yLabel},labelColor:function(t,e){var a=e.getDatasetMeta(t.datasetIndex),i=a.data[t.index],n=i._view;return{borderColor:n.borderColor,backgroundColor:n.backgroundColor}},afterLabel:n.noop,afterBody:n.noop,beforeFooter:n.noop,footer:n.noop,afterFooter:n.noop}},t.Tooltip=t.Element.extend({initialize:function(){var e=this,a=t.defaults.global,i=e._options,o=n.getValueOrDefault;n.extend(e,{_model:{xPadding:i.xPadding,yPadding:i.yPadding,xAlign:i.xAlign,yAlign:i.yAlign,bodyFontColor:i.bodyFontColor,_bodyFontFamily:o(i.bodyFontFamily,a.defaultFontFamily),_bodyFontStyle:o(i.bodyFontStyle,a.defaultFontStyle),_bodyAlign:i.bodyAlign,bodyFontSize:o(i.bodyFontSize,a.defaultFontSize),bodySpacing:i.bodySpacing,titleFontColor:i.titleFontColor,_titleFontFamily:o(i.titleFontFamily,a.defaultFontFamily),_titleFontStyle:o(i.titleFontStyle,a.defaultFontStyle),titleFontSize:o(i.titleFontSize,a.defaultFontSize),_titleAlign:i.titleAlign,titleSpacing:i.titleSpacing,titleMarginBottom:i.titleMarginBottom,footerFontColor:i.footerFontColor,_footerFontFamily:o(i.footerFontFamily,a.defaultFontFamily),_footerFontStyle:o(i.footerFontStyle,a.defaultFontStyle),footerFontSize:o(i.footerFontSize,a.defaultFontSize),_footerAlign:i.footerAlign,footerSpacing:i.footerSpacing,footerMarginTop:i.footerMarginTop,caretSize:i.caretSize,cornerRadius:i.cornerRadius,backgroundColor:i.backgroundColor,opacity:0,legendColorBackground:i.multiKeyBackground}})},getTitle:function(){var t=this,a=t._options,i=a.callbacks,n=i.beforeTitle.apply(t,arguments),o=i.title.apply(t,arguments),r=i.afterTitle.apply(t,arguments),l=[];return l=e(l,n),l=e(l,o),l=e(l,r)},getBeforeBody:function(){var t=this._options.callbacks.beforeBody.apply(this,arguments);return n.isArray(t)?t:void 0!==t?[t]:[]},getBody:function(t,a){var i=this,o=i._options.callbacks,r=[];return n.each(t,function(t){var n={before:[],lines:[],after:[]};e(n.before,o.beforeLabel.call(i,t,a)),e(n.lines,o.label.call(i,t,a)),e(n.after,o.afterLabel.call(i,t,a)),r.push(n)}),r},getAfterBody:function(){var t=this._options.callbacks.afterBody.apply(this,arguments);return n.isArray(t)?t:void 0!==t?[t]:[]},getFooter:function(){var t=this,a=t._options.callbacks,i=a.beforeFooter.apply(t,arguments),n=a.footer.apply(t,arguments),o=a.afterFooter.apply(t,arguments),r=[];return r=e(r,i),r=e(r,n),r=e(r,o)},update:function(t){var e,o,r=this,l=r._options,s=r._model,d=r._active,u=r._data,c=r._chartInstance;if(d.length){s.opacity=1;var h=[],f=a(d),g=[];for(e=0,o=d.length;o>e;++e)g.push(i(d[e]));l.itemSort&&(g=g.sort(l.itemSort)),d.length>1&&n.each(g,function(t){h.push(l.callbacks.labelColor.call(r,t,c))}),n.extend(s,{title:r.getTitle(g,u),beforeBody:r.getBeforeBody(g,u),body:r.getBody(g,u),afterBody:r.getAfterBody(g,u),footer:r.getFooter(g,u),x:Math.round(f.x),y:Math.round(f.y),caretPadding:n.getValueOrDefault(f.padding,2),labelColors:h});var p=r.getTooltipSize(s);r.determineAlignment(p),n.extend(s,r.getBackgroundPoint(s,p))}else r._model.opacity=0;return t&&l.custom&&l.custom.call(r,s),r},getTooltipSize:function(t){var e=this._chart.ctx,a={height:2*t.yPadding,width:0},i=t.body,o=i.reduce(function(t,e){return t+e.before.length+e.lines.length+e.after.length},0);o+=t.beforeBody.length+t.afterBody.length;var r=t.title.length,l=t.footer.length,s=t.titleFontSize,d=t.bodyFontSize,u=t.footerFontSize;a.height+=r*s,a.height+=(r-1)*t.titleSpacing,a.height+=r?t.titleMarginBottom:0,a.height+=o*d,a.height+=o?(o-1)*t.bodySpacing:0,a.height+=l?t.footerMarginTop:0,a.height+=l*u,a.height+=l?(l-1)*t.footerSpacing:0;var c=0,h=function(t){a.width=Math.max(a.width,e.measureText(t).width+c)};return e.font=n.fontString(s,t._titleFontStyle,t._titleFontFamily),n.each(t.title,h),e.font=n.fontString(d,t._bodyFontStyle,t._bodyFontFamily),n.each(t.beforeBody.concat(t.afterBody),h),c=i.length>1?d+2:0,n.each(i,function(t){n.each(t.before,h),n.each(t.lines,h),n.each(t.after,h)}),c=0,e.font=n.fontString(u,t._footerFontStyle,t._footerFontFamily),n.each(t.footer,h),a.width+=2*t.xPadding,a},determineAlignment:function(t){var e=this,a=e._model,i=e._chart,n=e._chartInstance.chartArea;a.y<t.height?a.yAlign="top":a.y>i.height-t.height&&(a.yAlign="bottom");var o,r,l,s,d,u=(n.left+n.right)/2,c=(n.top+n.bottom)/2;"center"===a.yAlign?(o=function(t){return u>=t},r=function(t){return t>u}):(o=function(e){return e<=t.width/2},r=function(e){return e>=i.width-t.width/2}),l=function(e){return e+t.width>i.width},s=function(e){return e-t.width<0},d=function(t){return c>=t?"top":"bottom"},o(a.x)?(a.xAlign="left",l(a.x)&&(a.xAlign="center",a.yAlign=d(a.y))):r(a.x)&&(a.xAlign="right",s(a.x)&&(a.xAlign="center",a.yAlign=d(a.y)))},getBackgroundPoint:function(t,e){var a={x:t.x,y:t.y},i=t.caretSize,n=t.caretPadding,o=t.cornerRadius,r=t.xAlign,l=t.yAlign,s=i+n,d=o+n;return"right"===r?a.x-=e.width:"center"===r&&(a.x-=e.width/2),"top"===l?a.y+=s:"bottom"===l?a.y-=e.height+s:a.y-=e.height/2,"center"===l?"left"===r?a.x+=s:"right"===r&&(a.x-=s):"left"===r?a.x-=d:"right"===r&&(a.x+=d),a},drawCaret:function(t,e,a){var i,o,r,l,s,d,u=this._view,c=this._chart.ctx,h=u.caretSize,f=u.cornerRadius,g=u.xAlign,p=u.yAlign,m=t.x,b=t.y,v=e.width,x=e.height;"center"===p?("left"===g?(i=m,o=i-h,r=i):(i=m+v,o=i+h,r=i),s=b+x/2,l=s-h,d=s+h):("left"===g?(i=m+f,o=i+h,r=o+h):"right"===g?(i=m+v-f,o=i-h,r=o-h):(o=m+v/2,i=o-h,r=o+h),"top"===p?(l=b,s=l-h,d=l):(l=b+x,s=l+h,d=l));var y=n.color(u.backgroundColor);c.fillStyle=y.alpha(a*y.alpha()).rgbString(),c.beginPath(),c.moveTo(i,l),c.lineTo(o,s),c.lineTo(r,d),c.closePath(),c.fill()},drawTitle:function(t,e,a,i){var o=e.title;if(o.length){a.textAlign=e._titleAlign,a.textBaseline="top";var r=e.titleFontSize,l=e.titleSpacing,s=n.color(e.titleFontColor);a.fillStyle=s.alpha(i*s.alpha()).rgbString(),a.font=n.fontString(r,e._titleFontStyle,e._titleFontFamily);var d,u;for(d=0,u=o.length;u>d;++d)a.fillText(o[d],t.x,t.y),t.y+=r+l,d+1===o.length&&(t.y+=e.titleMarginBottom-l)}},drawBody:function(t,e,a,i){var o=e.bodyFontSize,r=e.bodySpacing,l=e.body;a.textAlign=e._bodyAlign,a.textBaseline="top";var s=n.color(e.bodyFontColor),d=s.alpha(i*s.alpha()).rgbString();a.fillStyle=d,a.font=n.fontString(o,e._bodyFontStyle,e._bodyFontFamily);var u=0,c=function(e){a.fillText(e,t.x+u,t.y),t.y+=o+r};n.each(e.beforeBody,c);var h=l.length>1;u=h?o+2:0,n.each(l,function(r,l){n.each(r.before,c),n.each(r.lines,function(r){h&&(a.fillStyle=n.color(e.legendColorBackground).alpha(i).rgbaString(),a.fillRect(t.x,t.y,o,o),a.strokeStyle=n.color(e.labelColors[l].borderColor).alpha(i).rgbaString(),a.strokeRect(t.x,t.y,o,o),a.fillStyle=n.color(e.labelColors[l].backgroundColor).alpha(i).rgbaString(),a.fillRect(t.x+1,t.y+1,o-2,o-2),a.fillStyle=d),c(r)}),n.each(r.after,c)}),u=0,n.each(e.afterBody,c),t.y-=r},drawFooter:function(t,e,a,i){var o=e.footer;if(o.length){t.y+=e.footerMarginTop,a.textAlign=e._footerAlign,a.textBaseline="top";var r=n.color(e.footerFontColor);a.fillStyle=r.alpha(i*r.alpha()).rgbString(),a.font=n.fontString(e.footerFontSize,e._footerFontStyle,e._footerFontFamily),n.each(o,function(i){a.fillText(i,t.x,t.y),t.y+=e.footerFontSize+e.footerSpacing})}},draw:function(){var t=this._chart.ctx,e=this._view;if(0!==e.opacity){var a=this.getTooltipSize(e),i={x:e.x,y:e.y},o=Math.abs(e.opacity<.001)?0:e.opacity;if(this._options.enabled){var r=n.color(e.backgroundColor);t.fillStyle=r.alpha(o*r.alpha()).rgbString(),n.drawRoundedRectangle(t,i.x,i.y,a.width,a.height,e.cornerRadius),t.fill(),this.drawCaret(i,a,o),i.x+=e.xPadding,i.y+=e.yPadding,this.drawTitle(i,e,t,o),this.drawBody(i,e,t,o),this.drawFooter(i,e,t,o)}}}})}},{}],35:[function(t,e,a){"use strict";e.exports=function(t){var e=t.helpers,a=t.defaults.global;a.elements.arc={backgroundColor:a.defaultColor,borderColor:"#fff",borderWidth:2},t.elements.Arc=t.Element.extend({inLabelRange:function(t){var e=this._view;return e?Math.pow(t-e.x,2)<Math.pow(e.radius+e.hoverRadius,2):!1},inRange:function(t,a){var i=this._view;if(i){for(var n=e.getAngleFromPoint(i,{x:t,y:a}),o=n.angle,r=n.distance,l=i.startAngle,s=i.endAngle;l>s;)s+=2*Math.PI;for(;o>s;)o-=2*Math.PI;for(;l>o;)o+=2*Math.PI;var d=o>=l&&s>=o,u=r>=i.innerRadius&&r<=i.outerRadius;return d&&u}return!1},tooltipPosition:function(){var t=this._view,e=t.startAngle+(t.endAngle-t.startAngle)/2,a=(t.outerRadius-t.innerRadius)/2+t.innerRadius;return{x:t.x+Math.cos(e)*a,y:t.y+Math.sin(e)*a}},draw:function(){var t=this._chart.ctx,e=this._view,a=e.startAngle,i=e.endAngle;t.beginPath(),t.arc(e.x,e.y,e.outerRadius,a,i),t.arc(e.x,e.y,e.innerRadius,i,a,!0),t.closePath(),t.strokeStyle=e.borderColor,t.lineWidth=e.borderWidth,t.fillStyle=e.backgroundColor,t.fill(),t.lineJoin="bevel",e.borderWidth&&t.stroke()}})}},{}],36:[function(t,e,a){"use strict";e.exports=function(t){var e=t.helpers,a=t.defaults.global;t.defaults.global.elements.line={tension:.4,backgroundColor:a.defaultColor,borderWidth:3,borderColor:a.defaultColor,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",capBezierPoints:!0,fill:!0},t.elements.Line=t.Element.extend({draw:function(){function t(t,e){var a=e._view;e._view.steppedLine===!0?(s.lineTo(e._view.x,t._view.y),s.lineTo(e._view.x,e._view.y)):0===e._view.tension?s.lineTo(a.x,a.y):s.bezierCurveTo(t._view.controlPointNextX,t._view.controlPointNextY,a.controlPointPreviousX,a.controlPointPreviousY,a.x,a.y)}var i=this,n=i._view,o=n.spanGaps,r=n.scaleZero,l=i._loop,s=i._chart.ctx;s.save();var d=i._children.slice(),u=-1;l&&d.length&&d.push(d[0]);var c,h,f,g;if(d.length&&n.fill){for(s.beginPath(),c=0;c<d.length;++c)h=d[c],f=e.previousItem(d,c),g=h._view,0===c?(l?s.moveTo(r.x,r.y):s.moveTo(g.x,r),g.skip||(u=c,s.lineTo(g.x,g.y))):(f=-1===u?f:d[u],g.skip?o||u!==c-1||(l?s.lineTo(r.x,r.y):s.lineTo(f._view.x,r)):(u!==c-1?o&&-1!==u?t(f,h):l?s.lineTo(g.x,g.y):(s.lineTo(g.x,r),s.lineTo(g.x,g.y)):t(f,h),u=c));l||s.lineTo(d[u]._view.x,r),s.fillStyle=n.backgroundColor||a.defaultColor,s.closePath(),s.fill()}var p=a.elements.line;for(s.lineCap=n.borderCapStyle||p.borderCapStyle,s.setLineDash&&s.setLineDash(n.borderDash||p.borderDash),s.lineDashOffset=n.borderDashOffset||p.borderDashOffset,s.lineJoin=n.borderJoinStyle||p.borderJoinStyle,s.lineWidth=n.borderWidth||p.borderWidth,s.strokeStyle=n.borderColor||a.defaultColor,s.beginPath(),u=-1,c=0;c<d.length;++c)h=d[c],f=e.previousItem(d,c),g=h._view,0===c?g.skip||(s.moveTo(g.x,g.y),u=c):(f=-1===u?f:d[u],g.skip||(u!==c-1&&!o||-1===u?s.moveTo(g.x,g.y):t(f,h),u=c));s.stroke(),s.restore()}})}},{}],37:[function(t,e,a){"use strict";e.exports=function(t){var e=t.helpers,a=t.defaults.global,i=a.defaultColor;a.elements.point={radius:3,pointStyle:"circle",backgroundColor:i,borderWidth:1,borderColor:i,hitRadius:1,hoverRadius:4,hoverBorderWidth:1},t.elements.Point=t.Element.extend({inRange:function(t,e){var a=this._view;return a?Math.pow(t-a.x,2)+Math.pow(e-a.y,2)<Math.pow(a.hitRadius+a.radius,2):!1},inLabelRange:function(t){var e=this._view;return e?Math.pow(t-e.x,2)<Math.pow(e.radius+e.hitRadius,2):!1},tooltipPosition:function(){var t=this._view;return{x:t.x,y:t.y,padding:t.radius+t.borderWidth}},draw:function(){var n=this._view,o=this._chart.ctx,r=n.pointStyle,l=n.radius,s=n.x,d=n.y;n.skip||(o.strokeStyle=n.borderColor||i,o.lineWidth=e.getValueOrDefault(n.borderWidth,a.elements.point.borderWidth),o.fillStyle=n.backgroundColor||i,t.canvasHelpers.drawPoint(o,r,l,s,d))}})}},{}],38:[function(t,e,a){"use strict";e.exports=function(t){var e=t.defaults.global;e.elements.rectangle={backgroundColor:e.defaultColor,borderWidth:0,borderColor:e.defaultColor,borderSkipped:"bottom"},t.elements.Rectangle=t.Element.extend({draw:function(){function t(t){return s[(u+t)%4]}var e=this._chart.ctx,a=this._view,i=a.width/2,n=a.x-i,o=a.x+i,r=a.base-(a.base-a.y),l=a.borderWidth/2;a.borderWidth&&(n+=l,o-=l,r+=l),e.beginPath(),e.fillStyle=a.backgroundColor,e.strokeStyle=a.borderColor,e.lineWidth=a.borderWidth;var s=[[n,a.base],[n,r],[o,r],[o,a.base]],d=["bottom","left","top","right"],u=d.indexOf(a.borderSkipped,0);-1===u&&(u=0),e.moveTo.apply(e,t(0));for(var c=1;4>c;c++)e.lineTo.apply(e,t(c));e.fill(),a.borderWidth&&e.stroke()},height:function(){var t=this._view;return t.base-t.y},inRange:function(t,e){var a=this._view;return a?a.y<a.base?t>=a.x-a.width/2&&t<=a.x+a.width/2&&e>=a.y&&e<=a.base:t>=a.x-a.width/2&&t<=a.x+a.width/2&&e>=a.base&&e<=a.y:!1},inLabelRange:function(t){var e=this._view;return e?t>=e.x-e.width/2&&t<=e.x+e.width/2:!1},tooltipPosition:function(){var t=this._view;return{x:t.x,y:t.y}}})}},{}],39:[function(t,e,a){"use strict";e.exports=function(t){var e=t.helpers,a={position:"bottom"},i=t.Scale.extend({getLabels:function(){var t=this.chart.data;return(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels},determineDataLimits:function(){var t=this,a=t.getLabels();t.minIndex=0,t.maxIndex=a.length-1;var i;void 0!==t.options.ticks.min&&(i=e.indexOf(a,t.options.ticks.min),t.minIndex=-1!==i?i:t.minIndex),void 0!==t.options.ticks.max&&(i=e.indexOf(a,t.options.ticks.max),t.maxIndex=-1!==i?i:t.maxIndex),t.min=a[t.minIndex],t.max=a[t.maxIndex]},buildTicks:function(){var t=this,e=t.getLabels();t.ticks=0===t.minIndex&&t.maxIndex===e.length-1?e:e.slice(t.minIndex,t.maxIndex+1)},getLabelForIndex:function(t){return this.ticks[t]},getPixelForValue:function(t,e,a,i){var n=this,o=Math.max(n.maxIndex+1-n.minIndex-(n.options.gridLines.offsetGridLines?0:1),1);if(void 0!==t){var r=n.getLabels(),l=r.indexOf(t);e=-1!==l?l:e}if(n.isHorizontal()){var s=n.width-(n.paddingLeft+n.paddingRight),d=s/o,u=d*(e-n.minIndex)+n.paddingLeft;return n.options.gridLines.offsetGridLines&&i&&(u+=d/2),n.left+Math.round(u)}var c=n.height-(n.paddingTop+n.paddingBottom),h=c/o,f=h*(e-n.minIndex)+n.paddingTop;return n.options.gridLines.offsetGridLines&&i&&(f+=h/2),n.top+Math.round(f)},getPixelForTick:function(t,e){return this.getPixelForValue(this.ticks[t],t+this.minIndex,null,e)},getValueForPixel:function(t){var e,a=this,i=Math.max(a.ticks.length-(a.options.gridLines.offsetGridLines?0:1),1),n=a.isHorizontal(),o=n?a.width-(a.paddingLeft+a.paddingRight):a.height-(a.paddingTop+a.paddingBottom),r=o/i;return t-=n?a.left:a.top,a.options.gridLines.offsetGridLines&&(t-=r/2),t-=n?a.paddingLeft:a.paddingTop,e=0>=t?0:Math.round(t/r)},getBasePixel:function(){return this.bottom}});t.scaleService.registerScaleType("category",i,a)}},{}],40:[function(t,e,a){"use strict";e.exports=function(t){var e=t.helpers,a={position:"left",ticks:{callback:function(t,a,i){var n=i.length>3?i[2]-i[1]:i[1]-i[0];Math.abs(n)>1&&t!==Math.floor(t)&&(n=t-Math.floor(t));var o=e.log10(Math.abs(n)),r="";if(0!==t){var l=-1*Math.floor(o);l=Math.max(Math.min(l,20),0),r=t.toFixed(l)}else r="0";return r}}},i=t.LinearScaleBase.extend({determineDataLimits:function(){function t(t){return l?t.xAxisID===a.id:t.yAxisID===a.id}var a=this,i=a.options,n=a.chart,o=n.data,r=o.datasets,l=a.isHorizontal();if(a.min=null,a.max=null,i.stacked){var s={},d=!1,u=!1;e.each(r,function(o,r){var l=n.getDatasetMeta(r);void 0===s[l.type]&&(s[l.type]={positiveValues:[],negativeValues:[]});var c=s[l.type].positiveValues,h=s[l.type].negativeValues;n.isDatasetVisible(r)&&t(l)&&e.each(o.data,function(t,e){var n=+a.getRightValue(t);isNaN(n)||l.data[e].hidden||(c[e]=c[e]||0,h[e]=h[e]||0,i.relativePoints?c[e]=100:0>n?(u=!0,h[e]+=n):(d=!0,c[e]+=n))})}),e.each(s,function(t){var i=t.positiveValues.concat(t.negativeValues),n=e.min(i),o=e.max(i);a.min=null===a.min?n:Math.min(a.min,n),a.max=null===a.max?o:Math.max(a.max,o)})}else e.each(r,function(i,o){var r=n.getDatasetMeta(o);n.isDatasetVisible(o)&&t(r)&&e.each(i.data,function(t,e){var i=+a.getRightValue(t);isNaN(i)||r.data[e].hidden||(null===a.min?a.min=i:i<a.min&&(a.min=i),null===a.max?a.max=i:i>a.max&&(a.max=i))})});this.handleTickRangeOptions()},getTickLimit:function(){var a,i=this,n=i.options.ticks;if(i.isHorizontal())a=Math.min(n.maxTicksLimit?n.maxTicksLimit:11,Math.ceil(i.width/50));else{var o=e.getValueOrDefault(n.fontSize,t.defaults.global.defaultFontSize);a=Math.min(n.maxTicksLimit?n.maxTicksLimit:11,Math.ceil(i.height/(2*o)))}return a},handleDirectionalChanges:function(){this.isHorizontal()||this.ticks.reverse()},getLabelForIndex:function(t,e){return+this.getRightValue(this.chart.data.datasets[e].data[t])},getPixelForValue:function(t){var e,a,i=this,n=i.paddingLeft,o=i.paddingBottom,r=i.start,l=+i.getRightValue(t),s=i.end-r;return i.isHorizontal()?(a=i.width-(n+i.paddingRight),e=i.left+a/s*(l-r),Math.round(e+n)):(a=i.height-(i.paddingTop+o),e=i.bottom-o-a/s*(l-r),Math.round(e))},getValueForPixel:function(t){var e=this,a=e.isHorizontal(),i=e.paddingLeft,n=e.paddingBottom,o=a?e.width-(i+e.paddingRight):e.height-(e.paddingTop+n),r=(a?t-e.left-i:e.bottom-n-t)/o;return e.start+(e.end-e.start)*r},getPixelForTick:function(t){return this.getPixelForValue(this.ticksAsNumbers[t])}});t.scaleService.registerScaleType("linear",i,a)}},{}],41:[function(t,e,a){"use strict";e.exports=function(t){var e=t.helpers,a=e.noop;t.LinearScaleBase=t.Scale.extend({handleTickRangeOptions:function(){var t=this,a=t.options,i=a.ticks;if(i.beginAtZero){var n=e.sign(t.min),o=e.sign(t.max);0>n&&0>o?t.max=0:n>0&&o>0&&(t.min=0)}void 0!==i.min?t.min=i.min:void 0!==i.suggestedMin&&(t.min=Math.min(t.min,i.suggestedMin)),void 0!==i.max?t.max=i.max:void 0!==i.suggestedMax&&(t.max=Math.max(t.max,i.suggestedMax)),t.min===t.max&&(t.max++,i.beginAtZero||t.min--)},getTickLimit:a,handleDirectionalChanges:a,buildTicks:function(){var t=this,a=t.options,i=t.ticks=[],n=a.ticks,o=e.getValueOrDefault,r=t.getTickLimit();r=Math.max(2,r);var l,s=n.fixedStepSize&&n.fixedStepSize>0||n.stepSize&&n.stepSize>0;if(s)l=o(n.fixedStepSize,n.stepSize);else{var d=e.niceNum(t.max-t.min,!1);l=e.niceNum(d/(r-1),!0)}var u=Math.floor(t.min/l)*l,c=Math.ceil(t.max/l)*l,h=(c-u)/l;h=e.almostEquals(h,Math.round(h),l/1e3)?Math.round(h):Math.ceil(h),i.push(void 0!==n.min?n.min:u);for(var f=1;h>f;++f)i.push(u+f*l);i.push(void 0!==n.max?n.max:c),t.handleDirectionalChanges(),t.max=e.max(i),t.min=e.min(i),n.reverse?(i.reverse(),t.start=t.max,t.end=t.min):(t.start=t.min,t.end=t.max)},convertTicksToLabels:function(){var e=this;e.ticksAsNumbers=e.ticks.slice(),e.zeroLineIndex=e.ticks.indexOf(0),t.Scale.prototype.convertTicksToLabels.call(e)}})}},{}],42:[function(t,e,a){"use strict";e.exports=function(t){var e=t.helpers,a={position:"left",ticks:{callback:function(t,a,i){var n=t/Math.pow(10,Math.floor(e.log10(t)));return 1===n||2===n||5===n||0===a||a===i.length-1?t.toExponential():""}}},i=t.Scale.extend({determineDataLimits:function(){function t(t){return d?t.xAxisID===a.id:t.yAxisID===a.id}var a=this,i=a.options,n=i.ticks,o=a.chart,r=o.data,l=r.datasets,s=e.getValueOrDefault,d=a.isHorizontal();if(a.min=null,a.max=null,i.stacked){var u={};e.each(l,function(n,r){var l=o.getDatasetMeta(r);o.isDatasetVisible(r)&&t(l)&&(void 0===u[l.type]&&(u[l.type]=[]),e.each(n.data,function(t,e){var n=u[l.type],o=+a.getRightValue(t);isNaN(o)||l.data[e].hidden||(n[e]=n[e]||0,i.relativePoints?n[e]=100:n[e]+=o)}))}),e.each(u,function(t){var i=e.min(t),n=e.max(t);a.min=null===a.min?i:Math.min(a.min,i),a.max=null===a.max?n:Math.max(a.max,n)})}else e.each(l,function(i,n){var r=o.getDatasetMeta(n);o.isDatasetVisible(n)&&t(r)&&e.each(i.data,function(t,e){var i=+a.getRightValue(t);isNaN(i)||r.data[e].hidden||(null===a.min?a.min=i:i<a.min&&(a.min=i),null===a.max?a.max=i:i>a.max&&(a.max=i))})});a.min=s(n.min,a.min),a.max=s(n.max,a.max),a.min===a.max&&(0!==a.min&&null!==a.min?(a.min=Math.pow(10,Math.floor(e.log10(a.min))-1),a.max=Math.pow(10,Math.floor(e.log10(a.max))+1)):(a.min=1,a.max=10))},buildTicks:function(){for(var t=this,a=t.options,i=a.ticks,n=e.getValueOrDefault,o=t.ticks=[],r=n(i.min,Math.pow(10,Math.floor(e.log10(t.min))));r<t.max;){o.push(r);var l=Math.floor(e.log10(r)),s=Math.floor(r/Math.pow(10,l))+1;10===s&&(s=1,++l),r=s*Math.pow(10,l)}var d=n(i.max,r);o.push(d),t.isHorizontal()||o.reverse(),t.max=e.max(o),t.min=e.min(o),i.reverse?(o.reverse(),t.start=t.max,t.end=t.min):(t.start=t.min,t.end=t.max)},convertTicksToLabels:function(){this.tickValues=this.ticks.slice(),t.Scale.prototype.convertTicksToLabels.call(this)},getLabelForIndex:function(t,e){return+this.getRightValue(this.chart.data.datasets[e].data[t])},getPixelForTick:function(t){return this.getPixelForValue(this.tickValues[t])},getPixelForValue:function(t){var a,i,n=this,o=n.start,r=+n.getRightValue(t),l=e.log10(n.end)-e.log10(o),s=n.paddingTop,d=n.paddingBottom,u=n.paddingLeft;return n.isHorizontal()?0===r?i=n.left+u:(a=n.width-(u+n.paddingRight),i=n.left+a/l*(e.log10(r)-e.log10(o)),i+=u):0===r?i=n.top+s:(a=n.height-(s+d),i=n.bottom-d-a/l*(e.log10(r)-e.log10(o))),i},getValueForPixel:function(t){var a,i,n=this,o=e.log10(n.end)-e.log10(n.start);return n.isHorizontal()?(i=n.width-(n.paddingLeft+n.paddingRight),a=n.start*Math.pow(10,(t-n.left-n.paddingLeft)*o/i)):(i=n.height-(n.paddingTop+n.paddingBottom),a=Math.pow(10,(n.bottom-n.paddingBottom-t)*o/i)/n.start),a}});t.scaleService.registerScaleType("logarithmic",i,a)}},{}],43:[function(t,e,a){"use strict";e.exports=function(t){var e=t.helpers,a=t.defaults.global,i={display:!0,animate:!0,lineArc:!1,position:"chartArea",angleLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1},ticks:{showLabelBackdrop:!0,backdropColor:"rgba(255,255,255,0.75)",backdropPaddingY:2,backdropPaddingX:2},pointLabels:{fontSize:10,callback:function(t){return t}}},n=t.LinearScaleBase.extend({getValueCount:function(){return this.chart.data.labels.length;
},setDimensions:function(){var t=this,i=t.options,n=i.ticks;t.width=t.maxWidth,t.height=t.maxHeight,t.xCenter=Math.round(t.width/2),t.yCenter=Math.round(t.height/2);var o=e.min([t.height,t.width]),r=e.getValueOrDefault(n.fontSize,a.defaultFontSize);t.drawingArea=i.display?o/2-(r/2+n.backdropPaddingY):o/2},determineDataLimits:function(){var t=this,a=t.chart;t.min=null,t.max=null,e.each(a.data.datasets,function(i,n){if(a.isDatasetVisible(n)){var o=a.getDatasetMeta(n);e.each(i.data,function(e,a){var i=+t.getRightValue(e);isNaN(i)||o.data[a].hidden||(null===t.min?t.min=i:i<t.min&&(t.min=i),null===t.max?t.max=i:i>t.max&&(t.max=i))})}}),t.handleTickRangeOptions()},getTickLimit:function(){var t=this.options.ticks,i=e.getValueOrDefault(t.fontSize,a.defaultFontSize);return Math.min(t.maxTicksLimit?t.maxTicksLimit:11,Math.ceil(this.drawingArea/(1.5*i)))},convertTicksToLabels:function(){var e=this;t.LinearScaleBase.prototype.convertTicksToLabels.call(e),e.pointLabels=e.chart.data.labels.map(e.options.pointLabels.callback,e)},getLabelForIndex:function(t,e){return+this.getRightValue(this.chart.data.datasets[e].data[t])},fit:function(){var t,i,n,o,r,l,s,d,u,c,h,f,g=this.options.pointLabels,p=e.getValueOrDefault(g.fontSize,a.defaultFontSize),m=e.getValueOrDefault(g.fontStyle,a.defaultFontStyle),b=e.getValueOrDefault(g.fontFamily,a.defaultFontFamily),v=e.fontString(p,m,b),x=e.min([this.height/2-p-5,this.width/2]),y=this.width,k=0;for(this.ctx.font=v,i=0;i<this.getValueCount();i++){t=this.getPointPosition(i,x),n=this.ctx.measureText(this.pointLabels[i]?this.pointLabels[i]:"").width+5;var S=this.getIndexAngle(i)+Math.PI/2,w=360*S/(2*Math.PI)%360;0===w||180===w?(o=n/2,t.x+o>y&&(y=t.x+o,r=i),t.x-o<k&&(k=t.x-o,s=i)):180>w?t.x+n>y&&(y=t.x+n,r=i):t.x-n<k&&(k=t.x-n,s=i)}u=k,c=Math.ceil(y-this.width),l=this.getIndexAngle(r),d=this.getIndexAngle(s),h=c/Math.sin(l+Math.PI/2),f=u/Math.sin(d+Math.PI/2),h=e.isNumber(h)?h:0,f=e.isNumber(f)?f:0,this.drawingArea=Math.round(x-(f+h)/2),this.setCenterPoint(f,h)},setCenterPoint:function(t,e){var a=this,i=a.width-e-a.drawingArea,n=t+a.drawingArea;a.xCenter=Math.round((n+i)/2+a.left),a.yCenter=Math.round(a.height/2+a.top)},getIndexAngle:function(t){var e=2*Math.PI/this.getValueCount(),a=this.chart.options&&this.chart.options.startAngle?this.chart.options.startAngle:0,i=a*Math.PI*2/360;return t*e-Math.PI/2+i},getDistanceFromCenterForValue:function(t){var e=this;if(null===t)return 0;var a=e.drawingArea/(e.max-e.min);return e.options.reverse?(e.max-t)*a:(t-e.min)*a},getPointPosition:function(t,e){var a=this,i=a.getIndexAngle(t);return{x:Math.round(Math.cos(i)*e)+a.xCenter,y:Math.round(Math.sin(i)*e)+a.yCenter}},getPointPositionForValue:function(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))},getBasePosition:function(){var t=this,e=t.min,a=t.max;return t.getPointPositionForValue(0,t.beginAtZero?0:0>e&&0>a?a:e>0&&a>0?e:0)},draw:function(){var t=this,i=t.options,n=i.gridLines,o=i.ticks,r=i.angleLines,l=i.pointLabels,s=e.getValueOrDefault;if(i.display){var d=t.ctx,u=s(o.fontSize,a.defaultFontSize),c=s(o.fontStyle,a.defaultFontStyle),h=s(o.fontFamily,a.defaultFontFamily),f=e.fontString(u,c,h);if(e.each(t.ticks,function(r,l){if(l>0||i.reverse){var c=t.getDistanceFromCenterForValue(t.ticksAsNumbers[l]),h=t.yCenter-c;if(n.display&&0!==l)if(d.strokeStyle=e.getValueAtIndexOrDefault(n.color,l-1),d.lineWidth=e.getValueAtIndexOrDefault(n.lineWidth,l-1),i.lineArc)d.beginPath(),d.arc(t.xCenter,t.yCenter,c,0,2*Math.PI),d.closePath(),d.stroke();else{d.beginPath();for(var g=0;g<t.getValueCount();g++){var p=t.getPointPosition(g,c);0===g?d.moveTo(p.x,p.y):d.lineTo(p.x,p.y)}d.closePath(),d.stroke()}if(o.display){var m=s(o.fontColor,a.defaultFontColor);if(d.font=f,o.showLabelBackdrop){var b=d.measureText(r).width;d.fillStyle=o.backdropColor,d.fillRect(t.xCenter-b/2-o.backdropPaddingX,h-u/2-o.backdropPaddingY,b+2*o.backdropPaddingX,u+2*o.backdropPaddingY)}d.textAlign="center",d.textBaseline="middle",d.fillStyle=m,d.fillText(r,t.xCenter,h)}}}),!i.lineArc){d.lineWidth=r.lineWidth,d.strokeStyle=r.color;for(var g=t.getDistanceFromCenterForValue(i.reverse?t.min:t.max),p=s(l.fontSize,a.defaultFontSize),m=s(l.fontStyle,a.defaultFontStyle),b=s(l.fontFamily,a.defaultFontFamily),v=e.fontString(p,m,b),x=t.getValueCount()-1;x>=0;x--){if(r.display){var y=t.getPointPosition(x,g);d.beginPath(),d.moveTo(t.xCenter,t.yCenter),d.lineTo(y.x,y.y),d.stroke(),d.closePath()}var k=t.getPointPosition(x,g+5),S=s(l.fontColor,a.defaultFontColor);d.font=v,d.fillStyle=S;var w=t.pointLabels,C=this.getIndexAngle(x)+Math.PI/2,M=360*C/(2*Math.PI)%360;0===M||180===M?d.textAlign="center":180>M?d.textAlign="left":d.textAlign="right",90===M||270===M?d.textBaseline="middle":M>270||90>M?d.textBaseline="bottom":d.textBaseline="top",d.fillText(w[x]?w[x]:"",k.x,k.y)}}}}});t.scaleService.registerScaleType("radialLinear",n,i)}},{}],44:[function(t,e,a){"use strict";var i=t(1);i="function"==typeof i?i:window.moment,e.exports=function(t){var e=t.helpers,a={units:[{name:"millisecond",steps:[1,2,5,10,20,50,100,250,500]},{name:"second",steps:[1,2,5,10,30]},{name:"minute",steps:[1,2,5,10,30]},{name:"hour",steps:[1,2,3,6,12]},{name:"day",steps:[1,2,5]},{name:"week",maxStep:4},{name:"month",maxStep:3},{name:"quarter",maxStep:4},{name:"year",maxStep:!1}]},n={position:"bottom",time:{parser:!1,format:!1,unit:!1,round:!1,displayFormat:!1,isoWeekday:!1,displayFormats:{millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm:ss a",hour:"MMM D, hA",day:"ll",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"}},ticks:{autoSkip:!1}},o=t.Scale.extend({initialize:function(){if(!i)throw new Error("Chart.js - Moment.js could not be found! You must include it before Chart.js to use the time scale. Download at https://momentjs.com");t.Scale.prototype.initialize.call(this)},getLabelMoment:function(t,e){return"undefined"!=typeof this.labelMoments[t]?this.labelMoments[t][e]:null},getMomentStartOf:function(t){var e=this;return"week"===e.options.time.unit&&e.options.time.isoWeekday!==!1?t.clone().startOf("isoWeek").isoWeekday(e.options.time.isoWeekday):t.clone().startOf(e.tickUnit)},determineDataLimits:function(){var t=this;t.labelMoments=[];var a=[];t.chart.data.labels&&t.chart.data.labels.length>0?(e.each(t.chart.data.labels,function(e){var i=t.parseTime(e);i.isValid()&&(t.options.time.round&&i.startOf(t.options.time.round),a.push(i))},t),t.firstTick=i.min.call(t,a),t.lastTick=i.max.call(t,a)):(t.firstTick=null,t.lastTick=null),e.each(t.chart.data.datasets,function(n,o){var r=[],l=t.chart.isDatasetVisible(o);"object"==typeof n.data[0]&&null!==n.data[0]?e.each(n.data,function(e){var a=t.parseTime(t.getRightValue(e));a.isValid()&&(t.options.time.round&&a.startOf(t.options.time.round),r.push(a),l&&(t.firstTick=null!==t.firstTick?i.min(t.firstTick,a):a,t.lastTick=null!==t.lastTick?i.max(t.lastTick,a):a))},t):r=a,t.labelMoments.push(r)},t),t.options.time.min&&(t.firstTick=t.parseTime(t.options.time.min)),t.options.time.max&&(t.lastTick=t.parseTime(t.options.time.max)),t.firstTick=(t.firstTick||i()).clone(),t.lastTick=(t.lastTick||i()).clone()},buildTicks:function(){var i=this;i.ctx.save();var n=e.getValueOrDefault(i.options.ticks.fontSize,t.defaults.global.defaultFontSize),o=e.getValueOrDefault(i.options.ticks.fontStyle,t.defaults.global.defaultFontStyle),r=e.getValueOrDefault(i.options.ticks.fontFamily,t.defaults.global.defaultFontFamily),l=e.fontString(n,o,r);if(i.ctx.font=l,i.ticks=[],i.unitScale=1,i.scaleSizeInUnits=0,i.options.time.unit)i.tickUnit=i.options.time.unit||"day",i.displayFormat=i.options.time.displayFormats[i.tickUnit],i.scaleSizeInUnits=i.lastTick.diff(i.firstTick,i.tickUnit,!0),i.unitScale=e.getValueOrDefault(i.options.time.unitStepSize,1);else{var s=i.isHorizontal()?i.width-(i.paddingLeft+i.paddingRight):i.height-(i.paddingTop+i.paddingBottom),d=i.tickFormatFunction(i.firstTick,0,[]),u=i.ctx.measureText(d).width,c=Math.cos(e.toRadians(i.options.ticks.maxRotation)),h=Math.sin(e.toRadians(i.options.ticks.maxRotation));u=u*c+n*h;var f=s/u;i.tickUnit="millisecond",i.scaleSizeInUnits=i.lastTick.diff(i.firstTick,i.tickUnit,!0),i.displayFormat=i.options.time.displayFormats[i.tickUnit];for(var g=0,p=a.units[g];g<a.units.length;){if(i.unitScale=1,e.isArray(p.steps)&&Math.ceil(i.scaleSizeInUnits/f)<e.max(p.steps)){for(var m=0;m<p.steps.length;++m)if(p.steps[m]>=Math.ceil(i.scaleSizeInUnits/f)){i.unitScale=e.getValueOrDefault(i.options.time.unitStepSize,p.steps[m]);break}break}if(p.maxStep===!1||Math.ceil(i.scaleSizeInUnits/f)<p.maxStep){i.unitScale=e.getValueOrDefault(i.options.time.unitStepSize,Math.ceil(i.scaleSizeInUnits/f));break}++g,p=a.units[g],i.tickUnit=p.name;var b=i.firstTick.diff(i.getMomentStartOf(i.firstTick),i.tickUnit,!0),v=i.getMomentStartOf(i.lastTick.clone().add(1,i.tickUnit)).diff(i.lastTick,i.tickUnit,!0);i.scaleSizeInUnits=i.lastTick.diff(i.firstTick,i.tickUnit,!0)+b+v,i.displayFormat=i.options.time.displayFormats[p.name]}}var x;if(i.options.time.min?x=i.getMomentStartOf(i.firstTick):(i.firstTick=i.getMomentStartOf(i.firstTick),x=i.firstTick),!i.options.time.max){var y=i.getMomentStartOf(i.lastTick),k=y.diff(i.lastTick,i.tickUnit,!0);0>k?i.lastTick=i.getMomentStartOf(i.lastTick.add(1,i.tickUnit)):k>=0&&(i.lastTick=y),i.scaleSizeInUnits=i.lastTick.diff(i.firstTick,i.tickUnit,!0)}i.smallestLabelSeparation=i.width,e.each(i.chart.data.datasets,function(t,e){for(var a=1;a<i.labelMoments[e].length;a++)i.smallestLabelSeparation=Math.min(i.smallestLabelSeparation,i.labelMoments[e][a].diff(i.labelMoments[e][a-1],i.tickUnit,!0))},i),i.options.time.displayFormat&&(i.displayFormat=i.options.time.displayFormat),i.ticks.push(i.firstTick.clone());for(var S=1;S<=i.scaleSizeInUnits;++S){var w=x.clone().add(S,i.tickUnit);if(i.options.time.max&&w.diff(i.lastTick,i.tickUnit,!0)>=0)break;S%i.unitScale===0&&i.ticks.push(w)}var C=i.ticks[i.ticks.length-1].diff(i.lastTick,i.tickUnit);(0!==C||0===i.scaleSizeInUnits)&&(i.options.time.max?(i.ticks.push(i.lastTick.clone()),i.scaleSizeInUnits=i.lastTick.diff(i.ticks[0],i.tickUnit,!0)):(i.ticks.push(i.lastTick.clone()),i.scaleSizeInUnits=i.lastTick.diff(i.firstTick,i.tickUnit,!0))),i.ctx.restore()},getLabelForIndex:function(t,e){var a=this,i=a.chart.data.labels&&t<a.chart.data.labels.length?a.chart.data.labels[t]:"";return"object"==typeof a.chart.data.datasets[e].data[0]&&(i=a.getRightValue(a.chart.data.datasets[e].data[t])),a.options.time.tooltipFormat&&(i=a.parseTime(i).format(a.options.time.tooltipFormat)),i},tickFormatFunction:function(t,a,i){var n=t.format(this.displayFormat),o=this.options.ticks,r=e.getValueOrDefault(o.callback,o.userCallback);return r?r(n,a,i):n},convertTicksToLabels:function(){var t=this;t.tickMoments=t.ticks,t.ticks=t.ticks.map(t.tickFormatFunction,t)},getPixelForValue:function(t,e,a){var n=this;t&&t.isValid||(t=i(n.getRightValue(t)));var o=t&&t.isValid&&t.isValid()?t:n.getLabelMoment(a,e);if(o){var r=o.diff(n.firstTick,n.tickUnit,!0),l=0!==r?r/n.scaleSizeInUnits:r;if(n.isHorizontal()){var s=n.width-(n.paddingLeft+n.paddingRight),d=s*l+n.paddingLeft;return n.left+Math.round(d)}var u=n.height-(n.paddingTop+n.paddingBottom),c=u*l+n.paddingTop;return n.top+Math.round(c)}},getPixelForTick:function(t){return this.getPixelForValue(this.tickMoments[t],null,null)},getValueForPixel:function(t){var e=this,a=e.isHorizontal()?e.width-(e.paddingLeft+e.paddingRight):e.height-(e.paddingTop+e.paddingBottom),n=(t-(e.isHorizontal()?e.left+e.paddingLeft:e.top+e.paddingTop))/a;return n*=e.scaleSizeInUnits,e.firstTick.clone().add(i.duration(n,e.tickUnit).asSeconds(),"seconds")},parseTime:function(t){var e=this;return"string"==typeof e.options.time.parser?i(t,e.options.time.parser):"function"==typeof e.options.time.parser?e.options.time.parser(t):"function"==typeof t.getMonth||"number"==typeof t?i(t):t.isValid&&t.isValid()?t:"string"!=typeof e.options.time.format&&e.options.time.format.call?(console.warn("options.time.format is deprecated and replaced by options.time.parser. See http://nnnick.github.io/Chart.js/docs-v2/#scales-time-scale"),e.options.time.format(t)):i(t,e.options.time.format)}});t.scaleService.registerScaleType("time",o,n)}},{1:1}]},{},[7])(7)});
/*
 AngularJS v1.5.8
 (c) 2010-2016 Google, Inc. http://angularjs.org
 License: MIT
*/
(function(x,n){'use strict';function s(f,k){var e=!1,a=!1;this.ngClickOverrideEnabled=function(b){return n.isDefined(b)?(b&&!a&&(a=!0,t.$$moduleName="ngTouch",k.directive("ngClick",t),f.decorator("ngClickDirective",["$delegate",function(a){if(e)a.shift();else for(var b=a.length-1;0<=b;){if("ngTouch"===a[b].$$moduleName){a.splice(b,1);break}b--}return a}])),e=b,this):e};this.$get=function(){return{ngClickOverrideEnabled:function(){return e}}}}function v(f,k,e){p.directive(f,["$parse","$swipe",function(a,
b){return function(l,u,g){function h(c){if(!d)return!1;var a=Math.abs(c.y-d.y);c=(c.x-d.x)*k;return r&&75>a&&0<c&&30<c&&.3>a/c}var m=a(g[f]),d,r,c=["touch"];n.isDefined(g.ngSwipeDisableMouse)||c.push("mouse");b.bind(u,{start:function(c,a){d=c;r=!0},cancel:function(c){r=!1},end:function(c,d){h(c)&&l.$apply(function(){u.triggerHandler(e);m(l,{$event:d})})}},c)}}])}var p=n.module("ngTouch",[]);p.provider("$touch",s);s.$inject=["$provide","$compileProvider"];p.factory("$swipe",[function(){function f(a){a=
a.originalEvent||a;var b=a.touches&&a.touches.length?a.touches:[a];a=a.changedTouches&&a.changedTouches[0]||b[0];return{x:a.clientX,y:a.clientY}}function k(a,b){var l=[];n.forEach(a,function(a){(a=e[a][b])&&l.push(a)});return l.join(" ")}var e={mouse:{start:"mousedown",move:"mousemove",end:"mouseup"},touch:{start:"touchstart",move:"touchmove",end:"touchend",cancel:"touchcancel"},pointer:{start:"pointerdown",move:"pointermove",end:"pointerup",cancel:"pointercancel"}};return{bind:function(a,b,l){var e,
g,h,m,d=!1;l=l||["mouse","touch","pointer"];a.on(k(l,"start"),function(c){h=f(c);d=!0;g=e=0;m=h;b.start&&b.start(h,c)});var r=k(l,"cancel");if(r)a.on(r,function(c){d=!1;b.cancel&&b.cancel(c)});a.on(k(l,"move"),function(c){if(d&&h){var a=f(c);e+=Math.abs(a.x-m.x);g+=Math.abs(a.y-m.y);m=a;10>e&&10>g||(g>e?(d=!1,b.cancel&&b.cancel(c)):(c.preventDefault(),b.move&&b.move(a,c)))}});a.on(k(l,"end"),function(c){d&&(d=!1,b.end&&b.end(f(c),c))})}}}]);var t=["$parse","$timeout","$rootElement",function(f,k,e){function a(a,
d,b){for(var c=0;c<a.length;c+=2){var g=a[c+1],e=b;if(25>Math.abs(a[c]-d)&&25>Math.abs(g-e))return a.splice(c,c+2),!0}return!1}function b(b){if(!(2500<Date.now()-u)){var d=b.touches&&b.touches.length?b.touches:[b],e=d[0].clientX,d=d[0].clientY;if(!(1>e&&1>d||h&&h[0]===e&&h[1]===d)){h&&(h=null);var c=b.target;"label"===n.lowercase(c.nodeName||c[0]&&c[0].nodeName)&&(h=[e,d]);a(g,e,d)||(b.stopPropagation(),b.preventDefault(),b.target&&b.target.blur&&b.target.blur())}}}function l(a){a=a.touches&&a.touches.length?
a.touches:[a];var b=a[0].clientX,e=a[0].clientY;g.push(b,e);k(function(){for(var a=0;a<g.length;a+=2)if(g[a]==b&&g[a+1]==e){g.splice(a,a+2);break}},2500,!1)}var u,g,h;return function(h,d,k){var c=f(k.ngClick),w=!1,q,p,s,t;d.on("touchstart",function(a){w=!0;q=a.target?a.target:a.srcElement;3==q.nodeType&&(q=q.parentNode);d.addClass("ng-click-active");p=Date.now();a=a.originalEvent||a;a=(a.touches&&a.touches.length?a.touches:[a])[0];s=a.clientX;t=a.clientY});d.on("touchcancel",function(a){w=!1;d.removeClass("ng-click-active")});
d.on("touchend",function(c){var h=Date.now()-p,f=c.originalEvent||c,m=(f.changedTouches&&f.changedTouches.length?f.changedTouches:f.touches&&f.touches.length?f.touches:[f])[0],f=m.clientX,m=m.clientY,v=Math.sqrt(Math.pow(f-s,2)+Math.pow(m-t,2));w&&750>h&&12>v&&(g||(e[0].addEventListener("click",b,!0),e[0].addEventListener("touchstart",l,!0),g=[]),u=Date.now(),a(g,f,m),q&&q.blur(),n.isDefined(k.disabled)&&!1!==k.disabled||d.triggerHandler("click",[c]));w=!1;d.removeClass("ng-click-active")});d.onclick=
function(a){};d.on("click",function(a,b){h.$apply(function(){c(h,{$event:b||a})})});d.on("mousedown",function(a){d.addClass("ng-click-active")});d.on("mousemove mouseup",function(a){d.removeClass("ng-click-active")})}}];v("ngSwipeLeft",-1,"swipeleft");v("ngSwipeRight",1,"swiperight")})(window,window.angular);
//# sourceMappingURL=angular-touch.min.js.map

/**
 * @license AngularJS v1.5.8
 * (c) 2010-2016 Google, Inc. http://angularjs.org
 * License: MIT
 */
(function(window, angular) {'use strict';

/* global shallowCopy: true */

/**
 * Creates a shallow copy of an object, an array or a primitive.
 *
 * Assumes that there are no proto properties for objects.
 */
function shallowCopy(src, dst) {
  if (isArray(src)) {
    dst = dst || [];

    for (var i = 0, ii = src.length; i < ii; i++) {
      dst[i] = src[i];
    }
  } else if (isObject(src)) {
    dst = dst || {};

    for (var key in src) {
      if (!(key.charAt(0) === '$' && key.charAt(1) === '$')) {
        dst[key] = src[key];
      }
    }
  }

  return dst || src;
}

/* global shallowCopy: false */

// There are necessary for `shallowCopy()` (included via `src/shallowCopy.js`).
// They are initialized inside the `$RouteProvider`, to ensure `window.angular` is available.
var isArray;
var isObject;

/**
 * @ngdoc module
 * @name ngRoute
 * @description
 *
 * # ngRoute
 *
 * The `ngRoute` module provides routing and deeplinking services and directives for angular apps.
 *
 * ## Example
 * See {@link ngRoute.$route#example $route} for an example of configuring and using `ngRoute`.
 *
 *
 * <div doc-module-components="ngRoute"></div>
 */
 /* global -ngRouteModule */
var ngRouteModule = angular.module('ngRoute', ['ng']).
                        provider('$route', $RouteProvider),
    $routeMinErr = angular.$$minErr('ngRoute');

/**
 * @ngdoc provider
 * @name $routeProvider
 *
 * @description
 *
 * Used for configuring routes.
 *
 * ## Example
 * See {@link ngRoute.$route#example $route} for an example of configuring and using `ngRoute`.
 *
 * ## Dependencies
 * Requires the {@link ngRoute `ngRoute`} module to be installed.
 */
function $RouteProvider() {
  isArray = angular.isArray;
  isObject = angular.isObject;

  function inherit(parent, extra) {
    return angular.extend(Object.create(parent), extra);
  }

  var routes = {};

  /**
   * @ngdoc method
   * @name $routeProvider#when
   *
   * @param {string} path Route path (matched against `$location.path`). If `$location.path`
   *    contains redundant trailing slash or is missing one, the route will still match and the
   *    `$location.path` will be updated to add or drop the trailing slash to exactly match the
   *    route definition.
   *
   *    * `path` can contain named groups starting with a colon: e.g. `:name`. All characters up
   *        to the next slash are matched and stored in `$routeParams` under the given `name`
   *        when the route matches.
   *    * `path` can contain named groups starting with a colon and ending with a star:
   *        e.g.`:name*`. All characters are eagerly stored in `$routeParams` under the given `name`
   *        when the route matches.
   *    * `path` can contain optional named groups with a question mark: e.g.`:name?`.
   *
   *    For example, routes like `/color/:color/largecode/:largecode*\/edit` will match
   *    `/color/brown/largecode/code/with/slashes/edit` and extract:
   *
   *    * `color: brown`
   *    * `largecode: code/with/slashes`.
   *
   *
   * @param {Object} route Mapping information to be assigned to `$route.current` on route
   *    match.
   *
   *    Object properties:
   *
   *    - `controller` – `{(string|function()=}` – Controller fn that should be associated with
   *      newly created scope or the name of a {@link angular.Module#controller registered
   *      controller} if passed as a string.
   *    - `controllerAs` – `{string=}` – An identifier name for a reference to the controller.
   *      If present, the controller will be published to scope under the `controllerAs` name.
   *    - `template` – `{string=|function()=}` – html template as a string or a function that
   *      returns an html template as a string which should be used by {@link
   *      ngRoute.directive:ngView ngView} or {@link ng.directive:ngInclude ngInclude} directives.
   *      This property takes precedence over `templateUrl`.
   *
   *      If `template` is a function, it will be called with the following parameters:
   *
   *      - `{Array.<Object>}` - route parameters extracted from the current
   *        `$location.path()` by applying the current route
   *
   *    - `templateUrl` – `{string=|function()=}` – path or function that returns a path to an html
   *      template that should be used by {@link ngRoute.directive:ngView ngView}.
   *
   *      If `templateUrl` is a function, it will be called with the following parameters:
   *
   *      - `{Array.<Object>}` - route parameters extracted from the current
   *        `$location.path()` by applying the current route
   *
   *    - `resolve` - `{Object.<string, function>=}` - An optional map of dependencies which should
   *      be injected into the controller. If any of these dependencies are promises, the router
   *      will wait for them all to be resolved or one to be rejected before the controller is
   *      instantiated.
   *      If all the promises are resolved successfully, the values of the resolved promises are
   *      injected and {@link ngRoute.$route#$routeChangeSuccess $routeChangeSuccess} event is
   *      fired. If any of the promises are rejected the
   *      {@link ngRoute.$route#$routeChangeError $routeChangeError} event is fired.
   *      For easier access to the resolved dependencies from the template, the `resolve` map will
   *      be available on the scope of the route, under `$resolve` (by default) or a custom name
   *      specified by the `resolveAs` property (see below). This can be particularly useful, when
   *      working with {@link angular.Module#component components} as route templates.<br />
   *      <div class="alert alert-warning">
   *        **Note:** If your scope already contains a property with this name, it will be hidden
   *        or overwritten. Make sure, you specify an appropriate name for this property, that
   *        does not collide with other properties on the scope.
   *      </div>
   *      The map object is:
   *
   *      - `key` – `{string}`: a name of a dependency to be injected into the controller.
   *      - `factory` - `{string|function}`: If `string` then it is an alias for a service.
   *        Otherwise if function, then it is {@link auto.$injector#invoke injected}
   *        and the return value is treated as the dependency. If the result is a promise, it is
   *        resolved before its value is injected into the controller. Be aware that
   *        `ngRoute.$routeParams` will still refer to the previous route within these resolve
   *        functions.  Use `$route.current.params` to access the new route parameters, instead.
   *
   *    - `resolveAs` - `{string=}` - The name under which the `resolve` map will be available on
   *      the scope of the route. If omitted, defaults to `$resolve`.
   *
   *    - `redirectTo` – `{(string|function())=}` – value to update
   *      {@link ng.$location $location} path with and trigger route redirection.
   *
   *      If `redirectTo` is a function, it will be called with the following parameters:
   *
   *      - `{Object.<string>}` - route parameters extracted from the current
   *        `$location.path()` by applying the current route templateUrl.
   *      - `{string}` - current `$location.path()`
   *      - `{Object}` - current `$location.search()`
   *
   *      The custom `redirectTo` function is expected to return a string which will be used
   *      to update `$location.path()` and `$location.search()`.
   *
   *    - `[reloadOnSearch=true]` - `{boolean=}` - reload route when only `$location.search()`
   *      or `$location.hash()` changes.
   *
   *      If the option is set to `false` and url in the browser changes, then
   *      `$routeUpdate` event is broadcasted on the root scope.
   *
   *    - `[caseInsensitiveMatch=false]` - `{boolean=}` - match routes without being case sensitive
   *
   *      If the option is set to `true`, then the particular route can be matched without being
   *      case sensitive
   *
   * @returns {Object} self
   *
   * @description
   * Adds a new route definition to the `$route` service.
   */
  this.when = function(path, route) {
    //copy original route object to preserve params inherited from proto chain
    var routeCopy = shallowCopy(route);
    if (angular.isUndefined(routeCopy.reloadOnSearch)) {
      routeCopy.reloadOnSearch = true;
    }
    if (angular.isUndefined(routeCopy.caseInsensitiveMatch)) {
      routeCopy.caseInsensitiveMatch = this.caseInsensitiveMatch;
    }
    routes[path] = angular.extend(
      routeCopy,
      path && pathRegExp(path, routeCopy)
    );

    // create redirection for trailing slashes
    if (path) {
      var redirectPath = (path[path.length - 1] == '/')
            ? path.substr(0, path.length - 1)
            : path + '/';

      routes[redirectPath] = angular.extend(
        {redirectTo: path},
        pathRegExp(redirectPath, routeCopy)
      );
    }

    return this;
  };

  /**
   * @ngdoc property
   * @name $routeProvider#caseInsensitiveMatch
   * @description
   *
   * A boolean property indicating if routes defined
   * using this provider should be matched using a case insensitive
   * algorithm. Defaults to `false`.
   */
  this.caseInsensitiveMatch = false;

   /**
    * @param path {string} path
    * @param opts {Object} options
    * @return {?Object}
    *
    * @description
    * Normalizes the given path, returning a regular expression
    * and the original path.
    *
    * Inspired by pathRexp in visionmedia/express/lib/utils.js.
    */
  function pathRegExp(path, opts) {
    var insensitive = opts.caseInsensitiveMatch,
        ret = {
          originalPath: path,
          regexp: path
        },
        keys = ret.keys = [];

    path = path
      .replace(/([().])/g, '\\$1')
      .replace(/(\/)?:(\w+)(\*\?|[\?\*])?/g, function(_, slash, key, option) {
        var optional = (option === '?' || option === '*?') ? '?' : null;
        var star = (option === '*' || option === '*?') ? '*' : null;
        keys.push({ name: key, optional: !!optional });
        slash = slash || '';
        return ''
          + (optional ? '' : slash)
          + '(?:'
          + (optional ? slash : '')
          + (star && '(.+?)' || '([^/]+)')
          + (optional || '')
          + ')'
          + (optional || '');
      })
      .replace(/([\/$\*])/g, '\\$1');

    ret.regexp = new RegExp('^' + path + '$', insensitive ? 'i' : '');
    return ret;
  }

  /**
   * @ngdoc method
   * @name $routeProvider#otherwise
   *
   * @description
   * Sets route definition that will be used on route change when no other route definition
   * is matched.
   *
   * @param {Object|string} params Mapping information to be assigned to `$route.current`.
   * If called with a string, the value maps to `redirectTo`.
   * @returns {Object} self
   */
  this.otherwise = function(params) {
    if (typeof params === 'string') {
      params = {redirectTo: params};
    }
    this.when(null, params);
    return this;
  };


  this.$get = ['$rootScope',
               '$location',
               '$routeParams',
               '$q',
               '$injector',
               '$templateRequest',
               '$sce',
      function($rootScope, $location, $routeParams, $q, $injector, $templateRequest, $sce) {

    /**
     * @ngdoc service
     * @name $route
     * @requires $location
     * @requires $routeParams
     *
     * @property {Object} current Reference to the current route definition.
     * The route definition contains:
     *
     *   - `controller`: The controller constructor as defined in the route definition.
     *   - `locals`: A map of locals which is used by {@link ng.$controller $controller} service for
     *     controller instantiation. The `locals` contain
     *     the resolved values of the `resolve` map. Additionally the `locals` also contain:
     *
     *     - `$scope` - The current route scope.
     *     - `$template` - The current route template HTML.
     *
     *     The `locals` will be assigned to the route scope's `$resolve` property. You can override
     *     the property name, using `resolveAs` in the route definition. See
     *     {@link ngRoute.$routeProvider $routeProvider} for more info.
     *
     * @property {Object} routes Object with all route configuration Objects as its properties.
     *
     * @description
     * `$route` is used for deep-linking URLs to controllers and views (HTML partials).
     * It watches `$location.url()` and tries to map the path to an existing route definition.
     *
     * Requires the {@link ngRoute `ngRoute`} module to be installed.
     *
     * You can define routes through {@link ngRoute.$routeProvider $routeProvider}'s API.
     *
     * The `$route` service is typically used in conjunction with the
     * {@link ngRoute.directive:ngView `ngView`} directive and the
     * {@link ngRoute.$routeParams `$routeParams`} service.
     *
     * @example
     * This example shows how changing the URL hash causes the `$route` to match a route against the
     * URL, and the `ngView` pulls in the partial.
     *
     * <example name="$route-service" module="ngRouteExample"
     *          deps="angular-route.js" fixBase="true">
     *   <file name="index.html">
     *     <div ng-controller="MainController">
     *       Choose:
     *       <a href="Book/Moby">Moby</a> |
     *       <a href="Book/Moby/ch/1">Moby: Ch1</a> |
     *       <a href="Book/Gatsby">Gatsby</a> |
     *       <a href="Book/Gatsby/ch/4?key=value">Gatsby: Ch4</a> |
     *       <a href="Book/Scarlet">Scarlet Letter</a><br/>
     *
     *       <div ng-view></div>
     *
     *       <hr />
     *
     *       <pre>$location.path() = {{$location.path()}}</pre>
     *       <pre>$route.current.templateUrl = {{$route.current.templateUrl}}</pre>
     *       <pre>$route.current.params = {{$route.current.params}}</pre>
     *       <pre>$route.current.scope.name = {{$route.current.scope.name}}</pre>
     *       <pre>$routeParams = {{$routeParams}}</pre>
     *     </div>
     *   </file>
     *
     *   <file name="book.html">
     *     controller: {{name}}<br />
     *     Book Id: {{params.bookId}}<br />
     *   </file>
     *
     *   <file name="chapter.html">
     *     controller: {{name}}<br />
     *     Book Id: {{params.bookId}}<br />
     *     Chapter Id: {{params.chapterId}}
     *   </file>
     *
     *   <file name="script.js">
     *     angular.module('ngRouteExample', ['ngRoute'])
     *
     *      .controller('MainController', function($scope, $route, $routeParams, $location) {
     *          $scope.$route = $route;
     *          $scope.$location = $location;
     *          $scope.$routeParams = $routeParams;
     *      })
     *
     *      .controller('BookController', function($scope, $routeParams) {
     *          $scope.name = "BookController";
     *          $scope.params = $routeParams;
     *      })
     *
     *      .controller('ChapterController', function($scope, $routeParams) {
     *          $scope.name = "ChapterController";
     *          $scope.params = $routeParams;
     *      })
     *
     *     .config(function($routeProvider, $locationProvider) {
     *       $routeProvider
     *        .when('/Book/:bookId', {
     *         templateUrl: 'book.html',
     *         controller: 'BookController',
     *         resolve: {
     *           // I will cause a 1 second delay
     *           delay: function($q, $timeout) {
     *             var delay = $q.defer();
     *             $timeout(delay.resolve, 1000);
     *             return delay.promise;
     *           }
     *         }
     *       })
     *       .when('/Book/:bookId/ch/:chapterId', {
     *         templateUrl: 'chapter.html',
     *         controller: 'ChapterController'
     *       });
     *
     *       // configure html5 to get links working on jsfiddle
     *       $locationProvider.html5Mode(true);
     *     });
     *
     *   </file>
     *
     *   <file name="protractor.js" type="protractor">
     *     it('should load and compile correct template', function() {
     *       element(by.linkText('Moby: Ch1')).click();
     *       var content = element(by.css('[ng-view]')).getText();
     *       expect(content).toMatch(/controller\: ChapterController/);
     *       expect(content).toMatch(/Book Id\: Moby/);
     *       expect(content).toMatch(/Chapter Id\: 1/);
     *
     *       element(by.partialLinkText('Scarlet')).click();
     *
     *       content = element(by.css('[ng-view]')).getText();
     *       expect(content).toMatch(/controller\: BookController/);
     *       expect(content).toMatch(/Book Id\: Scarlet/);
     *     });
     *   </file>
     * </example>
     */

    /**
     * @ngdoc event
     * @name $route#$routeChangeStart
     * @eventType broadcast on root scope
     * @description
     * Broadcasted before a route change. At this  point the route services starts
     * resolving all of the dependencies needed for the route change to occur.
     * Typically this involves fetching the view template as well as any dependencies
     * defined in `resolve` route property. Once  all of the dependencies are resolved
     * `$routeChangeSuccess` is fired.
     *
     * The route change (and the `$location` change that triggered it) can be prevented
     * by calling `preventDefault` method of the event. See {@link ng.$rootScope.Scope#$on}
     * for more details about event object.
     *
     * @param {Object} angularEvent Synthetic event object.
     * @param {Route} next Future route information.
     * @param {Route} current Current route information.
     */

    /**
     * @ngdoc event
     * @name $route#$routeChangeSuccess
     * @eventType broadcast on root scope
     * @description
     * Broadcasted after a route change has happened successfully.
     * The `resolve` dependencies are now available in the `current.locals` property.
     *
     * {@link ngRoute.directive:ngView ngView} listens for the directive
     * to instantiate the controller and render the view.
     *
     * @param {Object} angularEvent Synthetic event object.
     * @param {Route} current Current route information.
     * @param {Route|Undefined} previous Previous route information, or undefined if current is
     * first route entered.
     */

    /**
     * @ngdoc event
     * @name $route#$routeChangeError
     * @eventType broadcast on root scope
     * @description
     * Broadcasted if any of the resolve promises are rejected.
     *
     * @param {Object} angularEvent Synthetic event object
     * @param {Route} current Current route information.
     * @param {Route} previous Previous route information.
     * @param {Route} rejection Rejection of the promise. Usually the error of the failed promise.
     */

    /**
     * @ngdoc event
     * @name $route#$routeUpdate
     * @eventType broadcast on root scope
     * @description
     * The `reloadOnSearch` property has been set to false, and we are reusing the same
     * instance of the Controller.
     *
     * @param {Object} angularEvent Synthetic event object
     * @param {Route} current Current/previous route information.
     */

    var forceReload = false,
        preparedRoute,
        preparedRouteIsUpdateOnly,
        $route = {
          routes: routes,

          /**
           * @ngdoc method
           * @name $route#reload
           *
           * @description
           * Causes `$route` service to reload the current route even if
           * {@link ng.$location $location} hasn't changed.
           *
           * As a result of that, {@link ngRoute.directive:ngView ngView}
           * creates new scope and reinstantiates the controller.
           */
          reload: function() {
            forceReload = true;

            var fakeLocationEvent = {
              defaultPrevented: false,
              preventDefault: function fakePreventDefault() {
                this.defaultPrevented = true;
                forceReload = false;
              }
            };

            $rootScope.$evalAsync(function() {
              prepareRoute(fakeLocationEvent);
              if (!fakeLocationEvent.defaultPrevented) commitRoute();
            });
          },

          /**
           * @ngdoc method
           * @name $route#updateParams
           *
           * @description
           * Causes `$route` service to update the current URL, replacing
           * current route parameters with those specified in `newParams`.
           * Provided property names that match the route's path segment
           * definitions will be interpolated into the location's path, while
           * remaining properties will be treated as query params.
           *
           * @param {!Object<string, string>} newParams mapping of URL parameter names to values
           */
          updateParams: function(newParams) {
            if (this.current && this.current.$$route) {
              newParams = angular.extend({}, this.current.params, newParams);
              $location.path(interpolate(this.current.$$route.originalPath, newParams));
              // interpolate modifies newParams, only query params are left
              $location.search(newParams);
            } else {
              throw $routeMinErr('norout', 'Tried updating route when with no current route');
            }
          }
        };

    $rootScope.$on('$locationChangeStart', prepareRoute);
    $rootScope.$on('$locationChangeSuccess', commitRoute);

    return $route;

    /////////////////////////////////////////////////////

    /**
     * @param on {string} current url
     * @param route {Object} route regexp to match the url against
     * @return {?Object}
     *
     * @description
     * Check if the route matches the current url.
     *
     * Inspired by match in
     * visionmedia/express/lib/router/router.js.
     */
    function switchRouteMatcher(on, route) {
      var keys = route.keys,
          params = {};

      if (!route.regexp) return null;

      var m = route.regexp.exec(on);
      if (!m) return null;

      for (var i = 1, len = m.length; i < len; ++i) {
        var key = keys[i - 1];

        var val = m[i];

        if (key && val) {
          params[key.name] = val;
        }
      }
      return params;
    }

    function prepareRoute($locationEvent) {
      var lastRoute = $route.current;

      preparedRoute = parseRoute();
      preparedRouteIsUpdateOnly = preparedRoute && lastRoute && preparedRoute.$$route === lastRoute.$$route
          && angular.equals(preparedRoute.pathParams, lastRoute.pathParams)
          && !preparedRoute.reloadOnSearch && !forceReload;

      if (!preparedRouteIsUpdateOnly && (lastRoute || preparedRoute)) {
        if ($rootScope.$broadcast('$routeChangeStart', preparedRoute, lastRoute).defaultPrevented) {
          if ($locationEvent) {
            $locationEvent.preventDefault();
          }
        }
      }
    }

    function commitRoute() {
      var lastRoute = $route.current;
      var nextRoute = preparedRoute;

      if (preparedRouteIsUpdateOnly) {
        lastRoute.params = nextRoute.params;
        angular.copy(lastRoute.params, $routeParams);
        $rootScope.$broadcast('$routeUpdate', lastRoute);
      } else if (nextRoute || lastRoute) {
        forceReload = false;
        $route.current = nextRoute;
        if (nextRoute) {
          if (nextRoute.redirectTo) {
            if (angular.isString(nextRoute.redirectTo)) {
              $location.path(interpolate(nextRoute.redirectTo, nextRoute.params)).search(nextRoute.params)
                       .replace();
            } else {
              $location.url(nextRoute.redirectTo(nextRoute.pathParams, $location.path(), $location.search()))
                       .replace();
            }
          }
        }

        $q.when(nextRoute).
          then(resolveLocals).
          then(function(locals) {
            // after route change
            if (nextRoute == $route.current) {
              if (nextRoute) {
                nextRoute.locals = locals;
                angular.copy(nextRoute.params, $routeParams);
              }
              $rootScope.$broadcast('$routeChangeSuccess', nextRoute, lastRoute);
            }
          }, function(error) {
            if (nextRoute == $route.current) {
              $rootScope.$broadcast('$routeChangeError', nextRoute, lastRoute, error);
            }
          });
      }
    }

    function resolveLocals(route) {
      if (route) {
        var locals = angular.extend({}, route.resolve);
        angular.forEach(locals, function(value, key) {
          locals[key] = angular.isString(value) ?
              $injector.get(value) :
              $injector.invoke(value, null, null, key);
        });
        var template = getTemplateFor(route);
        if (angular.isDefined(template)) {
          locals['$template'] = template;
        }
        return $q.all(locals);
      }
    }


    function getTemplateFor(route) {
      var template, templateUrl;
      if (angular.isDefined(template = route.template)) {
        if (angular.isFunction(template)) {
          template = template(route.params);
        }
      } else if (angular.isDefined(templateUrl = route.templateUrl)) {
        if (angular.isFunction(templateUrl)) {
          templateUrl = templateUrl(route.params);
        }
        if (angular.isDefined(templateUrl)) {
          route.loadedTemplateUrl = $sce.valueOf(templateUrl);
          template = $templateRequest(templateUrl);
        }
      }
      return template;
    }


    /**
     * @returns {Object} the current active route, by matching it against the URL
     */
    function parseRoute() {
      // Match a route
      var params, match;
      angular.forEach(routes, function(route, path) {
        if (!match && (params = switchRouteMatcher($location.path(), route))) {
          match = inherit(route, {
            params: angular.extend({}, $location.search(), params),
            pathParams: params});
          match.$$route = route;
        }
      });
      // No route matched; fallback to "otherwise" route
      return match || routes[null] && inherit(routes[null], {params: {}, pathParams:{}});
    }

    /**
     * @returns {string} interpolation of the redirect path with the parameters
     */
    function interpolate(string, params) {
      var result = [];
      angular.forEach((string || '').split(':'), function(segment, i) {
        if (i === 0) {
          result.push(segment);
        } else {
          var segmentMatch = segment.match(/(\w+)(?:[?*])?(.*)/);
          var key = segmentMatch[1];
          result.push(params[key]);
          result.push(segmentMatch[2] || '');
          delete params[key];
        }
      });
      return result.join('');
    }
  }];
}

ngRouteModule.provider('$routeParams', $RouteParamsProvider);


/**
 * @ngdoc service
 * @name $routeParams
 * @requires $route
 *
 * @description
 * The `$routeParams` service allows you to retrieve the current set of route parameters.
 *
 * Requires the {@link ngRoute `ngRoute`} module to be installed.
 *
 * The route parameters are a combination of {@link ng.$location `$location`}'s
 * {@link ng.$location#search `search()`} and {@link ng.$location#path `path()`}.
 * The `path` parameters are extracted when the {@link ngRoute.$route `$route`} path is matched.
 *
 * In case of parameter name collision, `path` params take precedence over `search` params.
 *
 * The service guarantees that the identity of the `$routeParams` object will remain unchanged
 * (but its properties will likely change) even when a route change occurs.
 *
 * Note that the `$routeParams` are only updated *after* a route change completes successfully.
 * This means that you cannot rely on `$routeParams` being correct in route resolve functions.
 * Instead you can use `$route.current.params` to access the new route's parameters.
 *
 * @example
 * ```js
 *  // Given:
 *  // URL: http://server.com/index.html#/Chapter/1/Section/2?search=moby
 *  // Route: /Chapter/:chapterId/Section/:sectionId
 *  //
 *  // Then
 *  $routeParams ==> {chapterId:'1', sectionId:'2', search:'moby'}
 * ```
 */
function $RouteParamsProvider() {
  this.$get = function() { return {}; };
}

ngRouteModule.directive('ngView', ngViewFactory);
ngRouteModule.directive('ngView', ngViewFillContentFactory);


/**
 * @ngdoc directive
 * @name ngView
 * @restrict ECA
 *
 * @description
 * # Overview
 * `ngView` is a directive that complements the {@link ngRoute.$route $route} service by
 * including the rendered template of the current route into the main layout (`index.html`) file.
 * Every time the current route changes, the included view changes with it according to the
 * configuration of the `$route` service.
 *
 * Requires the {@link ngRoute `ngRoute`} module to be installed.
 *
 * @animations
 * | Animation                        | Occurs                              |
 * |----------------------------------|-------------------------------------|
 * | {@link ng.$animate#enter enter}  | when the new element is inserted to the DOM |
 * | {@link ng.$animate#leave leave}  | when the old element is removed from to the DOM  |
 *
 * The enter and leave animation occur concurrently.
 *
 * @knownIssue If `ngView` is contained in an asynchronously loaded template (e.g. in another
 *             directive's templateUrl or in a template loaded using `ngInclude`), then you need to
 *             make sure that `$route` is instantiated in time to capture the initial
 *             `$locationChangeStart` event and load the appropriate view. One way to achieve this
 *             is to have it as a dependency in a `.run` block:
 *             `myModule.run(['$route', function() {}]);`
 *
 * @scope
 * @priority 400
 * @param {string=} onload Expression to evaluate whenever the view updates.
 *
 * @param {string=} autoscroll Whether `ngView` should call {@link ng.$anchorScroll
 *                  $anchorScroll} to scroll the viewport after the view is updated.
 *
 *                  - If the attribute is not set, disable scrolling.
 *                  - If the attribute is set without value, enable scrolling.
 *                  - Otherwise enable scrolling only if the `autoscroll` attribute value evaluated
 *                    as an expression yields a truthy value.
 * @example
    <example name="ngView-directive" module="ngViewExample"
             deps="angular-route.js;angular-animate.js"
             animations="true" fixBase="true">
      <file name="index.html">
        <div ng-controller="MainCtrl as main">
          Choose:
          <a href="Book/Moby">Moby</a> |
          <a href="Book/Moby/ch/1">Moby: Ch1</a> |
          <a href="Book/Gatsby">Gatsby</a> |
          <a href="Book/Gatsby/ch/4?key=value">Gatsby: Ch4</a> |
          <a href="Book/Scarlet">Scarlet Letter</a><br/>

          <div class="view-animate-container">
            <div ng-view class="view-animate"></div>
          </div>
          <hr />

          <pre>$location.path() = {{main.$location.path()}}</pre>
          <pre>$route.current.templateUrl = {{main.$route.current.templateUrl}}</pre>
          <pre>$route.current.params = {{main.$route.current.params}}</pre>
          <pre>$routeParams = {{main.$routeParams}}</pre>
        </div>
      </file>

      <file name="book.html">
        <div>
          controller: {{book.name}}<br />
          Book Id: {{book.params.bookId}}<br />
        </div>
      </file>

      <file name="chapter.html">
        <div>
          controller: {{chapter.name}}<br />
          Book Id: {{chapter.params.bookId}}<br />
          Chapter Id: {{chapter.params.chapterId}}
        </div>
      </file>

      <file name="animations.css">
        .view-animate-container {
          position:relative;
          height:100px!important;
          background:white;
          border:1px solid black;
          height:40px;
          overflow:hidden;
        }

        .view-animate {
          padding:10px;
        }

        .view-animate.ng-enter, .view-animate.ng-leave {
          transition:all cubic-bezier(0.250, 0.460, 0.450, 0.940) 1.5s;

          display:block;
          width:100%;
          border-left:1px solid black;

          position:absolute;
          top:0;
          left:0;
          right:0;
          bottom:0;
          padding:10px;
        }

        .view-animate.ng-enter {
          left:100%;
        }
        .view-animate.ng-enter.ng-enter-active {
          left:0;
        }
        .view-animate.ng-leave.ng-leave-active {
          left:-100%;
        }
      </file>

      <file name="script.js">
        angular.module('ngViewExample', ['ngRoute', 'ngAnimate'])
          .config(['$routeProvider', '$locationProvider',
            function($routeProvider, $locationProvider) {
              $routeProvider
                .when('/Book/:bookId', {
                  templateUrl: 'book.html',
                  controller: 'BookCtrl',
                  controllerAs: 'book'
                })
                .when('/Book/:bookId/ch/:chapterId', {
                  templateUrl: 'chapter.html',
                  controller: 'ChapterCtrl',
                  controllerAs: 'chapter'
                });

              $locationProvider.html5Mode(true);
          }])
          .controller('MainCtrl', ['$route', '$routeParams', '$location',
            function($route, $routeParams, $location) {
              this.$route = $route;
              this.$location = $location;
              this.$routeParams = $routeParams;
          }])
          .controller('BookCtrl', ['$routeParams', function($routeParams) {
            this.name = "BookCtrl";
            this.params = $routeParams;
          }])
          .controller('ChapterCtrl', ['$routeParams', function($routeParams) {
            this.name = "ChapterCtrl";
            this.params = $routeParams;
          }]);

      </file>

      <file name="protractor.js" type="protractor">
        it('should load and compile correct template', function() {
          element(by.linkText('Moby: Ch1')).click();
          var content = element(by.css('[ng-view]')).getText();
          expect(content).toMatch(/controller\: ChapterCtrl/);
          expect(content).toMatch(/Book Id\: Moby/);
          expect(content).toMatch(/Chapter Id\: 1/);

          element(by.partialLinkText('Scarlet')).click();

          content = element(by.css('[ng-view]')).getText();
          expect(content).toMatch(/controller\: BookCtrl/);
          expect(content).toMatch(/Book Id\: Scarlet/);
        });
      </file>
    </example>
 */


/**
 * @ngdoc event
 * @name ngView#$viewContentLoaded
 * @eventType emit on the current ngView scope
 * @description
 * Emitted every time the ngView content is reloaded.
 */
ngViewFactory.$inject = ['$route', '$anchorScroll', '$animate'];
function ngViewFactory($route, $anchorScroll, $animate) {
  return {
    restrict: 'ECA',
    terminal: true,
    priority: 400,
    transclude: 'element',
    link: function(scope, $element, attr, ctrl, $transclude) {
        var currentScope,
            currentElement,
            previousLeaveAnimation,
            autoScrollExp = attr.autoscroll,
            onloadExp = attr.onload || '';

        scope.$on('$routeChangeSuccess', update);
        update();

        function cleanupLastView() {
          if (previousLeaveAnimation) {
            $animate.cancel(previousLeaveAnimation);
            previousLeaveAnimation = null;
          }

          if (currentScope) {
            currentScope.$destroy();
            currentScope = null;
          }
          if (currentElement) {
            previousLeaveAnimation = $animate.leave(currentElement);
            previousLeaveAnimation.then(function() {
              previousLeaveAnimation = null;
            });
            currentElement = null;
          }
        }

        function update() {
          var locals = $route.current && $route.current.locals,
              template = locals && locals.$template;

          if (angular.isDefined(template)) {
            var newScope = scope.$new();
            var current = $route.current;

            // Note: This will also link all children of ng-view that were contained in the original
            // html. If that content contains controllers, ... they could pollute/change the scope.
            // However, using ng-view on an element with additional content does not make sense...
            // Note: We can't remove them in the cloneAttchFn of $transclude as that
            // function is called before linking the content, which would apply child
            // directives to non existing elements.
            var clone = $transclude(newScope, function(clone) {
              $animate.enter(clone, null, currentElement || $element).then(function onNgViewEnter() {
                if (angular.isDefined(autoScrollExp)
                  && (!autoScrollExp || scope.$eval(autoScrollExp))) {
                  $anchorScroll();
                }
              });
              cleanupLastView();
            });

            currentElement = clone;
            currentScope = current.scope = newScope;
            currentScope.$emit('$viewContentLoaded');
            currentScope.$eval(onloadExp);
          } else {
            cleanupLastView();
          }
        }
    }
  };
}

// This directive is called during the $transclude call of the first `ngView` directive.
// It will replace and compile the content of the element with the loaded template.
// We need this directive so that the element content is already filled when
// the link function of another directive on the same element as ngView
// is called.
ngViewFillContentFactory.$inject = ['$compile', '$controller', '$route'];
function ngViewFillContentFactory($compile, $controller, $route) {
  return {
    restrict: 'ECA',
    priority: -400,
    link: function(scope, $element) {
      var current = $route.current,
          locals = current.locals;

      $element.html(locals.$template);

      var link = $compile($element.contents());

      if (current.controller) {
        locals.$scope = scope;
        var controller = $controller(current.controller, locals);
        if (current.controllerAs) {
          scope[current.controllerAs] = controller;
        }
        $element.data('$ngControllerController', controller);
        $element.children().data('$ngControllerController', controller);
      }
      scope[current.resolveAs || '$resolve'] = locals;

      link(scope);
    }
  };
}


})(window, window.angular);

/**!
 * Sortable
 * @author	RubaXa   <trash@rubaxa.org>
 * @license MIT
 */


(function (factory) {
	"use strict";

	if (typeof define === "function" && define.amd) {
		define(factory);
	}
	else if (typeof module != "undefined" && typeof module.exports != "undefined") {
		module.exports = factory();
	}
	else if (typeof Package !== "undefined") {
		Sortable = factory();  // export for Meteor.js
	}
	else {
		/* jshint sub:true */
		window["Sortable"] = factory();
	}
})(function () {
	"use strict";

	var dragEl,
		parentEl,
		ghostEl,
		cloneEl,
		rootEl,
		nextEl,

		scrollEl,
		scrollParentEl,

		lastEl,
		lastCSS,
		lastParentCSS,

		oldIndex,
		newIndex,

		activeGroup,
		autoScroll = {},

		tapEvt,
		touchEvt,

		moved,

		/** @const */
		RSPACE = /\s+/g,

		expando = 'Sortable' + (new Date).getTime(),

		win = window,
		document = win.document,
		parseInt = win.parseInt,

		supportDraggable = !!('draggable' in document.createElement('div')),
		supportCssPointerEvents = (function (el) {
			el = document.createElement('x');
			el.style.cssText = 'pointer-events:auto';
			return el.style.pointerEvents === 'auto';
		})(),

		_silent = false,

		abs = Math.abs,
		slice = [].slice,

		touchDragOverListeners = [],

		_autoScroll = _throttle(function (/**Event*/evt, /**Object*/options, /**HTMLElement*/rootEl) {
			// Bug: https://bugzilla.mozilla.org/show_bug.cgi?id=505521
			if (rootEl && options.scroll) {
				var el,
					rect,
					sens = options.scrollSensitivity,
					speed = options.scrollSpeed,

					x = evt.clientX,
					y = evt.clientY,

					winWidth = window.innerWidth,
					winHeight = window.innerHeight,

					vx,
					vy
				;

				// Delect scrollEl
				if (scrollParentEl !== rootEl) {
					scrollEl = options.scroll;
					scrollParentEl = rootEl;

					if (scrollEl === true) {
						scrollEl = rootEl;

						do {
							if ((scrollEl.offsetWidth < scrollEl.scrollWidth) ||
								(scrollEl.offsetHeight < scrollEl.scrollHeight)
							) {
								break;
							}
							/* jshint boss:true */
						} while (scrollEl = scrollEl.parentNode);
					}
				}

				if (scrollEl) {
					el = scrollEl;
					rect = scrollEl.getBoundingClientRect();
					vx = (abs(rect.right - x) <= sens) - (abs(rect.left - x) <= sens);
					vy = (abs(rect.bottom - y) <= sens) - (abs(rect.top - y) <= sens);
				}


				if (!(vx || vy)) {
					vx = (winWidth - x <= sens) - (x <= sens);
					vy = (winHeight - y <= sens) - (y <= sens);

					/* jshint expr:true */
					(vx || vy) && (el = win);
				}


				if (autoScroll.vx !== vx || autoScroll.vy !== vy || autoScroll.el !== el) {
					autoScroll.el = el;
					autoScroll.vx = vx;
					autoScroll.vy = vy;

					clearInterval(autoScroll.pid);

					if (el) {
						autoScroll.pid = setInterval(function () {
							if (el === win) {
								win.scrollTo(win.pageXOffset + vx * speed, win.pageYOffset + vy * speed);
							} else {
								vy && (el.scrollTop += vy * speed);
								vx && (el.scrollLeft += vx * speed);
							}
						}, 24);
					}
				}
			}
		}, 30),

		_prepareGroup = function (options) {
			var group = options.group;

			if (!group || typeof group != 'object') {
				group = options.group = {name: group};
			}

			['pull', 'put'].forEach(function (key) {
				if (!(key in group)) {
					group[key] = true;
				}
			});

			options.groups = ' ' + group.name + (group.put.join ? ' ' + group.put.join(' ') : '') + ' ';
		}
	;



	/**
	 * @class  Sortable
	 * @param  {HTMLElement}  el
	 * @param  {Object}       [options]
	 */
	function Sortable(el, options) {
		if (!(el && el.nodeType && el.nodeType === 1)) {
			throw 'Sortable: `el` must be HTMLElement, and not ' + {}.toString.call(el);
		}

		this.el = el; // root element
		this.options = options = _extend({}, options);


		// Export instance
		el[expando] = this;


		// Default options
		var defaults = {
			group: Math.random(),
			sort: true,
			disabled: false,
			store: null,
			handle: null,
			scroll: true,
			scrollSensitivity: 30,
			scrollSpeed: 10,
			draggable: /[uo]l/i.test(el.nodeName) ? 'li' : '>*',
			ghostClass: 'sortable-ghost',
			chosenClass: 'sortable-chosen',
			ignore: 'a, img',
			filter: null,
			animation: 0,
			setData: function (dataTransfer, dragEl) {
				dataTransfer.setData('Text', dragEl.textContent);
			},
			dropBubble: false,
			dragoverBubble: false,
			dataIdAttr: 'data-id',
			delay: 0,
			forceFallback: false,
			fallbackClass: 'sortable-fallback',
			fallbackOnBody: false
		};


		// Set default options
		for (var name in defaults) {
			!(name in options) && (options[name] = defaults[name]);
		}

		_prepareGroup(options);

		// Bind all private methods
		for (var fn in this) {
			if (fn.charAt(0) === '_') {
				this[fn] = this[fn].bind(this);
			}
		}

		// Setup drag mode
		this.nativeDraggable = options.forceFallback ? false : supportDraggable;

		// Bind events
		_on(el, 'mousedown', this._onTapStart);
		_on(el, 'touchstart', this._onTapStart);

		if (this.nativeDraggable) {
			_on(el, 'dragover', this);
			_on(el, 'dragenter', this);
		}

		touchDragOverListeners.push(this._onDragOver);

		// Restore sorting
		options.store && this.sort(options.store.get(this));
	}


	Sortable.prototype = /** @lends Sortable.prototype */ {
		constructor: Sortable,

		_onTapStart: function (/** Event|TouchEvent */evt) {
			var _this = this,
				el = this.el,
				options = this.options,
				type = evt.type,
				touch = evt.touches && evt.touches[0],
				target = (touch || evt).target,
				originalTarget = target,
				filter = options.filter;


			if (type === 'mousedown' && evt.button !== 0 || options.disabled) {
				return; // only left button or enabled
			}

			target = _closest(target, options.draggable, el);

			if (!target) {
				return;
			}

			// get the index of the dragged element within its parent
			oldIndex = _index(target);

			// Check filter
			if (typeof filter === 'function') {
				if (filter.call(this, evt, target, this)) {
					_dispatchEvent(_this, originalTarget, 'filter', target, el, oldIndex);
					evt.preventDefault();
					return; // cancel dnd
				}
			}
			else if (filter) {
				filter = filter.split(',').some(function (criteria) {
					criteria = _closest(originalTarget, criteria.trim(), el);

					if (criteria) {
						_dispatchEvent(_this, criteria, 'filter', target, el, oldIndex);
						return true;
					}
				});

				if (filter) {
					evt.preventDefault();
					return; // cancel dnd
				}
			}


			if (options.handle && !_closest(originalTarget, options.handle, el)) {
				return;
			}


			// Prepare `dragstart`
			this._prepareDragStart(evt, touch, target);
		},

		_prepareDragStart: function (/** Event */evt, /** Touch */touch, /** HTMLElement */target) {
			var _this = this,
				el = _this.el,
				options = _this.options,
				ownerDocument = el.ownerDocument,
				dragStartFn;

			if (target && !dragEl && (target.parentNode === el)) {
				tapEvt = evt;

				rootEl = el;
				dragEl = target;
				parentEl = dragEl.parentNode;
				nextEl = dragEl.nextSibling;
				activeGroup = options.group;

				dragStartFn = function () {
					// Delayed drag has been triggered
					// we can re-enable the events: touchmove/mousemove
					_this._disableDelayedDrag();

					// Make the element draggable
					dragEl.draggable = true;

					// Chosen item
					_toggleClass(dragEl, _this.options.chosenClass, true);

					// Bind the events: dragstart/dragend
					_this._triggerDragStart(touch);
				};

				// Disable "draggable"
				options.ignore.split(',').forEach(function (criteria) {
					_find(dragEl, criteria.trim(), _disableDraggable);
				});

				_on(ownerDocument, 'mouseup', _this._onDrop);
				_on(ownerDocument, 'touchend', _this._onDrop);
				_on(ownerDocument, 'touchcancel', _this._onDrop);

				if (options.delay) {
					// If the user moves the pointer or let go the click or touch
					// before the delay has been reached:
					// disable the delayed drag
					_on(ownerDocument, 'mouseup', _this._disableDelayedDrag);
					_on(ownerDocument, 'touchend', _this._disableDelayedDrag);
					_on(ownerDocument, 'touchcancel', _this._disableDelayedDrag);
					_on(ownerDocument, 'mousemove', _this._disableDelayedDrag);
					_on(ownerDocument, 'touchmove', _this._disableDelayedDrag);

					_this._dragStartTimer = setTimeout(dragStartFn, options.delay);
				} else {
					dragStartFn();
				}
			}
		},

		_disableDelayedDrag: function () {
			var ownerDocument = this.el.ownerDocument;

			clearTimeout(this._dragStartTimer);
			_off(ownerDocument, 'mouseup', this._disableDelayedDrag);
			_off(ownerDocument, 'touchend', this._disableDelayedDrag);
			_off(ownerDocument, 'touchcancel', this._disableDelayedDrag);
			_off(ownerDocument, 'mousemove', this._disableDelayedDrag);
			_off(ownerDocument, 'touchmove', this._disableDelayedDrag);
		},

		_triggerDragStart: function (/** Touch */touch) {
			if (touch) {
				// Touch device support
				tapEvt = {
					target: dragEl,
					clientX: touch.clientX,
					clientY: touch.clientY
				};

				this._onDragStart(tapEvt, 'touch');
			}
			else if (!this.nativeDraggable) {
				this._onDragStart(tapEvt, true);
			}
			else {
				_on(dragEl, 'dragend', this);
				_on(rootEl, 'dragstart', this._onDragStart);
			}

			try {
				if (document.selection) {
					document.selection.empty();
				} else {
					window.getSelection().removeAllRanges();
				}
			} catch (err) {
			}
		},

		_dragStarted: function () {
			if (rootEl && dragEl) {
				// Apply effect
				_toggleClass(dragEl, this.options.ghostClass, true);

				Sortable.active = this;

				// Drag start event
				_dispatchEvent(this, rootEl, 'start', dragEl, rootEl, oldIndex);
			}
		},

		_emulateDragOver: function () {
			if (touchEvt) {
				if (this._lastX === touchEvt.clientX && this._lastY === touchEvt.clientY) {
					return;
				}

				this._lastX = touchEvt.clientX;
				this._lastY = touchEvt.clientY;

				if (!supportCssPointerEvents) {
					_css(ghostEl, 'display', 'none');
				}

				var target = document.elementFromPoint(touchEvt.clientX, touchEvt.clientY),
					parent = target,
					groupName = ' ' + this.options.group.name + '',
					i = touchDragOverListeners.length;

				if (parent) {
					do {
						if (parent[expando] && parent[expando].options.groups.indexOf(groupName) > -1) {
							while (i--) {
								touchDragOverListeners[i]({
									clientX: touchEvt.clientX,
									clientY: touchEvt.clientY,
									target: target,
									rootEl: parent
								});
							}

							break;
						}

						target = parent; // store last element
					}
					/* jshint boss:true */
					while (parent = parent.parentNode);
				}

				if (!supportCssPointerEvents) {
					_css(ghostEl, 'display', '');
				}
			}
		},


		_onTouchMove: function (/**TouchEvent*/evt) {
			if (tapEvt) {
				// only set the status to dragging, when we are actually dragging
				if (!Sortable.active) {
					this._dragStarted();
				}

				// as well as creating the ghost element on the document body
				this._appendGhost();

				var touch = evt.touches ? evt.touches[0] : evt,
					dx = touch.clientX - tapEvt.clientX,
					dy = touch.clientY - tapEvt.clientY,
					translate3d = evt.touches ? 'translate3d(' + dx + 'px,' + dy + 'px,0)' : 'translate(' + dx + 'px,' + dy + 'px)';

				moved = true;
				touchEvt = touch;

				_css(ghostEl, 'webkitTransform', translate3d);
				_css(ghostEl, 'mozTransform', translate3d);
				_css(ghostEl, 'msTransform', translate3d);
				_css(ghostEl, 'transform', translate3d);

				evt.preventDefault();
			}
		},

		_appendGhost: function () {
			if (!ghostEl) {
				var rect = dragEl.getBoundingClientRect(),
					css = _css(dragEl),
					options = this.options,
					ghostRect;

				ghostEl = dragEl.cloneNode(true);

				_toggleClass(ghostEl, options.ghostClass, false);
				_toggleClass(ghostEl, options.fallbackClass, true);

				_css(ghostEl, 'top', rect.top - parseInt(css.marginTop, 10));
				_css(ghostEl, 'left', rect.left - parseInt(css.marginLeft, 10));
				_css(ghostEl, 'width', rect.width);
				_css(ghostEl, 'height', rect.height);
				_css(ghostEl, 'opacity', '0.8');
				_css(ghostEl, 'position', 'fixed');
				_css(ghostEl, 'zIndex', '100000');
				_css(ghostEl, 'pointerEvents', 'none');

				options.fallbackOnBody && document.body.appendChild(ghostEl) || rootEl.appendChild(ghostEl);

				// Fixing dimensions.
				ghostRect = ghostEl.getBoundingClientRect();
				_css(ghostEl, 'width', rect.width * 2 - ghostRect.width);
				_css(ghostEl, 'height', rect.height * 2 - ghostRect.height);
			}
		},

		_onDragStart: function (/**Event*/evt, /**boolean*/useFallback) {
			var dataTransfer = evt.dataTransfer,
				options = this.options;

			this._offUpEvents();

			if (activeGroup.pull == 'clone') {
				cloneEl = dragEl.cloneNode(true);
				_css(cloneEl, 'display', 'none');
				rootEl.insertBefore(cloneEl, dragEl);
			}

			if (useFallback) {

				if (useFallback === 'touch') {
					// Bind touch events
					_on(document, 'touchmove', this._onTouchMove);
					_on(document, 'touchend', this._onDrop);
					_on(document, 'touchcancel', this._onDrop);
				} else {
					// Old brwoser
					_on(document, 'mousemove', this._onTouchMove);
					_on(document, 'mouseup', this._onDrop);
				}

				this._loopId = setInterval(this._emulateDragOver, 50);
			}
			else {
				if (dataTransfer) {
					dataTransfer.effectAllowed = 'move';
					options.setData && options.setData.call(this, dataTransfer, dragEl);
				}

				_on(document, 'drop', this);
				setTimeout(this._dragStarted, 0);
			}
		},

		_onDragOver: function (/**Event*/evt) {
			var el = this.el,
				target,
				dragRect,
				revert,
				options = this.options,
				group = options.group,
				groupPut = group.put,
				isOwner = (activeGroup === group),
				canSort = options.sort;

			if (evt.preventDefault !== void 0) {
				evt.preventDefault();
				!options.dragoverBubble && evt.stopPropagation();
			}

			moved = true;

			if (activeGroup && !options.disabled &&
				(isOwner
					? canSort || (revert = !rootEl.contains(dragEl)) // Reverting item into the original list
					: activeGroup.pull && groupPut && (
						(activeGroup.name === group.name) || // by Name
						(groupPut.indexOf && ~groupPut.indexOf(activeGroup.name)) // by Array
					)
				) &&
				(evt.rootEl === void 0 || evt.rootEl === this.el) // touch fallback
			) {
				// Smart auto-scrolling
				_autoScroll(evt, options, this.el);

				if (_silent) {
					return;
				}

				target = _closest(evt.target, options.draggable, el);
				dragRect = dragEl.getBoundingClientRect();

				if (revert) {
					_cloneHide(true);

					if (cloneEl || nextEl) {
						rootEl.insertBefore(dragEl, cloneEl || nextEl);
					}
					else if (!canSort) {
						rootEl.appendChild(dragEl);
					}

					return;
				}


				if ((el.children.length === 0) || (el.children[0] === ghostEl) ||
					(el === evt.target) && (target = _ghostIsLast(el, evt))
				) {

					if (target) {
						if (target.animated) {
							return;
						}

						targetRect = target.getBoundingClientRect();
					}

					_cloneHide(isOwner);

					if (_onMove(rootEl, el, dragEl, dragRect, target, targetRect) !== false) {
						if (!dragEl.contains(el)) {
							el.appendChild(dragEl);
							parentEl = el; // actualization
						}

						this._animate(dragRect, dragEl);
						target && this._animate(targetRect, target);
					}
				}
				else if (target && !target.animated && target !== dragEl && (target.parentNode[expando] !== void 0)) {
					if (lastEl !== target) {
						lastEl = target;
						lastCSS = _css(target);
						lastParentCSS = _css(target.parentNode);
					}


					var targetRect = target.getBoundingClientRect(),
						width = targetRect.right - targetRect.left,
						height = targetRect.bottom - targetRect.top,
						floating = /left|right|inline/.test(lastCSS.cssFloat + lastCSS.display)
							|| (lastParentCSS.display == 'flex' && lastParentCSS['flex-direction'].indexOf('row') === 0),
						isWide = (target.offsetWidth > dragEl.offsetWidth),
						isLong = (target.offsetHeight > dragEl.offsetHeight),
						halfway = (floating ? (evt.clientX - targetRect.left) / width : (evt.clientY - targetRect.top) / height) > 0.5,
						nextSibling = target.nextElementSibling,
						moveVector = _onMove(rootEl, el, dragEl, dragRect, target, targetRect),
						after
					;

					if (moveVector !== false) {
						_silent = true;
						setTimeout(_unsilent, 30);

						_cloneHide(isOwner);

						if (moveVector === 1 || moveVector === -1) {
							after = (moveVector === 1);
						}
						else if (floating) {
							var elTop = dragEl.offsetTop,
								tgTop = target.offsetTop;

							if (elTop === tgTop) {
								after = (target.previousElementSibling === dragEl) && !isWide || halfway && isWide;
							} else {
								after = tgTop > elTop;
							}
						} else {
							after = (nextSibling !== dragEl) && !isLong || halfway && isLong;
						}

						if (!dragEl.contains(el)) {
							if (after && !nextSibling) {
								el.appendChild(dragEl);
							} else {
								target.parentNode.insertBefore(dragEl, after ? nextSibling : target);
							}
						}

						parentEl = dragEl.parentNode; // actualization

						this._animate(dragRect, dragEl);
						this._animate(targetRect, target);
					}
				}
			}
		},

		_animate: function (prevRect, target) {
			var ms = this.options.animation;

			if (ms) {
				var currentRect = target.getBoundingClientRect();

				_css(target, 'transition', 'none');
				_css(target, 'transform', 'translate3d('
					+ (prevRect.left - currentRect.left) + 'px,'
					+ (prevRect.top - currentRect.top) + 'px,0)'
				);

				target.offsetWidth; // repaint

				_css(target, 'transition', 'all ' + ms + 'ms');
				_css(target, 'transform', 'translate3d(0,0,0)');

				clearTimeout(target.animated);
				target.animated = setTimeout(function () {
					_css(target, 'transition', '');
					_css(target, 'transform', '');
					target.animated = false;
				}, ms);
			}
		},

		_offUpEvents: function () {
			var ownerDocument = this.el.ownerDocument;

			_off(document, 'touchmove', this._onTouchMove);
			_off(ownerDocument, 'mouseup', this._onDrop);
			_off(ownerDocument, 'touchend', this._onDrop);
			_off(ownerDocument, 'touchcancel', this._onDrop);
		},

		_onDrop: function (/**Event*/evt) {
			var el = this.el,
				options = this.options;

			clearInterval(this._loopId);
			clearInterval(autoScroll.pid);
			clearTimeout(this._dragStartTimer);

			// Unbind events
			_off(document, 'mousemove', this._onTouchMove);

			if (this.nativeDraggable) {
				_off(document, 'drop', this);
				_off(el, 'dragstart', this._onDragStart);
			}

			this._offUpEvents();

			if (evt) {
				if (moved) {
					evt.preventDefault();
					!options.dropBubble && evt.stopPropagation();
				}

				ghostEl && ghostEl.parentNode.removeChild(ghostEl);

				if (dragEl) {
					if (this.nativeDraggable) {
						_off(dragEl, 'dragend', this);
					}

					_disableDraggable(dragEl);

					// Remove class's
					_toggleClass(dragEl, this.options.ghostClass, false);
					_toggleClass(dragEl, this.options.chosenClass, false);

					if (rootEl !== parentEl) {
						newIndex = _index(dragEl);

						if (newIndex >= 0) {
							// drag from one list and drop into another
							_dispatchEvent(null, parentEl, 'sort', dragEl, rootEl, oldIndex, newIndex);
							_dispatchEvent(this, rootEl, 'sort', dragEl, rootEl, oldIndex, newIndex);

							// Add event
							_dispatchEvent(null, parentEl, 'add', dragEl, rootEl, oldIndex, newIndex);

							// Remove event
							_dispatchEvent(this, rootEl, 'remove', dragEl, rootEl, oldIndex, newIndex);
						}
					}
					else {
						// Remove clone
						cloneEl && cloneEl.parentNode.removeChild(cloneEl);

						if (dragEl.nextSibling !== nextEl) {
							// Get the index of the dragged element within its parent
							newIndex = _index(dragEl);

							if (newIndex >= 0) {
								// drag & drop within the same list
								_dispatchEvent(this, rootEl, 'update', dragEl, rootEl, oldIndex, newIndex);
								_dispatchEvent(this, rootEl, 'sort', dragEl, rootEl, oldIndex, newIndex);
							}
						}
					}

					if (Sortable.active) {
						if (newIndex === null || newIndex === -1) {
							newIndex = oldIndex;
						}

						_dispatchEvent(this, rootEl, 'end', dragEl, rootEl, oldIndex, newIndex);

						// Save sorting
						this.save();
					}
				}

				// Nulling
				rootEl =
				dragEl =
				parentEl =
				ghostEl =
				nextEl =
				cloneEl =

				scrollEl =
				scrollParentEl =

				tapEvt =
				touchEvt =

				moved =
				newIndex =

				lastEl =
				lastCSS =

				activeGroup =
				Sortable.active = null;
			}
		},


		handleEvent: function (/**Event*/evt) {
			var type = evt.type;

			if (type === 'dragover' || type === 'dragenter') {
				if (dragEl) {
					this._onDragOver(evt);
					_globalDragOver(evt);
				}
			}
			else if (type === 'drop' || type === 'dragend') {
				this._onDrop(evt);
			}
		},


		/**
		 * Serializes the item into an array of string.
		 * @returns {String[]}
		 */
		toArray: function () {
			var order = [],
				el,
				children = this.el.children,
				i = 0,
				n = children.length,
				options = this.options;

			for (; i < n; i++) {
				el = children[i];
				if (_closest(el, options.draggable, this.el)) {
					order.push(el.getAttribute(options.dataIdAttr) || _generateId(el));
				}
			}

			return order;
		},


		/**
		 * Sorts the elements according to the array.
		 * @param  {String[]}  order  order of the items
		 */
		sort: function (order) {
			var items = {}, rootEl = this.el;

			this.toArray().forEach(function (id, i) {
				var el = rootEl.children[i];

				if (_closest(el, this.options.draggable, rootEl)) {
					items[id] = el;
				}
			}, this);

			order.forEach(function (id) {
				if (items[id]) {
					rootEl.removeChild(items[id]);
					rootEl.appendChild(items[id]);
				}
			});
		},


		/**
		 * Save the current sorting
		 */
		save: function () {
			var store = this.options.store;
			store && store.set(this);
		},


		/**
		 * For each element in the set, get the first element that matches the selector by testing the element itself and traversing up through its ancestors in the DOM tree.
		 * @param   {HTMLElement}  el
		 * @param   {String}       [selector]  default: `options.draggable`
		 * @returns {HTMLElement|null}
		 */
		closest: function (el, selector) {
			return _closest(el, selector || this.options.draggable, this.el);
		},


		/**
		 * Set/get option
		 * @param   {string} name
		 * @param   {*}      [value]
		 * @returns {*}
		 */
		option: function (name, value) {
			var options = this.options;

			if (value === void 0) {
				return options[name];
			} else {
				options[name] = value;

				if (name === 'group') {
					_prepareGroup(options);
				}
			}
		},


		/**
		 * Destroy
		 */
		destroy: function () {
			var el = this.el;

			el[expando] = null;

			_off(el, 'mousedown', this._onTapStart);
			_off(el, 'touchstart', this._onTapStart);

			if (this.nativeDraggable) {
				_off(el, 'dragover', this);
				_off(el, 'dragenter', this);
			}

			// Remove draggable attributes
			Array.prototype.forEach.call(el.querySelectorAll('[draggable]'), function (el) {
				el.removeAttribute('draggable');
			});

			touchDragOverListeners.splice(touchDragOverListeners.indexOf(this._onDragOver), 1);

			this._onDrop();

			this.el = el = null;
		}
	};


	function _cloneHide(state) {
		if (cloneEl && (cloneEl.state !== state)) {
			_css(cloneEl, 'display', state ? 'none' : '');
			!state && cloneEl.state && rootEl.insertBefore(cloneEl, dragEl);
			cloneEl.state = state;
		}
	}


	function _closest(/**HTMLElement*/el, /**String*/selector, /**HTMLElement*/ctx) {
		if (el) {
			ctx = ctx || document;
			selector = selector.split('.');

			var tag = selector.shift().toUpperCase(),
				re = new RegExp('\\s(' + selector.join('|') + ')(?=\\s)', 'g');

			do {
				if (
					(tag === '>*' && el.parentNode === ctx) || (
						(tag === '' || el.nodeName.toUpperCase() == tag) &&
						(!selector.length || ((' ' + el.className + ' ').match(re) || []).length == selector.length)
					)
				) {
					return el;
				}
			}
			while (el !== ctx && (el = el.parentNode));
		}

		return null;
	}


	function _globalDragOver(/**Event*/evt) {
		if (evt.dataTransfer) {
			evt.dataTransfer.dropEffect = 'move';
		}
		evt.preventDefault();
	}


	function _on(el, event, fn) {
		el.addEventListener(event, fn, false);
	}


	function _off(el, event, fn) {
		el.removeEventListener(event, fn, false);
	}


	function _toggleClass(el, name, state) {
		if (el) {
			if (el.classList) {
				el.classList[state ? 'add' : 'remove'](name);
			}
			else {
				var className = (' ' + el.className + ' ').replace(RSPACE, ' ').replace(' ' + name + ' ', ' ');
				el.className = (className + (state ? ' ' + name : '')).replace(RSPACE, ' ');
			}
		}
	}


	function _css(el, prop, val) {
		var style = el && el.style;

		if (style) {
			if (val === void 0) {
				if (document.defaultView && document.defaultView.getComputedStyle) {
					val = document.defaultView.getComputedStyle(el, '');
				}
				else if (el.currentStyle) {
					val = el.currentStyle;
				}

				return prop === void 0 ? val : val[prop];
			}
			else {
				if (!(prop in style)) {
					prop = '-webkit-' + prop;
				}

				style[prop] = val + (typeof val === 'string' ? '' : 'px');
			}
		}
	}


	function _find(ctx, tagName, iterator) {
		if (ctx) {
			var list = ctx.getElementsByTagName(tagName), i = 0, n = list.length;

			if (iterator) {
				for (; i < n; i++) {
					iterator(list[i], i);
				}
			}

			return list;
		}

		return [];
	}



	function _dispatchEvent(sortable, rootEl, name, targetEl, fromEl, startIndex, newIndex) {
		var evt = document.createEvent('Event'),
			options = (sortable || rootEl[expando]).options,
			onName = 'on' + name.charAt(0).toUpperCase() + name.substr(1);

		evt.initEvent(name, true, true);

		evt.to = rootEl;
		evt.from = fromEl || rootEl;
		evt.item = targetEl || rootEl;
		evt.clone = cloneEl;

		evt.oldIndex = startIndex;
		evt.newIndex = newIndex;

		rootEl.dispatchEvent(evt);

		if (options[onName]) {
			options[onName].call(sortable, evt);
		}
	}


	function _onMove(fromEl, toEl, dragEl, dragRect, targetEl, targetRect) {
		var evt,
			sortable = fromEl[expando],
			onMoveFn = sortable.options.onMove,
			retVal;

		evt = document.createEvent('Event');
		evt.initEvent('move', true, true);

		evt.to = toEl;
		evt.from = fromEl;
		evt.dragged = dragEl;
		evt.draggedRect = dragRect;
		evt.related = targetEl || toEl;
		evt.relatedRect = targetRect || toEl.getBoundingClientRect();

		fromEl.dispatchEvent(evt);

		if (onMoveFn) {
			retVal = onMoveFn.call(sortable, evt);
		}

		return retVal;
	}


	function _disableDraggable(el) {
		el.draggable = false;
	}


	function _unsilent() {
		_silent = false;
	}


	/** @returns {HTMLElement|false} */
	function _ghostIsLast(el, evt) {
		var lastEl = el.lastElementChild,
				rect = lastEl.getBoundingClientRect();

		return ((evt.clientY - (rect.top + rect.height) > 5) || (evt.clientX - (rect.right + rect.width) > 5)) && lastEl; // min delta
	}


	/**
	 * Generate id
	 * @param   {HTMLElement} el
	 * @returns {String}
	 * @private
	 */
	function _generateId(el) {
		var str = el.tagName + el.className + el.src + el.href + el.textContent,
			i = str.length,
			sum = 0;

		while (i--) {
			sum += str.charCodeAt(i);
		}

		return sum.toString(36);
	}

	/**
	 * Returns the index of an element within its parent
	 * @param  {HTMLElement} el
	 * @return {number}
	 */
	function _index(el) {
		var index = 0;

		if (!el || !el.parentNode) {
			return -1;
		}

		while (el && (el = el.previousElementSibling)) {
			if (el.nodeName.toUpperCase() !== 'TEMPLATE') {
				index++;
			}
		}

		return index;
	}

	function _throttle(callback, ms) {
		var args, _this;

		return function () {
			if (args === void 0) {
				args = arguments;
				_this = this;

				setTimeout(function () {
					if (args.length === 1) {
						callback.call(_this, args[0]);
					} else {
						callback.apply(_this, args);
					}

					args = void 0;
				}, ms);
			}
		};
	}

	function _extend(dst, src) {
		if (dst && src) {
			for (var key in src) {
				if (src.hasOwnProperty(key)) {
					dst[key] = src[key];
				}
			}
		}

		return dst;
	}


	// Export utils
	Sortable.utils = {
		on: _on,
		off: _off,
		css: _css,
		find: _find,
		is: function (el, selector) {
			return !!_closest(el, selector, el);
		},
		extend: _extend,
		throttle: _throttle,
		closest: _closest,
		toggleClass: _toggleClass,
		index: _index
	};


	/**
	 * Create sortable instance
	 * @param {HTMLElement}  el
	 * @param {Object}      [options]
	 */
	Sortable.create = function (el, options) {
		return new Sortable(el, options);
	};


	// Export
	Sortable.version = '1.4.2';
	return Sortable;
});

/**
 * @author RubaXa <trash@rubaxa.org>
 * @licence MIT
 */
(function (factory) {
	'use strict';

	if (typeof define === 'function' && define.amd) {
		define(['angular', './Sortable'], factory);
	}
	else if (typeof require === 'function' && typeof exports === 'object' && typeof module === 'object') {
		require('angular');
		factory(angular, require('./Sortable'));
		module.exports = 'ng-sortable';
	}
	else if (window.angular && window.Sortable) {
		factory(angular, Sortable);
	}
})(function (angular, Sortable) {
	'use strict';


	/**
	 * @typedef   {Object}        ngSortEvent
	 * @property  {*}             model      List item
	 * @property  {Object|Array}  models     List of items
	 * @property  {number}        oldIndex   before sort
	 * @property  {number}        newIndex   after sort
	 */

	var expando = 'Sortable:ng-sortable';

	angular.module('ng-sortable', [])
		.constant('ngSortableVersion', '0.4.0')
		.constant('ngSortableConfig', {})
		.directive('ngSortable', ['$parse', 'ngSortableConfig', function ($parse, ngSortableConfig) {
			var removed,
				nextSibling;

			function getNgRepeatExpression(node) {
				return node.getAttribute('ng-repeat') || node.getAttribute('data-ng-repeat') || node.getAttribute('x-ng-repeat');
			}

			// Export
			return {
				restrict: 'AC',
				scope: { ngSortable: "=?" },
				priority: 1001,
				compile: function ($element, $attr) {

					var ngRepeat = [].filter.call($element[0].childNodes, function (node) {
						return node.nodeType === Node.ELEMENT_NODE && getNgRepeatExpression(node);
					})[0];

					if (!ngRepeat) {
						return;
					}

					var match = getNgRepeatExpression(ngRepeat)
						.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);

					if (!match) {
						return;
					}

					var rhs = match[2];

					return function postLink(scope, $el) {
						var itemsExpr = $parse(rhs);
						var getSource = function getSource() {
							return itemsExpr(scope.$parent) || [];
						};


						var el = $el[0],
							options = angular.extend(scope.ngSortable || {}, ngSortableConfig),
							watchers = [],
							offDestroy,
							sortable
						;

						el[expando] = getSource;

						function _emitEvent(/**Event*/evt, /*Mixed*/item) {
							var name = 'on' + evt.type.charAt(0).toUpperCase() + evt.type.substr(1);
							var source = getSource();

							/* jshint expr:true */
							options[name] && options[name]({
								model: item || source[evt.newIndex],
								models: source,
								oldIndex: evt.oldIndex,
								newIndex: evt.newIndex,
								originalEvent: evt
							});
						}


						function _sync(/**Event*/evt) {
							var items = getSource();

							if (!items) {
								// Without ng-repeat
								return;
							}

							var oldIndex = evt.oldIndex,
								newIndex = evt.newIndex;

							if (el !== evt.from) {
								var prevItems = evt.from[expando]();

								removed = prevItems[oldIndex];

								if (evt.clone) {
									removed = angular.copy(removed);
									prevItems.splice(Sortable.utils.index(evt.clone, sortable.options.draggable), 0, prevItems.splice(oldIndex, 1)[0]);
									evt.from.removeChild(evt.clone);
								}
								else {
									prevItems.splice(oldIndex, 1);
								}

								items.splice(newIndex, 0, removed);

								evt.from.insertBefore(evt.item, nextSibling); // revert element
							}
							else {
								items.splice(newIndex, 0, items.splice(oldIndex, 1)[0]);

								// move ng-repeat comment node to right position
								if (nextSibling.nodeType === Node.COMMENT_NODE) {
									evt.from.insertBefore(nextSibling, evt.item.nextSibling);
								}
							}

							scope.$apply();
						}

						function _destroy() {
							offDestroy();

							angular.forEach(watchers, function (/** Function */unwatch) {
								unwatch();
							});

							sortable.destroy();

							el[expando] = null;
							el = null;
							watchers = null;
							sortable = null;
							nextSibling = null;
						}


						// Initialization
						sortable = Sortable.create(el, Object.keys(options).reduce(function (opts, name) {
							opts[name] = opts[name] || options[name];
							return opts;
						}, {
							onStart: function (/**Event*/evt) {
								nextSibling = evt.from === evt.item.parentNode ? evt.item.nextSibling : evt.clone.nextSibling;
								_emitEvent(evt);
								scope.$apply();
							},
							onEnd: function (/**Event*/evt) {
								_emitEvent(evt, removed);
								scope.$apply();
							},
							onAdd: function (/**Event*/evt) {
								_sync(evt);
								_emitEvent(evt, removed);
								scope.$apply();
							},
							onUpdate: function (/**Event*/evt) {
								_sync(evt);
								_emitEvent(evt);
							},
							onRemove: function (/**Event*/evt) {
								_emitEvent(evt, removed);
							},
							onSort: function (/**Event*/evt) {
								_emitEvent(evt);
							}
						}));

						// Create watchers for `options`
						angular.forEach([
							'sort', 'disabled', 'draggable', 'handle', 'animation', 'group', 'ghostClass', 'filter',
							'onStart', 'onEnd', 'onAdd', 'onUpdate', 'onRemove', 'onSort', 'onMove', 'onClone', 'setData'
						], function (name) {
							watchers.push(scope.$watch('ngSortable.' + name, function (value) {
								if (value !== void 0) {
									options[name] = value;

									if (!/^on[A-Z]/.test(name)) {
										sortable.option(name, value);
									}
								}
							}));
						});

						offDestroy = scope.$on('$destroy', _destroy);

					}
				}
			};
		}]);
});

/**
 * State-based routing for AngularJS
 * @version v0.3.2
 * @link http://angular-ui.github.com/
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="ui.router"),function(a,b,c){"use strict";function d(a,b){return S(new(S(function(){},{prototype:a})),b)}function e(a){return R(arguments,function(b){b!==a&&R(b,function(b,c){a.hasOwnProperty(c)||(a[c]=b)})}),a}function f(a,b){var c=[];for(var d in a.path){if(a.path[d]!==b.path[d])break;c.push(a.path[d])}return c}function g(a){if(Object.keys)return Object.keys(a);var b=[];return R(a,function(a,c){b.push(c)}),b}function h(a,b){if(Array.prototype.indexOf)return a.indexOf(b,Number(arguments[2])||0);var c=a.length>>>0,d=Number(arguments[2])||0;for(d=d<0?Math.ceil(d):Math.floor(d),d<0&&(d+=c);d<c;d++)if(d in a&&a[d]===b)return d;return-1}function i(a,b,c,d){var e,i=f(c,d),j={},k=[];for(var l in i)if(i[l]&&i[l].params&&(e=g(i[l].params),e.length))for(var m in e)h(k,e[m])>=0||(k.push(e[m]),j[e[m]]=a[e[m]]);return S({},j,b)}function j(a,b,c){if(!c){c=[];for(var d in a)c.push(d)}for(var e=0;e<c.length;e++){var f=c[e];if(a[f]!=b[f])return!1}return!0}function k(a,b){var c={};return R(a,function(a){c[a]=b[a]}),c}function l(a){var b={},c=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));return R(c,function(c){c in a&&(b[c]=a[c])}),b}function m(a){var b={},c=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(var d in a)h(c,d)==-1&&(b[d]=a[d]);return b}function n(a,b){var c=Q(a),d=c?[]:{};return R(a,function(a,e){b(a,e)&&(d[c?d.length:e]=a)}),d}function o(a,b){var c=Q(a)?[]:{};return R(a,function(a,d){c[d]=b(a,d)}),c}function p(a){return a.then(c,function(){})&&a}function q(a,b){var d=1,f=2,i={},j=[],k=i,l=S(a.when(i),{$$promises:i,$$values:i});this.study=function(i){function n(a,c){if(s[c]!==f){if(r.push(c),s[c]===d)throw r.splice(0,h(r,c)),new Error("Cyclic dependency: "+r.join(" -> "));if(s[c]=d,O(a))q.push(c,[function(){return b.get(a)}],j);else{var e=b.annotate(a);R(e,function(a){a!==c&&i.hasOwnProperty(a)&&n(i[a],a)}),q.push(c,a,e)}r.pop(),s[c]=f}}function o(a){return P(a)&&a.then&&a.$$promises}if(!P(i))throw new Error("'invocables' must be an object");var p=g(i||{}),q=[],r=[],s={};return R(i,n),i=r=s=null,function(d,f,g){function h(){--u||(v||e(t,f.$$values),r.$$values=t,r.$$promises=r.$$promises||!0,delete r.$$inheritedValues,n.resolve(t))}function i(a){r.$$failure=a,n.reject(a)}function j(c,e,f){function j(a){l.reject(a),i(a)}function k(){if(!M(r.$$failure))try{l.resolve(b.invoke(e,g,t)),l.promise.then(function(a){t[c]=a,h()},j)}catch(a){j(a)}}var l=a.defer(),m=0;R(f,function(a){s.hasOwnProperty(a)&&!d.hasOwnProperty(a)&&(m++,s[a].then(function(b){t[a]=b,--m||k()},j))}),m||k(),s[c]=l.promise}if(o(d)&&g===c&&(g=f,f=d,d=null),d){if(!P(d))throw new Error("'locals' must be an object")}else d=k;if(f){if(!o(f))throw new Error("'parent' must be a promise returned by $resolve.resolve()")}else f=l;var n=a.defer(),r=n.promise,s=r.$$promises={},t=S({},d),u=1+q.length/3,v=!1;if(M(f.$$failure))return i(f.$$failure),r;f.$$inheritedValues&&e(t,m(f.$$inheritedValues,p)),S(s,f.$$promises),f.$$values?(v=e(t,m(f.$$values,p)),r.$$inheritedValues=m(f.$$values,p),h()):(f.$$inheritedValues&&(r.$$inheritedValues=m(f.$$inheritedValues,p)),f.then(h,i));for(var w=0,x=q.length;w<x;w+=3)d.hasOwnProperty(q[w])?h():j(q[w],q[w+1],q[w+2]);return r}},this.resolve=function(a,b,c,d){return this.study(a)(b,c,d)}}function r(a,b,c){this.fromConfig=function(a,b,c){return M(a.template)?this.fromString(a.template,b):M(a.templateUrl)?this.fromUrl(a.templateUrl,b):M(a.templateProvider)?this.fromProvider(a.templateProvider,b,c):null},this.fromString=function(a,b){return N(a)?a(b):a},this.fromUrl=function(c,d){return N(c)&&(c=c(d)),null==c?null:a.get(c,{cache:b,headers:{Accept:"text/html"}}).then(function(a){return a.data})},this.fromProvider=function(a,b,d){return c.invoke(a,null,d||{params:b})}}function s(a,b,e){function f(b,c,d,e){if(q.push(b),o[b])return o[b];if(!/^\w+([-.]+\w+)*(?:\[\])?$/.test(b))throw new Error("Invalid parameter name '"+b+"' in pattern '"+a+"'");if(p[b])throw new Error("Duplicate parameter name '"+b+"' in pattern '"+a+"'");return p[b]=new V.Param(b,c,d,e),p[b]}function g(a,b,c,d){var e=["",""],f=a.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!b)return f;switch(c){case!1:e=["(",")"+(d?"?":"")];break;case!0:f=f.replace(/\/$/,""),e=["(?:/(",")|/)?"];break;default:e=["("+c+"|",")?"]}return f+e[0]+b+e[1]}function h(e,f){var g,h,i,j,k;return g=e[2]||e[3],k=b.params[g],i=a.substring(m,e.index),h=f?e[4]:e[4]||("*"==e[1]?".*":null),h&&(j=V.type(h)||d(V.type("string"),{pattern:new RegExp(h,b.caseInsensitive?"i":c)})),{id:g,regexp:h,segment:i,type:j,cfg:k}}b=S({params:{}},P(b)?b:{});var i,j=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,k=/([:]?)([\w\[\].-]+)|\{([\w\[\].-]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,l="^",m=0,n=this.segments=[],o=e?e.params:{},p=this.params=e?e.params.$$new():new V.ParamSet,q=[];this.source=a;for(var r,s,t;(i=j.exec(a))&&(r=h(i,!1),!(r.segment.indexOf("?")>=0));)s=f(r.id,r.type,r.cfg,"path"),l+=g(r.segment,s.type.pattern.source,s.squash,s.isOptional),n.push(r.segment),m=j.lastIndex;t=a.substring(m);var u=t.indexOf("?");if(u>=0){var v=this.sourceSearch=t.substring(u);if(t=t.substring(0,u),this.sourcePath=a.substring(0,m+u),v.length>0)for(m=0;i=k.exec(v);)r=h(i,!0),s=f(r.id,r.type,r.cfg,"search"),m=j.lastIndex}else this.sourcePath=a,this.sourceSearch="";l+=g(t)+(b.strict===!1?"/?":"")+"$",n.push(t),this.regexp=new RegExp(l,b.caseInsensitive?"i":c),this.prefix=n[0],this.$$paramNames=q}function t(a){S(this,a)}function u(){function a(a){return null!=a?a.toString().replace(/(~|\/)/g,function(a){return{"~":"~~","/":"~2F"}[a]}):a}function e(a){return null!=a?a.toString().replace(/(~~|~2F)/g,function(a){return{"~~":"~","~2F":"/"}[a]}):a}function f(){return{strict:p,caseInsensitive:m}}function i(a){return N(a)||Q(a)&&N(a[a.length-1])}function j(){for(;w.length;){var a=w.shift();if(a.pattern)throw new Error("You cannot override a type's .pattern at runtime.");b.extend(r[a.name],l.invoke(a.def))}}function k(a){S(this,a||{})}V=this;var l,m=!1,p=!0,q=!1,r={},v=!0,w=[],x={string:{encode:a,decode:e,is:function(a){return null==a||!M(a)||"string"==typeof a},pattern:/[^\/]*/},int:{encode:a,decode:function(a){return parseInt(a,10)},is:function(a){return M(a)&&this.decode(a.toString())===a},pattern:/\d+/},bool:{encode:function(a){return a?1:0},decode:function(a){return 0!==parseInt(a,10)},is:function(a){return a===!0||a===!1},pattern:/0|1/},date:{encode:function(a){return this.is(a)?[a.getFullYear(),("0"+(a.getMonth()+1)).slice(-2),("0"+a.getDate()).slice(-2)].join("-"):c},decode:function(a){if(this.is(a))return a;var b=this.capture.exec(a);return b?new Date(b[1],b[2]-1,b[3]):c},is:function(a){return a instanceof Date&&!isNaN(a.valueOf())},equals:function(a,b){return this.is(a)&&this.is(b)&&a.toISOString()===b.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:b.toJson,decode:b.fromJson,is:b.isObject,equals:b.equals,pattern:/[^\/]*/},any:{encode:b.identity,decode:b.identity,equals:b.equals,pattern:/.*/}};u.$$getDefaultValue=function(a){if(!i(a.value))return a.value;if(!l)throw new Error("Injectable functions cannot be called at configuration time");return l.invoke(a.value)},this.caseInsensitive=function(a){return M(a)&&(m=a),m},this.strictMode=function(a){return M(a)&&(p=a),p},this.defaultSquashPolicy=function(a){if(!M(a))return q;if(a!==!0&&a!==!1&&!O(a))throw new Error("Invalid squash policy: "+a+". Valid policies: false, true, arbitrary-string");return q=a,a},this.compile=function(a,b){return new s(a,S(f(),b))},this.isMatcher=function(a){if(!P(a))return!1;var b=!0;return R(s.prototype,function(c,d){N(c)&&(b=b&&M(a[d])&&N(a[d]))}),b},this.type=function(a,b,c){if(!M(b))return r[a];if(r.hasOwnProperty(a))throw new Error("A type named '"+a+"' has already been defined.");return r[a]=new t(S({name:a},b)),c&&(w.push({name:a,def:c}),v||j()),this},R(x,function(a,b){r[b]=new t(S({name:b},a))}),r=d(r,{}),this.$get=["$injector",function(a){return l=a,v=!1,j(),R(x,function(a,b){r[b]||(r[b]=new t(a))}),this}],this.Param=function(a,d,e,f){function j(a){var b=P(a)?g(a):[],c=h(b,"value")===-1&&h(b,"type")===-1&&h(b,"squash")===-1&&h(b,"array")===-1;return c&&(a={value:a}),a.$$fn=i(a.value)?a.value:function(){return a.value},a}function k(c,d,e){if(c.type&&d)throw new Error("Param '"+a+"' has two type configurations.");return d?d:c.type?b.isString(c.type)?r[c.type]:c.type instanceof t?c.type:new t(c.type):"config"===e?r.any:r.string}function m(){var b={array:"search"===f&&"auto"},c=a.match(/\[\]$/)?{array:!0}:{};return S(b,c,e).array}function p(a,b){var c=a.squash;if(!b||c===!1)return!1;if(!M(c)||null==c)return q;if(c===!0||O(c))return c;throw new Error("Invalid squash policy: '"+c+"'. Valid policies: false, true, or arbitrary string")}function s(a,b,d,e){var f,g,i=[{from:"",to:d||b?c:""},{from:null,to:d||b?c:""}];return f=Q(a.replace)?a.replace:[],O(e)&&f.push({from:e,to:c}),g=o(f,function(a){return a.from}),n(i,function(a){return h(g,a.from)===-1}).concat(f)}function u(){if(!l)throw new Error("Injectable functions cannot be called at configuration time");var a=l.invoke(e.$$fn);if(null!==a&&a!==c&&!x.type.is(a))throw new Error("Default value ("+a+") for parameter '"+x.id+"' is not an instance of Type ("+x.type.name+")");return a}function v(a){function b(a){return function(b){return b.from===a}}function c(a){var c=o(n(x.replace,b(a)),function(a){return a.to});return c.length?c[0]:a}return a=c(a),M(a)?x.type.$normalize(a):u()}function w(){return"{Param:"+a+" "+d+" squash: '"+A+"' optional: "+z+"}"}var x=this;e=j(e),d=k(e,d,f);var y=m();d=y?d.$asArray(y,"search"===f):d,"string"!==d.name||y||"path"!==f||e.value!==c||(e.value="");var z=e.value!==c,A=p(e,z),B=s(e,y,z,A);S(this,{id:a,type:d,location:f,array:y,squash:A,replace:B,isOptional:z,value:v,dynamic:c,config:e,toString:w})},k.prototype={$$new:function(){return d(this,S(new k,{$$parent:this}))},$$keys:function(){for(var a=[],b=[],c=this,d=g(k.prototype);c;)b.push(c),c=c.$$parent;return b.reverse(),R(b,function(b){R(g(b),function(b){h(a,b)===-1&&h(d,b)===-1&&a.push(b)})}),a},$$values:function(a){var b={},c=this;return R(c.$$keys(),function(d){b[d]=c[d].value(a&&a[d])}),b},$$equals:function(a,b){var c=!0,d=this;return R(d.$$keys(),function(e){var f=a&&a[e],g=b&&b[e];d[e].type.equals(f,g)||(c=!1)}),c},$$validates:function(a){var d,e,f,g,h,i=this.$$keys();for(d=0;d<i.length&&(e=this[i[d]],f=a[i[d]],f!==c&&null!==f||!e.isOptional);d++){if(g=e.type.$normalize(f),!e.type.is(g))return!1;if(h=e.type.encode(g),b.isString(h)&&!e.type.pattern.exec(h))return!1}return!0},$$parent:c},this.ParamSet=k}function v(a,d){function e(a){var b=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(a.source);return null!=b?b[1].replace(/\\(.)/g,"$1"):""}function f(a,b){return a.replace(/\$(\$|\d{1,2})/,function(a,c){return b["$"===c?0:Number(c)]})}function g(a,b,c){if(!c)return!1;var d=a.invoke(b,b,{$match:c});return!M(d)||d}function h(d,e,f,g,h){function m(a,b,c){return"/"===q?a:b?q.slice(0,-1)+a:c?q.slice(1)+a:a}function n(a){function b(a){var b=a(f,d);return!!b&&(O(b)&&d.replace().url(b),!0)}if(!a||!a.defaultPrevented){p&&d.url()===p;p=c;var e,g=j.length;for(e=0;e<g;e++)if(b(j[e]))return;k&&b(k)}}function o(){return i=i||e.$on("$locationChangeSuccess",n)}var p,q=g.baseHref(),r=d.url();return l||o(),{sync:function(){n()},listen:function(){return o()},update:function(a){return a?void(r=d.url()):void(d.url()!==r&&(d.url(r),d.replace()))},push:function(a,b,e){var f=a.format(b||{});null!==f&&b&&b["#"]&&(f+="#"+b["#"]),d.url(f),p=e&&e.$$avoidResync?d.url():c,e&&e.replace&&d.replace()},href:function(c,e,f){if(!c.validates(e))return null;var g=a.html5Mode();b.isObject(g)&&(g=g.enabled),g=g&&h.history;var i=c.format(e);if(f=f||{},g||null===i||(i="#"+a.hashPrefix()+i),null!==i&&e&&e["#"]&&(i+="#"+e["#"]),i=m(i,g,f.absolute),!f.absolute||!i)return i;var j=!g&&i?"/":"",k=d.port();return k=80===k||443===k?"":":"+k,[d.protocol(),"://",d.host(),k,j,i].join("")}}}var i,j=[],k=null,l=!1;this.rule=function(a){if(!N(a))throw new Error("'rule' must be a function");return j.push(a),this},this.otherwise=function(a){if(O(a)){var b=a;a=function(){return b}}else if(!N(a))throw new Error("'rule' must be a function");return k=a,this},this.when=function(a,b){var c,h=O(b);if(O(a)&&(a=d.compile(a)),!h&&!N(b)&&!Q(b))throw new Error("invalid 'handler' in when()");var i={matcher:function(a,b){return h&&(c=d.compile(b),b=["$match",function(a){return c.format(a)}]),S(function(c,d){return g(c,b,a.exec(d.path(),d.search()))},{prefix:O(a.prefix)?a.prefix:""})},regex:function(a,b){if(a.global||a.sticky)throw new Error("when() RegExp must not be global or sticky");return h&&(c=b,b=["$match",function(a){return f(c,a)}]),S(function(c,d){return g(c,b,a.exec(d.path()))},{prefix:e(a)})}},j={matcher:d.isMatcher(a),regex:a instanceof RegExp};for(var k in j)if(j[k])return this.rule(i[k](a,b));throw new Error("invalid 'what' in when()")},this.deferIntercept=function(a){a===c&&(a=!0),l=a},this.$get=h,h.$inject=["$location","$rootScope","$injector","$browser","$sniffer"]}function w(a,e){function f(a){return 0===a.indexOf(".")||0===a.indexOf("^")}function m(a,b){if(!a)return c;var d=O(a),e=d?a:a.name,g=f(e);if(g){if(!b)throw new Error("No reference point given for path '"+e+"'");b=m(b);for(var h=e.split("."),i=0,j=h.length,k=b;i<j;i++)if(""!==h[i]||0!==i){if("^"!==h[i])break;if(!k.parent)throw new Error("Path '"+e+"' not valid for state '"+b.name+"'");k=k.parent}else k=b;h=h.slice(i).join("."),e=k.name+(k.name&&h?".":"")+h}var l=A[e];return!l||!d&&(d||l!==a&&l.self!==a)?c:l}function n(a,b){B[a]||(B[a]=[]),B[a].push(b)}function q(a){for(var b=B[a]||[];b.length;)r(b.shift())}function r(b){b=d(b,{self:b,resolve:b.resolve||{},toString:function(){return this.name}});var c=b.name;if(!O(c)||c.indexOf("@")>=0)throw new Error("State must have a valid name");if(A.hasOwnProperty(c))throw new Error("State '"+c+"' is already defined");var e=c.indexOf(".")!==-1?c.substring(0,c.lastIndexOf(".")):O(b.parent)?b.parent:P(b.parent)&&O(b.parent.name)?b.parent.name:"";if(e&&!A[e])return n(e,b.self);for(var f in D)N(D[f])&&(b[f]=D[f](b,D.$delegates[f]));return A[c]=b,!b[C]&&b.url&&a.when(b.url,["$match","$stateParams",function(a,c){z.$current.navigable==b&&j(a,c)||z.transitionTo(b,a,{inherit:!0,location:!1})}]),q(c),b}function s(a){return a.indexOf("*")>-1}function t(a){for(var b=a.split("."),c=z.$current.name.split("."),d=0,e=b.length;d<e;d++)"*"===b[d]&&(c[d]="*");return"**"===b[0]&&(c=c.slice(h(c,b[1])),c.unshift("**")),"**"===b[b.length-1]&&(c.splice(h(c,b[b.length-2])+1,Number.MAX_VALUE),c.push("**")),b.length==c.length&&c.join("")===b.join("")}function u(a,b){return O(a)&&!M(b)?D[a]:N(b)&&O(a)?(D[a]&&!D.$delegates[a]&&(D.$delegates[a]=D[a]),D[a]=b,this):this}function v(a,b){return P(a)?b=a:b.name=a,r(b),this}function w(a,e,f,h,l,n,q,r,u){function v(b,c,d,f){var g=a.$broadcast("$stateNotFound",b,c,d);if(g.defaultPrevented)return q.update(),F;if(!g.retry)return null;if(f.$retry)return q.update(),G;var h=z.transition=e.when(g.retry);return h.then(function(){return h!==z.transition?(a.$broadcast("$stateChangeCancel",b.to,b.toParams,c,d),D):(b.options.$retry=!0,z.transitionTo(b.to,b.toParams,b.options))},function(){return F}),q.update(),h}function w(a,c,d,g,i,j){function m(){var c=[];return R(a.views,function(d,e){var g=d.resolve&&d.resolve!==a.resolve?d.resolve:{};g.$template=[function(){return f.load(e,{view:d,locals:i.globals,params:n,notify:j.notify})||""}],c.push(l.resolve(g,i.globals,i.resolve,a).then(function(c){if(N(d.controllerProvider)||Q(d.controllerProvider)){var f=b.extend({},g,i.globals);c.$$controller=h.invoke(d.controllerProvider,null,f)}else c.$$controller=d.controller;c.$$state=a,c.$$controllerAs=d.controllerAs,c.$$resolveAs=d.resolveAs,i[e]=c}))}),e.all(c).then(function(){return i.globals})}var n=d?c:k(a.params.$$keys(),c),o={$stateParams:n};i.resolve=l.resolve(a.resolve,o,i.resolve,a);var p=[i.resolve.then(function(a){i.globals=a})];return g&&p.push(g),e.all(p).then(m).then(function(a){return i})}var B=new Error("transition superseded"),D=p(e.reject(B)),E=p(e.reject(new Error("transition prevented"))),F=p(e.reject(new Error("transition aborted"))),G=p(e.reject(new Error("transition failed")));return y.locals={resolve:null,globals:{$stateParams:{}}},z={params:{},current:y.self,$current:y,transition:null},z.reload=function(a){return z.transitionTo(z.current,n,{reload:a||!0,inherit:!1,notify:!0})},z.go=function(a,b,c){return z.transitionTo(a,b,S({inherit:!0,relative:z.$current},c))},z.transitionTo=function(b,c,f){c=c||{},f=S({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},f||{});var g,j=z.$current,l=z.params,o=j.path,p=m(b,f.relative),r=c["#"];if(!M(p)){var s={to:b,toParams:c,options:f},t=v(s,j.self,l,f);if(t)return t;if(b=s.to,c=s.toParams,f=s.options,p=m(b,f.relative),!M(p)){if(!f.relative)throw new Error("No such state '"+b+"'");throw new Error("Could not resolve '"+b+"' from state '"+f.relative+"'")}}if(p[C])throw new Error("Cannot transition to abstract state '"+b+"'");if(f.inherit&&(c=i(n,c||{},z.$current,p)),!p.params.$$validates(c))return G;c=p.params.$$values(c),b=p;var u=b.path,A=0,F=u[A],H=y.locals,I=[];if(f.reload){if(O(f.reload)||P(f.reload)){if(P(f.reload)&&!f.reload.name)throw new Error("Invalid reload state object");var J=f.reload===!0?o[0]:m(f.reload);if(f.reload&&!J)throw new Error("No such reload state '"+(O(f.reload)?f.reload:f.reload.name)+"'");for(;F&&F===o[A]&&F!==J;)H=I[A]=F.locals,A++,F=u[A]}}else for(;F&&F===o[A]&&F.ownParams.$$equals(c,l);)H=I[A]=F.locals,A++,F=u[A];if(x(b,c,j,l,H,f))return r&&(c["#"]=r),z.params=c,T(z.params,n),T(k(b.params.$$keys(),n),b.locals.globals.$stateParams),f.location&&b.navigable&&b.navigable.url&&(q.push(b.navigable.url,c,{$$avoidResync:!0,replace:"replace"===f.location}),q.update(!0)),z.transition=null,e.when(z.current);if(c=k(b.params.$$keys(),c||{}),r&&(c["#"]=r),f.notify&&a.$broadcast("$stateChangeStart",b.self,c,j.self,l,f).defaultPrevented)return a.$broadcast("$stateChangeCancel",b.self,c,j.self,l),null==z.transition&&q.update(),E;for(var K=e.when(H),L=A;L<u.length;L++,F=u[L])H=I[L]=d(H),K=w(F,c,F===b,K,H,f);var N=z.transition=K.then(function(){var d,e,g;if(z.transition!==N)return a.$broadcast("$stateChangeCancel",b.self,c,j.self,l),D;for(d=o.length-1;d>=A;d--)g=o[d],g.self.onExit&&h.invoke(g.self.onExit,g.self,g.locals.globals),g.locals=null;for(d=A;d<u.length;d++)e=u[d],e.locals=I[d],e.self.onEnter&&h.invoke(e.self.onEnter,e.self,e.locals.globals);return z.transition!==N?(a.$broadcast("$stateChangeCancel",b.self,c,j.self,l),D):(z.$current=b,z.current=b.self,z.params=c,T(z.params,n),z.transition=null,f.location&&b.navigable&&q.push(b.navigable.url,b.navigable.locals.globals.$stateParams,{$$avoidResync:!0,replace:"replace"===f.location}),f.notify&&a.$broadcast("$stateChangeSuccess",b.self,c,j.self,l),q.update(!0),z.current)}).then(null,function(d){return d===B?D:z.transition!==N?(a.$broadcast("$stateChangeCancel",b.self,c,j.self,l),D):(z.transition=null,g=a.$broadcast("$stateChangeError",b.self,c,j.self,l,d),g.defaultPrevented||q.update(),e.reject(d))});return N},z.is=function(a,b,d){d=S({relative:z.$current},d||{});var e=m(a,d.relative);return M(e)?z.$current===e&&(!b||j(e.params.$$values(b),n)):c},z.includes=function(a,b,d){if(d=S({relative:z.$current},d||{}),O(a)&&s(a)){if(!t(a))return!1;a=z.$current.name}var e=m(a,d.relative);if(!M(e))return c;if(!M(z.$current.includes[e.name]))return!1;if(!b)return!0;for(var f=g(b),h=0;h<f.length;h++){var i=f[h],j=e.params[i];if(j&&!j.type.equals(n[i],b[i]))return!1}return!0},z.href=function(a,b,d){d=S({lossy:!0,inherit:!0,absolute:!1,relative:z.$current},d||{});var e=m(a,d.relative);if(!M(e))return null;d.inherit&&(b=i(n,b||{},z.$current,e));var f=e&&d.lossy?e.navigable:e;return f&&f.url!==c&&null!==f.url?q.href(f.url,k(e.params.$$keys().concat("#"),b||{}),{absolute:d.absolute}):null},z.get=function(a,b){if(0===arguments.length)return o(g(A),function(a){return A[a].self});var c=m(a,b||z.$current);return c&&c.self?c.self:null},z}function x(a,b,c,d,e,f){function g(a,b,c){function d(b){return"search"!=a.params[b].location}var e=a.params.$$keys().filter(d),f=l.apply({},[a.params].concat(e)),g=new V.ParamSet(f);return g.$$equals(b,c)}if(!f.reload&&a===c&&(e===c.locals||a.self.reloadOnSearch===!1&&g(c,d,b)))return!0}var y,z,A={},B={},C="abstract",D={parent:function(a){if(M(a.parent)&&a.parent)return m(a.parent);var b=/^(.+)\.[^.]+$/.exec(a.name);return b?m(b[1]):y},data:function(a){return a.parent&&a.parent.data&&(a.data=a.self.data=d(a.parent.data,a.data)),a.data},url:function(a){var b=a.url,c={params:a.params||{}};if(O(b))return"^"==b.charAt(0)?e.compile(b.substring(1),c):(a.parent.navigable||y).url.concat(b,c);if(!b||e.isMatcher(b))return b;throw new Error("Invalid url '"+b+"' in state '"+a+"'")},navigable:function(a){return a.url?a:a.parent?a.parent.navigable:null},ownParams:function(a){var b=a.url&&a.url.params||new V.ParamSet;return R(a.params||{},function(a,c){b[c]||(b[c]=new V.Param(c,null,a,"config"))}),b},params:function(a){var b=l(a.ownParams,a.ownParams.$$keys());return a.parent&&a.parent.params?S(a.parent.params.$$new(),b):new V.ParamSet},views:function(a){var b={};return R(M(a.views)?a.views:{"":a},function(c,d){d.indexOf("@")<0&&(d+="@"+a.parent.name),c.resolveAs=c.resolveAs||a.resolveAs||"$resolve",b[d]=c}),b},path:function(a){return a.parent?a.parent.path.concat(a):[]},includes:function(a){var b=a.parent?S({},a.parent.includes):{};return b[a.name]=!0,b},$delegates:{}};y=r({name:"",url:"^",views:null,abstract:!0}),y.navigable=null,this.decorator=u,this.state=v,this.$get=w,w.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"]}function x(){function a(a,b){return{load:function(a,c){var d,e={template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}};return c=S(e,c),c.view&&(d=b.fromConfig(c.view,c.params,c.locals)),d}}}this.$get=a,a.$inject=["$rootScope","$templateFactory"]}function y(){var a=!1;this.useAnchorScroll=function(){a=!0},this.$get=["$anchorScroll","$timeout",function(b,c){return a?b:function(a){return c(function(){a[0].scrollIntoView()},0,!1)}}]}function z(a,c,d,e,f){function g(){return c.has?function(a){return c.has(a)?c.get(a):null}:function(a){try{return c.get(a)}catch(a){return null}}}function h(a,c){var d=function(){return{enter:function(a,b,c){b.after(a),c()},leave:function(a,b){a.remove(),b()}}};if(k)return{enter:function(a,c,d){b.version.minor>2?k.enter(a,null,c).then(d):k.enter(a,null,c,d)},leave:function(a,c){b.version.minor>2?k.leave(a).then(c):k.leave(a,c)}};if(j){var e=j&&j(c,a);return{enter:function(a,b,c){e.enter(a,null,b),c()},leave:function(a,b){e.leave(a),b()}}}return d()}var i=g(),j=i("$animator"),k=i("$animate"),l={restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(c,g,i){return function(c,g,j){function k(){if(m&&(m.remove(),m=null),o&&(o.$destroy(),o=null),n){var a=n.data("$uiViewAnim");s.leave(n,function(){a.$$animLeave.resolve(),m=null}),m=n,n=null}}function l(h){var l,m=B(c,j,g,e),t=m&&a.$current&&a.$current.locals[m];if(h||t!==p){l=c.$new(),p=a.$current.locals[m],l.$emit("$viewContentLoading",m);var u=i(l,function(a){var e=f.defer(),h=f.defer(),i={$animEnter:e.promise,$animLeave:h.promise,$$animLeave:h};a.data("$uiViewAnim",i),s.enter(a,g,function(){e.resolve(),o&&o.$emit("$viewContentAnimationEnded"),(b.isDefined(r)&&!r||c.$eval(r))&&d(a)}),k()});n=u,o=l,o.$emit("$viewContentLoaded",m),o.$eval(q)}}var m,n,o,p,q=j.onload||"",r=j.autoscroll,s=h(j,c);g.inheritedData("$uiView");c.$on("$stateChangeSuccess",function(){l(!1)}),l(!0)}}};return l}function A(a,c,d,e){return{restrict:"ECA",priority:-400,compile:function(f){var g=f.html();return function(f,h,i){var j=d.$current,k=B(f,i,h,e),l=j&&j.locals[k];if(l){h.data("$uiView",{name:k,state:l.$$state}),h.html(l.$template?l.$template:g);var m=b.extend({},l);f[l.$$resolveAs]=m;var n=a(h.contents());if(l.$$controller){l.$scope=f,l.$element=h;var o=c(l.$$controller,l);l.$$controllerAs&&(f[l.$$controllerAs]=o,f[l.$$controllerAs][l.$$resolveAs]=m),N(o.$onInit)&&o.$onInit(),h.data("$ngControllerController",o),h.children().data("$ngControllerController",o)}n(f)}}}}}function B(a,b,c,d){var e=d(b.uiView||b.name||"")(a),f=c.inheritedData("$uiView");return e.indexOf("@")>=0?e:e+"@"+(f?f.state.name:"")}function C(a,b){var c,d=a.match(/^\s*({[^}]*})\s*$/);if(d&&(a=b+"("+d[1]+")"),c=a.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/),!c||4!==c.length)throw new Error("Invalid state ref '"+a+"'");return{state:c[1],paramExpr:c[3]||null}}function D(a){var b=a.parent().inheritedData("$uiView");if(b&&b.state&&b.state.name)return b.state}function E(a){var b="[object SVGAnimatedString]"===Object.prototype.toString.call(a.prop("href")),c="FORM"===a[0].nodeName;return{attr:c?"action":b?"xlink:href":"href",isAnchor:"A"===a.prop("tagName").toUpperCase(),clickable:!c}}function F(a,b,c,d,e){return function(f){var g=f.which||f.button,h=e();if(!(g>1||f.ctrlKey||f.metaKey||f.shiftKey||a.attr("target"))){var i=c(function(){b.go(h.state,h.params,h.options)});f.preventDefault();var j=d.isAnchor&&!h.href?1:0;f.preventDefault=function(){j--<=0&&c.cancel(i)}}}}function G(a,b){return{relative:D(a)||b.$current,inherit:!0}}function H(a,c){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(d,e,f,g){var h,i=C(f.uiSref,a.current.name),j={state:i.state,href:null,params:null},k=E(e),l=g[1]||g[0],m=null;j.options=S(G(e,a),f.uiSrefOpts?d.$eval(f.uiSrefOpts):{});var n=function(c){c&&(j.params=b.copy(c)),j.href=a.href(i.state,j.params,j.options),m&&m(),l&&(m=l.$$addStateInfo(i.state,j.params)),null!==j.href&&f.$set(k.attr,j.href)};i.paramExpr&&(d.$watch(i.paramExpr,function(a){a!==j.params&&n(a)},!0),j.params=b.copy(d.$eval(i.paramExpr))),n(),k.clickable&&(h=F(e,a,c,k,function(){return j}),e[e.on?"on":"bind"]("click",h),d.$on("$destroy",function(){e[e.off?"off":"unbind"]("click",h)}))}}}function I(a,b){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(c,d,e,f){function g(b){m.state=b[0],m.params=b[1],m.options=b[2],m.href=a.href(m.state,m.params,m.options),n&&n(),j&&(n=j.$$addStateInfo(m.state,m.params)),m.href&&e.$set(i.attr,m.href)}var h,i=E(d),j=f[1]||f[0],k=[e.uiState,e.uiStateParams||null,e.uiStateOpts||null],l="["+k.map(function(a){return a||"null"}).join(", ")+"]",m={state:null,params:null,options:null,href:null},n=null;c.$watch(l,g,!0),g(c.$eval(l)),i.clickable&&(h=F(d,a,b,i,function(){return m}),d[d.on?"on":"bind"]("click",h),c.$on("$destroy",function(){d[d.off?"off":"unbind"]("click",h)}))}}}function J(a,b,c){return{restrict:"A",controller:["$scope","$element","$attrs","$timeout",function(b,d,e,f){function g(b,c,e){var f=a.get(b,D(d)),g=h(b,c),i={state:f||{name:b},params:c,hash:g};return p.push(i),q[g]=e,function(){var a=p.indexOf(i);a!==-1&&p.splice(a,1)}}function h(a,c){if(!O(a))throw new Error("state should be a string");return P(c)?a+U(c):(c=b.$eval(c),P(c)?a+U(c):a)}function i(){for(var a=0;a<p.length;a++)l(p[a].state,p[a].params)?j(d,q[p[a].hash]):k(d,q[p[a].hash]),m(p[a].state,p[a].params)?j(d,n):k(d,n)}function j(a,b){f(function(){a.addClass(b)})}function k(a,b){a.removeClass(b)}function l(b,c){return a.includes(b.name,c)}function m(b,c){return a.is(b.name,c)}var n,o,p=[],q={};n=c(e.uiSrefActiveEq||"",!1)(b);try{o=b.$eval(e.uiSrefActive)}catch(a){}o=o||c(e.uiSrefActive||"",!1)(b),P(o)&&R(o,function(c,d){if(O(c)){var e=C(c,a.current.name);g(e.state,b.$eval(e.paramExpr),d)}}),this.$$addStateInfo=function(a,b){if(!(P(o)&&p.length>0)){var c=g(a,b,o);return i(),c}},b.$on("$stateChangeSuccess",i),i()}]}}function K(a){var b=function(b,c){return a.is(b,c)};return b.$stateful=!0,b}function L(a){var b=function(b,c,d){return a.includes(b,c,d)};return b.$stateful=!0,b}var M=b.isDefined,N=b.isFunction,O=b.isString,P=b.isObject,Q=b.isArray,R=b.forEach,S=b.extend,T=b.copy,U=b.toJson;b.module("ui.router.util",["ng"]),b.module("ui.router.router",["ui.router.util"]),b.module("ui.router.state",["ui.router.router","ui.router.util"]),b.module("ui.router",["ui.router.state"]),b.module("ui.router.compat",["ui.router"]),q.$inject=["$q","$injector"],b.module("ui.router.util").service("$resolve",q),r.$inject=["$http","$templateCache","$injector"],b.module("ui.router.util").service("$templateFactory",r);var V;s.prototype.concat=function(a,b){var c={caseInsensitive:V.caseInsensitive(),strict:V.strictMode(),squash:V.defaultSquashPolicy()};return new s(this.sourcePath+a+this.sourceSearch,S(c,b),this)},s.prototype.toString=function(){return this.source},s.prototype.exec=function(a,b){function c(a){function b(a){return a.split("").reverse().join("")}function c(a){return a.replace(/\\-/g,"-")}var d=b(a).split(/-(?!\\)/),e=o(d,b);return o(e,c).reverse()}var d=this.regexp.exec(a);if(!d)return null;b=b||{};var e,f,g,h=this.parameters(),i=h.length,j=this.segments.length-1,k={};if(j!==d.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");var l,m;for(e=0;e<j;e++){for(g=h[e],l=this.params[g],m=d[e+1],f=0;f<l.replace.length;f++)l.replace[f].from===m&&(m=l.replace[f].to);m&&l.array===!0&&(m=c(m)),M(m)&&(m=l.type.decode(m)),k[g]=l.value(m)}for(;e<i;e++){for(g=h[e],k[g]=this.params[g].value(b[g]),l=this.params[g],m=b[g],f=0;f<l.replace.length;f++)l.replace[f].from===m&&(m=l.replace[f].to);M(m)&&(m=l.type.decode(m)),k[g]=l.value(m)}return k},s.prototype.parameters=function(a){return M(a)?this.params[a]||null:this.$$paramNames},s.prototype.validates=function(a){return this.params.$$validates(a)},s.prototype.format=function(a){function b(a){return encodeURIComponent(a).replace(/-/g,function(a){return"%5C%"+a.charCodeAt(0).toString(16).toUpperCase()})}a=a||{};var c=this.segments,d=this.parameters(),e=this.params;if(!this.validates(a))return null;var f,g=!1,h=c.length-1,i=d.length,j=c[0];for(f=0;f<i;f++){var k=f<h,l=d[f],m=e[l],n=m.value(a[l]),p=m.isOptional&&m.type.equals(m.value(),n),q=!!p&&m.squash,r=m.type.encode(n);if(k){var s=c[f+1],t=f+1===h;if(q===!1)null!=r&&(j+=Q(r)?o(r,b).join("-"):encodeURIComponent(r)),j+=s;else if(q===!0){var u=j.match(/\/$/)?/\/?(.*)/:/(.*)/;j+=s.match(u)[1]}else O(q)&&(j+=q+s);t&&m.squash===!0&&"/"===j.slice(-1)&&(j=j.slice(0,-1))}else{if(null==r||p&&q!==!1)continue;if(Q(r)||(r=[r]),0===r.length)continue;r=o(r,encodeURIComponent).join("&"+l+"="),j+=(g?"&":"?")+(l+"="+r),g=!0}}return j},t.prototype.is=function(a,b){return!0},t.prototype.encode=function(a,b){return a},t.prototype.decode=function(a,b){return a},t.prototype.equals=function(a,b){return a==b},t.prototype.$subPattern=function(){var a=this.pattern.toString();return a.substr(1,a.length-2)},t.prototype.pattern=/.*/,t.prototype.toString=function(){return"{Type:"+this.name+"}"},t.prototype.$normalize=function(a){return this.is(a)?a:this.decode(a)},t.prototype.$asArray=function(a,b){function d(a,b){function d(a,b){return function(){return a[b].apply(a,arguments)}}function e(a){return Q(a)?a:M(a)?[a]:[]}function f(a){switch(a.length){case 0:return c;case 1:return"auto"===b?a[0]:a;default:return a}}function g(a){return!a}function h(a,b){return function(c){if(Q(c)&&0===c.length)return c;c=e(c);var d=o(c,a);return b===!0?0===n(d,g).length:f(d)}}function i(a){return function(b,c){var d=e(b),f=e(c);if(d.length!==f.length)return!1;for(var g=0;g<d.length;g++)if(!a(d[g],f[g]))return!1;return!0}}this.encode=h(d(a,"encode")),this.decode=h(d(a,"decode")),this.is=h(d(a,"is"),!0),this.equals=i(d(a,"equals")),this.pattern=a.pattern,this.$normalize=h(d(a,"$normalize")),this.name=a.name,this.$arrayMode=b}if(!a)return this;if("auto"===a&&!b)throw new Error("'auto' array mode is for query parameters only");return new d(this,a);
},b.module("ui.router.util").provider("$urlMatcherFactory",u),b.module("ui.router.util").run(["$urlMatcherFactory",function(a){}]),v.$inject=["$locationProvider","$urlMatcherFactoryProvider"],b.module("ui.router.router").provider("$urlRouter",v),w.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"],b.module("ui.router.state").factory("$stateParams",function(){return{}}).constant("$state.runtime",{autoinject:!0}).provider("$state",w).run(["$injector",function(a){a.get("$state.runtime").autoinject&&a.get("$state")}]),x.$inject=[],b.module("ui.router.state").provider("$view",x),b.module("ui.router.state").provider("$uiViewScroll",y),z.$inject=["$state","$injector","$uiViewScroll","$interpolate","$q"],A.$inject=["$compile","$controller","$state","$interpolate"],b.module("ui.router.state").directive("uiView",z),b.module("ui.router.state").directive("uiView",A),H.$inject=["$state","$timeout"],I.$inject=["$state","$timeout"],J.$inject=["$state","$stateParams","$interpolate"],b.module("ui.router.state").directive("uiSref",H).directive("uiSrefActive",J).directive("uiSrefActiveEq",J).directive("uiState",I),K.$inject=["$state"],L.$inject=["$state"],b.module("ui.router.state").filter("isState",K).filter("includedByState",L)}(window,window.angular);
/*
 * angular-elastic v2.5.1
 * (c) 2014 Monospaced http://monospaced.com
 * License: MIT
 */

if (typeof module !== 'undefined' &&
    typeof exports !== 'undefined' &&
    module.exports === exports){
  module.exports = 'monospaced.elastic';
}

angular.module('monospaced.elastic', [])

  .constant('msdElasticConfig', {
    append: ''
  })

  .directive('msdElastic', [
    '$timeout', '$window', 'msdElasticConfig',
    function($timeout, $window, config) {
      'use strict';

      return {
        require: 'ngModel',
        restrict: 'A, C',
        link: function(scope, element, attrs, ngModel) {

          // cache a reference to the DOM element
          var ta = element[0],
              $ta = element;

          // ensure the element is a textarea, and browser is capable
          if (ta.nodeName !== 'TEXTAREA' || !$window.getComputedStyle) {
            return;
          }

          // set these properties before measuring dimensions
          $ta.css({
            'overflow': 'hidden',
            'overflow-y': 'hidden',
            'word-wrap': 'break-word'
          });

          // force text reflow
          var text = ta.value;
          ta.value = '';
          ta.value = text;

          var append = attrs.msdElastic ? attrs.msdElastic.replace(/\\n/g, '\n') : config.append,
              $win = angular.element($window),
              mirrorInitStyle = 'position: absolute; top: -999px; right: auto; bottom: auto;' +
                                'left: 0; overflow: hidden; -webkit-box-sizing: content-box;' +
                                '-moz-box-sizing: content-box; box-sizing: content-box;' +
                                'min-height: 0 !important; height: 0 !important; padding: 0;' +
                                'word-wrap: break-word; border: 0;',
              $mirror = angular.element('<textarea aria-hidden="true" tabindex="-1" ' +
                                        'style="' + mirrorInitStyle + '"/>').data('elastic', true),
              mirror = $mirror[0],
              taStyle = getComputedStyle(ta),
              resize = taStyle.getPropertyValue('resize'),
              borderBox = taStyle.getPropertyValue('box-sizing') === 'border-box' ||
                          taStyle.getPropertyValue('-moz-box-sizing') === 'border-box' ||
                          taStyle.getPropertyValue('-webkit-box-sizing') === 'border-box',
              boxOuter = !borderBox ? {width: 0, height: 0} : {
                            width:  parseInt(taStyle.getPropertyValue('border-right-width'), 10) +
                                    parseInt(taStyle.getPropertyValue('padding-right'), 10) +
                                    parseInt(taStyle.getPropertyValue('padding-left'), 10) +
                                    parseInt(taStyle.getPropertyValue('border-left-width'), 10),
                            height: parseInt(taStyle.getPropertyValue('border-top-width'), 10) +
                                    parseInt(taStyle.getPropertyValue('padding-top'), 10) +
                                    parseInt(taStyle.getPropertyValue('padding-bottom'), 10) +
                                    parseInt(taStyle.getPropertyValue('border-bottom-width'), 10)
                          },
              minHeightValue = parseInt(taStyle.getPropertyValue('min-height'), 10),
              heightValue = parseInt(taStyle.getPropertyValue('height'), 10),
              minHeight = Math.max(minHeightValue, heightValue) - boxOuter.height,
              maxHeight = parseInt(taStyle.getPropertyValue('max-height'), 10),
              mirrored,
              active,
              copyStyle = ['font-family',
                           'font-size',
                           'font-weight',
                           'font-style',
                           'letter-spacing',
                           'line-height',
                           'text-transform',
                           'word-spacing',
                           'text-indent'];

          // exit if elastic already applied (or is the mirror element)
          if ($ta.data('elastic')) {
            return;
          }

          // Opera returns max-height of -1 if not set
          maxHeight = maxHeight && maxHeight > 0 ? maxHeight : 9e4;

          // append mirror to the DOM
          if (mirror.parentNode !== document.body) {
            angular.element(document.body).append(mirror);
          }

          // set resize and apply elastic
          $ta.css({
            'resize': (resize === 'none' || resize === 'vertical') ? 'none' : 'horizontal'
          }).data('elastic', true);

          /*
           * methods
           */

          function initMirror() {
            var mirrorStyle = mirrorInitStyle;

            mirrored = ta;
            // copy the essential styles from the textarea to the mirror
            taStyle = getComputedStyle(ta);
            angular.forEach(copyStyle, function(val) {
              mirrorStyle += val + ':' + taStyle.getPropertyValue(val) + ';';
            });
            mirror.setAttribute('style', mirrorStyle);
          }

          function adjust() {
            var taHeight,
                taComputedStyleWidth,
                mirrorHeight,
                width,
                overflow;

            if (mirrored !== ta) {
              initMirror();
            }

            // active flag prevents actions in function from calling adjust again
            if (!active) {
              active = true;

              mirror.value = ta.value + append; // optional whitespace to improve animation
              mirror.style.overflowY = ta.style.overflowY;

              taHeight = ta.style.height === '' ? 'auto' : parseInt(ta.style.height, 10);

              taComputedStyleWidth = getComputedStyle(ta).getPropertyValue('width');

              // ensure getComputedStyle has returned a readable 'used value' pixel width
              if (taComputedStyleWidth.substr(taComputedStyleWidth.length - 2, 2) === 'px') {
                // update mirror width in case the textarea width has changed
                width = parseInt(taComputedStyleWidth, 10) - boxOuter.width;
                mirror.style.width = width + 'px';
              }

              mirrorHeight = mirror.scrollHeight;

              if (mirrorHeight > maxHeight) {
                mirrorHeight = maxHeight;
                overflow = 'scroll';
              } else if (mirrorHeight < minHeight) {
                mirrorHeight = minHeight;
              }
              mirrorHeight += boxOuter.height;
              ta.style.overflowY = overflow || 'hidden';

              if (taHeight !== mirrorHeight) {
                scope.$emit('elastic:resize', $ta, taHeight, mirrorHeight);
                ta.style.height = mirrorHeight + 'px';
              }

              // small delay to prevent an infinite loop
              $timeout(function() {
                active = false;
              }, 1, false);

            }
          }

          function forceAdjust() {
            active = false;
            adjust();
          }

          /*
           * initialise
           */

          // listen
          if ('onpropertychange' in ta && 'oninput' in ta) {
            // IE9
            ta['oninput'] = ta.onkeyup = adjust;
          } else {
            ta['oninput'] = adjust;
          }

          $win.bind('resize', forceAdjust);

          scope.$watch(function() {
            return ngModel.$modelValue;
          }, function(newValue) {
            forceAdjust();
          });

          scope.$on('elastic:adjust', function() {
            initMirror();
            forceAdjust();
          });

          $timeout(adjust, 0, false);

          /*
           * destroy
           */

          scope.$on('$destroy', function() {
            $mirror.remove();
            $win.unbind('resize', forceAdjust);
          });
        }
      };
    }
  ]);

/**
 * Bunch of useful filters for angularJS(with no external dependencies!)
 * @version v0.5.11 - 2016-08-16 * @link https://github.com/a8m/angular-filter
 * @author Ariel Mashraki <ariel@mashraki.co.il>
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */!function(a,b,c){"use strict";function d(a){return D(a)?a:Object.keys(a).map(function(b){return a[b]})}function e(a){return null===a}function f(a,b){var d=Object.keys(a);return d.map(function(d){return b[d]!==c&&b[d]==a[d]}).indexOf(!1)==-1}function g(a,b){function c(a,b,c){for(var d=0;b+d<=a.length;){if(a.charAt(b+d)==c)return d;d++}return-1}for(var d=0,e=0;e<=b.length;e++){var f=c(a,d,b.charAt(e));if(f==-1)return!1;d+=f+1}return!0}function h(a,b,c){var d=0;return a.filter(function(a){var e=x(c)?d<b&&c(a):d<b;return d=e?d+1:d,e})}function i(a,b,c){return c.round(a*c.pow(10,b))/c.pow(10,b)}function j(a,b,c){b=b||[];var d=Object.keys(a);return d.forEach(function(d){if(C(a[d])&&!D(a[d])){var e=c?c+"."+d:c;j(a[d],b,e||d)}else{var f=c?c+"."+d:d;b.push(f)}}),b}function k(a){return a&&a.$evalAsync&&a.$watch}function l(){return function(a,b){return a>b}}function m(){return function(a,b){return a>=b}}function n(){return function(a,b){return a<b}}function o(){return function(a,b){return a<=b}}function p(){return function(a,b){return a==b}}function q(){return function(a,b){return a!=b}}function r(){return function(a,b){return a===b}}function s(){return function(a,b){return a!==b}}function t(a){return function(b,c){return b=C(b)?d(b):b,!(!D(b)||y(c))&&b.some(function(b){return A(c)&&C(b)||z(c)?a(c)(b):b===c})}}function u(a,b){return b=b||0,b>=a.length?a:D(a[b])?u(a.slice(0,b).concat(a[b],a.slice(b+1)),b):u(a,b+1)}function v(a){return function(b,c){function e(a,b){return!y(b)&&a.some(function(a){return H(a,b)})}if(b=C(b)?d(b):b,!D(b))return b;var f=[],g=a(c);return y(c)?b.filter(function(a,b,c){return c.indexOf(a)===b}):b.filter(function(a){var b=g(a);return!e(f,b)&&(f.push(b),!0)})}}function w(a,b,c){return b?a+c+w(a,--b,c):a}var x=b.isDefined,y=b.isUndefined,z=b.isFunction,A=b.isString,B=b.isNumber,C=b.isObject,D=b.isArray,E=b.forEach,F=b.extend,G=b.copy,H=b.equals;String.prototype.contains||(String.prototype.contains=function(){return String.prototype.indexOf.apply(this,arguments)!==-1}),b.module("a8m.angular",[]).filter("isUndefined",function(){return function(a){return b.isUndefined(a)}}).filter("isDefined",function(){return function(a){return b.isDefined(a)}}).filter("isFunction",function(){return function(a){return b.isFunction(a)}}).filter("isString",function(){return function(a){return b.isString(a)}}).filter("isNumber",function(){return function(a){return b.isNumber(a)}}).filter("isArray",function(){return function(a){return b.isArray(a)}}).filter("isObject",function(){return function(a){return b.isObject(a)}}).filter("isEqual",function(){return function(a,c){return b.equals(a,c)}}),b.module("a8m.conditions",[]).filter({isGreaterThan:l,">":l,isGreaterThanOrEqualTo:m,">=":m,isLessThan:n,"<":n,isLessThanOrEqualTo:o,"<=":o,isEqualTo:p,"==":p,isNotEqualTo:q,"!=":q,isIdenticalTo:r,"===":r,isNotIdenticalTo:s,"!==":s}),b.module("a8m.is-null",[]).filter("isNull",function(){return function(a){return e(a)}}),b.module("a8m.after-where",[]).filter("afterWhere",function(){return function(a,b){if(a=C(a)?d(a):a,!D(a)||y(b))return a;var c=a.map(function(a){return f(b,a)}).indexOf(!0);return a.slice(c===-1?0:c)}}),b.module("a8m.after",[]).filter("after",function(){return function(a,b){return a=C(a)?d(a):a,D(a)?a.slice(b):a}}),b.module("a8m.before-where",[]).filter("beforeWhere",function(){return function(a,b){if(a=C(a)?d(a):a,!D(a)||y(b))return a;var c=a.map(function(a){return f(b,a)}).indexOf(!0);return a.slice(0,c===-1?a.length:++c)}}),b.module("a8m.before",[]).filter("before",function(){return function(a,b){return a=C(a)?d(a):a,D(a)?a.slice(0,b?--b:b):a}}),b.module("a8m.chunk-by",["a8m.filter-watcher"]).filter("chunkBy",["filterWatcher",function(a){return function(b,c,d){function e(a,b){for(var c=[];a--;)c[a]=b;return c}function f(a,b,c){return D(a)?a.map(function(a,d,f){return d*=b,a=f.slice(d,d+b),!y(c)&&a.length<b?a.concat(e(b-a.length,c)):a}).slice(0,Math.ceil(a.length/b)):a}return a.isMemoized("chunkBy",arguments)||a.memoize("chunkBy",arguments,this,f(b,c,d))}}]),b.module("a8m.concat",[]).filter("concat",[function(){return function(a,b){if(y(b))return a;if(D(a))return C(b)?a.concat(d(b)):a.concat(b);if(C(a)){var c=d(a);return C(b)?c.concat(d(b)):c.concat(b)}return a}}]),b.module("a8m.contains",[]).filter({contains:["$parse",t],some:["$parse",t]}),b.module("a8m.count-by",[]).filter("countBy",["$parse",function(a){return function(b,c){var e,f={},g=a(c);return b=C(b)?d(b):b,!D(b)||y(c)?b:(b.forEach(function(a){e=g(a),f[e]||(f[e]=0),f[e]++}),f)}}]),b.module("a8m.defaults",[]).filter("defaults",["$parse",function(a){return function(b,c){if(b=C(b)?d(b):b,!D(b)||!C(c))return b;var e=j(c);return b.forEach(function(b){e.forEach(function(d){var e=a(d),f=e.assign;y(e(b))&&f(b,e(c))})}),b}}]),b.module("a8m.every",[]).filter("every",["$parse",function(a){return function(b,c){return b=C(b)?d(b):b,!(D(b)&&!y(c))||b.every(function(b){return C(b)||z(c)?a(c)(b):b===c})}}]),b.module("a8m.filter-by",[]).filter("filterBy",["$parse",function(a){return function(b,e,f,g){var h;return f=A(f)||B(f)?String(f).toLowerCase():c,b=C(b)?d(b):b,!D(b)||y(f)?b:b.filter(function(b){return e.some(function(c){if(~c.indexOf("+")){var d=c.replace(/\s+/g,"").split("+");h=d.map(function(c){return a(c)(b)}).join(" ")}else h=a(c)(b);return!(!A(h)&&!B(h))&&(h=String(h).toLowerCase(),g?h===f:h.contains(f))})})}}]),b.module("a8m.first",[]).filter("first",["$parse",function(a){return function(b){var e,f,g;return b=C(b)?d(b):b,D(b)?(g=Array.prototype.slice.call(arguments,1),e=B(g[0])?g[0]:1,f=B(g[0])?B(g[1])?c:g[1]:g[0],g.length?h(b,e,f?a(f):f):b[0]):b}}]),b.module("a8m.flatten",[]).filter("flatten",function(){return function(a,b){return b=b||!1,a=C(a)?d(a):a,D(a)?b?[].concat.apply([],a):u(a,0):a}}),b.module("a8m.fuzzy-by",[]).filter("fuzzyBy",["$parse",function(a){return function(b,c,e,f){var h,i,j=f||!1;return b=C(b)?d(b):b,!D(b)||y(c)||y(e)?b:(i=a(c),b.filter(function(a){return h=i(a),!!A(h)&&(h=j?h:h.toLowerCase(),e=j?e:e.toLowerCase(),g(h,e)!==!1)}))}}]),b.module("a8m.fuzzy",[]).filter("fuzzy",function(){return function(a,b,c){function e(a,b){var c,d,e=Object.keys(a);return 0<e.filter(function(e){return c=a[e],!!d||!!A(c)&&(c=f?c:c.toLowerCase(),d=g(c,b)!==!1)}).length}var f=c||!1;return a=C(a)?d(a):a,!D(a)||y(b)?a:(b=f?b:b.toLowerCase(),a.filter(function(a){return A(a)?(a=f?a:a.toLowerCase(),g(a,b)!==!1):!!C(a)&&e(a,b)}))}}),b.module("a8m.group-by",["a8m.filter-watcher"]).filter("groupBy",["$parse","filterWatcher",function(a,b){return function(c,d){function e(a,b){var c,d={};return E(a,function(a){c=b(a),d[c]||(d[c]=[]),d[c].push(a)}),d}return!C(c)||y(d)?c:b.isMemoized("groupBy",arguments)||b.memoize("groupBy",arguments,this,e(c,a(d)))}}]),b.module("a8m.is-empty",[]).filter("isEmpty",function(){return function(a){return C(a)?!d(a).length:!a.length}}),b.module("a8m.join",[]).filter("join",function(){return function(a,b){return y(a)||!D(a)?a:(y(b)&&(b=" "),a.join(b))}}),b.module("a8m.last",[]).filter("last",["$parse",function(a){return function(b){var e,f,g,i=G(b);return i=C(i)?d(i):i,D(i)?(g=Array.prototype.slice.call(arguments,1),e=B(g[0])?g[0]:1,f=B(g[0])?B(g[1])?c:g[1]:g[0],g.length?h(i.reverse(),e,f?a(f):f).reverse():i[i.length-1]):i}}]),b.module("a8m.map",[]).filter("map",["$parse",function(a){return function(b,c){return b=C(b)?d(b):b,!D(b)||y(c)?b:b.map(function(b){return a(c)(b)})}}]),b.module("a8m.omit",[]).filter("omit",["$parse",function(a){return function(b,c){return b=C(b)?d(b):b,!D(b)||y(c)?b:b.filter(function(b){return!a(c)(b)})}}]),b.module("a8m.pick",[]).filter("pick",["$parse",function(a){return function(b,c){return b=C(b)?d(b):b,!D(b)||y(c)?b:b.filter(function(b){return a(c)(b)})}}]),b.module("a8m.range",[]).filter("range",function(){return function(a,b,c,d,e){c=c||0,d=d||1;for(var f=0;f<parseInt(b);f++){var g=c+f*d;a.push(z(e)?e(g):g)}return a}}),b.module("a8m.remove-with",[]).filter("removeWith",function(){return function(a,b){return y(b)?a:(a=C(a)?d(a):a,a.filter(function(a){return!f(b,a)}))}}),b.module("a8m.remove",[]).filter("remove",function(){return function(a){a=C(a)?d(a):a;var b=Array.prototype.slice.call(arguments,1);return D(a)?a.filter(function(a){return!b.some(function(b){return H(b,a)})}):a}}),b.module("a8m.reverse",[]).filter("reverse",[function(){return function(a){return a=C(a)?d(a):a,A(a)?a.split("").reverse().join(""):D(a)?a.slice().reverse():a}}]),b.module("a8m.search-field",[]).filter("searchField",["$parse",function(a){return function(b){var c,e;b=C(b)?d(b):b;var f=Array.prototype.slice.call(arguments,1);return D(b)&&f.length?b.map(function(b){return e=f.map(function(d){return(c=a(d))(b)}).join(" "),F(b,{searchField:e})}):b}}]),b.module("a8m.to-array",[]).filter("toArray",function(){return function(a,b){return C(a)?b?Object.keys(a).map(function(b){return F(a[b],{$key:b})}):d(a):a}}),b.module("a8m.unique",[]).filter({unique:["$parse",v],uniq:["$parse",v]}),b.module("a8m.where",[]).filter("where",function(){return function(a,b){return y(b)?a:(a=C(a)?d(a):a,a.filter(function(a){return f(b,a)}))}}),b.module("a8m.xor",[]).filter("xor",["$parse",function(a){return function(b,c,e){function f(b,c){var d=a(e);return c.some(function(a){return e?H(d(a),d(b)):H(a,b)})}return e=e||!1,b=C(b)?d(b):b,c=C(c)?d(c):c,D(b)&&D(c)?b.concat(c).filter(function(a){return!(f(a,b)&&f(a,c))}):b}}]),b.module("a8m.math.byteFmt",["a8m.math"]).filter("byteFmt",["$math",function(a){return function(b,c){return B(c)&&isFinite(c)&&c%1===0&&c>=0&&B(b)&&isFinite(b)?b<1024?i(b,c,a)+" B":b<1048576?i(b/1024,c,a)+" KB":b<1073741824?i(b/1048576,c,a)+" MB":i(b/1073741824,c,a)+" GB":"NaN"}}]),b.module("a8m.math.degrees",["a8m.math"]).filter("degrees",["$math",function(a){return function(b,c){if(B(c)&&isFinite(c)&&c%1===0&&c>=0&&B(b)&&isFinite(b)){var d=180*b/a.PI;return a.round(d*a.pow(10,c))/a.pow(10,c)}return"NaN"}}]),b.module("a8m.math.kbFmt",["a8m.math"]).filter("kbFmt",["$math",function(a){return function(b,c){return B(c)&&isFinite(c)&&c%1===0&&c>=0&&B(b)&&isFinite(b)?b<1024?i(b,c,a)+" KB":b<1048576?i(b/1024,c,a)+" MB":i(b/1048576,c,a)+" GB":"NaN"}}]),b.module("a8m.math",[]).factory("$math",["$window",function(a){return a.Math}]),b.module("a8m.math.max",["a8m.math"]).filter("max",["$math","$parse",function(a,b){function c(c,d){var e=c.map(function(a){return b(d)(a)});return e.indexOf(a.max.apply(a,e))}return function(b,d){return D(b)?y(d)?a.max.apply(a,b):b[c(b,d)]:b}}]),b.module("a8m.math.min",["a8m.math"]).filter("min",["$math","$parse",function(a,b){function c(c,d){var e=c.map(function(a){return b(d)(a)});return e.indexOf(a.min.apply(a,e))}return function(b,d){return D(b)?y(d)?a.min.apply(a,b):b[c(b,d)]:b}}]),b.module("a8m.math.percent",["a8m.math"]).filter("percent",["$math","$window",function(a,b){return function(c,d,e){var f=A(c)?b.Number(c):c;return d=d||100,e=e||!1,!B(f)||b.isNaN(f)?c:e?a.round(f/d*100):f/d*100}}]),b.module("a8m.math.radians",["a8m.math"]).filter("radians",["$math",function(a){return function(b,c){if(B(c)&&isFinite(c)&&c%1===0&&c>=0&&B(b)&&isFinite(b)){var d=3.14159265359*b/180;return a.round(d*a.pow(10,c))/a.pow(10,c)}return"NaN"}}]),b.module("a8m.math.radix",[]).filter("radix",function(){return function(a,b){var c=/^[2-9]$|^[1-2]\d$|^3[0-6]$/;return B(a)&&c.test(b)?a.toString(b).toUpperCase():a}}),b.module("a8m.math.shortFmt",["a8m.math"]).filter("shortFmt",["$math",function(a){return function(b,c){return B(c)&&isFinite(c)&&c%1===0&&c>=0&&B(b)&&isFinite(b)?b<1e3?b:b<1e6?i(b/1e3,c,a)+" K":b<1e9?i(b/1e6,c,a)+" M":i(b/1e9,c,a)+" B":"NaN"}}]),b.module("a8m.math.sum",[]).filter("sum",function(){return function(a,b){return D(a)?a.reduce(function(a,b){return a+b},b||0):a}}),b.module("a8m.ends-with",[]).filter("endsWith",function(){return function(a,b,c){var d,e=c||!1;return!A(a)||y(b)?a:(a=e?a:a.toLowerCase(),d=a.length-b.length,a.indexOf(e?b:b.toLowerCase(),d)!==-1)}}),b.module("a8m.latinize",[]).filter("latinize",[function(){function a(a){return a.replace(/[^\u0000-\u007E]/g,function(a){return c[a]||a})}for(var b=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"OE",letters:"Œ"},{base:"oe",letters:"œ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],c={},d=0;d<b.length;d++)for(var e=b[d].letters.split(""),f=0;f<e.length;f++)c[e[f]]=b[d].base;return function(b){return A(b)?a(b):b}}]),b.module("a8m.ltrim",[]).filter("ltrim",function(){return function(a,b){var c=b||"\\s";return A(a)?a.replace(new RegExp("^"+c+"+"),""):a}}),b.module("a8m.match",[]).filter("match",function(){return function(a,b,c){var d=new RegExp(b,c);return A(a)?a.match(d):null}}),b.module("a8m.repeat",[]).filter("repeat",[function(){return function(a,b,c){var d=~~b;return A(a)&&d?w(a,--b,c||""):a}}]),b.module("a8m.rtrim",[]).filter("rtrim",function(){return function(a,b){var c=b||"\\s";return A(a)?a.replace(new RegExp(c+"+$"),""):a}}),b.module("a8m.slugify",[]).filter("slugify",[function(){return function(a,b){var c=y(b)?"-":b;return A(a)?a.toLowerCase().replace(/\s+/g,c):a}}]),b.module("a8m.starts-with",[]).filter("startsWith",function(){return function(a,b,c){var d=c||!1;return!A(a)||y(b)?a:(a=d?a:a.toLowerCase(),!a.indexOf(d?b:b.toLowerCase()))}}),b.module("a8m.stringular",[]).filter("stringular",function(){return function(a){var b=Array.prototype.slice.call(arguments,1);return a.replace(/{(\d+)}/g,function(a,c){return y(b[c])?a:b[c]})}}),b.module("a8m.strip-tags",[]).filter("stripTags",function(){return function(a){return A(a)?a.replace(/<\S[^><]*>/g,""):a}}),b.module("a8m.test",[]).filter("test",function(){return function(a,b,c){var d=new RegExp(b,c);return A(a)?d.test(a):a}}),b.module("a8m.trim",[]).filter("trim",function(){return function(a,b){var c=b||"\\s";return A(a)?a.replace(new RegExp("^"+c+"+|"+c+"+$","g"),""):a}}),b.module("a8m.truncate",[]).filter("truncate",function(){return function(a,b,c,d){return b=y(b)?a.length:b,d=d||!1,c=c||"",!A(a)||a.length<=b?a:a.substring(0,d?a.indexOf(" ",b)===-1?a.length:a.indexOf(" ",b):b)+c}}),b.module("a8m.ucfirst",[]).filter("ucfirst",[function(){return function(a){return A(a)?a.split(" ").map(function(a){return a.charAt(0).toUpperCase()+a.substring(1)}).join(" "):a}}]),b.module("a8m.uri-component-encode",[]).filter("uriComponentEncode",["$window",function(a){return function(b){return A(b)?a.encodeURIComponent(b):b}}]),b.module("a8m.uri-encode",[]).filter("uriEncode",["$window",function(a){return function(b){return A(b)?a.encodeURI(b):b}}]),b.module("a8m.wrap",[]).filter("wrap",function(){return function(a,b,c){return A(a)&&x(b)?[b,a,c||b].join(""):a}}),b.module("a8m.filter-watcher",[]).provider("filterWatcher",function(){this.$get=["$window","$rootScope",function(a,b){function c(b,c){function d(){var b=[];return function(c,d){if(C(d)&&!e(d)){if(~b.indexOf(d))return"[Circular]";b.push(d)}return a==d?"$WINDOW":a.document==d?"$DOCUMENT":k(d)?"$SCOPE":d}}return[b,JSON.stringify(c,d())].join("#").replace(/"/g,"")}function d(a){var b=a.targetScope.$id;E(l[b],function(a){delete j[a]}),delete l[b]}function f(){m(function(){b.$$phase||(j={})},2e3)}function g(a,b){var c=a.$id;return y(l[c])&&(a.$on("$destroy",d),l[c]=[]),l[c].push(b)}function h(a,b){var d=c(a,b);return j[d]}function i(a,b,d,e){var h=c(a,b);return j[h]=e,k(d)?g(d,h):f(),e}var j={},l={},m=a.setTimeout;return{isMemoized:h,memoize:i}}]}),b.module("angular.filter",["a8m.ucfirst","a8m.uri-encode","a8m.uri-component-encode","a8m.slugify","a8m.latinize","a8m.strip-tags","a8m.stringular","a8m.truncate","a8m.starts-with","a8m.ends-with","a8m.wrap","a8m.trim","a8m.ltrim","a8m.rtrim","a8m.repeat","a8m.test","a8m.match","a8m.to-array","a8m.concat","a8m.contains","a8m.unique","a8m.is-empty","a8m.after","a8m.after-where","a8m.before","a8m.before-where","a8m.defaults","a8m.where","a8m.reverse","a8m.remove","a8m.remove-with","a8m.group-by","a8m.count-by","a8m.chunk-by","a8m.search-field","a8m.fuzzy-by","a8m.fuzzy","a8m.omit","a8m.pick","a8m.every","a8m.filter-by","a8m.xor","a8m.map","a8m.first","a8m.last","a8m.flatten","a8m.join","a8m.range","a8m.math","a8m.math.max","a8m.math.min","a8m.math.percent","a8m.math.radix","a8m.math.sum","a8m.math.degrees","a8m.math.radians","a8m.math.byteFmt","a8m.math.kbFmt","a8m.math.shortFmt","a8m.angular","a8m.conditions","a8m.is-null","a8m.filter-watcher"])}(window,window.angular);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkNoYXJ0Lm1pbi5qcyIsImFuZ3VsYXItdG91Y2gubWluLmpzIiwiYW5ndWxhci1yb3V0ZS5qcyIsIlNvcnRhYmxlLmpzIiwiYW5ndWxhci1sZWdhY3ktc29ydGFibGUuanMiLCJhbmd1bGFyLXVpLXJvdXRlci5taW4uanMiLCJlbGFzdGljLmpzIiwiYW5ndWxhci1maWx0ZXIubWluLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNiQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNkQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDN2lDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDanVDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ2xOQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDUEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDN05BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJ2ZW5kb3IuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcbiAqIENoYXJ0LmpzXG4gKiBodHRwOi8vY2hhcnRqcy5vcmcvXG4gKiBWZXJzaW9uOiAyLjIuMVxuICpcbiAqIENvcHlyaWdodCAyMDE2IE5pY2sgRG93bmllXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2VcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9jaGFydGpzL0NoYXJ0LmpzL2Jsb2IvbWFzdGVyL0xJQ0VOU0UubWRcbiAqL1xuIWZ1bmN0aW9uKHQpe2lmKFwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgbW9kdWxlKW1vZHVsZS5leHBvcnRzPXQoKTtlbHNlIGlmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZClkZWZpbmUoW10sdCk7ZWxzZXt2YXIgZTtlPVwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93OlwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmP3NlbGY6dGhpcyxlLkNoYXJ0PXQoKX19KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uIHQoZSxhLGkpe2Z1bmN0aW9uIG4ocixsKXtpZighYVtyXSl7aWYoIWVbcl0pe3ZhciBzPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWwmJnMpcmV0dXJuIHMociwhMCk7aWYobylyZXR1cm4gbyhyLCEwKTt2YXIgZD1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK3IrXCInXCIpO3Rocm93IGQuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixkfXZhciB1PWFbcl09e2V4cG9ydHM6e319O2Vbcl1bMF0uY2FsbCh1LmV4cG9ydHMsZnVuY3Rpb24odCl7dmFyIGE9ZVtyXVsxXVt0XTtyZXR1cm4gbihhP2E6dCl9LHUsdS5leHBvcnRzLHQsZSxhLGkpfXJldHVybiBhW3JdLmV4cG9ydHN9Zm9yKHZhciBvPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUscj0wO3I8aS5sZW5ndGg7cisrKW4oaVtyXSk7cmV0dXJuIG59KHsxOltmdW5jdGlvbih0LGUsYSl7fSx7fV0sMjpbZnVuY3Rpb24odCxlLGEpe2Z1bmN0aW9uIGkodCl7aWYodCl7dmFyIGU9L14jKFthLWZBLUYwLTldezN9KSQvLGE9L14jKFthLWZBLUYwLTldezZ9KSQvLGk9L15yZ2JhP1xcKFxccyooWystXT9cXGQrKVxccyosXFxzKihbKy1dP1xcZCspXFxzKixcXHMqKFsrLV0/XFxkKylcXHMqKD86LFxccyooWystXT9bXFxkXFwuXSspXFxzKik/XFwpJC8sbj0vXnJnYmE/XFwoXFxzKihbKy1dP1tcXGRcXC5dKylcXCVcXHMqLFxccyooWystXT9bXFxkXFwuXSspXFwlXFxzKixcXHMqKFsrLV0/W1xcZFxcLl0rKVxcJVxccyooPzosXFxzKihbKy1dP1tcXGRcXC5dKylcXHMqKT9cXCkkLyxvPS8oXFx3KykvLHI9WzAsMCwwXSxsPTEscz10Lm1hdGNoKGUpO2lmKHMpe3M9c1sxXTtmb3IodmFyIGQ9MDtkPHIubGVuZ3RoO2QrKylyW2RdPXBhcnNlSW50KHNbZF0rc1tkXSwxNil9ZWxzZSBpZihzPXQubWF0Y2goYSkpe3M9c1sxXTtmb3IodmFyIGQ9MDtkPHIubGVuZ3RoO2QrKylyW2RdPXBhcnNlSW50KHMuc2xpY2UoMipkLDIqZCsyKSwxNil9ZWxzZSBpZihzPXQubWF0Y2goaSkpe2Zvcih2YXIgZD0wO2Q8ci5sZW5ndGg7ZCsrKXJbZF09cGFyc2VJbnQoc1tkKzFdKTtsPXBhcnNlRmxvYXQoc1s0XSl9ZWxzZSBpZihzPXQubWF0Y2gobikpe2Zvcih2YXIgZD0wO2Q8ci5sZW5ndGg7ZCsrKXJbZF09TWF0aC5yb3VuZCgyLjU1KnBhcnNlRmxvYXQoc1tkKzFdKSk7bD1wYXJzZUZsb2F0KHNbNF0pfWVsc2UgaWYocz10Lm1hdGNoKG8pKXtpZihcInRyYW5zcGFyZW50XCI9PXNbMV0pcmV0dXJuWzAsMCwwLDBdO2lmKHI9eVtzWzFdXSwhcilyZXR1cm59Zm9yKHZhciBkPTA7ZDxyLmxlbmd0aDtkKyspcltkXT12KHJbZF0sMCwyNTUpO3JldHVybiBsPWx8fDA9PWw/dihsLDAsMSk6MSxyWzNdPWwscn19ZnVuY3Rpb24gbih0KXtpZih0KXt2YXIgZT0vXmhzbGE/XFwoXFxzKihbKy1dP1xcZCspKD86ZGVnKT9cXHMqLFxccyooWystXT9bXFxkXFwuXSspJVxccyosXFxzKihbKy1dP1tcXGRcXC5dKyklXFxzKig/OixcXHMqKFsrLV0/W1xcZFxcLl0rKVxccyopP1xcKS8sYT10Lm1hdGNoKGUpO2lmKGEpe3ZhciBpPXBhcnNlRmxvYXQoYVs0XSksbj12KHBhcnNlSW50KGFbMV0pLDAsMzYwKSxvPXYocGFyc2VGbG9hdChhWzJdKSwwLDEwMCkscj12KHBhcnNlRmxvYXQoYVszXSksMCwxMDApLGw9dihpc05hTihpKT8xOmksMCwxKTtyZXR1cm5bbixvLHIsbF19fX1mdW5jdGlvbiBvKHQpe2lmKHQpe3ZhciBlPS9eaHdiXFwoXFxzKihbKy1dP1xcZCspKD86ZGVnKT9cXHMqLFxccyooWystXT9bXFxkXFwuXSspJVxccyosXFxzKihbKy1dP1tcXGRcXC5dKyklXFxzKig/OixcXHMqKFsrLV0/W1xcZFxcLl0rKVxccyopP1xcKS8sYT10Lm1hdGNoKGUpO2lmKGEpe3ZhciBpPXBhcnNlRmxvYXQoYVs0XSksbj12KHBhcnNlSW50KGFbMV0pLDAsMzYwKSxvPXYocGFyc2VGbG9hdChhWzJdKSwwLDEwMCkscj12KHBhcnNlRmxvYXQoYVszXSksMCwxMDApLGw9dihpc05hTihpKT8xOmksMCwxKTtyZXR1cm5bbixvLHIsbF19fX1mdW5jdGlvbiByKHQpe3ZhciBlPWkodCk7cmV0dXJuIGUmJmUuc2xpY2UoMCwzKX1mdW5jdGlvbiBsKHQpe3ZhciBlPW4odCk7cmV0dXJuIGUmJmUuc2xpY2UoMCwzKX1mdW5jdGlvbiBzKHQpe3ZhciBlPWkodCk7cmV0dXJuIGU/ZVszXTooZT1uKHQpKT9lWzNdOihlPW8odCkpP2VbM106dm9pZCAwfWZ1bmN0aW9uIGQodCl7cmV0dXJuXCIjXCIreCh0WzBdKSt4KHRbMV0pK3godFsyXSl9ZnVuY3Rpb24gdSh0LGUpe3JldHVybiAxPmV8fHRbM10mJnRbM108MT9jKHQsZSk6XCJyZ2IoXCIrdFswXStcIiwgXCIrdFsxXStcIiwgXCIrdFsyXStcIilcIn1mdW5jdGlvbiBjKHQsZSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPXZvaWQgMCE9PXRbM10/dFszXToxKSxcInJnYmEoXCIrdFswXStcIiwgXCIrdFsxXStcIiwgXCIrdFsyXStcIiwgXCIrZStcIilcIn1mdW5jdGlvbiBoKHQsZSl7aWYoMT5lfHx0WzNdJiZ0WzNdPDEpcmV0dXJuIGYodCxlKTt2YXIgYT1NYXRoLnJvdW5kKHRbMF0vMjU1KjEwMCksaT1NYXRoLnJvdW5kKHRbMV0vMjU1KjEwMCksbj1NYXRoLnJvdW5kKHRbMl0vMjU1KjEwMCk7cmV0dXJuXCJyZ2IoXCIrYStcIiUsIFwiK2krXCIlLCBcIituK1wiJSlcIn1mdW5jdGlvbiBmKHQsZSl7dmFyIGE9TWF0aC5yb3VuZCh0WzBdLzI1NSoxMDApLGk9TWF0aC5yb3VuZCh0WzFdLzI1NSoxMDApLG49TWF0aC5yb3VuZCh0WzJdLzI1NSoxMDApO3JldHVyblwicmdiYShcIithK1wiJSwgXCIraStcIiUsIFwiK24rXCIlLCBcIisoZXx8dFszXXx8MSkrXCIpXCJ9ZnVuY3Rpb24gZyh0LGUpe3JldHVybiAxPmV8fHRbM10mJnRbM108MT9wKHQsZSk6XCJoc2woXCIrdFswXStcIiwgXCIrdFsxXStcIiUsIFwiK3RbMl0rXCIlKVwifWZ1bmN0aW9uIHAodCxlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9dm9pZCAwIT09dFszXT90WzNdOjEpLFwiaHNsYShcIit0WzBdK1wiLCBcIit0WzFdK1wiJSwgXCIrdFsyXStcIiUsIFwiK2UrXCIpXCJ9ZnVuY3Rpb24gbSh0LGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT12b2lkIDAhPT10WzNdP3RbM106MSksXCJod2IoXCIrdFswXStcIiwgXCIrdFsxXStcIiUsIFwiK3RbMl0rXCIlXCIrKHZvaWQgMCE9PWUmJjEhPT1lP1wiLCBcIitlOlwiXCIpK1wiKVwifWZ1bmN0aW9uIGIodCl7cmV0dXJuIGtbdC5zbGljZSgwLDMpXX1mdW5jdGlvbiB2KHQsZSxhKXtyZXR1cm4gTWF0aC5taW4oTWF0aC5tYXgoZSx0KSxhKX1mdW5jdGlvbiB4KHQpe3ZhciBlPXQudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKCk7cmV0dXJuIGUubGVuZ3RoPDI/XCIwXCIrZTplfXZhciB5PXQoNik7ZS5leHBvcnRzPXtnZXRSZ2JhOmksZ2V0SHNsYTpuLGdldFJnYjpyLGdldEhzbDpsLGdldEh3YjpvLGdldEFscGhhOnMsaGV4U3RyaW5nOmQscmdiU3RyaW5nOnUscmdiYVN0cmluZzpjLHBlcmNlbnRTdHJpbmc6aCxwZXJjZW50YVN0cmluZzpmLGhzbFN0cmluZzpnLGhzbGFTdHJpbmc6cCxod2JTdHJpbmc6bSxrZXl3b3JkOmJ9O3ZhciBrPXt9O2Zvcih2YXIgUyBpbiB5KWtbeVtTXV09U30sezY6Nn1dLDM6W2Z1bmN0aW9uKHQsZSxhKXt2YXIgaT10KDUpLG49dCgyKSxvPWZ1bmN0aW9uKHQpe2lmKHQgaW5zdGFuY2VvZiBvKXJldHVybiB0O2lmKCEodGhpcyBpbnN0YW5jZW9mIG8pKXJldHVybiBuZXcgbyh0KTt0aGlzLnZhbHVlcz17cmdiOlswLDAsMF0saHNsOlswLDAsMF0saHN2OlswLDAsMF0saHdiOlswLDAsMF0sY215azpbMCwwLDAsMF0sYWxwaGE6MX07dmFyIGU7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQpaWYoZT1uLmdldFJnYmEodCkpdGhpcy5zZXRWYWx1ZXMoXCJyZ2JcIixlKTtlbHNlIGlmKGU9bi5nZXRIc2xhKHQpKXRoaXMuc2V0VmFsdWVzKFwiaHNsXCIsZSk7ZWxzZXtpZighKGU9bi5nZXRId2IodCkpKXRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIHBhcnNlIGNvbG9yIGZyb20gc3RyaW5nIFwiJyt0KydcIicpO3RoaXMuc2V0VmFsdWVzKFwiaHdiXCIsZSl9ZWxzZSBpZihcIm9iamVjdFwiPT10eXBlb2YgdClpZihlPXQsdm9pZCAwIT09ZS5yfHx2b2lkIDAhPT1lLnJlZCl0aGlzLnNldFZhbHVlcyhcInJnYlwiLGUpO2Vsc2UgaWYodm9pZCAwIT09ZS5sfHx2b2lkIDAhPT1lLmxpZ2h0bmVzcyl0aGlzLnNldFZhbHVlcyhcImhzbFwiLGUpO2Vsc2UgaWYodm9pZCAwIT09ZS52fHx2b2lkIDAhPT1lLnZhbHVlKXRoaXMuc2V0VmFsdWVzKFwiaHN2XCIsZSk7ZWxzZSBpZih2b2lkIDAhPT1lLnd8fHZvaWQgMCE9PWUud2hpdGVuZXNzKXRoaXMuc2V0VmFsdWVzKFwiaHdiXCIsZSk7ZWxzZXtpZih2b2lkIDA9PT1lLmMmJnZvaWQgMD09PWUuY3lhbil0aHJvdyBuZXcgRXJyb3IoXCJVbmFibGUgdG8gcGFyc2UgY29sb3IgZnJvbSBvYmplY3QgXCIrSlNPTi5zdHJpbmdpZnkodCkpO3RoaXMuc2V0VmFsdWVzKFwiY215a1wiLGUpfX07by5wcm90b3R5cGU9e3JnYjpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNldFNwYWNlKFwicmdiXCIsYXJndW1lbnRzKX0saHNsOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2V0U3BhY2UoXCJoc2xcIixhcmd1bWVudHMpfSxoc3Y6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zZXRTcGFjZShcImhzdlwiLGFyZ3VtZW50cyl9LGh3YjpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNldFNwYWNlKFwiaHdiXCIsYXJndW1lbnRzKX0sY215azpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNldFNwYWNlKFwiY215a1wiLGFyZ3VtZW50cyl9LHJnYkFycmF5OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmFsdWVzLnJnYn0saHNsQXJyYXk6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52YWx1ZXMuaHNsfSxoc3ZBcnJheTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnZhbHVlcy5oc3Z9LGh3YkFycmF5OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy52YWx1ZXM7cmV0dXJuIDEhPT10LmFscGhhP3QuaHdiLmNvbmNhdChbdC5hbHBoYV0pOnQuaHdifSxjbXlrQXJyYXk6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52YWx1ZXMuY215a30scmdiYUFycmF5OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy52YWx1ZXM7cmV0dXJuIHQucmdiLmNvbmNhdChbdC5hbHBoYV0pfSxoc2xhQXJyYXk6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnZhbHVlcztyZXR1cm4gdC5oc2wuY29uY2F0KFt0LmFscGhhXSl9LGFscGhhOmZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDA9PT10P3RoaXMudmFsdWVzLmFscGhhOih0aGlzLnNldFZhbHVlcyhcImFscGhhXCIsdCksdGhpcyl9LHJlZDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zZXRDaGFubmVsKFwicmdiXCIsMCx0KX0sZ3JlZW46ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc2V0Q2hhbm5lbChcInJnYlwiLDEsdCl9LGJsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc2V0Q2hhbm5lbChcInJnYlwiLDIsdCl9LGh1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmKHQlPTM2MCx0PTA+dD8zNjArdDp0KSx0aGlzLnNldENoYW5uZWwoXCJoc2xcIiwwLHQpfSxzYXR1cmF0aW9uOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnNldENoYW5uZWwoXCJoc2xcIiwxLHQpfSxsaWdodG5lc3M6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc2V0Q2hhbm5lbChcImhzbFwiLDIsdCl9LHNhdHVyYXRpb252OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnNldENoYW5uZWwoXCJoc3ZcIiwxLHQpfSx3aGl0ZW5lc3M6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc2V0Q2hhbm5lbChcImh3YlwiLDEsdCl9LGJsYWNrbmVzczpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zZXRDaGFubmVsKFwiaHdiXCIsMix0KX0sdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc2V0Q2hhbm5lbChcImhzdlwiLDIsdCl9LGN5YW46ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc2V0Q2hhbm5lbChcImNteWtcIiwwLHQpfSxtYWdlbnRhOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnNldENoYW5uZWwoXCJjbXlrXCIsMSx0KX0seWVsbG93OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnNldENoYW5uZWwoXCJjbXlrXCIsMix0KX0sYmxhY2s6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc2V0Q2hhbm5lbChcImNteWtcIiwzLHQpfSxoZXhTdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gbi5oZXhTdHJpbmcodGhpcy52YWx1ZXMucmdiKX0scmdiU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIG4ucmdiU3RyaW5nKHRoaXMudmFsdWVzLnJnYix0aGlzLnZhbHVlcy5hbHBoYSl9LHJnYmFTdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gbi5yZ2JhU3RyaW5nKHRoaXMudmFsdWVzLnJnYix0aGlzLnZhbHVlcy5hbHBoYSl9LHBlcmNlbnRTdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gbi5wZXJjZW50U3RyaW5nKHRoaXMudmFsdWVzLnJnYix0aGlzLnZhbHVlcy5hbHBoYSl9LGhzbFN0cmluZzpmdW5jdGlvbigpe3JldHVybiBuLmhzbFN0cmluZyh0aGlzLnZhbHVlcy5oc2wsdGhpcy52YWx1ZXMuYWxwaGEpfSxoc2xhU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIG4uaHNsYVN0cmluZyh0aGlzLnZhbHVlcy5oc2wsdGhpcy52YWx1ZXMuYWxwaGEpfSxod2JTdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gbi5od2JTdHJpbmcodGhpcy52YWx1ZXMuaHdiLHRoaXMudmFsdWVzLmFscGhhKX0sa2V5d29yZDpmdW5jdGlvbigpe3JldHVybiBuLmtleXdvcmQodGhpcy52YWx1ZXMucmdiLHRoaXMudmFsdWVzLmFscGhhKX0scmdiTnVtYmVyOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy52YWx1ZXMucmdiO3JldHVybiB0WzBdPDwxNnx0WzFdPDw4fHRbMl19LGx1bWlub3NpdHk6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy52YWx1ZXMucmdiLGU9W10sYT0wO2E8dC5sZW5ndGg7YSsrKXt2YXIgaT10W2FdLzI1NTtlW2FdPS4wMzkyOD49aT9pLzEyLjkyOk1hdGgucG93KChpKy4wNTUpLzEuMDU1LDIuNCl9cmV0dXJuLjIxMjYqZVswXSsuNzE1MiplWzFdKy4wNzIyKmVbMl19LGNvbnRyYXN0OmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMubHVtaW5vc2l0eSgpLGE9dC5sdW1pbm9zaXR5KCk7cmV0dXJuIGU+YT8oZSsuMDUpLyhhKy4wNSk6KGErLjA1KS8oZSsuMDUpfSxsZXZlbDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmNvbnRyYXN0KHQpO3JldHVybiBlPj03LjE/XCJBQUFcIjplPj00LjU/XCJBQVwiOlwiXCJ9LGRhcms6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnZhbHVlcy5yZ2IsZT0oMjk5KnRbMF0rNTg3KnRbMV0rMTE0KnRbMl0pLzFlMztyZXR1cm4gMTI4PmV9LGxpZ2h0OmZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMuZGFyaygpfSxuZWdhdGU6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9W10sZT0wOzM+ZTtlKyspdFtlXT0yNTUtdGhpcy52YWx1ZXMucmdiW2VdO3JldHVybiB0aGlzLnNldFZhbHVlcyhcInJnYlwiLHQpLHRoaXN9LGxpZ2h0ZW46ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy52YWx1ZXMuaHNsO3JldHVybiBlWzJdKz1lWzJdKnQsdGhpcy5zZXRWYWx1ZXMoXCJoc2xcIixlKSx0aGlzfSxkYXJrZW46ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy52YWx1ZXMuaHNsO3JldHVybiBlWzJdLT1lWzJdKnQsdGhpcy5zZXRWYWx1ZXMoXCJoc2xcIixlKSx0aGlzfSxzYXR1cmF0ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLnZhbHVlcy5oc2w7cmV0dXJuIGVbMV0rPWVbMV0qdCx0aGlzLnNldFZhbHVlcyhcImhzbFwiLGUpLHRoaXN9LGRlc2F0dXJhdGU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy52YWx1ZXMuaHNsO3JldHVybiBlWzFdLT1lWzFdKnQsdGhpcy5zZXRWYWx1ZXMoXCJoc2xcIixlKSx0aGlzfSx3aGl0ZW46ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy52YWx1ZXMuaHdiO3JldHVybiBlWzFdKz1lWzFdKnQsdGhpcy5zZXRWYWx1ZXMoXCJod2JcIixlKSx0aGlzfSxibGFja2VuOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMudmFsdWVzLmh3YjtyZXR1cm4gZVsyXSs9ZVsyXSp0LHRoaXMuc2V0VmFsdWVzKFwiaHdiXCIsZSksdGhpc30sZ3JleXNjYWxlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy52YWx1ZXMucmdiLGU9LjMqdFswXSsuNTkqdFsxXSsuMTEqdFsyXTtyZXR1cm4gdGhpcy5zZXRWYWx1ZXMoXCJyZ2JcIixbZSxlLGVdKSx0aGlzfSxjbGVhcmVyOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMudmFsdWVzLmFscGhhO3JldHVybiB0aGlzLnNldFZhbHVlcyhcImFscGhhXCIsZS1lKnQpLHRoaXN9LG9wYXF1ZXI6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy52YWx1ZXMuYWxwaGE7cmV0dXJuIHRoaXMuc2V0VmFsdWVzKFwiYWxwaGFcIixlK2UqdCksdGhpc30scm90YXRlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMudmFsdWVzLmhzbCxhPShlWzBdK3QpJTM2MDtyZXR1cm4gZVswXT0wPmE/MzYwK2E6YSx0aGlzLnNldFZhbHVlcyhcImhzbFwiLGUpLHRoaXN9LG1peDpmdW5jdGlvbih0LGUpe3ZhciBhPXRoaXMsaT10LG49dm9pZCAwPT09ZT8uNTplLG89MipuLTEscj1hLmFscGhhKCktaS5hbHBoYSgpLGw9KChvKnI9PT0tMT9vOihvK3IpLygxK28qcikpKzEpLzIscz0xLWw7cmV0dXJuIHRoaXMucmdiKGwqYS5yZWQoKStzKmkucmVkKCksbCphLmdyZWVuKCkrcyppLmdyZWVuKCksbCphLmJsdWUoKStzKmkuYmx1ZSgpKS5hbHBoYShhLmFscGhhKCkqbitpLmFscGhhKCkqKDEtbikpfSx0b0pTT046ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yZ2IoKX0sY2xvbmU6ZnVuY3Rpb24oKXt2YXIgdCxlLGE9bmV3IG8saT10aGlzLnZhbHVlcyxuPWEudmFsdWVzO2Zvcih2YXIgciBpbiBpKWkuaGFzT3duUHJvcGVydHkocikmJih0PWlbcl0sZT17fS50b1N0cmluZy5jYWxsKHQpLFwiW29iamVjdCBBcnJheV1cIj09PWU/bltyXT10LnNsaWNlKDApOlwiW29iamVjdCBOdW1iZXJdXCI9PT1lP25bcl09dDpjb25zb2xlLmVycm9yKFwidW5leHBlY3RlZCBjb2xvciB2YWx1ZTpcIix0KSk7cmV0dXJuIGF9fSxvLnByb3RvdHlwZS5zcGFjZXM9e3JnYjpbXCJyZWRcIixcImdyZWVuXCIsXCJibHVlXCJdLGhzbDpbXCJodWVcIixcInNhdHVyYXRpb25cIixcImxpZ2h0bmVzc1wiXSxoc3Y6W1wiaHVlXCIsXCJzYXR1cmF0aW9uXCIsXCJ2YWx1ZVwiXSxod2I6W1wiaHVlXCIsXCJ3aGl0ZW5lc3NcIixcImJsYWNrbmVzc1wiXSxjbXlrOltcImN5YW5cIixcIm1hZ2VudGFcIixcInllbGxvd1wiLFwiYmxhY2tcIl19LG8ucHJvdG90eXBlLm1heGVzPXtyZ2I6WzI1NSwyNTUsMjU1XSxoc2w6WzM2MCwxMDAsMTAwXSxoc3Y6WzM2MCwxMDAsMTAwXSxod2I6WzM2MCwxMDAsMTAwXSxjbXlrOlsxMDAsMTAwLDEwMCwxMDBdfSxvLnByb3RvdHlwZS5nZXRWYWx1ZXM9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMudmFsdWVzLGE9e30saT0wO2k8dC5sZW5ndGg7aSsrKWFbdC5jaGFyQXQoaSldPWVbdF1baV07cmV0dXJuIDEhPT1lLmFscGhhJiYoYS5hPWUuYWxwaGEpLGF9LG8ucHJvdG90eXBlLnNldFZhbHVlcz1mdW5jdGlvbih0LGUpe3ZhciBhLG49dGhpcy52YWx1ZXMsbz10aGlzLnNwYWNlcyxyPXRoaXMubWF4ZXMsbD0xO2lmKFwiYWxwaGFcIj09PXQpbD1lO2Vsc2UgaWYoZS5sZW5ndGgpblt0XT1lLnNsaWNlKDAsdC5sZW5ndGgpLGw9ZVt0Lmxlbmd0aF07ZWxzZSBpZih2b2lkIDAhPT1lW3QuY2hhckF0KDApXSl7Zm9yKGE9MDthPHQubGVuZ3RoO2ErKyluW3RdW2FdPWVbdC5jaGFyQXQoYSldO2w9ZS5hfWVsc2UgaWYodm9pZCAwIT09ZVtvW3RdWzBdXSl7dmFyIHM9b1t0XTtmb3IoYT0wO2E8dC5sZW5ndGg7YSsrKW5bdF1bYV09ZVtzW2FdXTtsPWUuYWxwaGF9aWYobi5hbHBoYT1NYXRoLm1heCgwLE1hdGgubWluKDEsdm9pZCAwPT09bD9uLmFscGhhOmwpKSxcImFscGhhXCI9PT10KXJldHVybiExO3ZhciBkO2ZvcihhPTA7YTx0Lmxlbmd0aDthKyspZD1NYXRoLm1heCgwLE1hdGgubWluKHJbdF1bYV0sblt0XVthXSkpLG5bdF1bYV09TWF0aC5yb3VuZChkKTtmb3IodmFyIHUgaW4gbyl1IT09dCYmKG5bdV09aVt0XVt1XShuW3RdKSk7cmV0dXJuITB9LG8ucHJvdG90eXBlLnNldFNwYWNlPWZ1bmN0aW9uKHQsZSl7dmFyIGE9ZVswXTtyZXR1cm4gdm9pZCAwPT09YT90aGlzLmdldFZhbHVlcyh0KTooXCJudW1iZXJcIj09dHlwZW9mIGEmJihhPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGUpKSx0aGlzLnNldFZhbHVlcyh0LGEpLHRoaXMpfSxvLnByb3RvdHlwZS5zZXRDaGFubmVsPWZ1bmN0aW9uKHQsZSxhKXt2YXIgaT10aGlzLnZhbHVlc1t0XTtyZXR1cm4gdm9pZCAwPT09YT9pW2VdOmE9PT1pW2VdP3RoaXM6KGlbZV09YSx0aGlzLnNldFZhbHVlcyh0LGkpLHRoaXMpfSxcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiYod2luZG93LkNvbG9yPW8pLGUuZXhwb3J0cz1vfSx7MjoyLDU6NX1dLDQ6W2Z1bmN0aW9uKHQsZSxhKXtmdW5jdGlvbiBpKHQpe3ZhciBlLGEsaSxuPXRbMF0vMjU1LG89dFsxXS8yNTUscj10WzJdLzI1NSxsPU1hdGgubWluKG4sbyxyKSxzPU1hdGgubWF4KG4sbyxyKSxkPXMtbDtyZXR1cm4gcz09bD9lPTA6bj09cz9lPShvLXIpL2Q6bz09cz9lPTIrKHItbikvZDpyPT1zJiYoZT00KyhuLW8pL2QpLGU9TWF0aC5taW4oNjAqZSwzNjApLDA+ZSYmKGUrPTM2MCksaT0obCtzKS8yLGE9cz09bD8wOi41Pj1pP2QvKHMrbCk6ZC8oMi1zLWwpLFtlLDEwMCphLDEwMCppXX1mdW5jdGlvbiBuKHQpe3ZhciBlLGEsaSxuPXRbMF0sbz10WzFdLHI9dFsyXSxsPU1hdGgubWluKG4sbyxyKSxzPU1hdGgubWF4KG4sbyxyKSxkPXMtbDtyZXR1cm4gYT0wPT1zPzA6ZC9zKjFlMy8xMCxzPT1sP2U9MDpuPT1zP2U9KG8tcikvZDpvPT1zP2U9Misoci1uKS9kOnI9PXMmJihlPTQrKG4tbykvZCksZT1NYXRoLm1pbig2MCplLDM2MCksMD5lJiYoZSs9MzYwKSxpPXMvMjU1KjFlMy8xMCxbZSxhLGldfWZ1bmN0aW9uIG8odCl7dmFyIGU9dFswXSxhPXRbMV0sbj10WzJdLG89aSh0KVswXSxyPTEvMjU1Kk1hdGgubWluKGUsTWF0aC5taW4oYSxuKSksbj0xLTEvMjU1Kk1hdGgubWF4KGUsTWF0aC5tYXgoYSxuKSk7cmV0dXJuW28sMTAwKnIsMTAwKm5dfWZ1bmN0aW9uIGwodCl7dmFyIGUsYSxpLG4sbz10WzBdLzI1NSxyPXRbMV0vMjU1LGw9dFsyXS8yNTU7cmV0dXJuIG49TWF0aC5taW4oMS1vLDEtciwxLWwpLGU9KDEtby1uKS8oMS1uKXx8MCxhPSgxLXItbikvKDEtbil8fDAsaT0oMS1sLW4pLygxLW4pfHwwLFsxMDAqZSwxMDAqYSwxMDAqaSwxMDAqbl19ZnVuY3Rpb24gcyh0KXtyZXR1cm4gWltKU09OLnN0cmluZ2lmeSh0KV19ZnVuY3Rpb24gZCh0KXt2YXIgZT10WzBdLzI1NSxhPXRbMV0vMjU1LGk9dFsyXS8yNTU7ZT1lPi4wNDA0NT9NYXRoLnBvdygoZSsuMDU1KS8xLjA1NSwyLjQpOmUvMTIuOTIsYT1hPi4wNDA0NT9NYXRoLnBvdygoYSsuMDU1KS8xLjA1NSwyLjQpOmEvMTIuOTIsaT1pPi4wNDA0NT9NYXRoLnBvdygoaSsuMDU1KS8xLjA1NSwyLjQpOmkvMTIuOTI7dmFyIG49LjQxMjQqZSsuMzU3NiphKy4xODA1Kmksbz0uMjEyNiplKy43MTUyKmErLjA3MjIqaSxyPS4wMTkzKmUrLjExOTIqYSsuOTUwNSppO3JldHVyblsxMDAqbiwxMDAqbywxMDAqcl19ZnVuY3Rpb24gdSh0KXt2YXIgZSxhLGksbj1kKHQpLG89blswXSxyPW5bMV0sbD1uWzJdO3JldHVybiBvLz05NS4wNDcsci89MTAwLGwvPTEwOC44ODMsbz1vPi4wMDg4NTY/TWF0aC5wb3cobywxLzMpOjcuNzg3Km8rMTYvMTE2LHI9cj4uMDA4ODU2P01hdGgucG93KHIsMS8zKTo3Ljc4NypyKzE2LzExNixsPWw+LjAwODg1Nj9NYXRoLnBvdyhsLDEvMyk6Ny43ODcqbCsxNi8xMTYsZT0xMTYqci0xNixhPTUwMCooby1yKSxpPTIwMCooci1sKSxbZSxhLGldfWZ1bmN0aW9uIGModCl7cmV0dXJuIFcodSh0KSl9ZnVuY3Rpb24gaCh0KXt2YXIgZSxhLGksbixvLHI9dFswXS8zNjAsbD10WzFdLzEwMCxzPXRbMl0vMTAwO2lmKDA9PWwpcmV0dXJuIG89MjU1KnMsW28sbyxvXTthPS41PnM/cyooMStsKTpzK2wtcypsLGU9MipzLWEsbj1bMCwwLDBdO2Zvcih2YXIgZD0wOzM+ZDtkKyspaT1yKzEvMyotKGQtMSksMD5pJiZpKyssaT4xJiZpLS0sbz0xPjYqaT9lKzYqKGEtZSkqaToxPjIqaT9hOjI+MyppP2UrKGEtZSkqKDIvMy1pKSo2OmUsbltkXT0yNTUqbztyZXR1cm4gbn1mdW5jdGlvbiBmKHQpe3ZhciBlLGEsaT10WzBdLG49dFsxXS8xMDAsbz10WzJdLzEwMDtyZXR1cm4gMD09PW8/WzAsMCwwXToobyo9MixuKj0xPj1vP286Mi1vLGE9KG8rbikvMixlPTIqbi8obytuKSxbaSwxMDAqZSwxMDAqYV0pfWZ1bmN0aW9uIHAodCl7cmV0dXJuIG8oaCh0KSl9ZnVuY3Rpb24gbSh0KXtyZXR1cm4gbChoKHQpKX1mdW5jdGlvbiB2KHQpe3JldHVybiBzKGgodCkpfWZ1bmN0aW9uIHgodCl7dmFyIGU9dFswXS82MCxhPXRbMV0vMTAwLGk9dFsyXS8xMDAsbj1NYXRoLmZsb29yKGUpJTYsbz1lLU1hdGguZmxvb3IoZSkscj0yNTUqaSooMS1hKSxsPTI1NSppKigxLWEqbykscz0yNTUqaSooMS1hKigxLW8pKSxpPTI1NSppO3N3aXRjaChuKXtjYXNlIDA6cmV0dXJuW2kscyxyXTtjYXNlIDE6cmV0dXJuW2wsaSxyXTtjYXNlIDI6cmV0dXJuW3IsaSxzXTtjYXNlIDM6cmV0dXJuW3IsbCxpXTtjYXNlIDQ6cmV0dXJuW3MscixpXTtjYXNlIDU6cmV0dXJuW2kscixsXX19ZnVuY3Rpb24geSh0KXt2YXIgZSxhLGk9dFswXSxuPXRbMV0vMTAwLG89dFsyXS8xMDA7cmV0dXJuIGE9KDItbikqbyxlPW4qbyxlLz0xPj1hP2E6Mi1hLGU9ZXx8MCxhLz0yLFtpLDEwMCplLDEwMCphXX1mdW5jdGlvbiBrKHQpe3JldHVybiBvKHgodCkpfWZ1bmN0aW9uIFModCl7cmV0dXJuIGwoeCh0KSl9ZnVuY3Rpb24gdyh0KXtyZXR1cm4gcyh4KHQpKX1mdW5jdGlvbiBDKHQpe3ZhciBlLGEsaSxuLG89dFswXS8zNjAsbD10WzFdLzEwMCxzPXRbMl0vMTAwLGQ9bCtzO3N3aXRjaChkPjEmJihsLz1kLHMvPWQpLGU9TWF0aC5mbG9vcig2Km8pLGE9MS1zLGk9NipvLWUsMCE9KDEmZSkmJihpPTEtaSksbj1sK2kqKGEtbCksZSl7ZGVmYXVsdDpjYXNlIDY6Y2FzZSAwOnI9YSxnPW4sYj1sO2JyZWFrO2Nhc2UgMTpyPW4sZz1hLGI9bDticmVhaztjYXNlIDI6cj1sLGc9YSxiPW47YnJlYWs7Y2FzZSAzOnI9bCxnPW4sYj1hO2JyZWFrO2Nhc2UgNDpyPW4sZz1sLGI9YTticmVhaztjYXNlIDU6cj1hLGc9bCxiPW59cmV0dXJuWzI1NSpyLDI1NSpnLDI1NSpiXX1mdW5jdGlvbiBNKHQpe3JldHVybiBpKEModCkpfWZ1bmN0aW9uIEQodCl7cmV0dXJuIG4oQyh0KSl9ZnVuY3Rpb24gQSh0KXtyZXR1cm4gbChDKHQpKX1mdW5jdGlvbiBJKHQpe3JldHVybiBzKEModCkpfWZ1bmN0aW9uIFQodCl7dmFyIGUsYSxpLG49dFswXS8xMDAsbz10WzFdLzEwMCxyPXRbMl0vMTAwLGw9dFszXS8xMDA7cmV0dXJuIGU9MS1NYXRoLm1pbigxLG4qKDEtbCkrbCksYT0xLU1hdGgubWluKDEsbyooMS1sKStsKSxpPTEtTWF0aC5taW4oMSxyKigxLWwpK2wpLFsyNTUqZSwyNTUqYSwyNTUqaV19ZnVuY3Rpb24gRih0KXtyZXR1cm4gaShUKHQpKX1mdW5jdGlvbiBQKHQpe3JldHVybiBuKFQodCkpfWZ1bmN0aW9uIFIodCl7cmV0dXJuIG8oVCh0KSl9ZnVuY3Rpb24gXyh0KXtyZXR1cm4gcyhUKHQpKX1mdW5jdGlvbiBWKHQpe3ZhciBlLGEsaSxuPXRbMF0vMTAwLG89dFsxXS8xMDAscj10WzJdLzEwMDtyZXR1cm4gZT0zLjI0MDYqbistMS41MzcyKm8rciotLjQ5ODYsYT1uKi0uOTY4OSsxLjg3NTgqbysuMDQxNSpyLGk9LjA1NTcqbitvKi0uMjA0KzEuMDU3KnIsZT1lPi4wMDMxMzA4PzEuMDU1Kk1hdGgucG93KGUsMS8yLjQpLS4wNTU6ZT0xMi45MiplLGE9YT4uMDAzMTMwOD8xLjA1NSpNYXRoLnBvdyhhLDEvMi40KS0uMDU1OmE9MTIuOTIqYSxpPWk+LjAwMzEzMDg/MS4wNTUqTWF0aC5wb3coaSwxLzIuNCktLjA1NTppPTEyLjkyKmksZT1NYXRoLm1pbihNYXRoLm1heCgwLGUpLDEpLGE9TWF0aC5taW4oTWF0aC5tYXgoMCxhKSwxKSxpPU1hdGgubWluKE1hdGgubWF4KDAsaSksMSksWzI1NSplLDI1NSphLDI1NSppXX1mdW5jdGlvbiBMKHQpe3ZhciBlLGEsaSxuPXRbMF0sbz10WzFdLHI9dFsyXTtyZXR1cm4gbi89OTUuMDQ3LG8vPTEwMCxyLz0xMDguODgzLG49bj4uMDA4ODU2P01hdGgucG93KG4sMS8zKTo3Ljc4NypuKzE2LzExNixvPW8+LjAwODg1Nj9NYXRoLnBvdyhvLDEvMyk6Ny43ODcqbysxNi8xMTYscj1yPi4wMDg4NTY/TWF0aC5wb3cociwxLzMpOjcuNzg3KnIrMTYvMTE2LGU9MTE2Km8tMTYsYT01MDAqKG4tbyksaT0yMDAqKG8tciksW2UsYSxpXX1mdW5jdGlvbiBPKHQpe3JldHVybiBXKEwodCkpfWZ1bmN0aW9uIEIodCl7dmFyIGUsYSxpLG4sbz10WzBdLHI9dFsxXSxsPXRbMl07cmV0dXJuIDg+PW8/KGE9MTAwKm8vOTAzLjMsbj03Ljc4NyooYS8xMDApKzE2LzExNik6KGE9MTAwKk1hdGgucG93KChvKzE2KS8xMTYsMyksbj1NYXRoLnBvdyhhLzEwMCwxLzMpKSxlPS4wMDg4NTY+PWUvOTUuMDQ3P2U9OTUuMDQ3KihyLzUwMCtuLTE2LzExNikvNy43ODc6OTUuMDQ3Kk1hdGgucG93KHIvNTAwK24sMyksaT0uMDA4ODU5Pj1pLzEwOC44ODM/aT0xMDguODgzKihuLWwvMjAwLTE2LzExNikvNy43ODc6MTA4Ljg4MypNYXRoLnBvdyhuLWwvMjAwLDMpLFtlLGEsaV19ZnVuY3Rpb24gVyh0KXt2YXIgZSxhLGksbj10WzBdLG89dFsxXSxyPXRbMl07cmV0dXJuIGU9TWF0aC5hdGFuMihyLG8pLGE9MzYwKmUvMi9NYXRoLlBJLDA+YSYmKGErPTM2MCksaT1NYXRoLnNxcnQobypvK3IqciksW24saSxhXX1mdW5jdGlvbiB6KHQpe3JldHVybiBWKEIodCkpfWZ1bmN0aW9uIE4odCl7dmFyIGUsYSxpLG49dFswXSxvPXRbMV0scj10WzJdO3JldHVybiBpPXIvMzYwKjIqTWF0aC5QSSxlPW8qTWF0aC5jb3MoaSksYT1vKk1hdGguc2luKGkpLFtuLGUsYV19ZnVuY3Rpb24gSCh0KXtyZXR1cm4gQihOKHQpKX1mdW5jdGlvbiBFKHQpe3JldHVybiB6KE4odCkpfWZ1bmN0aW9uIFUodCl7cmV0dXJuIFFbdF19ZnVuY3Rpb24gcSh0KXtyZXR1cm4gaShVKHQpKX1mdW5jdGlvbiBqKHQpe3JldHVybiBuKFUodCkpfWZ1bmN0aW9uIFkodCl7cmV0dXJuIG8oVSh0KSl9ZnVuY3Rpb24gSih0KXtyZXR1cm4gbChVKHQpKX1mdW5jdGlvbiBYKHQpe3JldHVybiB1KFUodCkpfWZ1bmN0aW9uIEcodCl7cmV0dXJuIGQoVSh0KSl9ZS5leHBvcnRzPXtyZ2IyaHNsOmkscmdiMmhzdjpuLHJnYjJod2I6byxyZ2IyY215azpsLHJnYjJrZXl3b3JkOnMscmdiMnh5ejpkLHJnYjJsYWI6dSxyZ2IybGNoOmMsaHNsMnJnYjpoLGhzbDJoc3Y6Zixoc2wyaHdiOnAsaHNsMmNteWs6bSxoc2wya2V5d29yZDp2LGhzdjJyZ2I6eCxoc3YyaHNsOnksaHN2Mmh3YjprLGhzdjJjbXlrOlMsaHN2MmtleXdvcmQ6dyxod2IycmdiOkMsaHdiMmhzbDpNLGh3YjJoc3Y6RCxod2IyY215azpBLGh3YjJrZXl3b3JkOkksY215azJyZ2I6VCxjbXlrMmhzbDpGLGNteWsyaHN2OlAsY215azJod2I6UixjbXlrMmtleXdvcmQ6XyxrZXl3b3JkMnJnYjpVLGtleXdvcmQyaHNsOnEsa2V5d29yZDJoc3Y6aixrZXl3b3JkMmh3YjpZLGtleXdvcmQyY215azpKLGtleXdvcmQybGFiOlgsa2V5d29yZDJ4eXo6Ryx4eXoycmdiOlYseHl6MmxhYjpMLHh5ejJsY2g6TyxsYWIyeHl6OkIsbGFiMnJnYjp6LGxhYjJsY2g6VyxsY2gybGFiOk4sbGNoMnh5ejpILGxjaDJyZ2I6RX07dmFyIFE9e2FsaWNlYmx1ZTpbMjQwLDI0OCwyNTVdLGFudGlxdWV3aGl0ZTpbMjUwLDIzNSwyMTVdLGFxdWE6WzAsMjU1LDI1NV0sYXF1YW1hcmluZTpbMTI3LDI1NSwyMTJdLGF6dXJlOlsyNDAsMjU1LDI1NV0sYmVpZ2U6WzI0NSwyNDUsMjIwXSxiaXNxdWU6WzI1NSwyMjgsMTk2XSxibGFjazpbMCwwLDBdLGJsYW5jaGVkYWxtb25kOlsyNTUsMjM1LDIwNV0sYmx1ZTpbMCwwLDI1NV0sYmx1ZXZpb2xldDpbMTM4LDQzLDIyNl0sYnJvd246WzE2NSw0Miw0Ml0sYnVybHl3b29kOlsyMjIsMTg0LDEzNV0sY2FkZXRibHVlOls5NSwxNTgsMTYwXSxjaGFydHJldXNlOlsxMjcsMjU1LDBdLGNob2NvbGF0ZTpbMjEwLDEwNSwzMF0sY29yYWw6WzI1NSwxMjcsODBdLGNvcm5mbG93ZXJibHVlOlsxMDAsMTQ5LDIzN10sY29ybnNpbGs6WzI1NSwyNDgsMjIwXSxjcmltc29uOlsyMjAsMjAsNjBdLGN5YW46WzAsMjU1LDI1NV0sZGFya2JsdWU6WzAsMCwxMzldLGRhcmtjeWFuOlswLDEzOSwxMzldLGRhcmtnb2xkZW5yb2Q6WzE4NCwxMzQsMTFdLGRhcmtncmF5OlsxNjksMTY5LDE2OV0sZGFya2dyZWVuOlswLDEwMCwwXSxkYXJrZ3JleTpbMTY5LDE2OSwxNjldLGRhcmtraGFraTpbMTg5LDE4MywxMDddLGRhcmttYWdlbnRhOlsxMzksMCwxMzldLGRhcmtvbGl2ZWdyZWVuOls4NSwxMDcsNDddLGRhcmtvcmFuZ2U6WzI1NSwxNDAsMF0sZGFya29yY2hpZDpbMTUzLDUwLDIwNF0sZGFya3JlZDpbMTM5LDAsMF0sZGFya3NhbG1vbjpbMjMzLDE1MCwxMjJdLGRhcmtzZWFncmVlbjpbMTQzLDE4OCwxNDNdLGRhcmtzbGF0ZWJsdWU6WzcyLDYxLDEzOV0sZGFya3NsYXRlZ3JheTpbNDcsNzksNzldLGRhcmtzbGF0ZWdyZXk6WzQ3LDc5LDc5XSxkYXJrdHVycXVvaXNlOlswLDIwNiwyMDldLGRhcmt2aW9sZXQ6WzE0OCwwLDIxMV0sZGVlcHBpbms6WzI1NSwyMCwxNDddLGRlZXBza3libHVlOlswLDE5MSwyNTVdLGRpbWdyYXk6WzEwNSwxMDUsMTA1XSxkaW1ncmV5OlsxMDUsMTA1LDEwNV0sZG9kZ2VyYmx1ZTpbMzAsMTQ0LDI1NV0sZmlyZWJyaWNrOlsxNzgsMzQsMzRdLGZsb3JhbHdoaXRlOlsyNTUsMjUwLDI0MF0sZm9yZXN0Z3JlZW46WzM0LDEzOSwzNF0sZnVjaHNpYTpbMjU1LDAsMjU1XSxnYWluc2Jvcm86WzIyMCwyMjAsMjIwXSxnaG9zdHdoaXRlOlsyNDgsMjQ4LDI1NV0sZ29sZDpbMjU1LDIxNSwwXSxnb2xkZW5yb2Q6WzIxOCwxNjUsMzJdLGdyYXk6WzEyOCwxMjgsMTI4XSxncmVlbjpbMCwxMjgsMF0sZ3JlZW55ZWxsb3c6WzE3MywyNTUsNDddLGdyZXk6WzEyOCwxMjgsMTI4XSxob25leWRldzpbMjQwLDI1NSwyNDBdLGhvdHBpbms6WzI1NSwxMDUsMTgwXSxpbmRpYW5yZWQ6WzIwNSw5Miw5Ml0saW5kaWdvOls3NSwwLDEzMF0saXZvcnk6WzI1NSwyNTUsMjQwXSxraGFraTpbMjQwLDIzMCwxNDBdLGxhdmVuZGVyOlsyMzAsMjMwLDI1MF0sbGF2ZW5kZXJibHVzaDpbMjU1LDI0MCwyNDVdLGxhd25ncmVlbjpbMTI0LDI1MiwwXSxsZW1vbmNoaWZmb246WzI1NSwyNTAsMjA1XSxsaWdodGJsdWU6WzE3MywyMTYsMjMwXSxsaWdodGNvcmFsOlsyNDAsMTI4LDEyOF0sbGlnaHRjeWFuOlsyMjQsMjU1LDI1NV0sbGlnaHRnb2xkZW5yb2R5ZWxsb3c6WzI1MCwyNTAsMjEwXSxsaWdodGdyYXk6WzIxMSwyMTEsMjExXSxsaWdodGdyZWVuOlsxNDQsMjM4LDE0NF0sbGlnaHRncmV5OlsyMTEsMjExLDIxMV0sbGlnaHRwaW5rOlsyNTUsMTgyLDE5M10sbGlnaHRzYWxtb246WzI1NSwxNjAsMTIyXSxsaWdodHNlYWdyZWVuOlszMiwxNzgsMTcwXSxsaWdodHNreWJsdWU6WzEzNSwyMDYsMjUwXSxsaWdodHNsYXRlZ3JheTpbMTE5LDEzNiwxNTNdLGxpZ2h0c2xhdGVncmV5OlsxMTksMTM2LDE1M10sbGlnaHRzdGVlbGJsdWU6WzE3NiwxOTYsMjIyXSxsaWdodHllbGxvdzpbMjU1LDI1NSwyMjRdLGxpbWU6WzAsMjU1LDBdLGxpbWVncmVlbjpbNTAsMjA1LDUwXSxsaW5lbjpbMjUwLDI0MCwyMzBdLG1hZ2VudGE6WzI1NSwwLDI1NV0sbWFyb29uOlsxMjgsMCwwXSxtZWRpdW1hcXVhbWFyaW5lOlsxMDIsMjA1LDE3MF0sbWVkaXVtYmx1ZTpbMCwwLDIwNV0sbWVkaXVtb3JjaGlkOlsxODYsODUsMjExXSxtZWRpdW1wdXJwbGU6WzE0NywxMTIsMjE5XSxtZWRpdW1zZWFncmVlbjpbNjAsMTc5LDExM10sbWVkaXVtc2xhdGVibHVlOlsxMjMsMTA0LDIzOF0sbWVkaXVtc3ByaW5nZ3JlZW46WzAsMjUwLDE1NF0sbWVkaXVtdHVycXVvaXNlOls3MiwyMDksMjA0XSxtZWRpdW12aW9sZXRyZWQ6WzE5OSwyMSwxMzNdLG1pZG5pZ2h0Ymx1ZTpbMjUsMjUsMTEyXSxtaW50Y3JlYW06WzI0NSwyNTUsMjUwXSxtaXN0eXJvc2U6WzI1NSwyMjgsMjI1XSxtb2NjYXNpbjpbMjU1LDIyOCwxODFdLG5hdmFqb3doaXRlOlsyNTUsMjIyLDE3M10sbmF2eTpbMCwwLDEyOF0sb2xkbGFjZTpbMjUzLDI0NSwyMzBdLG9saXZlOlsxMjgsMTI4LDBdLG9saXZlZHJhYjpbMTA3LDE0MiwzNV0sb3JhbmdlOlsyNTUsMTY1LDBdLG9yYW5nZXJlZDpbMjU1LDY5LDBdLG9yY2hpZDpbMjE4LDExMiwyMTRdLHBhbGVnb2xkZW5yb2Q6WzIzOCwyMzIsMTcwXSxwYWxlZ3JlZW46WzE1MiwyNTEsMTUyXSxwYWxldHVycXVvaXNlOlsxNzUsMjM4LDIzOF0scGFsZXZpb2xldHJlZDpbMjE5LDExMiwxNDddLHBhcGF5YXdoaXA6WzI1NSwyMzksMjEzXSxwZWFjaHB1ZmY6WzI1NSwyMTgsMTg1XSxwZXJ1OlsyMDUsMTMzLDYzXSxwaW5rOlsyNTUsMTkyLDIwM10scGx1bTpbMjIxLDE2MCwyMjFdLHBvd2RlcmJsdWU6WzE3NiwyMjQsMjMwXSxwdXJwbGU6WzEyOCwwLDEyOF0scmViZWNjYXB1cnBsZTpbMTAyLDUxLDE1M10scmVkOlsyNTUsMCwwXSxyb3N5YnJvd246WzE4OCwxNDMsMTQzXSxyb3lhbGJsdWU6WzY1LDEwNSwyMjVdLHNhZGRsZWJyb3duOlsxMzksNjksMTldLHNhbG1vbjpbMjUwLDEyOCwxMTRdLHNhbmR5YnJvd246WzI0NCwxNjQsOTZdLHNlYWdyZWVuOls0NiwxMzksODddLHNlYXNoZWxsOlsyNTUsMjQ1LDIzOF0sc2llbm5hOlsxNjAsODIsNDVdLHNpbHZlcjpbMTkyLDE5MiwxOTJdLHNreWJsdWU6WzEzNSwyMDYsMjM1XSxzbGF0ZWJsdWU6WzEwNiw5MCwyMDVdLHNsYXRlZ3JheTpbMTEyLDEyOCwxNDRdLHNsYXRlZ3JleTpbMTEyLDEyOCwxNDRdLHNub3c6WzI1NSwyNTAsMjUwXSxzcHJpbmdncmVlbjpbMCwyNTUsMTI3XSxzdGVlbGJsdWU6WzcwLDEzMCwxODBdLHRhbjpbMjEwLDE4MCwxNDBdLHRlYWw6WzAsMTI4LDEyOF0sdGhpc3RsZTpbMjE2LDE5MSwyMTZdLHRvbWF0bzpbMjU1LDk5LDcxXSx0dXJxdW9pc2U6WzY0LDIyNCwyMDhdLHZpb2xldDpbMjM4LDEzMCwyMzhdLHdoZWF0OlsyNDUsMjIyLDE3OV0sd2hpdGU6WzI1NSwyNTUsMjU1XSx3aGl0ZXNtb2tlOlsyNDUsMjQ1LDI0NV0seWVsbG93OlsyNTUsMjU1LDBdLHllbGxvd2dyZWVuOlsxNTQsMjA1LDUwXX0sWj17fTtmb3IodmFyICQgaW4gUSlaW0pTT04uc3RyaW5naWZ5KFFbJF0pXT0kfSx7fV0sNTpbZnVuY3Rpb24odCxlLGEpe3ZhciBpPXQoNCksbj1mdW5jdGlvbigpe3JldHVybiBuZXcgZH07Zm9yKHZhciBvIGluIGkpe25bbytcIlJhd1wiXT1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIGUmJihlPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cykpLGlbdF0oZSl9fShvKTt2YXIgcj0vKFxcdyspMihcXHcrKS8uZXhlYyhvKSxsPXJbMV0scz1yWzJdO25bbF09bltsXXx8e30sbltsXVtzXT1uW29dPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlKXtcIm51bWJlclwiPT10eXBlb2YgZSYmKGU9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKSk7dmFyIGE9aVt0XShlKTtpZihcInN0cmluZ1wiPT10eXBlb2YgYXx8dm9pZCAwPT09YSlyZXR1cm4gYTtmb3IodmFyIG49MDtuPGEubGVuZ3RoO24rKylhW25dPU1hdGgucm91bmQoYVtuXSk7cmV0dXJuIGF9fShvKX12YXIgZD1mdW5jdGlvbigpe3RoaXMuY29udnM9e319O2QucHJvdG90eXBlLnJvdXRlU3BhY2U9ZnVuY3Rpb24odCxlKXt2YXIgYT1lWzBdO3JldHVybiB2b2lkIDA9PT1hP3RoaXMuZ2V0VmFsdWVzKHQpOihcIm51bWJlclwiPT10eXBlb2YgYSYmKGE9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZSkpLHRoaXMuc2V0VmFsdWVzKHQsYSkpfSxkLnByb3RvdHlwZS5zZXRWYWx1ZXM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5zcGFjZT10LHRoaXMuY29udnM9e30sdGhpcy5jb252c1t0XT1lLHRoaXN9LGQucHJvdG90eXBlLmdldFZhbHVlcz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmNvbnZzW3RdO2lmKCFlKXt2YXIgYT10aGlzLnNwYWNlLGk9dGhpcy5jb252c1thXTtlPW5bYV1bdF0oaSksdGhpcy5jb252c1t0XT1lfXJldHVybiBlfSxbXCJyZ2JcIixcImhzbFwiLFwiaHN2XCIsXCJjbXlrXCIsXCJrZXl3b3JkXCJdLmZvckVhY2goZnVuY3Rpb24odCl7ZC5wcm90b3R5cGVbdF09ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucm91dGVTcGFjZSh0LGFyZ3VtZW50cyl9fSksZS5leHBvcnRzPW59LHs0OjR9XSw2OltmdW5jdGlvbih0LGUsYSl7ZS5leHBvcnRzPXthbGljZWJsdWU6WzI0MCwyNDgsMjU1XSxhbnRpcXVld2hpdGU6WzI1MCwyMzUsMjE1XSxhcXVhOlswLDI1NSwyNTVdLGFxdWFtYXJpbmU6WzEyNywyNTUsMjEyXSxhenVyZTpbMjQwLDI1NSwyNTVdLGJlaWdlOlsyNDUsMjQ1LDIyMF0sYmlzcXVlOlsyNTUsMjI4LDE5Nl0sYmxhY2s6WzAsMCwwXSxibGFuY2hlZGFsbW9uZDpbMjU1LDIzNSwyMDVdLGJsdWU6WzAsMCwyNTVdLGJsdWV2aW9sZXQ6WzEzOCw0MywyMjZdLGJyb3duOlsxNjUsNDIsNDJdLGJ1cmx5d29vZDpbMjIyLDE4NCwxMzVdLGNhZGV0Ymx1ZTpbOTUsMTU4LDE2MF0sY2hhcnRyZXVzZTpbMTI3LDI1NSwwXSxjaG9jb2xhdGU6WzIxMCwxMDUsMzBdLGNvcmFsOlsyNTUsMTI3LDgwXSxjb3JuZmxvd2VyYmx1ZTpbMTAwLDE0OSwyMzddLGNvcm5zaWxrOlsyNTUsMjQ4LDIyMF0sY3JpbXNvbjpbMjIwLDIwLDYwXSxjeWFuOlswLDI1NSwyNTVdLGRhcmtibHVlOlswLDAsMTM5XSxkYXJrY3lhbjpbMCwxMzksMTM5XSxkYXJrZ29sZGVucm9kOlsxODQsMTM0LDExXSxkYXJrZ3JheTpbMTY5LDE2OSwxNjldLGRhcmtncmVlbjpbMCwxMDAsMF0sZGFya2dyZXk6WzE2OSwxNjksMTY5XSxkYXJra2hha2k6WzE4OSwxODMsMTA3XSxkYXJrbWFnZW50YTpbMTM5LDAsMTM5XSxkYXJrb2xpdmVncmVlbjpbODUsMTA3LDQ3XSxkYXJrb3JhbmdlOlsyNTUsMTQwLDBdLGRhcmtvcmNoaWQ6WzE1Myw1MCwyMDRdLGRhcmtyZWQ6WzEzOSwwLDBdLGRhcmtzYWxtb246WzIzMywxNTAsMTIyXSxkYXJrc2VhZ3JlZW46WzE0MywxODgsMTQzXSxkYXJrc2xhdGVibHVlOls3Miw2MSwxMzldLGRhcmtzbGF0ZWdyYXk6WzQ3LDc5LDc5XSxkYXJrc2xhdGVncmV5Ols0Nyw3OSw3OV0sZGFya3R1cnF1b2lzZTpbMCwyMDYsMjA5XSxkYXJrdmlvbGV0OlsxNDgsMCwyMTFdLGRlZXBwaW5rOlsyNTUsMjAsMTQ3XSxkZWVwc2t5Ymx1ZTpbMCwxOTEsMjU1XSxkaW1ncmF5OlsxMDUsMTA1LDEwNV0sZGltZ3JleTpbMTA1LDEwNSwxMDVdLGRvZGdlcmJsdWU6WzMwLDE0NCwyNTVdLGZpcmVicmljazpbMTc4LDM0LDM0XSxmbG9yYWx3aGl0ZTpbMjU1LDI1MCwyNDBdLGZvcmVzdGdyZWVuOlszNCwxMzksMzRdLGZ1Y2hzaWE6WzI1NSwwLDI1NV0sZ2FpbnNib3JvOlsyMjAsMjIwLDIyMF0sZ2hvc3R3aGl0ZTpbMjQ4LDI0OCwyNTVdLGdvbGQ6WzI1NSwyMTUsMF0sZ29sZGVucm9kOlsyMTgsMTY1LDMyXSxncmF5OlsxMjgsMTI4LDEyOF0sZ3JlZW46WzAsMTI4LDBdLGdyZWVueWVsbG93OlsxNzMsMjU1LDQ3XSxncmV5OlsxMjgsMTI4LDEyOF0saG9uZXlkZXc6WzI0MCwyNTUsMjQwXSxob3RwaW5rOlsyNTUsMTA1LDE4MF0saW5kaWFucmVkOlsyMDUsOTIsOTJdLGluZGlnbzpbNzUsMCwxMzBdLGl2b3J5OlsyNTUsMjU1LDI0MF0sa2hha2k6WzI0MCwyMzAsMTQwXSxsYXZlbmRlcjpbMjMwLDIzMCwyNTBdLGxhdmVuZGVyYmx1c2g6WzI1NSwyNDAsMjQ1XSxsYXduZ3JlZW46WzEyNCwyNTIsMF0sbGVtb25jaGlmZm9uOlsyNTUsMjUwLDIwNV0sbGlnaHRibHVlOlsxNzMsMjE2LDIzMF0sbGlnaHRjb3JhbDpbMjQwLDEyOCwxMjhdLGxpZ2h0Y3lhbjpbMjI0LDI1NSwyNTVdLGxpZ2h0Z29sZGVucm9keWVsbG93OlsyNTAsMjUwLDIxMF0sbGlnaHRncmF5OlsyMTEsMjExLDIxMV0sbGlnaHRncmVlbjpbMTQ0LDIzOCwxNDRdLGxpZ2h0Z3JleTpbMjExLDIxMSwyMTFdLGxpZ2h0cGluazpbMjU1LDE4MiwxOTNdLGxpZ2h0c2FsbW9uOlsyNTUsMTYwLDEyMl0sbGlnaHRzZWFncmVlbjpbMzIsMTc4LDE3MF0sbGlnaHRza3libHVlOlsxMzUsMjA2LDI1MF0sbGlnaHRzbGF0ZWdyYXk6WzExOSwxMzYsMTUzXSxsaWdodHNsYXRlZ3JleTpbMTE5LDEzNiwxNTNdLGxpZ2h0c3RlZWxibHVlOlsxNzYsMTk2LDIyMl0sbGlnaHR5ZWxsb3c6WzI1NSwyNTUsMjI0XSxsaW1lOlswLDI1NSwwXSxsaW1lZ3JlZW46WzUwLDIwNSw1MF0sbGluZW46WzI1MCwyNDAsMjMwXSxtYWdlbnRhOlsyNTUsMCwyNTVdLG1hcm9vbjpbMTI4LDAsMF0sbWVkaXVtYXF1YW1hcmluZTpbMTAyLDIwNSwxNzBdLG1lZGl1bWJsdWU6WzAsMCwyMDVdLG1lZGl1bW9yY2hpZDpbMTg2LDg1LDIxMV0sbWVkaXVtcHVycGxlOlsxNDcsMTEyLDIxOV0sbWVkaXVtc2VhZ3JlZW46WzYwLDE3OSwxMTNdLG1lZGl1bXNsYXRlYmx1ZTpbMTIzLDEwNCwyMzhdLG1lZGl1bXNwcmluZ2dyZWVuOlswLDI1MCwxNTRdLG1lZGl1bXR1cnF1b2lzZTpbNzIsMjA5LDIwNF0sbWVkaXVtdmlvbGV0cmVkOlsxOTksMjEsMTMzXSxtaWRuaWdodGJsdWU6WzI1LDI1LDExMl0sbWludGNyZWFtOlsyNDUsMjU1LDI1MF0sbWlzdHlyb3NlOlsyNTUsMjI4LDIyNV0sbW9jY2FzaW46WzI1NSwyMjgsMTgxXSxuYXZham93aGl0ZTpbMjU1LDIyMiwxNzNdLG5hdnk6WzAsMCwxMjhdLG9sZGxhY2U6WzI1MywyNDUsMjMwXSxvbGl2ZTpbMTI4LDEyOCwwXSxvbGl2ZWRyYWI6WzEwNywxNDIsMzVdLG9yYW5nZTpbMjU1LDE2NSwwXSxvcmFuZ2VyZWQ6WzI1NSw2OSwwXSxvcmNoaWQ6WzIxOCwxMTIsMjE0XSxwYWxlZ29sZGVucm9kOlsyMzgsMjMyLDE3MF0scGFsZWdyZWVuOlsxNTIsMjUxLDE1Ml0scGFsZXR1cnF1b2lzZTpbMTc1LDIzOCwyMzhdLHBhbGV2aW9sZXRyZWQ6WzIxOSwxMTIsMTQ3XSxwYXBheWF3aGlwOlsyNTUsMjM5LDIxM10scGVhY2hwdWZmOlsyNTUsMjE4LDE4NV0scGVydTpbMjA1LDEzMyw2M10scGluazpbMjU1LDE5MiwyMDNdLHBsdW06WzIyMSwxNjAsMjIxXSxwb3dkZXJibHVlOlsxNzYsMjI0LDIzMF0scHVycGxlOlsxMjgsMCwxMjhdLHJlYmVjY2FwdXJwbGU6WzEwMiw1MSwxNTNdLHJlZDpbMjU1LDAsMF0scm9zeWJyb3duOlsxODgsMTQzLDE0M10scm95YWxibHVlOls2NSwxMDUsMjI1XSxzYWRkbGVicm93bjpbMTM5LDY5LDE5XSxzYWxtb246WzI1MCwxMjgsMTE0XSxzYW5keWJyb3duOlsyNDQsMTY0LDk2XSxzZWFncmVlbjpbNDYsMTM5LDg3XSxzZWFzaGVsbDpbMjU1LDI0NSwyMzhdLHNpZW5uYTpbMTYwLDgyLDQ1XSxzaWx2ZXI6WzE5MiwxOTIsMTkyXSxza3libHVlOlsxMzUsMjA2LDIzNV0sc2xhdGVibHVlOlsxMDYsOTAsMjA1XSxzbGF0ZWdyYXk6WzExMiwxMjgsMTQ0XSxzbGF0ZWdyZXk6WzExMiwxMjgsMTQ0XSxzbm93OlsyNTUsMjUwLDI1MF0sc3ByaW5nZ3JlZW46WzAsMjU1LDEyN10sc3RlZWxibHVlOls3MCwxMzAsMTgwXSx0YW46WzIxMCwxODAsMTQwXSx0ZWFsOlswLDEyOCwxMjhdLHRoaXN0bGU6WzIxNiwxOTEsMjE2XSx0b21hdG86WzI1NSw5OSw3MV0sdHVycXVvaXNlOls2NCwyMjQsMjA4XSx2aW9sZXQ6WzIzOCwxMzAsMjM4XSx3aGVhdDpbMjQ1LDIyMiwxNzldLHdoaXRlOlsyNTUsMjU1LDI1NV0sd2hpdGVzbW9rZTpbMjQ1LDI0NSwyNDVdLHllbGxvdzpbMjU1LDI1NSwwXSx5ZWxsb3dncmVlbjpbMTU0LDIwNSw1MF19fSx7fV0sNzpbZnVuY3Rpb24odCxlLGEpe3ZhciBpPXQoMjcpKCk7dCgyNikoaSksdCgyMikoaSksdCgyNSkoaSksdCgyMSkoaSksdCgyMykoaSksdCgyNCkoaSksdCgyOCkoaSksdCgzMikoaSksdCgzMCkoaSksdCgzMSkoaSksdCgzMykoaSksdCgyOSkoaSksdCgzNCkoaSksdCgzNSkoaSksdCgzNikoaSksdCgzNykoaSksdCgzOCkoaSksdCg0MSkoaSksdCgzOSkoaSksdCg0MCkoaSksdCg0MikoaSksdCg0MykoaSksdCg0NCkoaSksdCgxNSkoaSksdCgxNikoaSksdCgxNykoaSksdCgxOCkoaSksdCgxOSkoaSksdCgyMCkoaSksdCg4KShpKSx0KDkpKGkpLHQoMTApKGkpLHQoMTEpKGkpLHQoMTIpKGkpLHQoMTMpKGkpLHQoMTQpKGkpLHdpbmRvdy5DaGFydD1lLmV4cG9ydHM9aX0sezEwOjEwLDExOjExLDEyOjEyLDEzOjEzLDE0OjE0LDE1OjE1LDE2OjE2LDE3OjE3LDE4OjE4LDE5OjE5LDIwOjIwLDIxOjIxLDIyOjIyLDIzOjIzLDI0OjI0LDI1OjI1LDI2OjI2LDI3OjI3LDI4OjI4LDI5OjI5LDMwOjMwLDMxOjMxLDMyOjMyLDMzOjMzLDM0OjM0LDM1OjM1LDM2OjM2LDM3OjM3LDM4OjM4LDM5OjM5LDQwOjQwLDQxOjQxLDQyOjQyLDQzOjQzLDQ0OjQ0LDg6OCw5Ojl9XSw4OltmdW5jdGlvbih0LGUsYSl7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPWZ1bmN0aW9uKHQpe3QuQmFyPWZ1bmN0aW9uKGUsYSl7cmV0dXJuIGEudHlwZT1cImJhclwiLG5ldyB0KGUsYSl9fX0se31dLDk6W2Z1bmN0aW9uKHQsZSxhKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9ZnVuY3Rpb24odCl7dC5CdWJibGU9ZnVuY3Rpb24oZSxhKXtyZXR1cm4gYS50eXBlPVwiYnViYmxlXCIsbmV3IHQoZSxhKX19fSx7fV0sMTA6W2Z1bmN0aW9uKHQsZSxhKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9ZnVuY3Rpb24odCl7dC5Eb3VnaG51dD1mdW5jdGlvbihlLGEpe3JldHVybiBhLnR5cGU9XCJkb3VnaG51dFwiLG5ldyB0KGUsYSl9fX0se31dLDExOltmdW5jdGlvbih0LGUsYSl7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPWZ1bmN0aW9uKHQpe3QuTGluZT1mdW5jdGlvbihlLGEpe3JldHVybiBhLnR5cGU9XCJsaW5lXCIsbmV3IHQoZSxhKX19fSx7fV0sMTI6W2Z1bmN0aW9uKHQsZSxhKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9ZnVuY3Rpb24odCl7dC5Qb2xhckFyZWE9ZnVuY3Rpb24oZSxhKXtyZXR1cm4gYS50eXBlPVwicG9sYXJBcmVhXCIsbmV3IHQoZSxhKX19fSx7fV0sMTM6W2Z1bmN0aW9uKHQsZSxhKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9ZnVuY3Rpb24odCl7dC5SYWRhcj1mdW5jdGlvbihlLGEpe3JldHVybiBhLm9wdGlvbnM9dC5oZWxwZXJzLmNvbmZpZ01lcmdlKHthc3BlY3RSYXRpbzoxfSxhLm9wdGlvbnMpLGEudHlwZT1cInJhZGFyXCIsbmV3IHQoZSxhKX19fSx7fV0sMTQ6W2Z1bmN0aW9uKHQsZSxhKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9ZnVuY3Rpb24odCl7dmFyIGU9e2hvdmVyOnttb2RlOlwic2luZ2xlXCJ9LHNjYWxlczp7eEF4ZXM6W3t0eXBlOlwibGluZWFyXCIscG9zaXRpb246XCJib3R0b21cIixpZDpcIngtYXhpcy0xXCJ9XSx5QXhlczpbe3R5cGU6XCJsaW5lYXJcIixwb3NpdGlvbjpcImxlZnRcIixpZDpcInktYXhpcy0xXCJ9XX0sdG9vbHRpcHM6e2NhbGxiYWNrczp7dGl0bGU6ZnVuY3Rpb24oKXtyZXR1cm5cIlwifSxsYWJlbDpmdW5jdGlvbih0KXtyZXR1cm5cIihcIit0LnhMYWJlbCtcIiwgXCIrdC55TGFiZWwrXCIpXCJ9fX19O3QuZGVmYXVsdHMuc2NhdHRlcj1lLHQuY29udHJvbGxlcnMuc2NhdHRlcj10LmNvbnRyb2xsZXJzLmxpbmUsdC5TY2F0dGVyPWZ1bmN0aW9uKGUsYSl7cmV0dXJuIGEudHlwZT1cInNjYXR0ZXJcIixuZXcgdChlLGEpfX19LHt9XSwxNTpbZnVuY3Rpb24odCxlLGEpe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1mdW5jdGlvbih0KXt2YXIgZT10LmhlbHBlcnM7dC5kZWZhdWx0cy5iYXI9e2hvdmVyOnttb2RlOlwibGFiZWxcIn0sc2NhbGVzOnt4QXhlczpbe3R5cGU6XCJjYXRlZ29yeVwiLGNhdGVnb3J5UGVyY2VudGFnZTouOCxiYXJQZXJjZW50YWdlOi45LGdyaWRMaW5lczp7b2Zmc2V0R3JpZExpbmVzOiEwfX1dLHlBeGVzOlt7dHlwZTpcImxpbmVhclwifV19fSx0LmNvbnRyb2xsZXJzLmJhcj10LkRhdGFzZXRDb250cm9sbGVyLmV4dGVuZCh7ZGF0YUVsZW1lbnRUeXBlOnQuZWxlbWVudHMuUmVjdGFuZ2xlLGluaXRpYWxpemU6ZnVuY3Rpb24oZSxhKXt0LkRhdGFzZXRDb250cm9sbGVyLnByb3RvdHlwZS5pbml0aWFsaXplLmNhbGwodGhpcyxlLGEpLHRoaXMuZ2V0TWV0YSgpLmJhcj0hMH0sZ2V0QmFyQ291bnQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGE9MDtyZXR1cm4gZS5lYWNoKHQuY2hhcnQuZGF0YS5kYXRhc2V0cyxmdW5jdGlvbihlLGkpe3ZhciBuPXQuY2hhcnQuZ2V0RGF0YXNldE1ldGEoaSk7bi5iYXImJnQuY2hhcnQuaXNEYXRhc2V0VmlzaWJsZShpKSYmKythfSx0KSxhfSx1cGRhdGU6ZnVuY3Rpb24odCl7dmFyIGE9dGhpcztlLmVhY2goYS5nZXRNZXRhKCkuZGF0YSxmdW5jdGlvbihlLGkpe2EudXBkYXRlRWxlbWVudChlLGksdCl9LGEpfSx1cGRhdGVFbGVtZW50OmZ1bmN0aW9uKHQsYSxpKXt2YXIgbj10aGlzLG89bi5nZXRNZXRhKCkscj1uLmdldFNjYWxlRm9ySWQoby54QXhpc0lEKSxsPW4uZ2V0U2NhbGVGb3JJZChvLnlBeGlzSUQpLHM9bC5nZXRCYXNlUGl4ZWwoKSxkPW4uY2hhcnQub3B0aW9ucy5lbGVtZW50cy5yZWN0YW5nbGUsdT10LmN1c3RvbXx8e30sYz1uLmdldERhdGFzZXQoKTtlLmV4dGVuZCh0LHtfeFNjYWxlOnIsX3lTY2FsZTpsLF9kYXRhc2V0SW5kZXg6bi5pbmRleCxfaW5kZXg6YSxfbW9kZWw6e3g6bi5jYWxjdWxhdGVCYXJYKGEsbi5pbmRleCkseTppP3M6bi5jYWxjdWxhdGVCYXJZKGEsbi5pbmRleCksbGFiZWw6bi5jaGFydC5kYXRhLmxhYmVsc1thXSxkYXRhc2V0TGFiZWw6Yy5sYWJlbCxiYXNlOmk/czpuLmNhbGN1bGF0ZUJhckJhc2Uobi5pbmRleCxhKSx3aWR0aDpuLmNhbGN1bGF0ZUJhcldpZHRoKGEpLGJhY2tncm91bmRDb2xvcjp1LmJhY2tncm91bmRDb2xvcj91LmJhY2tncm91bmRDb2xvcjplLmdldFZhbHVlQXRJbmRleE9yRGVmYXVsdChjLmJhY2tncm91bmRDb2xvcixhLGQuYmFja2dyb3VuZENvbG9yKSxib3JkZXJTa2lwcGVkOnUuYm9yZGVyU2tpcHBlZD91LmJvcmRlclNraXBwZWQ6ZC5ib3JkZXJTa2lwcGVkLGJvcmRlckNvbG9yOnUuYm9yZGVyQ29sb3I/dS5ib3JkZXJDb2xvcjplLmdldFZhbHVlQXRJbmRleE9yRGVmYXVsdChjLmJvcmRlckNvbG9yLGEsZC5ib3JkZXJDb2xvciksYm9yZGVyV2lkdGg6dS5ib3JkZXJXaWR0aD91LmJvcmRlcldpZHRoOmUuZ2V0VmFsdWVBdEluZGV4T3JEZWZhdWx0KGMuYm9yZGVyV2lkdGgsYSxkLmJvcmRlcldpZHRoKX19KSx0LnBpdm90KCl9LGNhbGN1bGF0ZUJhckJhc2U6ZnVuY3Rpb24odCxlKXt2YXIgYT10aGlzLGk9YS5nZXRNZXRhKCksbj1hLmdldFNjYWxlRm9ySWQoaS55QXhpc0lEKSxvPTA7aWYobi5vcHRpb25zLnN0YWNrZWQpe2Zvcih2YXIgcj1hLmNoYXJ0LGw9ci5kYXRhLmRhdGFzZXRzLHM9TnVtYmVyKGxbdF0uZGF0YVtlXSksZD0wO3Q+ZDtkKyspe3ZhciB1PWxbZF0sYz1yLmdldERhdGFzZXRNZXRhKGQpO2lmKGMuYmFyJiZjLnlBeGlzSUQ9PT1uLmlkJiZyLmlzRGF0YXNldFZpc2libGUoZCkpe3ZhciBoPU51bWJlcih1LmRhdGFbZV0pO28rPTA+cz9NYXRoLm1pbihoLDApOk1hdGgubWF4KGgsMCl9fXJldHVybiBuLmdldFBpeGVsRm9yVmFsdWUobyl9cmV0dXJuIG4uZ2V0QmFzZVBpeGVsKCl9LGdldFJ1bGVyOmZ1bmN0aW9uKHQpe3ZhciBlLGE9dGhpcyxpPWEuZ2V0TWV0YSgpLG49YS5nZXRTY2FsZUZvcklkKGkueEF4aXNJRCksbz1hLmdldEJhckNvdW50KCk7ZT1cImNhdGVnb3J5XCI9PT1uLm9wdGlvbnMudHlwZT9uLmdldFBpeGVsRm9yVGljayh0KzEpLW4uZ2V0UGl4ZWxGb3JUaWNrKHQpOm4ud2lkdGgvbi50aWNrcy5sZW5ndGg7dmFyIHI9ZSpuLm9wdGlvbnMuY2F0ZWdvcnlQZXJjZW50YWdlLGw9KGUtZSpuLm9wdGlvbnMuY2F0ZWdvcnlQZXJjZW50YWdlKS8yLHM9ci9vO2lmKG4udGlja3MubGVuZ3RoIT09YS5jaGFydC5kYXRhLmxhYmVscy5sZW5ndGgpe3ZhciBkPW4udGlja3MubGVuZ3RoL2EuY2hhcnQuZGF0YS5sYWJlbHMubGVuZ3RoO3MqPWR9dmFyIHU9cypuLm9wdGlvbnMuYmFyUGVyY2VudGFnZSxjPXMtcypuLm9wdGlvbnMuYmFyUGVyY2VudGFnZTtyZXR1cm57ZGF0YXNldENvdW50Om8sdGlja1dpZHRoOmUsY2F0ZWdvcnlXaWR0aDpyLGNhdGVnb3J5U3BhY2luZzpsLGZ1bGxCYXJXaWR0aDpzLGJhcldpZHRoOnUsYmFyU3BhY2luZzpjfX0sY2FsY3VsYXRlQmFyV2lkdGg6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5nZXRTY2FsZUZvcklkKHRoaXMuZ2V0TWV0YSgpLnhBeGlzSUQpO2lmKGUub3B0aW9ucy5iYXJUaGlja25lc3MpcmV0dXJuIGUub3B0aW9ucy5iYXJUaGlja25lc3M7dmFyIGE9dGhpcy5nZXRSdWxlcih0KTtyZXR1cm4gZS5vcHRpb25zLnN0YWNrZWQ/YS5jYXRlZ29yeVdpZHRoOmEuYmFyV2lkdGh9LGdldEJhckluZGV4OmZ1bmN0aW9uKHQpe3ZhciBlLGEsaT0wO2ZvcihhPTA7dD5hOysrYSllPXRoaXMuY2hhcnQuZ2V0RGF0YXNldE1ldGEoYSksZS5iYXImJnRoaXMuY2hhcnQuaXNEYXRhc2V0VmlzaWJsZShhKSYmKytpO3JldHVybiBpfSxjYWxjdWxhdGVCYXJYOmZ1bmN0aW9uKHQsZSl7dmFyIGE9dGhpcyxpPWEuZ2V0TWV0YSgpLG49YS5nZXRTY2FsZUZvcklkKGkueEF4aXNJRCksbz1hLmdldEJhckluZGV4KGUpLHI9YS5nZXRSdWxlcih0KSxsPW4uZ2V0UGl4ZWxGb3JWYWx1ZShudWxsLHQsZSxhLmNoYXJ0LmlzQ29tYm8pO3JldHVybiBsLT1hLmNoYXJ0LmlzQ29tYm8/ci50aWNrV2lkdGgvMjowLG4ub3B0aW9ucy5zdGFja2VkP2wrci5jYXRlZ29yeVdpZHRoLzIrci5jYXRlZ29yeVNwYWNpbmc6bCtyLmJhcldpZHRoLzIrci5jYXRlZ29yeVNwYWNpbmcrci5iYXJXaWR0aCpvK3IuYmFyU3BhY2luZy8yK3IuYmFyU3BhY2luZypvfSxjYWxjdWxhdGVCYXJZOmZ1bmN0aW9uKHQsZSl7dmFyIGE9dGhpcyxpPWEuZ2V0TWV0YSgpLG49YS5nZXRTY2FsZUZvcklkKGkueUF4aXNJRCksbz1OdW1iZXIoYS5nZXREYXRhc2V0KCkuZGF0YVt0XSk7aWYobi5vcHRpb25zLnN0YWNrZWQpe2Zvcih2YXIgcj0wLGw9MCxzPTA7ZT5zO3MrKyl7dmFyIGQ9YS5jaGFydC5kYXRhLmRhdGFzZXRzW3NdLHU9YS5jaGFydC5nZXREYXRhc2V0TWV0YShzKTtpZih1LmJhciYmdS55QXhpc0lEPT09bi5pZCYmYS5jaGFydC5pc0RhdGFzZXRWaXNpYmxlKHMpKXt2YXIgYz1OdW1iZXIoZC5kYXRhW3RdKTswPmM/bCs9Y3x8MDpyKz1jfHwwfX1yZXR1cm4gMD5vP24uZ2V0UGl4ZWxGb3JWYWx1ZShsK28pOm4uZ2V0UGl4ZWxGb3JWYWx1ZShyK28pfXJldHVybiBuLmdldFBpeGVsRm9yVmFsdWUobyl9LGRyYXc6ZnVuY3Rpb24odCl7dmFyIGE9dGhpcyxpPXR8fDE7ZS5lYWNoKGEuZ2V0TWV0YSgpLmRhdGEsZnVuY3Rpb24odCxlKXt2YXIgbj1hLmdldERhdGFzZXQoKS5kYXRhW2VdO251bGw9PT1ufHx2b2lkIDA9PT1ufHxpc05hTihuKXx8dC50cmFuc2l0aW9uKGkpLmRyYXcoKX0sYSl9LHNldEhvdmVyU3R5bGU6ZnVuY3Rpb24odCl7dmFyIGE9dGhpcy5jaGFydC5kYXRhLmRhdGFzZXRzW3QuX2RhdGFzZXRJbmRleF0saT10Ll9pbmRleCxuPXQuY3VzdG9tfHx7fSxvPXQuX21vZGVsO28uYmFja2dyb3VuZENvbG9yPW4uaG92ZXJCYWNrZ3JvdW5kQ29sb3I/bi5ob3ZlckJhY2tncm91bmRDb2xvcjplLmdldFZhbHVlQXRJbmRleE9yRGVmYXVsdChhLmhvdmVyQmFja2dyb3VuZENvbG9yLGksZS5nZXRIb3ZlckNvbG9yKG8uYmFja2dyb3VuZENvbG9yKSksby5ib3JkZXJDb2xvcj1uLmhvdmVyQm9yZGVyQ29sb3I/bi5ob3ZlckJvcmRlckNvbG9yOmUuZ2V0VmFsdWVBdEluZGV4T3JEZWZhdWx0KGEuaG92ZXJCb3JkZXJDb2xvcixpLGUuZ2V0SG92ZXJDb2xvcihvLmJvcmRlckNvbG9yKSksby5ib3JkZXJXaWR0aD1uLmhvdmVyQm9yZGVyV2lkdGg/bi5ob3ZlckJvcmRlcldpZHRoOmUuZ2V0VmFsdWVBdEluZGV4T3JEZWZhdWx0KGEuaG92ZXJCb3JkZXJXaWR0aCxpLG8uYm9yZGVyV2lkdGgpfSxyZW1vdmVIb3ZlclN0eWxlOmZ1bmN0aW9uKHQpe3ZhciBhPXRoaXMuY2hhcnQuZGF0YS5kYXRhc2V0c1t0Ll9kYXRhc2V0SW5kZXhdLGk9dC5faW5kZXgsbj10LmN1c3RvbXx8e30sbz10Ll9tb2RlbCxyPXRoaXMuY2hhcnQub3B0aW9ucy5lbGVtZW50cy5yZWN0YW5nbGU7by5iYWNrZ3JvdW5kQ29sb3I9bi5iYWNrZ3JvdW5kQ29sb3I/bi5iYWNrZ3JvdW5kQ29sb3I6ZS5nZXRWYWx1ZUF0SW5kZXhPckRlZmF1bHQoYS5iYWNrZ3JvdW5kQ29sb3IsaSxyLmJhY2tncm91bmRDb2xvciksby5ib3JkZXJDb2xvcj1uLmJvcmRlckNvbG9yP24uYm9yZGVyQ29sb3I6ZS5nZXRWYWx1ZUF0SW5kZXhPckRlZmF1bHQoYS5ib3JkZXJDb2xvcixpLHIuYm9yZGVyQ29sb3IpLG8uYm9yZGVyV2lkdGg9bi5ib3JkZXJXaWR0aD9uLmJvcmRlcldpZHRoOmUuZ2V0VmFsdWVBdEluZGV4T3JEZWZhdWx0KGEuYm9yZGVyV2lkdGgsaSxyLmJvcmRlcldpZHRoKX19KSx0LmRlZmF1bHRzLmhvcml6b250YWxCYXI9e2hvdmVyOnttb2RlOlwibGFiZWxcIn0sc2NhbGVzOnt4QXhlczpbe3R5cGU6XCJsaW5lYXJcIixwb3NpdGlvbjpcImJvdHRvbVwifV0seUF4ZXM6W3twb3NpdGlvbjpcImxlZnRcIix0eXBlOlwiY2F0ZWdvcnlcIixjYXRlZ29yeVBlcmNlbnRhZ2U6LjgsYmFyUGVyY2VudGFnZTouOSxncmlkTGluZXM6e29mZnNldEdyaWRMaW5lczohMH19XX0sZWxlbWVudHM6e3JlY3RhbmdsZTp7Ym9yZGVyU2tpcHBlZDpcImxlZnRcIn19LHRvb2x0aXBzOntjYWxsYmFja3M6e3RpdGxlOmZ1bmN0aW9uKHQsZSl7dmFyIGE9XCJcIjtyZXR1cm4gdC5sZW5ndGg+MCYmKHRbMF0ueUxhYmVsP2E9dFswXS55TGFiZWw6ZS5sYWJlbHMubGVuZ3RoPjAmJnRbMF0uaW5kZXg8ZS5sYWJlbHMubGVuZ3RoJiYoYT1lLmxhYmVsc1t0WzBdLmluZGV4XSkpLGF9LGxhYmVsOmZ1bmN0aW9uKHQsZSl7dmFyIGE9ZS5kYXRhc2V0c1t0LmRhdGFzZXRJbmRleF0ubGFiZWx8fFwiXCI7cmV0dXJuIGErXCI6IFwiK3QueExhYmVsfX19fSx0LmNvbnRyb2xsZXJzLmhvcml6b250YWxCYXI9dC5jb250cm9sbGVycy5iYXIuZXh0ZW5kKHt1cGRhdGVFbGVtZW50OmZ1bmN0aW9uKHQsYSxpKXt2YXIgbj10aGlzLG89bi5nZXRNZXRhKCkscj1uLmdldFNjYWxlRm9ySWQoby54QXhpc0lEKSxsPW4uZ2V0U2NhbGVGb3JJZChvLnlBeGlzSUQpLHM9ci5nZXRCYXNlUGl4ZWwoKSxkPXQuY3VzdG9tfHx7fSx1PW4uZ2V0RGF0YXNldCgpLGM9bi5jaGFydC5vcHRpb25zLmVsZW1lbnRzLnJlY3RhbmdsZTtlLmV4dGVuZCh0LHtfeFNjYWxlOnIsX3lTY2FsZTpsLF9kYXRhc2V0SW5kZXg6bi5pbmRleCxfaW5kZXg6YSxfbW9kZWw6e3g6aT9zOm4uY2FsY3VsYXRlQmFyWChhLG4uaW5kZXgpLHk6bi5jYWxjdWxhdGVCYXJZKGEsbi5pbmRleCksbGFiZWw6bi5jaGFydC5kYXRhLmxhYmVsc1thXSxkYXRhc2V0TGFiZWw6dS5sYWJlbCxiYXNlOmk/czpuLmNhbGN1bGF0ZUJhckJhc2Uobi5pbmRleCxhKSxoZWlnaHQ6bi5jYWxjdWxhdGVCYXJIZWlnaHQoYSksYmFja2dyb3VuZENvbG9yOmQuYmFja2dyb3VuZENvbG9yP2QuYmFja2dyb3VuZENvbG9yOmUuZ2V0VmFsdWVBdEluZGV4T3JEZWZhdWx0KHUuYmFja2dyb3VuZENvbG9yLGEsYy5iYWNrZ3JvdW5kQ29sb3IpLGJvcmRlclNraXBwZWQ6ZC5ib3JkZXJTa2lwcGVkP2QuYm9yZGVyU2tpcHBlZDpjLmJvcmRlclNraXBwZWQsYm9yZGVyQ29sb3I6ZC5ib3JkZXJDb2xvcj9kLmJvcmRlckNvbG9yOmUuZ2V0VmFsdWVBdEluZGV4T3JEZWZhdWx0KHUuYm9yZGVyQ29sb3IsYSxjLmJvcmRlckNvbG9yKSxib3JkZXJXaWR0aDpkLmJvcmRlcldpZHRoP2QuYm9yZGVyV2lkdGg6ZS5nZXRWYWx1ZUF0SW5kZXhPckRlZmF1bHQodS5ib3JkZXJXaWR0aCxhLGMuYm9yZGVyV2lkdGgpfSxkcmF3OmZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXtyZXR1cm4gc1sodSt0KSU0XX12YXIgZT10aGlzLl9jaGFydC5jdHgsYT10aGlzLl92aWV3LGk9YS5oZWlnaHQvMixuPWEueS1pLG89YS55K2kscj1hLmJhc2UtKGEuYmFzZS1hLngpLGw9YS5ib3JkZXJXaWR0aC8yO2EuYm9yZGVyV2lkdGgmJihuKz1sLG8tPWwscis9bCksZS5iZWdpblBhdGgoKSxlLmZpbGxTdHlsZT1hLmJhY2tncm91bmRDb2xvcixlLnN0cm9rZVN0eWxlPWEuYm9yZGVyQ29sb3IsZS5saW5lV2lkdGg9YS5ib3JkZXJXaWR0aDt2YXIgcz1bW2EuYmFzZSxvXSxbYS5iYXNlLG5dLFtyLG5dLFtyLG9dXSxkPVtcImJvdHRvbVwiLFwibGVmdFwiLFwidG9wXCIsXCJyaWdodFwiXSx1PWQuaW5kZXhPZihhLmJvcmRlclNraXBwZWQsMCk7LTE9PT11JiYodT0wKSxlLm1vdmVUby5hcHBseShlLHQoMCkpO2Zvcih2YXIgYz0xOzQ+YztjKyspZS5saW5lVG8uYXBwbHkoZSx0KGMpKTtlLmZpbGwoKSxhLmJvcmRlcldpZHRoJiZlLnN0cm9rZSgpfSxpblJhbmdlOmZ1bmN0aW9uKHQsZSl7dmFyIGE9dGhpcy5fdmlldyxpPSExO3JldHVybiBhJiYoaT1hLng8YS5iYXNlP2U+PWEueS1hLmhlaWdodC8yJiZlPD1hLnkrYS5oZWlnaHQvMiYmdD49YS54JiZ0PD1hLmJhc2U6ZT49YS55LWEuaGVpZ2h0LzImJmU8PWEueSthLmhlaWdodC8yJiZ0Pj1hLmJhc2UmJnQ8PWEueCksaX19KSx0LnBpdm90KCl9LGNhbGN1bGF0ZUJhckJhc2U6ZnVuY3Rpb24odCxlKXt2YXIgYT10aGlzLGk9YS5nZXRNZXRhKCksbj1hLmdldFNjYWxlRm9ySWQoaS54QXhpc0lEKSxvPTA7XG5pZihuLm9wdGlvbnMuc3RhY2tlZCl7Zm9yKHZhciByPWEuY2hhcnQsbD1yLmRhdGEuZGF0YXNldHMscz1OdW1iZXIobFt0XS5kYXRhW2VdKSxkPTA7dD5kO2QrKyl7dmFyIHU9bFtkXSxjPXIuZ2V0RGF0YXNldE1ldGEoZCk7aWYoYy5iYXImJmMueEF4aXNJRD09PW4uaWQmJnIuaXNEYXRhc2V0VmlzaWJsZShkKSl7dmFyIGg9TnVtYmVyKHUuZGF0YVtlXSk7bys9MD5zP01hdGgubWluKGgsMCk6TWF0aC5tYXgoaCwwKX19cmV0dXJuIG4uZ2V0UGl4ZWxGb3JWYWx1ZShvKX1yZXR1cm4gbi5nZXRCYXNlUGl4ZWwoKX0sZ2V0UnVsZXI6ZnVuY3Rpb24odCl7dmFyIGUsYT10aGlzLGk9YS5nZXRNZXRhKCksbj1hLmdldFNjYWxlRm9ySWQoaS55QXhpc0lEKSxvPWEuZ2V0QmFyQ291bnQoKTtlPVwiY2F0ZWdvcnlcIj09PW4ub3B0aW9ucy50eXBlP24uZ2V0UGl4ZWxGb3JUaWNrKHQrMSktbi5nZXRQaXhlbEZvclRpY2sodCk6bi53aWR0aC9uLnRpY2tzLmxlbmd0aDt2YXIgcj1lKm4ub3B0aW9ucy5jYXRlZ29yeVBlcmNlbnRhZ2UsbD0oZS1lKm4ub3B0aW9ucy5jYXRlZ29yeVBlcmNlbnRhZ2UpLzIscz1yL287aWYobi50aWNrcy5sZW5ndGghPT1hLmNoYXJ0LmRhdGEubGFiZWxzLmxlbmd0aCl7dmFyIGQ9bi50aWNrcy5sZW5ndGgvYS5jaGFydC5kYXRhLmxhYmVscy5sZW5ndGg7cyo9ZH12YXIgdT1zKm4ub3B0aW9ucy5iYXJQZXJjZW50YWdlLGM9cy1zKm4ub3B0aW9ucy5iYXJQZXJjZW50YWdlO3JldHVybntkYXRhc2V0Q291bnQ6byx0aWNrSGVpZ2h0OmUsY2F0ZWdvcnlIZWlnaHQ6cixjYXRlZ29yeVNwYWNpbmc6bCxmdWxsQmFySGVpZ2h0OnMsYmFySGVpZ2h0OnUsYmFyU3BhY2luZzpjfX0sY2FsY3VsYXRlQmFySGVpZ2h0OmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsYT1lLmdldFNjYWxlRm9ySWQoZS5nZXRNZXRhKCkueUF4aXNJRCk7aWYoYS5vcHRpb25zLmJhclRoaWNrbmVzcylyZXR1cm4gYS5vcHRpb25zLmJhclRoaWNrbmVzczt2YXIgaT1lLmdldFJ1bGVyKHQpO3JldHVybiBhLm9wdGlvbnMuc3RhY2tlZD9pLmNhdGVnb3J5SGVpZ2h0OmkuYmFySGVpZ2h0fSxjYWxjdWxhdGVCYXJYOmZ1bmN0aW9uKHQsZSl7dmFyIGE9dGhpcyxpPWEuZ2V0TWV0YSgpLG49YS5nZXRTY2FsZUZvcklkKGkueEF4aXNJRCksbz1OdW1iZXIoYS5nZXREYXRhc2V0KCkuZGF0YVt0XSk7aWYobi5vcHRpb25zLnN0YWNrZWQpe2Zvcih2YXIgcj0wLGw9MCxzPTA7ZT5zO3MrKyl7dmFyIGQ9YS5jaGFydC5kYXRhLmRhdGFzZXRzW3NdLHU9YS5jaGFydC5nZXREYXRhc2V0TWV0YShzKTtpZih1LmJhciYmdS54QXhpc0lEPT09bi5pZCYmYS5jaGFydC5pc0RhdGFzZXRWaXNpYmxlKHMpKXt2YXIgYz1OdW1iZXIoZC5kYXRhW3RdKTswPmM/bCs9Y3x8MDpyKz1jfHwwfX1yZXR1cm4gMD5vP24uZ2V0UGl4ZWxGb3JWYWx1ZShsK28pOm4uZ2V0UGl4ZWxGb3JWYWx1ZShyK28pfXJldHVybiBuLmdldFBpeGVsRm9yVmFsdWUobyl9LGNhbGN1bGF0ZUJhclk6ZnVuY3Rpb24odCxlKXt2YXIgYT10aGlzLGk9YS5nZXRNZXRhKCksbj1hLmdldFNjYWxlRm9ySWQoaS55QXhpc0lEKSxvPWEuZ2V0QmFySW5kZXgoZSkscj1hLmdldFJ1bGVyKHQpLGw9bi5nZXRQaXhlbEZvclZhbHVlKG51bGwsdCxlLGEuY2hhcnQuaXNDb21ibyk7cmV0dXJuIGwtPWEuY2hhcnQuaXNDb21ibz9yLnRpY2tIZWlnaHQvMjowLG4ub3B0aW9ucy5zdGFja2VkP2wrci5jYXRlZ29yeUhlaWdodC8yK3IuY2F0ZWdvcnlTcGFjaW5nOmwrci5iYXJIZWlnaHQvMityLmNhdGVnb3J5U3BhY2luZytyLmJhckhlaWdodCpvK3IuYmFyU3BhY2luZy8yK3IuYmFyU3BhY2luZypvfX0pfX0se31dLDE2OltmdW5jdGlvbih0LGUsYSl7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPWZ1bmN0aW9uKHQpe3ZhciBlPXQuaGVscGVyczt0LmRlZmF1bHRzLmJ1YmJsZT17aG92ZXI6e21vZGU6XCJzaW5nbGVcIn0sc2NhbGVzOnt4QXhlczpbe3R5cGU6XCJsaW5lYXJcIixwb3NpdGlvbjpcImJvdHRvbVwiLGlkOlwieC1heGlzLTBcIn1dLHlBeGVzOlt7dHlwZTpcImxpbmVhclwiLHBvc2l0aW9uOlwibGVmdFwiLGlkOlwieS1heGlzLTBcIn1dfSx0b29sdGlwczp7Y2FsbGJhY2tzOnt0aXRsZTpmdW5jdGlvbigpe3JldHVyblwiXCJ9LGxhYmVsOmZ1bmN0aW9uKHQsZSl7dmFyIGE9ZS5kYXRhc2V0c1t0LmRhdGFzZXRJbmRleF0ubGFiZWx8fFwiXCIsaT1lLmRhdGFzZXRzW3QuZGF0YXNldEluZGV4XS5kYXRhW3QuaW5kZXhdO3JldHVybiBhK1wiOiAoXCIraS54K1wiLCBcIitpLnkrXCIsIFwiK2kucitcIilcIn19fX0sdC5jb250cm9sbGVycy5idWJibGU9dC5EYXRhc2V0Q29udHJvbGxlci5leHRlbmQoe2RhdGFFbGVtZW50VHlwZTp0LmVsZW1lbnRzLlBvaW50LHVwZGF0ZTpmdW5jdGlvbih0KXt2YXIgYT10aGlzLGk9YS5nZXRNZXRhKCksbj1pLmRhdGE7ZS5lYWNoKG4sZnVuY3Rpb24oZSxpKXthLnVwZGF0ZUVsZW1lbnQoZSxpLHQpfSl9LHVwZGF0ZUVsZW1lbnQ6ZnVuY3Rpb24oYSxpLG4pe3ZhciBvPXRoaXMscj1vLmdldE1ldGEoKSxsPW8uZ2V0U2NhbGVGb3JJZChyLnhBeGlzSUQpLHM9by5nZXRTY2FsZUZvcklkKHIueUF4aXNJRCksZD1hLmN1c3RvbXx8e30sdT1vLmdldERhdGFzZXQoKSxjPXUuZGF0YVtpXSxoPW8uY2hhcnQub3B0aW9ucy5lbGVtZW50cy5wb2ludCxmPW8uaW5kZXg7ZS5leHRlbmQoYSx7X3hTY2FsZTpsLF95U2NhbGU6cyxfZGF0YXNldEluZGV4OmYsX2luZGV4OmksX21vZGVsOnt4Om4/bC5nZXRQaXhlbEZvckRlY2ltYWwoLjUpOmwuZ2V0UGl4ZWxGb3JWYWx1ZShcIm9iamVjdFwiPT10eXBlb2YgYz9jOk5hTixpLGYsby5jaGFydC5pc0NvbWJvKSx5Om4/cy5nZXRCYXNlUGl4ZWwoKTpzLmdldFBpeGVsRm9yVmFsdWUoYyxpLGYpLHJhZGl1czpuPzA6ZC5yYWRpdXM/ZC5yYWRpdXM6by5nZXRSYWRpdXMoYyksaGl0UmFkaXVzOmQuaGl0UmFkaXVzP2QuaGl0UmFkaXVzOmUuZ2V0VmFsdWVBdEluZGV4T3JEZWZhdWx0KHUuaGl0UmFkaXVzLGksaC5oaXRSYWRpdXMpfX0pLHQuRGF0YXNldENvbnRyb2xsZXIucHJvdG90eXBlLnJlbW92ZUhvdmVyU3R5bGUuY2FsbChvLGEsaCk7dmFyIGc9YS5fbW9kZWw7Zy5za2lwPWQuc2tpcD9kLnNraXA6aXNOYU4oZy54KXx8aXNOYU4oZy55KSxhLnBpdm90KCl9LGdldFJhZGl1czpmdW5jdGlvbih0KXtyZXR1cm4gdC5yfHx0aGlzLmNoYXJ0Lm9wdGlvbnMuZWxlbWVudHMucG9pbnQucmFkaXVzfSxzZXRIb3ZlclN0eWxlOmZ1bmN0aW9uKGEpe3ZhciBpPXRoaXM7dC5EYXRhc2V0Q29udHJvbGxlci5wcm90b3R5cGUuc2V0SG92ZXJTdHlsZS5jYWxsKGksYSk7dmFyIG49aS5jaGFydC5kYXRhLmRhdGFzZXRzW2EuX2RhdGFzZXRJbmRleF0sbz1hLl9pbmRleCxyPWEuY3VzdG9tfHx7fSxsPWEuX21vZGVsO2wucmFkaXVzPXIuaG92ZXJSYWRpdXM/ci5ob3ZlclJhZGl1czplLmdldFZhbHVlQXRJbmRleE9yRGVmYXVsdChuLmhvdmVyUmFkaXVzLG8saS5jaGFydC5vcHRpb25zLmVsZW1lbnRzLnBvaW50LmhvdmVyUmFkaXVzKStpLmdldFJhZGl1cyhuLmRhdGFbb10pfSxyZW1vdmVIb3ZlclN0eWxlOmZ1bmN0aW9uKGUpe3ZhciBhPXRoaXM7dC5EYXRhc2V0Q29udHJvbGxlci5wcm90b3R5cGUucmVtb3ZlSG92ZXJTdHlsZS5jYWxsKGEsZSxhLmNoYXJ0Lm9wdGlvbnMuZWxlbWVudHMucG9pbnQpO3ZhciBpPWEuY2hhcnQuZGF0YS5kYXRhc2V0c1tlLl9kYXRhc2V0SW5kZXhdLmRhdGFbZS5faW5kZXhdLG49ZS5jdXN0b218fHt9LG89ZS5fbW9kZWw7by5yYWRpdXM9bi5yYWRpdXM/bi5yYWRpdXM6YS5nZXRSYWRpdXMoaSl9fSl9fSx7fV0sMTc6W2Z1bmN0aW9uKHQsZSxhKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9ZnVuY3Rpb24odCl7dmFyIGU9dC5oZWxwZXJzLGE9dC5kZWZhdWx0czthLmRvdWdobnV0PXthbmltYXRpb246e2FuaW1hdGVSb3RhdGU6ITAsYW5pbWF0ZVNjYWxlOiExfSxhc3BlY3RSYXRpbzoxLGhvdmVyOnttb2RlOlwic2luZ2xlXCJ9LGxlZ2VuZENhbGxiYWNrOmZ1bmN0aW9uKHQpe3ZhciBlPVtdO2UucHVzaCgnPHVsIGNsYXNzPVwiJyt0LmlkKyctbGVnZW5kXCI+Jyk7dmFyIGE9dC5kYXRhLGk9YS5kYXRhc2V0cyxuPWEubGFiZWxzO2lmKGkubGVuZ3RoKWZvcih2YXIgbz0wO288aVswXS5kYXRhLmxlbmd0aDsrK28pZS5wdXNoKCc8bGk+PHNwYW4gc3R5bGU9XCJiYWNrZ3JvdW5kLWNvbG9yOicraVswXS5iYWNrZ3JvdW5kQ29sb3Jbb10rJ1wiPjwvc3Bhbj4nKSxuW29dJiZlLnB1c2gobltvXSksZS5wdXNoKFwiPC9saT5cIik7cmV0dXJuIGUucHVzaChcIjwvdWw+XCIpLGUuam9pbihcIlwiKX0sbGVnZW5kOntsYWJlbHM6e2dlbmVyYXRlTGFiZWxzOmZ1bmN0aW9uKHQpe3ZhciBhPXQuZGF0YTtyZXR1cm4gYS5sYWJlbHMubGVuZ3RoJiZhLmRhdGFzZXRzLmxlbmd0aD9hLmxhYmVscy5tYXAoZnVuY3Rpb24oaSxuKXt2YXIgbz10LmdldERhdGFzZXRNZXRhKDApLHI9YS5kYXRhc2V0c1swXSxsPW8uZGF0YVtuXSxzPWwmJmwuY3VzdG9tfHx7fSxkPWUuZ2V0VmFsdWVBdEluZGV4T3JEZWZhdWx0LHU9dC5vcHRpb25zLmVsZW1lbnRzLmFyYyxjPXMuYmFja2dyb3VuZENvbG9yP3MuYmFja2dyb3VuZENvbG9yOmQoci5iYWNrZ3JvdW5kQ29sb3Isbix1LmJhY2tncm91bmRDb2xvciksaD1zLmJvcmRlckNvbG9yP3MuYm9yZGVyQ29sb3I6ZChyLmJvcmRlckNvbG9yLG4sdS5ib3JkZXJDb2xvciksZj1zLmJvcmRlcldpZHRoP3MuYm9yZGVyV2lkdGg6ZChyLmJvcmRlcldpZHRoLG4sdS5ib3JkZXJXaWR0aCk7cmV0dXJue3RleHQ6aSxmaWxsU3R5bGU6YyxzdHJva2VTdHlsZTpoLGxpbmVXaWR0aDpmLGhpZGRlbjppc05hTihyLmRhdGFbbl0pfHxvLmRhdGFbbl0uaGlkZGVuLGluZGV4Om59fSk6W119fSxvbkNsaWNrOmZ1bmN0aW9uKHQsZSl7dmFyIGEsaSxuLG89ZS5pbmRleCxyPXRoaXMuY2hhcnQ7Zm9yKGE9MCxpPShyLmRhdGEuZGF0YXNldHN8fFtdKS5sZW5ndGg7aT5hOysrYSluPXIuZ2V0RGF0YXNldE1ldGEoYSksbi5kYXRhW29dLmhpZGRlbj0hbi5kYXRhW29dLmhpZGRlbjtyLnVwZGF0ZSgpfX0sY3V0b3V0UGVyY2VudGFnZTo1MCxyb3RhdGlvbjpNYXRoLlBJKi0uNSxjaXJjdW1mZXJlbmNlOjIqTWF0aC5QSSx0b29sdGlwczp7Y2FsbGJhY2tzOnt0aXRsZTpmdW5jdGlvbigpe3JldHVyblwiXCJ9LGxhYmVsOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIGUubGFiZWxzW3QuaW5kZXhdK1wiOiBcIitlLmRhdGFzZXRzW3QuZGF0YXNldEluZGV4XS5kYXRhW3QuaW5kZXhdfX19fSxhLnBpZT1lLmNsb25lKGEuZG91Z2hudXQpLGUuZXh0ZW5kKGEucGllLHtjdXRvdXRQZXJjZW50YWdlOjB9KSx0LmNvbnRyb2xsZXJzLmRvdWdobnV0PXQuY29udHJvbGxlcnMucGllPXQuRGF0YXNldENvbnRyb2xsZXIuZXh0ZW5kKHtkYXRhRWxlbWVudFR5cGU6dC5lbGVtZW50cy5BcmMsbGlua1NjYWxlczplLm5vb3AsZ2V0UmluZ0luZGV4OmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wLGE9MDt0PmE7KythKXRoaXMuY2hhcnQuaXNEYXRhc2V0VmlzaWJsZShhKSYmKytlO3JldHVybiBlfSx1cGRhdGU6ZnVuY3Rpb24odCl7dmFyIGE9dGhpcyxpPWEuY2hhcnQsbj1pLmNoYXJ0QXJlYSxvPWkub3B0aW9ucyxyPW8uZWxlbWVudHMuYXJjLGw9bi5yaWdodC1uLmxlZnQtci5ib3JkZXJXaWR0aCxzPW4uYm90dG9tLW4udG9wLXIuYm9yZGVyV2lkdGgsZD1NYXRoLm1pbihsLHMpLHU9e3g6MCx5OjB9LGM9YS5nZXRNZXRhKCksaD1vLmN1dG91dFBlcmNlbnRhZ2UsZj1vLmNpcmN1bWZlcmVuY2U7aWYoZjwyKk1hdGguUEkpe3ZhciBnPW8ucm90YXRpb24lKDIqTWF0aC5QSSk7Zys9MipNYXRoLlBJKihnPj1NYXRoLlBJPy0xOmc8LU1hdGguUEk/MTowKTt2YXIgcD1nK2YsbT17eDpNYXRoLmNvcyhnKSx5Ok1hdGguc2luKGcpfSxiPXt4Ok1hdGguY29zKHApLHk6TWF0aC5zaW4ocCl9LHY9MD49ZyYmcD49MHx8Zzw9MipNYXRoLlBJJiYyKk1hdGguUEk8PXAseD1nPD0uNSpNYXRoLlBJJiYuNSpNYXRoLlBJPD1wfHxnPD0yLjUqTWF0aC5QSSYmMi41Kk1hdGguUEk8PXAseT1nPD0tTWF0aC5QSSYmLU1hdGguUEk8PXB8fGc8PU1hdGguUEkmJk1hdGguUEk8PXAsaz1nPD0uNSotTWF0aC5QSSYmLjUqLU1hdGguUEk8PXB8fGc8PTEuNSpNYXRoLlBJJiYxLjUqTWF0aC5QSTw9cCxTPWgvMTAwLHc9e3g6eT8tMTpNYXRoLm1pbihtLngqKG0ueDwwPzE6UyksYi54KihiLng8MD8xOlMpKSx5Oms/LTE6TWF0aC5taW4obS55KihtLnk8MD8xOlMpLGIueSooYi55PDA/MTpTKSl9LEM9e3g6dj8xOk1hdGgubWF4KG0ueCoobS54PjA/MTpTKSxiLngqKGIueD4wPzE6UykpLHk6eD8xOk1hdGgubWF4KG0ueSoobS55PjA/MTpTKSxiLnkqKGIueT4wPzE6UykpfSxNPXt3aWR0aDouNSooQy54LXcueCksaGVpZ2h0Oi41KihDLnktdy55KX07ZD1NYXRoLm1pbihsL00ud2lkdGgscy9NLmhlaWdodCksdT17eDooQy54K3cueCkqLS41LHk6KEMueSt3LnkpKi0uNX19aS5ib3JkZXJXaWR0aD1hLmdldE1heEJvcmRlcldpZHRoKGMuZGF0YSksaS5vdXRlclJhZGl1cz1NYXRoLm1heCgoZC1pLmJvcmRlcldpZHRoKS8yLDApLGkuaW5uZXJSYWRpdXM9TWF0aC5tYXgoaD9pLm91dGVyUmFkaXVzLzEwMCpoOjEsMCksaS5yYWRpdXNMZW5ndGg9KGkub3V0ZXJSYWRpdXMtaS5pbm5lclJhZGl1cykvaS5nZXRWaXNpYmxlRGF0YXNldENvdW50KCksaS5vZmZzZXRYPXUueCppLm91dGVyUmFkaXVzLGkub2Zmc2V0WT11LnkqaS5vdXRlclJhZGl1cyxjLnRvdGFsPWEuY2FsY3VsYXRlVG90YWwoKSxhLm91dGVyUmFkaXVzPWkub3V0ZXJSYWRpdXMtaS5yYWRpdXNMZW5ndGgqYS5nZXRSaW5nSW5kZXgoYS5pbmRleCksYS5pbm5lclJhZGl1cz1hLm91dGVyUmFkaXVzLWkucmFkaXVzTGVuZ3RoLGUuZWFjaChjLmRhdGEsZnVuY3Rpb24oZSxpKXthLnVwZGF0ZUVsZW1lbnQoZSxpLHQpfSl9LHVwZGF0ZUVsZW1lbnQ6ZnVuY3Rpb24odCxhLGkpe3ZhciBuPXRoaXMsbz1uLmNoYXJ0LHI9by5jaGFydEFyZWEsbD1vLm9wdGlvbnMscz1sLmFuaW1hdGlvbixkPShyLmxlZnQrci5yaWdodCkvMix1PShyLnRvcCtyLmJvdHRvbSkvMixjPWwucm90YXRpb24saD1sLnJvdGF0aW9uLGY9bi5nZXREYXRhc2V0KCksZz1pJiZzLmFuaW1hdGVSb3RhdGU/MDp0LmhpZGRlbj8wOm4uY2FsY3VsYXRlQ2lyY3VtZmVyZW5jZShmLmRhdGFbYV0pKihsLmNpcmN1bWZlcmVuY2UvKDIqTWF0aC5QSSkpLHA9aSYmcy5hbmltYXRlU2NhbGU/MDpuLmlubmVyUmFkaXVzLG09aSYmcy5hbmltYXRlU2NhbGU/MDpuLm91dGVyUmFkaXVzLGI9ZS5nZXRWYWx1ZUF0SW5kZXhPckRlZmF1bHQ7ZS5leHRlbmQodCx7X2RhdGFzZXRJbmRleDpuLmluZGV4LF9pbmRleDphLF9tb2RlbDp7eDpkK28ub2Zmc2V0WCx5OnUrby5vZmZzZXRZLHN0YXJ0QW5nbGU6YyxlbmRBbmdsZTpoLGNpcmN1bWZlcmVuY2U6ZyxvdXRlclJhZGl1czptLGlubmVyUmFkaXVzOnAsbGFiZWw6YihmLmxhYmVsLGEsby5kYXRhLmxhYmVsc1thXSl9fSk7dmFyIHY9dC5fbW9kZWw7dGhpcy5yZW1vdmVIb3ZlclN0eWxlKHQpLGkmJnMuYW5pbWF0ZVJvdGF0ZXx8KDA9PT1hP3Yuc3RhcnRBbmdsZT1sLnJvdGF0aW9uOnYuc3RhcnRBbmdsZT1uLmdldE1ldGEoKS5kYXRhW2EtMV0uX21vZGVsLmVuZEFuZ2xlLHYuZW5kQW5nbGU9di5zdGFydEFuZ2xlK3YuY2lyY3VtZmVyZW5jZSksdC5waXZvdCgpfSxyZW1vdmVIb3ZlclN0eWxlOmZ1bmN0aW9uKGUpe3QuRGF0YXNldENvbnRyb2xsZXIucHJvdG90eXBlLnJlbW92ZUhvdmVyU3R5bGUuY2FsbCh0aGlzLGUsdGhpcy5jaGFydC5vcHRpb25zLmVsZW1lbnRzLmFyYyl9LGNhbGN1bGF0ZVRvdGFsOmZ1bmN0aW9uKCl7dmFyIHQsYT10aGlzLmdldERhdGFzZXQoKSxpPXRoaXMuZ2V0TWV0YSgpLG49MDtyZXR1cm4gZS5lYWNoKGkuZGF0YSxmdW5jdGlvbihlLGkpe3Q9YS5kYXRhW2ldLGlzTmFOKHQpfHxlLmhpZGRlbnx8KG4rPU1hdGguYWJzKHQpKX0pLG59LGNhbGN1bGF0ZUNpcmN1bWZlcmVuY2U6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5nZXRNZXRhKCkudG90YWw7cmV0dXJuIGU+MCYmIWlzTmFOKHQpPzIqTWF0aC5QSSoodC9lKTowfSxnZXRNYXhCb3JkZXJXaWR0aDpmdW5jdGlvbih0KXtmb3IodmFyIGUsYSxpPTAsbj10aGlzLmluZGV4LG89dC5sZW5ndGgscj0wO28+cjtyKyspZT10W3JdLl9tb2RlbD90W3JdLl9tb2RlbC5ib3JkZXJXaWR0aDowLGE9dFtyXS5fY2hhcnQ/dFtyXS5fY2hhcnQuY29uZmlnLmRhdGEuZGF0YXNldHNbbl0uaG92ZXJCb3JkZXJXaWR0aDowLGk9ZT5pP2U6aSxpPWE+aT9hOmk7cmV0dXJuIGl9fSl9fSx7fV0sMTg6W2Z1bmN0aW9uKHQsZSxhKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSh0LGUpe3JldHVybiBhLmdldFZhbHVlT3JEZWZhdWx0KHQuc2hvd0xpbmUsZS5zaG93TGluZXMpfXZhciBhPXQuaGVscGVyczt0LmRlZmF1bHRzLmxpbmU9e3Nob3dMaW5lczohMCxzcGFuR2FwczohMSxob3Zlcjp7bW9kZTpcImxhYmVsXCJ9LHNjYWxlczp7eEF4ZXM6W3t0eXBlOlwiY2F0ZWdvcnlcIixpZDpcIngtYXhpcy0wXCJ9XSx5QXhlczpbe3R5cGU6XCJsaW5lYXJcIixpZDpcInktYXhpcy0wXCJ9XX19LHQuY29udHJvbGxlcnMubGluZT10LkRhdGFzZXRDb250cm9sbGVyLmV4dGVuZCh7ZGF0YXNldEVsZW1lbnRUeXBlOnQuZWxlbWVudHMuTGluZSxkYXRhRWxlbWVudFR5cGU6dC5lbGVtZW50cy5Qb2ludCxhZGRFbGVtZW50QW5kUmVzZXQ6ZnVuY3Rpb24oYSl7dmFyIGk9dGhpcyxuPWkuY2hhcnQub3B0aW9ucyxvPWkuZ2V0TWV0YSgpO3QuRGF0YXNldENvbnRyb2xsZXIucHJvdG90eXBlLmFkZEVsZW1lbnRBbmRSZXNldC5jYWxsKGksYSksZShpLmdldERhdGFzZXQoKSxuKSYmMCE9PW8uZGF0YXNldC5fbW9kZWwudGVuc2lvbiYmaS51cGRhdGVCZXppZXJDb250cm9sUG9pbnRzKCl9LHVwZGF0ZTpmdW5jdGlvbih0KXt2YXIgaSxuLG8scj10aGlzLGw9ci5nZXRNZXRhKCkscz1sLmRhdGFzZXQsZD1sLmRhdGF8fFtdLHU9ci5jaGFydC5vcHRpb25zLGM9dS5lbGVtZW50cy5saW5lLGg9ci5nZXRTY2FsZUZvcklkKGwueUF4aXNJRCksZj1yLmdldERhdGFzZXQoKSxnPWUoZix1KTtmb3IoZyYmKG89cy5jdXN0b218fHt9LHZvaWQgMCE9PWYudGVuc2lvbiYmdm9pZCAwPT09Zi5saW5lVGVuc2lvbiYmKGYubGluZVRlbnNpb249Zi50ZW5zaW9uKSxzLl9zY2FsZT1oLHMuX2RhdGFzZXRJbmRleD1yLmluZGV4LHMuX2NoaWxkcmVuPWQscy5fbW9kZWw9e3NwYW5HYXBzOmYuc3BhbkdhcHM/Zi5zcGFuR2Fwczp1LnNwYW5HYXBzLHRlbnNpb246by50ZW5zaW9uP28udGVuc2lvbjphLmdldFZhbHVlT3JEZWZhdWx0KGYubGluZVRlbnNpb24sYy50ZW5zaW9uKSxiYWNrZ3JvdW5kQ29sb3I6by5iYWNrZ3JvdW5kQ29sb3I/by5iYWNrZ3JvdW5kQ29sb3I6Zi5iYWNrZ3JvdW5kQ29sb3J8fGMuYmFja2dyb3VuZENvbG9yLGJvcmRlcldpZHRoOm8uYm9yZGVyV2lkdGg/by5ib3JkZXJXaWR0aDpmLmJvcmRlcldpZHRofHxjLmJvcmRlcldpZHRoLGJvcmRlckNvbG9yOm8uYm9yZGVyQ29sb3I/by5ib3JkZXJDb2xvcjpmLmJvcmRlckNvbG9yfHxjLmJvcmRlckNvbG9yLGJvcmRlckNhcFN0eWxlOm8uYm9yZGVyQ2FwU3R5bGU/by5ib3JkZXJDYXBTdHlsZTpmLmJvcmRlckNhcFN0eWxlfHxjLmJvcmRlckNhcFN0eWxlLGJvcmRlckRhc2g6by5ib3JkZXJEYXNoP28uYm9yZGVyRGFzaDpmLmJvcmRlckRhc2h8fGMuYm9yZGVyRGFzaCxib3JkZXJEYXNoT2Zmc2V0Om8uYm9yZGVyRGFzaE9mZnNldD9vLmJvcmRlckRhc2hPZmZzZXQ6Zi5ib3JkZXJEYXNoT2Zmc2V0fHxjLmJvcmRlckRhc2hPZmZzZXQsYm9yZGVySm9pblN0eWxlOm8uYm9yZGVySm9pblN0eWxlP28uYm9yZGVySm9pblN0eWxlOmYuYm9yZGVySm9pblN0eWxlfHxjLmJvcmRlckpvaW5TdHlsZSxmaWxsOm8uZmlsbD9vLmZpbGw6dm9pZCAwIT09Zi5maWxsP2YuZmlsbDpjLmZpbGwsc3RlcHBlZExpbmU6by5zdGVwcGVkTGluZT9vLnN0ZXBwZWRMaW5lOmEuZ2V0VmFsdWVPckRlZmF1bHQoZi5zdGVwcGVkTGluZSxjLnN0ZXBwZWQpLHNjYWxlVG9wOmgudG9wLHNjYWxlQm90dG9tOmguYm90dG9tLHNjYWxlWmVybzpoLmdldEJhc2VQaXhlbCgpfSxzLnBpdm90KCkpLGk9MCxuPWQubGVuZ3RoO24+aTsrK2kpci51cGRhdGVFbGVtZW50KGRbaV0saSx0KTtmb3IoZyYmMCE9PXMuX21vZGVsLnRlbnNpb24mJnIudXBkYXRlQmV6aWVyQ29udHJvbFBvaW50cygpLGk9MCxuPWQubGVuZ3RoO24+aTsrK2kpZFtpXS5waXZvdCgpfSxnZXRQb2ludEJhY2tncm91bmRDb2xvcjpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuY2hhcnQub3B0aW9ucy5lbGVtZW50cy5wb2ludC5iYWNrZ3JvdW5kQ29sb3Isbj10aGlzLmdldERhdGFzZXQoKSxvPXQuY3VzdG9tfHx7fTtyZXR1cm4gby5iYWNrZ3JvdW5kQ29sb3I/aT1vLmJhY2tncm91bmRDb2xvcjpuLnBvaW50QmFja2dyb3VuZENvbG9yP2k9YS5nZXRWYWx1ZUF0SW5kZXhPckRlZmF1bHQobi5wb2ludEJhY2tncm91bmRDb2xvcixlLGkpOm4uYmFja2dyb3VuZENvbG9yJiYoaT1uLmJhY2tncm91bmRDb2xvciksaX0sZ2V0UG9pbnRCb3JkZXJDb2xvcjpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuY2hhcnQub3B0aW9ucy5lbGVtZW50cy5wb2ludC5ib3JkZXJDb2xvcixuPXRoaXMuZ2V0RGF0YXNldCgpLG89dC5jdXN0b218fHt9O3JldHVybiBvLmJvcmRlckNvbG9yP2k9by5ib3JkZXJDb2xvcjpuLnBvaW50Qm9yZGVyQ29sb3I/aT1hLmdldFZhbHVlQXRJbmRleE9yRGVmYXVsdChuLnBvaW50Qm9yZGVyQ29sb3IsZSxpKTpuLmJvcmRlckNvbG9yJiYoaT1uLmJvcmRlckNvbG9yKSxpfSxnZXRQb2ludEJvcmRlcldpZHRoOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5jaGFydC5vcHRpb25zLmVsZW1lbnRzLnBvaW50LmJvcmRlcldpZHRoLG49dGhpcy5nZXREYXRhc2V0KCksbz10LmN1c3RvbXx8e307cmV0dXJuIG8uYm9yZGVyV2lkdGg/aT1vLmJvcmRlcldpZHRoOm4ucG9pbnRCb3JkZXJXaWR0aD9pPWEuZ2V0VmFsdWVBdEluZGV4T3JEZWZhdWx0KG4ucG9pbnRCb3JkZXJXaWR0aCxlLGkpOm4uYm9yZGVyV2lkdGgmJihpPW4uYm9yZGVyV2lkdGgpLGl9LHVwZGF0ZUVsZW1lbnQ6ZnVuY3Rpb24odCxlLGkpe3ZhciBuLG8scj10aGlzLGw9ci5nZXRNZXRhKCkscz10LmN1c3RvbXx8e30sZD1yLmdldERhdGFzZXQoKSx1PXIuaW5kZXgsYz1kLmRhdGFbZV0saD1yLmdldFNjYWxlRm9ySWQobC55QXhpc0lEKSxmPXIuZ2V0U2NhbGVGb3JJZChsLnhBeGlzSUQpLGc9ci5jaGFydC5vcHRpb25zLmVsZW1lbnRzLnBvaW50O3ZvaWQgMCE9PWQucmFkaXVzJiZ2b2lkIDA9PT1kLnBvaW50UmFkaXVzJiYoZC5wb2ludFJhZGl1cz1kLnJhZGl1cyksdm9pZCAwIT09ZC5oaXRSYWRpdXMmJnZvaWQgMD09PWQucG9pbnRIaXRSYWRpdXMmJihkLnBvaW50SGl0UmFkaXVzPWQuaGl0UmFkaXVzKSxuPWYuZ2V0UGl4ZWxGb3JWYWx1ZShcIm9iamVjdFwiPT10eXBlb2YgYz9jOk5hTixlLHUsci5jaGFydC5pc0NvbWJvKSxvPWk/aC5nZXRCYXNlUGl4ZWwoKTpyLmNhbGN1bGF0ZVBvaW50WShjLGUsdSksdC5feFNjYWxlPWYsdC5feVNjYWxlPWgsdC5fZGF0YXNldEluZGV4PXUsdC5faW5kZXg9ZSx0Ll9tb2RlbD17eDpuLHk6byxza2lwOnMuc2tpcHx8aXNOYU4obil8fGlzTmFOKG8pLHJhZGl1czpzLnJhZGl1c3x8YS5nZXRWYWx1ZUF0SW5kZXhPckRlZmF1bHQoZC5wb2ludFJhZGl1cyxlLGcucmFkaXVzKSxwb2ludFN0eWxlOnMucG9pbnRTdHlsZXx8YS5nZXRWYWx1ZUF0SW5kZXhPckRlZmF1bHQoZC5wb2ludFN0eWxlLGUsZy5wb2ludFN0eWxlKSxiYWNrZ3JvdW5kQ29sb3I6ci5nZXRQb2ludEJhY2tncm91bmRDb2xvcih0LGUpLGJvcmRlckNvbG9yOnIuZ2V0UG9pbnRCb3JkZXJDb2xvcih0LGUpLGJvcmRlcldpZHRoOnIuZ2V0UG9pbnRCb3JkZXJXaWR0aCh0LGUpLHRlbnNpb246bC5kYXRhc2V0Ll9tb2RlbD9sLmRhdGFzZXQuX21vZGVsLnRlbnNpb246MCxzdGVwcGVkTGluZTpsLmRhdGFzZXQuX21vZGVsP2wuZGF0YXNldC5fbW9kZWwuc3RlcHBlZExpbmU6ITEsaGl0UmFkaXVzOnMuaGl0UmFkaXVzfHxhLmdldFZhbHVlQXRJbmRleE9yRGVmYXVsdChkLnBvaW50SGl0UmFkaXVzLGUsZy5oaXRSYWRpdXMpfX0sY2FsY3VsYXRlUG9pbnRZOmZ1bmN0aW9uKHQsZSxhKXt2YXIgaSxuLG8scj10aGlzLGw9ci5jaGFydCxzPXIuZ2V0TWV0YSgpLGQ9ci5nZXRTY2FsZUZvcklkKHMueUF4aXNJRCksdT0wLGM9MDtpZihkLm9wdGlvbnMuc3RhY2tlZCl7Zm9yKGk9MDthPmk7aSsrKWlmKG49bC5kYXRhLmRhdGFzZXRzW2ldLG89bC5nZXREYXRhc2V0TWV0YShpKSxcImxpbmVcIj09PW8udHlwZSYmby55QXhpc0lEPT09ZC5pZCYmbC5pc0RhdGFzZXRWaXNpYmxlKGkpKXt2YXIgaD1OdW1iZXIoZC5nZXRSaWdodFZhbHVlKG4uZGF0YVtlXSkpOzA+aD9jKz1ofHwwOnUrPWh8fDB9dmFyIGY9TnVtYmVyKGQuZ2V0UmlnaHRWYWx1ZSh0KSk7cmV0dXJuIDA+Zj9kLmdldFBpeGVsRm9yVmFsdWUoYytmKTpkLmdldFBpeGVsRm9yVmFsdWUodStmKX1yZXR1cm4gZC5nZXRQaXhlbEZvclZhbHVlKHQpfSx1cGRhdGVCZXppZXJDb250cm9sUG9pbnRzOmZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsYSl7cmV0dXJuIGM/TWF0aC5tYXgoTWF0aC5taW4odCxhKSxlKTp0fXZhciBlLGksbixvLHIsbD10aGlzLHM9bC5nZXRNZXRhKCksZD1sLmNoYXJ0LmNoYXJ0QXJlYSx1PShzLmRhdGF8fFtdKS5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuIXQuX21vZGVsLnNraXB9KSxjPWwuY2hhcnQub3B0aW9ucy5lbGVtZW50cy5saW5lLmNhcEJlemllclBvaW50cztmb3IoZT0wLGk9dS5sZW5ndGg7aT5lOysrZSluPXVbZV0sbz1uLl9tb2RlbCxyPWEuc3BsaW5lQ3VydmUoYS5wcmV2aW91c0l0ZW0odSxlKS5fbW9kZWwsbyxhLm5leHRJdGVtKHUsZSkuX21vZGVsLHMuZGF0YXNldC5fbW9kZWwudGVuc2lvbiksby5jb250cm9sUG9pbnRQcmV2aW91c1g9dChyLnByZXZpb3VzLngsZC5sZWZ0LGQucmlnaHQpLG8uY29udHJvbFBvaW50UHJldmlvdXNZPXQoci5wcmV2aW91cy55LGQudG9wLGQuYm90dG9tKSxvLmNvbnRyb2xQb2ludE5leHRYPXQoci5uZXh0LngsZC5sZWZ0LGQucmlnaHQpLG8uY29udHJvbFBvaW50TmV4dFk9dChyLm5leHQueSxkLnRvcCxkLmJvdHRvbSl9LGRyYXc6ZnVuY3Rpb24odCl7dmFyIGEsaSxuPXRoaXMsbz1uLmdldE1ldGEoKSxyPW8uZGF0YXx8W10sbD10fHwxO2ZvcihhPTAsaT1yLmxlbmd0aDtpPmE7KythKXJbYV0udHJhbnNpdGlvbihsKTtmb3IoZShuLmdldERhdGFzZXQoKSxuLmNoYXJ0Lm9wdGlvbnMpJiZvLmRhdGFzZXQudHJhbnNpdGlvbihsKS5kcmF3KCksYT0wLGk9ci5sZW5ndGg7aT5hOysrYSlyW2FdLmRyYXcoKX0sc2V0SG92ZXJTdHlsZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmNoYXJ0LmRhdGEuZGF0YXNldHNbdC5fZGF0YXNldEluZGV4XSxpPXQuX2luZGV4LG49dC5jdXN0b218fHt9LG89dC5fbW9kZWw7by5yYWRpdXM9bi5ob3ZlclJhZGl1c3x8YS5nZXRWYWx1ZUF0SW5kZXhPckRlZmF1bHQoZS5wb2ludEhvdmVyUmFkaXVzLGksdGhpcy5jaGFydC5vcHRpb25zLmVsZW1lbnRzLnBvaW50LmhvdmVyUmFkaXVzKSxvLmJhY2tncm91bmRDb2xvcj1uLmhvdmVyQmFja2dyb3VuZENvbG9yfHxhLmdldFZhbHVlQXRJbmRleE9yRGVmYXVsdChlLnBvaW50SG92ZXJCYWNrZ3JvdW5kQ29sb3IsaSxhLmdldEhvdmVyQ29sb3Ioby5iYWNrZ3JvdW5kQ29sb3IpKSxvLmJvcmRlckNvbG9yPW4uaG92ZXJCb3JkZXJDb2xvcnx8YS5nZXRWYWx1ZUF0SW5kZXhPckRlZmF1bHQoZS5wb2ludEhvdmVyQm9yZGVyQ29sb3IsaSxhLmdldEhvdmVyQ29sb3Ioby5ib3JkZXJDb2xvcikpLG8uYm9yZGVyV2lkdGg9bi5ob3ZlckJvcmRlcldpZHRofHxhLmdldFZhbHVlQXRJbmRleE9yRGVmYXVsdChlLnBvaW50SG92ZXJCb3JkZXJXaWR0aCxpLG8uYm9yZGVyV2lkdGgpfSxyZW1vdmVIb3ZlclN0eWxlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsaT1lLmNoYXJ0LmRhdGEuZGF0YXNldHNbdC5fZGF0YXNldEluZGV4XSxuPXQuX2luZGV4LG89dC5jdXN0b218fHt9LHI9dC5fbW9kZWw7dm9pZCAwIT09aS5yYWRpdXMmJnZvaWQgMD09PWkucG9pbnRSYWRpdXMmJihpLnBvaW50UmFkaXVzPWkucmFkaXVzKSxyLnJhZGl1cz1vLnJhZGl1c3x8YS5nZXRWYWx1ZUF0SW5kZXhPckRlZmF1bHQoaS5wb2ludFJhZGl1cyxuLGUuY2hhcnQub3B0aW9ucy5lbGVtZW50cy5wb2ludC5yYWRpdXMpLHIuYmFja2dyb3VuZENvbG9yPWUuZ2V0UG9pbnRCYWNrZ3JvdW5kQ29sb3IodCxuKSxyLmJvcmRlckNvbG9yPWUuZ2V0UG9pbnRCb3JkZXJDb2xvcih0LG4pLHIuYm9yZGVyV2lkdGg9ZS5nZXRQb2ludEJvcmRlcldpZHRoKHQsbil9fSl9fSx7fV0sMTk6W2Z1bmN0aW9uKHQsZSxhKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9ZnVuY3Rpb24odCl7dmFyIGU9dC5oZWxwZXJzO3QuZGVmYXVsdHMucG9sYXJBcmVhPXtzY2FsZTp7dHlwZTpcInJhZGlhbExpbmVhclwiLGxpbmVBcmM6ITAsdGlja3M6e2JlZ2luQXRaZXJvOiEwfX0sYW5pbWF0aW9uOnthbmltYXRlUm90YXRlOiEwLGFuaW1hdGVTY2FsZTohMH0sc3RhcnRBbmdsZTotLjUqTWF0aC5QSSxhc3BlY3RSYXRpbzoxLGxlZ2VuZENhbGxiYWNrOmZ1bmN0aW9uKHQpe3ZhciBlPVtdO2UucHVzaCgnPHVsIGNsYXNzPVwiJyt0LmlkKyctbGVnZW5kXCI+Jyk7dmFyIGE9dC5kYXRhLGk9YS5kYXRhc2V0cyxuPWEubGFiZWxzO2lmKGkubGVuZ3RoKWZvcih2YXIgbz0wO288aVswXS5kYXRhLmxlbmd0aDsrK28pZS5wdXNoKCc8bGk+PHNwYW4gc3R5bGU9XCJiYWNrZ3JvdW5kLWNvbG9yOicraVswXS5iYWNrZ3JvdW5kQ29sb3Jbb10rJ1wiPicpLG5bb10mJmUucHVzaChuW29dKSxlLnB1c2goXCI8L3NwYW4+PC9saT5cIik7cmV0dXJuIGUucHVzaChcIjwvdWw+XCIpLGUuam9pbihcIlwiKX0sbGVnZW5kOntsYWJlbHM6e2dlbmVyYXRlTGFiZWxzOmZ1bmN0aW9uKHQpe3ZhciBhPXQuZGF0YTtyZXR1cm4gYS5sYWJlbHMubGVuZ3RoJiZhLmRhdGFzZXRzLmxlbmd0aD9hLmxhYmVscy5tYXAoZnVuY3Rpb24oaSxuKXt2YXIgbz10LmdldERhdGFzZXRNZXRhKDApLHI9YS5kYXRhc2V0c1swXSxsPW8uZGF0YVtuXSxzPWwuY3VzdG9tfHx7fSxkPWUuZ2V0VmFsdWVBdEluZGV4T3JEZWZhdWx0LHU9dC5vcHRpb25zLmVsZW1lbnRzLmFyYyxjPXMuYmFja2dyb3VuZENvbG9yP3MuYmFja2dyb3VuZENvbG9yOmQoci5iYWNrZ3JvdW5kQ29sb3Isbix1LmJhY2tncm91bmRDb2xvciksaD1zLmJvcmRlckNvbG9yP3MuYm9yZGVyQ29sb3I6ZChyLmJvcmRlckNvbG9yLG4sdS5ib3JkZXJDb2xvciksZj1zLmJvcmRlcldpZHRoP3MuYm9yZGVyV2lkdGg6ZChyLmJvcmRlcldpZHRoLG4sdS5ib3JkZXJXaWR0aCk7cmV0dXJue3RleHQ6aSxmaWxsU3R5bGU6YyxzdHJva2VTdHlsZTpoLGxpbmVXaWR0aDpmLGhpZGRlbjppc05hTihyLmRhdGFbbl0pfHxvLmRhdGFbbl0uaGlkZGVuLGluZGV4Om59fSk6W119fSxvbkNsaWNrOmZ1bmN0aW9uKHQsZSl7dmFyIGEsaSxuLG89ZS5pbmRleCxyPXRoaXMuY2hhcnQ7Zm9yKGE9MCxpPShyLmRhdGEuZGF0YXNldHN8fFtdKS5sZW5ndGg7aT5hOysrYSluPXIuZ2V0RGF0YXNldE1ldGEoYSksbi5kYXRhW29dLmhpZGRlbj0hbi5kYXRhW29dLmhpZGRlbjtyLnVwZGF0ZSgpfX0sdG9vbHRpcHM6e2NhbGxiYWNrczp7dGl0bGU6ZnVuY3Rpb24oKXtyZXR1cm5cIlwifSxsYWJlbDpmdW5jdGlvbih0LGUpe3JldHVybiBlLmxhYmVsc1t0LmluZGV4XStcIjogXCIrdC55TGFiZWx9fX19LHQuY29udHJvbGxlcnMucG9sYXJBcmVhPXQuRGF0YXNldENvbnRyb2xsZXIuZXh0ZW5kKHtkYXRhRWxlbWVudFR5cGU6dC5lbGVtZW50cy5BcmMsbGlua1NjYWxlczplLm5vb3AsdXBkYXRlOmZ1bmN0aW9uKHQpe3ZhciBhPXRoaXMsaT1hLmNoYXJ0LG49aS5jaGFydEFyZWEsbz1hLmdldE1ldGEoKSxyPWkub3B0aW9ucyxsPXIuZWxlbWVudHMuYXJjLHM9TWF0aC5taW4obi5yaWdodC1uLmxlZnQsbi5ib3R0b20tbi50b3ApO2kub3V0ZXJSYWRpdXM9TWF0aC5tYXgoKHMtbC5ib3JkZXJXaWR0aC8yKS8yLDApLGkuaW5uZXJSYWRpdXM9TWF0aC5tYXgoci5jdXRvdXRQZXJjZW50YWdlP2kub3V0ZXJSYWRpdXMvMTAwKnIuY3V0b3V0UGVyY2VudGFnZToxLDApLGkucmFkaXVzTGVuZ3RoPShpLm91dGVyUmFkaXVzLWkuaW5uZXJSYWRpdXMpL2kuZ2V0VmlzaWJsZURhdGFzZXRDb3VudCgpLGEub3V0ZXJSYWRpdXM9aS5vdXRlclJhZGl1cy1pLnJhZGl1c0xlbmd0aCphLmluZGV4LGEuaW5uZXJSYWRpdXM9YS5vdXRlclJhZGl1cy1pLnJhZGl1c0xlbmd0aCxvLmNvdW50PWEuY291bnRWaXNpYmxlRWxlbWVudHMoKSxlLmVhY2goby5kYXRhLGZ1bmN0aW9uKGUsaSl7YS51cGRhdGVFbGVtZW50KGUsaSx0KX0pfSx1cGRhdGVFbGVtZW50OmZ1bmN0aW9uKHQsYSxpKXtmb3IodmFyIG49dGhpcyxvPW4uY2hhcnQscj1uLmdldERhdGFzZXQoKSxsPW8ub3B0aW9ucyxzPWwuYW5pbWF0aW9uLGQ9by5zY2FsZSx1PWUuZ2V0VmFsdWVBdEluZGV4T3JEZWZhdWx0LGM9by5kYXRhLmxhYmVscyxoPW4uY2FsY3VsYXRlQ2lyY3VtZmVyZW5jZShyLmRhdGFbYV0pLGY9ZC54Q2VudGVyLGc9ZC55Q2VudGVyLHA9MCxtPW4uZ2V0TWV0YSgpLGI9MDthPmI7KytiKWlzTmFOKHIuZGF0YVtiXSl8fG0uZGF0YVtiXS5oaWRkZW58fCsrcDt2YXIgdj1sLnN0YXJ0QW5nbGUseD10LmhpZGRlbj8wOmQuZ2V0RGlzdGFuY2VGcm9tQ2VudGVyRm9yVmFsdWUoci5kYXRhW2FdKSx5PXYraCpwLGs9eSsodC5oaWRkZW4/MDpoKSxTPXMuYW5pbWF0ZVNjYWxlPzA6ZC5nZXREaXN0YW5jZUZyb21DZW50ZXJGb3JWYWx1ZShyLmRhdGFbYV0pO2UuZXh0ZW5kKHQse19kYXRhc2V0SW5kZXg6bi5pbmRleCxfaW5kZXg6YSxfc2NhbGU6ZCxfbW9kZWw6e3g6Zix5OmcsaW5uZXJSYWRpdXM6MCxvdXRlclJhZGl1czppP1M6eCxzdGFydEFuZ2xlOmkmJnMuYW5pbWF0ZVJvdGF0ZT92OnksZW5kQW5nbGU6aSYmcy5hbmltYXRlUm90YXRlP3Y6ayxsYWJlbDp1KGMsYSxjW2FdKX19KSxuLnJlbW92ZUhvdmVyU3R5bGUodCksdC5waXZvdCgpfSxyZW1vdmVIb3ZlclN0eWxlOmZ1bmN0aW9uKGUpe3QuRGF0YXNldENvbnRyb2xsZXIucHJvdG90eXBlLnJlbW92ZUhvdmVyU3R5bGUuY2FsbCh0aGlzLGUsdGhpcy5jaGFydC5vcHRpb25zLmVsZW1lbnRzLmFyYyl9LGNvdW50VmlzaWJsZUVsZW1lbnRzOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZXREYXRhc2V0KCksYT10aGlzLmdldE1ldGEoKSxpPTA7cmV0dXJuIGUuZWFjaChhLmRhdGEsZnVuY3Rpb24oZSxhKXtpc05hTih0LmRhdGFbYV0pfHxlLmhpZGRlbnx8aSsrfSksaX0sY2FsY3VsYXRlQ2lyY3VtZmVyZW5jZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldE1ldGEoKS5jb3VudDtyZXR1cm4gZT4wJiYhaXNOYU4odCk/MipNYXRoLlBJL2U6MH19KX19LHt9XSwyMDpbZnVuY3Rpb24odCxlLGEpe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1mdW5jdGlvbih0KXt2YXIgZT10LmhlbHBlcnM7dC5kZWZhdWx0cy5yYWRhcj17c2NhbGU6e3R5cGU6XCJyYWRpYWxMaW5lYXJcIn0sZWxlbWVudHM6e2xpbmU6e3RlbnNpb246MH19fSx0LmNvbnRyb2xsZXJzLnJhZGFyPXQuRGF0YXNldENvbnRyb2xsZXIuZXh0ZW5kKHtkYXRhc2V0RWxlbWVudFR5cGU6dC5lbGVtZW50cy5MaW5lLGRhdGFFbGVtZW50VHlwZTp0LmVsZW1lbnRzLlBvaW50LGxpbmtTY2FsZXM6ZS5ub29wLGFkZEVsZW1lbnRBbmRSZXNldDpmdW5jdGlvbihlKXt0LkRhdGFzZXRDb250cm9sbGVyLnByb3RvdHlwZS5hZGRFbGVtZW50QW5kUmVzZXQuY2FsbCh0aGlzLGUpLHRoaXMudXBkYXRlQmV6aWVyQ29udHJvbFBvaW50cygpfSx1cGRhdGU6ZnVuY3Rpb24odCl7dmFyIGE9dGhpcyxpPWEuZ2V0TWV0YSgpLG49aS5kYXRhc2V0LG89aS5kYXRhLHI9bi5jdXN0b218fHt9LGw9YS5nZXREYXRhc2V0KCkscz1hLmNoYXJ0Lm9wdGlvbnMuZWxlbWVudHMubGluZSxkPWEuY2hhcnQuc2NhbGU7dm9pZCAwIT09bC50ZW5zaW9uJiZ2b2lkIDA9PT1sLmxpbmVUZW5zaW9uJiYobC5saW5lVGVuc2lvbj1sLnRlbnNpb24pLGUuZXh0ZW5kKGkuZGF0YXNldCx7X2RhdGFzZXRJbmRleDphLmluZGV4LF9jaGlsZHJlbjpvLF9sb29wOiEwLF9tb2RlbDp7dGVuc2lvbjpyLnRlbnNpb24/ci50ZW5zaW9uOmUuZ2V0VmFsdWVPckRlZmF1bHQobC5saW5lVGVuc2lvbixzLnRlbnNpb24pLGJhY2tncm91bmRDb2xvcjpyLmJhY2tncm91bmRDb2xvcj9yLmJhY2tncm91bmRDb2xvcjpsLmJhY2tncm91bmRDb2xvcnx8cy5iYWNrZ3JvdW5kQ29sb3IsYm9yZGVyV2lkdGg6ci5ib3JkZXJXaWR0aD9yLmJvcmRlcldpZHRoOmwuYm9yZGVyV2lkdGh8fHMuYm9yZGVyV2lkdGgsYm9yZGVyQ29sb3I6ci5ib3JkZXJDb2xvcj9yLmJvcmRlckNvbG9yOmwuYm9yZGVyQ29sb3J8fHMuYm9yZGVyQ29sb3IsZmlsbDpyLmZpbGw/ci5maWxsOnZvaWQgMCE9PWwuZmlsbD9sLmZpbGw6cy5maWxsLGJvcmRlckNhcFN0eWxlOnIuYm9yZGVyQ2FwU3R5bGU/ci5ib3JkZXJDYXBTdHlsZTpsLmJvcmRlckNhcFN0eWxlfHxzLmJvcmRlckNhcFN0eWxlLGJvcmRlckRhc2g6ci5ib3JkZXJEYXNoP3IuYm9yZGVyRGFzaDpsLmJvcmRlckRhc2h8fHMuYm9yZGVyRGFzaCxib3JkZXJEYXNoT2Zmc2V0OnIuYm9yZGVyRGFzaE9mZnNldD9yLmJvcmRlckRhc2hPZmZzZXQ6bC5ib3JkZXJEYXNoT2Zmc2V0fHxzLmJvcmRlckRhc2hPZmZzZXQsYm9yZGVySm9pblN0eWxlOnIuYm9yZGVySm9pblN0eWxlP3IuYm9yZGVySm9pblN0eWxlOmwuYm9yZGVySm9pblN0eWxlfHxzLmJvcmRlckpvaW5TdHlsZSxzY2FsZVRvcDpkLnRvcCxzY2FsZUJvdHRvbTpkLmJvdHRvbSxzY2FsZVplcm86ZC5nZXRCYXNlUG9zaXRpb24oKX19KSxpLmRhdGFzZXQucGl2b3QoKSxlLmVhY2gobyxmdW5jdGlvbihlLGkpe2EudXBkYXRlRWxlbWVudChlLGksdCl9LGEpLGEudXBkYXRlQmV6aWVyQ29udHJvbFBvaW50cygpfSx1cGRhdGVFbGVtZW50OmZ1bmN0aW9uKHQsYSxpKXt2YXIgbj10aGlzLG89dC5jdXN0b218fHt9LHI9bi5nZXREYXRhc2V0KCksbD1uLmNoYXJ0LnNjYWxlLHM9bi5jaGFydC5vcHRpb25zLmVsZW1lbnRzLnBvaW50LGQ9bC5nZXRQb2ludFBvc2l0aW9uRm9yVmFsdWUoYSxyLmRhdGFbYV0pO2UuZXh0ZW5kKHQse19kYXRhc2V0SW5kZXg6bi5pbmRleCxfaW5kZXg6YSxfc2NhbGU6bCxfbW9kZWw6e3g6aT9sLnhDZW50ZXI6ZC54LHk6aT9sLnlDZW50ZXI6ZC55LHRlbnNpb246by50ZW5zaW9uP28udGVuc2lvbjplLmdldFZhbHVlT3JEZWZhdWx0KHIudGVuc2lvbixuLmNoYXJ0Lm9wdGlvbnMuZWxlbWVudHMubGluZS50ZW5zaW9uKSxyYWRpdXM6by5yYWRpdXM/by5yYWRpdXM6ZS5nZXRWYWx1ZUF0SW5kZXhPckRlZmF1bHQoci5wb2ludFJhZGl1cyxhLHMucmFkaXVzKSxiYWNrZ3JvdW5kQ29sb3I6by5iYWNrZ3JvdW5kQ29sb3I/by5iYWNrZ3JvdW5kQ29sb3I6ZS5nZXRWYWx1ZUF0SW5kZXhPckRlZmF1bHQoci5wb2ludEJhY2tncm91bmRDb2xvcixhLHMuYmFja2dyb3VuZENvbG9yKSxib3JkZXJDb2xvcjpvLmJvcmRlckNvbG9yP28uYm9yZGVyQ29sb3I6ZS5nZXRWYWx1ZUF0SW5kZXhPckRlZmF1bHQoci5wb2ludEJvcmRlckNvbG9yLGEscy5ib3JkZXJDb2xvciksYm9yZGVyV2lkdGg6by5ib3JkZXJXaWR0aD9vLmJvcmRlcldpZHRoOmUuZ2V0VmFsdWVBdEluZGV4T3JEZWZhdWx0KHIucG9pbnRCb3JkZXJXaWR0aCxhLHMuYm9yZGVyV2lkdGgpLHBvaW50U3R5bGU6by5wb2ludFN0eWxlP28ucG9pbnRTdHlsZTplLmdldFZhbHVlQXRJbmRleE9yRGVmYXVsdChyLnBvaW50U3R5bGUsYSxzLnBvaW50U3R5bGUpLGhpdFJhZGl1czpvLmhpdFJhZGl1cz9vLmhpdFJhZGl1czplLmdldFZhbHVlQXRJbmRleE9yRGVmYXVsdChyLmhpdFJhZGl1cyxhLHMuaGl0UmFkaXVzKX19KSx0Ll9tb2RlbC5za2lwPW8uc2tpcD9vLnNraXA6aXNOYU4odC5fbW9kZWwueCl8fGlzTmFOKHQuX21vZGVsLnkpfSx1cGRhdGVCZXppZXJDb250cm9sUG9pbnRzOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5jaGFydC5jaGFydEFyZWEsYT10aGlzLmdldE1ldGEoKTtlLmVhY2goYS5kYXRhLGZ1bmN0aW9uKGksbil7dmFyIG89aS5fbW9kZWwscj1lLnNwbGluZUN1cnZlKGUucHJldmlvdXNJdGVtKGEuZGF0YSxuLCEwKS5fbW9kZWwsbyxlLm5leHRJdGVtKGEuZGF0YSxuLCEwKS5fbW9kZWwsby50ZW5zaW9uKTtvLmNvbnRyb2xQb2ludFByZXZpb3VzWD1NYXRoLm1heChNYXRoLm1pbihyLnByZXZpb3VzLngsdC5yaWdodCksdC5sZWZ0KSxvLmNvbnRyb2xQb2ludFByZXZpb3VzWT1NYXRoLm1heChNYXRoLm1pbihyLnByZXZpb3VzLnksdC5ib3R0b20pLHQudG9wKSxvLmNvbnRyb2xQb2ludE5leHRYPU1hdGgubWF4KE1hdGgubWluKHIubmV4dC54LHQucmlnaHQpLHQubGVmdCksby5jb250cm9sUG9pbnROZXh0WT1NYXRoLm1heChNYXRoLm1pbihyLm5leHQueSx0LmJvdHRvbSksdC50b3ApLGkucGl2b3QoKX0pfSxkcmF3OmZ1bmN0aW9uKHQpe3ZhciBhPXRoaXMuZ2V0TWV0YSgpLGk9dHx8MTtlLmVhY2goYS5kYXRhLGZ1bmN0aW9uKHQpe3QudHJhbnNpdGlvbihpKX0pLGEuZGF0YXNldC50cmFuc2l0aW9uKGkpLmRyYXcoKSxlLmVhY2goYS5kYXRhLGZ1bmN0aW9uKHQpe3QuZHJhdygpfSl9LHNldEhvdmVyU3R5bGU6ZnVuY3Rpb24odCl7dmFyIGE9dGhpcy5jaGFydC5kYXRhLmRhdGFzZXRzW3QuX2RhdGFzZXRJbmRleF0saT10LmN1c3RvbXx8e30sbj10Ll9pbmRleCxvPXQuX21vZGVsO28ucmFkaXVzPWkuaG92ZXJSYWRpdXM/aS5ob3ZlclJhZGl1czplLmdldFZhbHVlQXRJbmRleE9yRGVmYXVsdChhLnBvaW50SG92ZXJSYWRpdXMsbix0aGlzLmNoYXJ0Lm9wdGlvbnMuZWxlbWVudHMucG9pbnQuaG92ZXJSYWRpdXMpLG8uYmFja2dyb3VuZENvbG9yPWkuaG92ZXJCYWNrZ3JvdW5kQ29sb3I/aS5ob3ZlckJhY2tncm91bmRDb2xvcjplLmdldFZhbHVlQXRJbmRleE9yRGVmYXVsdChhLnBvaW50SG92ZXJCYWNrZ3JvdW5kQ29sb3IsbixlLmdldEhvdmVyQ29sb3Ioby5iYWNrZ3JvdW5kQ29sb3IpKSxvLmJvcmRlckNvbG9yPWkuaG92ZXJCb3JkZXJDb2xvcj9pLmhvdmVyQm9yZGVyQ29sb3I6ZS5nZXRWYWx1ZUF0SW5kZXhPckRlZmF1bHQoYS5wb2ludEhvdmVyQm9yZGVyQ29sb3IsbixlLmdldEhvdmVyQ29sb3Ioby5ib3JkZXJDb2xvcikpLG8uYm9yZGVyV2lkdGg9aS5ob3ZlckJvcmRlcldpZHRoP2kuaG92ZXJCb3JkZXJXaWR0aDplLmdldFZhbHVlQXRJbmRleE9yRGVmYXVsdChhLnBvaW50SG92ZXJCb3JkZXJXaWR0aCxuLG8uYm9yZGVyV2lkdGgpfSxyZW1vdmVIb3ZlclN0eWxlOmZ1bmN0aW9uKHQpe3ZhciBhPXRoaXMuY2hhcnQuZGF0YS5kYXRhc2V0c1t0Ll9kYXRhc2V0SW5kZXhdLGk9dC5jdXN0b218fHt9LG49dC5faW5kZXgsbz10Ll9tb2RlbCxyPXRoaXMuY2hhcnQub3B0aW9ucy5lbGVtZW50cy5wb2ludDtvLnJhZGl1cz1pLnJhZGl1cz9pLnJhZGl1czplLmdldFZhbHVlQXRJbmRleE9yRGVmYXVsdChhLnJhZGl1cyxuLHIucmFkaXVzKSxvLmJhY2tncm91bmRDb2xvcj1pLmJhY2tncm91bmRDb2xvcj9pLmJhY2tncm91bmRDb2xvcjplLmdldFZhbHVlQXRJbmRleE9yRGVmYXVsdChhLnBvaW50QmFja2dyb3VuZENvbG9yLG4sci5iYWNrZ3JvdW5kQ29sb3IpLG8uYm9yZGVyQ29sb3I9aS5ib3JkZXJDb2xvcj9pLmJvcmRlckNvbG9yOmUuZ2V0VmFsdWVBdEluZGV4T3JEZWZhdWx0KGEucG9pbnRCb3JkZXJDb2xvcixuLHIuYm9yZGVyQ29sb3IpLG8uYm9yZGVyV2lkdGg9aS5ib3JkZXJXaWR0aD9pLmJvcmRlcldpZHRoOmUuZ2V0VmFsdWVBdEluZGV4T3JEZWZhdWx0KGEucG9pbnRCb3JkZXJXaWR0aCxuLHIuYm9yZGVyV2lkdGgpfX0pfX0se31dLDIxOltmdW5jdGlvbih0LGUsYSl7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPWZ1bmN0aW9uKHQpe3ZhciBlPXQuaGVscGVyczt0LmRlZmF1bHRzLmdsb2JhbC5hbmltYXRpb249e2R1cmF0aW9uOjFlMyxlYXNpbmc6XCJlYXNlT3V0UXVhcnRcIixvblByb2dyZXNzOmUubm9vcCxvbkNvbXBsZXRlOmUubm9vcH0sdC5BbmltYXRpb249dC5FbGVtZW50LmV4dGVuZCh7Y3VycmVudFN0ZXA6bnVsbCxudW1TdGVwczo2MCxlYXNpbmc6XCJcIixyZW5kZXI6bnVsbCxvbkFuaW1hdGlvblByb2dyZXNzOm51bGwsb25BbmltYXRpb25Db21wbGV0ZTpudWxsfSksdC5hbmltYXRpb25TZXJ2aWNlPXtmcmFtZUR1cmF0aW9uOjE3LGFuaW1hdGlvbnM6W10sZHJvcEZyYW1lczowLHJlcXVlc3Q6bnVsbCxhZGRBbmltYXRpb246ZnVuY3Rpb24odCxlLGEsaSl7dmFyIG49dGhpcztpfHwodC5hbmltYXRpbmc9ITApO2Zvcih2YXIgbz0wO288bi5hbmltYXRpb25zLmxlbmd0aDsrK28paWYobi5hbmltYXRpb25zW29dLmNoYXJ0SW5zdGFuY2U9PT10KXJldHVybiB2b2lkKG4uYW5pbWF0aW9uc1tvXS5hbmltYXRpb25PYmplY3Q9ZSk7bi5hbmltYXRpb25zLnB1c2goe2NoYXJ0SW5zdGFuY2U6dCxhbmltYXRpb25PYmplY3Q6ZX0pLDE9PT1uLmFuaW1hdGlvbnMubGVuZ3RoJiZuLnJlcXVlc3RBbmltYXRpb25GcmFtZSgpfSxjYW5jZWxBbmltYXRpb246ZnVuY3Rpb24odCl7dmFyIGE9ZS5maW5kSW5kZXgodGhpcy5hbmltYXRpb25zLGZ1bmN0aW9uKGUpe3JldHVybiBlLmNoYXJ0SW5zdGFuY2U9PT10fSk7LTEhPT1hJiYodGhpcy5hbmltYXRpb25zLnNwbGljZShhLDEpLHQuYW5pbWF0aW5nPSExKX0scmVxdWVzdEFuaW1hdGlvbkZyYW1lOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztudWxsPT09dC5yZXF1ZXN0JiYodC5yZXF1ZXN0PWUucmVxdWVzdEFuaW1GcmFtZS5jYWxsKHdpbmRvdyxmdW5jdGlvbigpe3QucmVxdWVzdD1udWxsLHQuc3RhcnREaWdlc3QoKX0pKX0sc3RhcnREaWdlc3Q6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9RGF0ZS5ub3coKSxhPTA7dC5kcm9wRnJhbWVzPjEmJihhPU1hdGguZmxvb3IodC5kcm9wRnJhbWVzKSx0LmRyb3BGcmFtZXM9dC5kcm9wRnJhbWVzJTEpO2Zvcih2YXIgaT0wO2k8dC5hbmltYXRpb25zLmxlbmd0aDspbnVsbD09PXQuYW5pbWF0aW9uc1tpXS5hbmltYXRpb25PYmplY3QuY3VycmVudFN0ZXAmJih0LmFuaW1hdGlvbnNbaV0uYW5pbWF0aW9uT2JqZWN0LmN1cnJlbnRTdGVwPTApLHQuYW5pbWF0aW9uc1tpXS5hbmltYXRpb25PYmplY3QuY3VycmVudFN0ZXArPTErYSx0LmFuaW1hdGlvbnNbaV0uYW5pbWF0aW9uT2JqZWN0LmN1cnJlbnRTdGVwPnQuYW5pbWF0aW9uc1tpXS5hbmltYXRpb25PYmplY3QubnVtU3RlcHMmJih0LmFuaW1hdGlvbnNbaV0uYW5pbWF0aW9uT2JqZWN0LmN1cnJlbnRTdGVwPXQuYW5pbWF0aW9uc1tpXS5hbmltYXRpb25PYmplY3QubnVtU3RlcHMpLHQuYW5pbWF0aW9uc1tpXS5hbmltYXRpb25PYmplY3QucmVuZGVyKHQuYW5pbWF0aW9uc1tpXS5jaGFydEluc3RhbmNlLHQuYW5pbWF0aW9uc1tpXS5hbmltYXRpb25PYmplY3QpLHQuYW5pbWF0aW9uc1tpXS5hbmltYXRpb25PYmplY3Qub25BbmltYXRpb25Qcm9ncmVzcyYmdC5hbmltYXRpb25zW2ldLmFuaW1hdGlvbk9iamVjdC5vbkFuaW1hdGlvblByb2dyZXNzLmNhbGwmJnQuYW5pbWF0aW9uc1tpXS5hbmltYXRpb25PYmplY3Qub25BbmltYXRpb25Qcm9ncmVzcy5jYWxsKHQuYW5pbWF0aW9uc1tpXS5jaGFydEluc3RhbmNlLHQuYW5pbWF0aW9uc1tpXSksdC5hbmltYXRpb25zW2ldLmFuaW1hdGlvbk9iamVjdC5jdXJyZW50U3RlcD09PXQuYW5pbWF0aW9uc1tpXS5hbmltYXRpb25PYmplY3QubnVtU3RlcHM/KHQuYW5pbWF0aW9uc1tpXS5hbmltYXRpb25PYmplY3Qub25BbmltYXRpb25Db21wbGV0ZSYmdC5hbmltYXRpb25zW2ldLmFuaW1hdGlvbk9iamVjdC5vbkFuaW1hdGlvbkNvbXBsZXRlLmNhbGwmJnQuYW5pbWF0aW9uc1tpXS5hbmltYXRpb25PYmplY3Qub25BbmltYXRpb25Db21wbGV0ZS5jYWxsKHQuYW5pbWF0aW9uc1tpXS5jaGFydEluc3RhbmNlLHQuYW5pbWF0aW9uc1tpXSksdC5hbmltYXRpb25zW2ldLmNoYXJ0SW5zdGFuY2UuYW5pbWF0aW5nPSExLHQuYW5pbWF0aW9ucy5zcGxpY2UoaSwxKSk6KytpO3ZhciBuPURhdGUubm93KCksbz0obi1lKS90LmZyYW1lRHVyYXRpb247dC5kcm9wRnJhbWVzKz1vLHQuYW5pbWF0aW9ucy5sZW5ndGg+MCYmdC5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKX19fX0se31dLDIyOltmdW5jdGlvbih0LGUsYSl7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPWZ1bmN0aW9uKHQpe3ZhciBlPXQuY2FudmFzSGVscGVycz17fTtlLmRyYXdQb2ludD1mdW5jdGlvbih0LGUsYSxpLG4pe3ZhciBvLHIsbCxzLGQsdTtpZihcIm9iamVjdFwiPT10eXBlb2YgZSYmKG89ZS50b1N0cmluZygpLFwiW29iamVjdCBIVE1MSW1hZ2VFbGVtZW50XVwiPT09b3x8XCJbb2JqZWN0IEhUTUxDYW52YXNFbGVtZW50XVwiPT09bykpcmV0dXJuIHZvaWQgdC5kcmF3SW1hZ2UoZSxpLWUud2lkdGgvMixuLWUuaGVpZ2h0LzIpO2lmKCEoaXNOYU4oYSl8fDA+PWEpKXtzd2l0Y2goZSl7ZGVmYXVsdDp0LmJlZ2luUGF0aCgpLHQuYXJjKGksbixhLDAsMipNYXRoLlBJKSx0LmNsb3NlUGF0aCgpLHQuZmlsbCgpO2JyZWFrO2Nhc2VcInRyaWFuZ2xlXCI6dC5iZWdpblBhdGgoKSxyPTMqYS9NYXRoLnNxcnQoMyksZD1yKk1hdGguc3FydCgzKS8yLHQubW92ZVRvKGktci8yLG4rZC8zKSx0LmxpbmVUbyhpK3IvMixuK2QvMyksdC5saW5lVG8oaSxuLTIqZC8zKSx0LmNsb3NlUGF0aCgpLHQuZmlsbCgpO2JyZWFrO2Nhc2VcInJlY3RcIjp1PTEvTWF0aC5TUVJUMiphLHQuYmVnaW5QYXRoKCksdC5maWxsUmVjdChpLXUsbi11LDIqdSwyKnUpLHQuc3Ryb2tlUmVjdChpLXUsbi11LDIqdSwyKnUpO2JyZWFrO2Nhc2VcInJlY3RSb3RcIjp1PTEvTWF0aC5TUVJUMiphLHQuYmVnaW5QYXRoKCksdC5tb3ZlVG8oaS11LG4pLHQubGluZVRvKGksbit1KSx0LmxpbmVUbyhpK3UsbiksdC5saW5lVG8oaSxuLXUpLHQuY2xvc2VQYXRoKCksdC5maWxsKCk7YnJlYWs7Y2FzZVwiY3Jvc3NcIjp0LmJlZ2luUGF0aCgpLHQubW92ZVRvKGksbithKSx0LmxpbmVUbyhpLG4tYSksdC5tb3ZlVG8oaS1hLG4pLHQubGluZVRvKGkrYSxuKSx0LmNsb3NlUGF0aCgpO2JyZWFrO2Nhc2VcImNyb3NzUm90XCI6dC5iZWdpblBhdGgoKSxsPU1hdGguY29zKE1hdGguUEkvNCkqYSxzPU1hdGguc2luKE1hdGguUEkvNCkqYSx0Lm1vdmVUbyhpLWwsbi1zKSx0LmxpbmVUbyhpK2wsbitzKSx0Lm1vdmVUbyhpLWwsbitzKSx0LmxpbmVUbyhpK2wsbi1zKSx0LmNsb3NlUGF0aCgpO2JyZWFrO2Nhc2VcInN0YXJcIjp0LmJlZ2luUGF0aCgpLHQubW92ZVRvKGksbithKSx0LmxpbmVUbyhpLG4tYSksdC5tb3ZlVG8oaS1hLG4pLHQubGluZVRvKGkrYSxuKSxsPU1hdGguY29zKE1hdGguUEkvNCkqYSxzPU1hdGguc2luKE1hdGguUEkvNCkqYSx0Lm1vdmVUbyhpLWwsbi1zKSx0LmxpbmVUbyhpK2wsbitzKSx0Lm1vdmVUbyhpLWwsbitzKSx0LmxpbmVUbyhpK2wsbi1zKSx0LmNsb3NlUGF0aCgpO2JyZWFrO2Nhc2VcImxpbmVcIjp0LmJlZ2luUGF0aCgpLHQubW92ZVRvKGktYSxuKSx0LmxpbmVUbyhpK2EsbiksdC5jbG9zZVBhdGgoKTticmVhaztjYXNlXCJkYXNoXCI6dC5iZWdpblBhdGgoKSx0Lm1vdmVUbyhpLG4pLHQubGluZVRvKGkrYSxuKSx0LmNsb3NlUGF0aCgpfXQuc3Ryb2tlKCl9fX19LHt9XSwyMzpbZnVuY3Rpb24odCxlLGEpe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1mdW5jdGlvbih0KXt2YXIgZT10LmhlbHBlcnM7dC50eXBlcz17fSx0Lmluc3RhbmNlcz17fSx0LmNvbnRyb2xsZXJzPXt9LHQuQ29udHJvbGxlcj1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5jaGFydD1hLHRoaXMuY29uZmlnPWEuY29uZmlnLHRoaXMub3B0aW9ucz10aGlzLmNvbmZpZy5vcHRpb25zPWUuY29uZmlnTWVyZ2UodC5kZWZhdWx0cy5nbG9iYWwsdC5kZWZhdWx0c1t0aGlzLmNvbmZpZy50eXBlXSx0aGlzLmNvbmZpZy5vcHRpb25zfHx7fSksdGhpcy5pZD1lLnVpZCgpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwiZGF0YVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25maWcuZGF0YX19KSx0Lmluc3RhbmNlc1t0aGlzLmlkXT10aGlzLHRoaXMub3B0aW9ucy5yZXNwb25zaXZlJiZ0aGlzLnJlc2l6ZSghMCksdGhpcy5pbml0aWFsaXplKCksdGhpc30sZS5leHRlbmQodC5Db250cm9sbGVyLnByb3RvdHlwZSx7aW5pdGlhbGl6ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIHQucGx1Z2lucy5ub3RpZnkoXCJiZWZvcmVJbml0XCIsW2VdKSxlLmJpbmRFdmVudHMoKSxlLmVuc3VyZVNjYWxlc0hhdmVJRHMoKSxlLmJ1aWxkT3JVcGRhdGVDb250cm9sbGVycygpLGUuYnVpbGRTY2FsZXMoKSxlLnVwZGF0ZUxheW91dCgpLGUucmVzZXRFbGVtZW50cygpLGUuaW5pdFRvb2xUaXAoKSxlLnVwZGF0ZSgpLHQucGx1Z2lucy5ub3RpZnkoXCJhZnRlckluaXRcIixbZV0pLGV9LGNsZWFyOmZ1bmN0aW9uKCl7cmV0dXJuIGUuY2xlYXIodGhpcy5jaGFydCksdGhpc30sc3RvcDpmdW5jdGlvbigpe3JldHVybiB0LmFuaW1hdGlvblNlcnZpY2UuY2FuY2VsQW5pbWF0aW9uKHRoaXMpLHRoaXN9LHJlc2l6ZTpmdW5jdGlvbihhKXt2YXIgaT10aGlzLG49aS5jaGFydCxvPW4uY2FudmFzLHI9ZS5nZXRNYXhpbXVtV2lkdGgobyksbD1uLmFzcGVjdFJhdGlvLHM9aS5vcHRpb25zLm1haW50YWluQXNwZWN0UmF0aW8mJmlzTmFOKGwpPT09ITEmJmlzRmluaXRlKGwpJiYwIT09bD9yL2w6ZS5nZXRNYXhpbXVtSGVpZ2h0KG8pLGQ9bi53aWR0aCE9PXJ8fG4uaGVpZ2h0IT09cztpZighZClyZXR1cm4gaTtvLndpZHRoPW4ud2lkdGg9cixvLmhlaWdodD1uLmhlaWdodD1zLGUucmV0aW5hU2NhbGUobik7dmFyIHU9e3dpZHRoOnIsaGVpZ2h0OnN9O3JldHVybiB0LnBsdWdpbnMubm90aWZ5KFwicmVzaXplXCIsW2ksdV0pLGkub3B0aW9ucy5vblJlc2l6ZSYmaS5vcHRpb25zLm9uUmVzaXplKGksdSksYXx8KGkuc3RvcCgpLGkudXBkYXRlKGkub3B0aW9ucy5yZXNwb25zaXZlQW5pbWF0aW9uRHVyYXRpb24pKSxpfSxlbnN1cmVTY2FsZXNIYXZlSURzOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5vcHRpb25zLGE9dC5zY2FsZXN8fHt9LGk9dC5zY2FsZTtlLmVhY2goYS54QXhlcyxmdW5jdGlvbih0LGUpe3QuaWQ9dC5pZHx8XCJ4LWF4aXMtXCIrZX0pLGUuZWFjaChhLnlBeGVzLGZ1bmN0aW9uKHQsZSl7dC5pZD10LmlkfHxcInktYXhpcy1cIitlfSksaSYmKGkuaWQ9aS5pZHx8XCJzY2FsZVwiKX0sYnVpbGRTY2FsZXM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGk9YS5vcHRpb25zLG49YS5zY2FsZXM9e30sbz1bXTtpLnNjYWxlcyYmKG89by5jb25jYXQoKGkuc2NhbGVzLnhBeGVzfHxbXSkubWFwKGZ1bmN0aW9uKHQpe3JldHVybntvcHRpb25zOnQsZHR5cGU6XCJjYXRlZ29yeVwifX0pLChpLnNjYWxlcy55QXhlc3x8W10pLm1hcChmdW5jdGlvbih0KXtyZXR1cm57b3B0aW9uczp0LGR0eXBlOlwibGluZWFyXCJ9fSkpKSxpLnNjYWxlJiZvLnB1c2goe29wdGlvbnM6aS5zY2FsZSxkdHlwZTpcInJhZGlhbExpbmVhclwiLGlzRGVmYXVsdDohMH0pLGUuZWFjaChvLGZ1bmN0aW9uKGkpe3ZhciBvPWkub3B0aW9ucyxyPWUuZ2V0VmFsdWVPckRlZmF1bHQoby50eXBlLGkuZHR5cGUpLGw9dC5zY2FsZVNlcnZpY2UuZ2V0U2NhbGVDb25zdHJ1Y3RvcihyKTtpZihsKXt2YXIgcz1uZXcgbCh7aWQ6by5pZCxvcHRpb25zOm8sY3R4OmEuY2hhcnQuY3R4LGNoYXJ0OmF9KTtuW3MuaWRdPXMsaS5pc0RlZmF1bHQmJihhLnNjYWxlPXMpfX0pLHQuc2NhbGVTZXJ2aWNlLmFkZFNjYWxlc1RvTGF5b3V0KHRoaXMpfSx1cGRhdGVMYXlvdXQ6ZnVuY3Rpb24oKXt0LmxheW91dFNlcnZpY2UudXBkYXRlKHRoaXMsdGhpcy5jaGFydC53aWR0aCx0aGlzLmNoYXJ0LmhlaWdodCl9LGJ1aWxkT3JVcGRhdGVDb250cm9sbGVyczpmdW5jdGlvbigpe3ZhciBhPXRoaXMsaT1bXSxuPVtdO2lmKGUuZWFjaChhLmRhdGEuZGF0YXNldHMsZnVuY3Rpb24oZSxvKXt2YXIgcj1hLmdldERhdGFzZXRNZXRhKG8pO3IudHlwZXx8KHIudHlwZT1lLnR5cGV8fGEuY29uZmlnLnR5cGUpLGkucHVzaChyLnR5cGUpLHIuY29udHJvbGxlcj9yLmNvbnRyb2xsZXIudXBkYXRlSW5kZXgobyk6KHIuY29udHJvbGxlcj1uZXcgdC5jb250cm9sbGVyc1tyLnR5cGVdKGEsbyksbi5wdXNoKHIuY29udHJvbGxlcikpfSxhKSxpLmxlbmd0aD4xKWZvcih2YXIgbz0xO288aS5sZW5ndGg7bysrKWlmKGlbb10hPT1pW28tMV0pe2EuaXNDb21ibz0hMDticmVha31yZXR1cm4gbn0scmVzZXRFbGVtZW50czpmdW5jdGlvbigpe3ZhciB0PXRoaXM7ZS5lYWNoKHQuZGF0YS5kYXRhc2V0cyxmdW5jdGlvbihlLGEpe3QuZ2V0RGF0YXNldE1ldGEoYSkuY29udHJvbGxlci5yZXNldCgpfSx0KX0sdXBkYXRlOmZ1bmN0aW9uKGEsaSl7dmFyIG49dGhpczt0LnBsdWdpbnMubm90aWZ5KFwiYmVmb3JlVXBkYXRlXCIsW25dKSxuLnRvb2x0aXAuX2RhdGE9bi5kYXRhO3ZhciBvPW4uYnVpbGRPclVwZGF0ZUNvbnRyb2xsZXJzKCk7ZS5lYWNoKG4uZGF0YS5kYXRhc2V0cyxmdW5jdGlvbih0LGUpe24uZ2V0RGF0YXNldE1ldGEoZSkuY29udHJvbGxlci5idWlsZE9yVXBkYXRlRWxlbWVudHMoKX0sbiksdC5sYXlvdXRTZXJ2aWNlLnVwZGF0ZShuLG4uY2hhcnQud2lkdGgsbi5jaGFydC5oZWlnaHQpLHQucGx1Z2lucy5ub3RpZnkoXCJhZnRlclNjYWxlVXBkYXRlXCIsW25dKSxlLmVhY2gobyxmdW5jdGlvbih0KXt0LnJlc2V0KCl9KSxuLnVwZGF0ZURhdGFzZXRzKCksdC5wbHVnaW5zLm5vdGlmeShcImFmdGVyVXBkYXRlXCIsW25dKSxuLnJlbmRlcihhLGkpfSx1cGRhdGVEYXRhc2V0czpmdW5jdGlvbigpe3ZhciBlLGEsaT10aGlzO2lmKHQucGx1Z2lucy5ub3RpZnkoXCJiZWZvcmVEYXRhc2V0c1VwZGF0ZVwiLFtpXSkpe2ZvcihlPTAsYT1pLmRhdGEuZGF0YXNldHMubGVuZ3RoO2E+ZTsrK2UpaS5nZXREYXRhc2V0TWV0YShlKS5jb250cm9sbGVyLnVwZGF0ZSgpO3QucGx1Z2lucy5ub3RpZnkoXCJhZnRlckRhdGFzZXRzVXBkYXRlXCIsW2ldKX19LHJlbmRlcjpmdW5jdGlvbihhLGkpe3ZhciBuPXRoaXM7dC5wbHVnaW5zLm5vdGlmeShcImJlZm9yZVJlbmRlclwiLFtuXSk7dmFyIG89bi5vcHRpb25zLmFuaW1hdGlvbjtpZihvJiYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGEmJjAhPT1hfHxcInVuZGVmaW5lZFwiPT10eXBlb2YgYSYmMCE9PW8uZHVyYXRpb24pKXt2YXIgcj1uZXcgdC5BbmltYXRpb247ci5udW1TdGVwcz0oYXx8by5kdXJhdGlvbikvMTYuNjYsci5lYXNpbmc9by5lYXNpbmcsci5yZW5kZXI9ZnVuY3Rpb24odCxhKXt2YXIgaT1lLmVhc2luZ0VmZmVjdHNbYS5lYXNpbmddLG49YS5jdXJyZW50U3RlcC9hLm51bVN0ZXBzLG89aShuKTt0LmRyYXcobyxuLGEuY3VycmVudFN0ZXApfSxyLm9uQW5pbWF0aW9uUHJvZ3Jlc3M9by5vblByb2dyZXNzLHIub25BbmltYXRpb25Db21wbGV0ZT1vLm9uQ29tcGxldGUsdC5hbmltYXRpb25TZXJ2aWNlLmFkZEFuaW1hdGlvbihuLHIsYSxpKX1lbHNlIG4uZHJhdygpLG8mJm8ub25Db21wbGV0ZSYmby5vbkNvbXBsZXRlLmNhbGwmJm8ub25Db21wbGV0ZS5jYWxsKG4pO3JldHVybiBufSxkcmF3OmZ1bmN0aW9uKGEpe3ZhciBpPXRoaXMsbj1hfHwxO2kuY2xlYXIoKSx0LnBsdWdpbnMubm90aWZ5KFwiYmVmb3JlRHJhd1wiLFtpLG5dKSxlLmVhY2goaS5ib3hlcyxmdW5jdGlvbih0KXt0LmRyYXcoaS5jaGFydEFyZWEpfSxpKSxpLnNjYWxlJiZpLnNjYWxlLmRyYXcoKSx0LnBsdWdpbnMubm90aWZ5KFwiYmVmb3JlRGF0YXNldHNEcmF3XCIsW2ksbl0pLGUuZWFjaChpLmRhdGEuZGF0YXNldHMsZnVuY3Rpb24odCxlKXtpLmlzRGF0YXNldFZpc2libGUoZSkmJmkuZ2V0RGF0YXNldE1ldGEoZSkuY29udHJvbGxlci5kcmF3KGEpfSxpLCEwKSx0LnBsdWdpbnMubm90aWZ5KFwiYWZ0ZXJEYXRhc2V0c0RyYXdcIixbaSxuXSksaS50b29sdGlwLnRyYW5zaXRpb24obikuZHJhdygpLHQucGx1Z2lucy5ub3RpZnkoXCJhZnRlckRyYXdcIixbaSxuXSl9LGdldEVsZW1lbnRBdEV2ZW50OmZ1bmN0aW9uKHQpe3ZhciBhPXRoaXMsaT1lLmdldFJlbGF0aXZlUG9zaXRpb24odCxhLmNoYXJ0KSxuPVtdO3JldHVybiBlLmVhY2goYS5kYXRhLmRhdGFzZXRzLGZ1bmN0aW9uKHQsbyl7aWYoYS5pc0RhdGFzZXRWaXNpYmxlKG8pKXt2YXIgcj1hLmdldERhdGFzZXRNZXRhKG8pO2UuZWFjaChyLmRhdGEsZnVuY3Rpb24odCl7cmV0dXJuIHQuaW5SYW5nZShpLngsaS55KT8obi5wdXNoKHQpLG4pOnZvaWQgMH0pfX0pLG4uc2xpY2UoMCwxKX0sZ2V0RWxlbWVudHNBdEV2ZW50OmZ1bmN0aW9uKHQpe3ZhciBhPXRoaXMsaT1lLmdldFJlbGF0aXZlUG9zaXRpb24odCxhLmNoYXJ0KSxuPVtdLG89ZnVuY3Rpb24oKXtpZihhLmRhdGEuZGF0YXNldHMpZm9yKHZhciB0PTA7dDxhLmRhdGEuZGF0YXNldHMubGVuZ3RoO3QrKyl7dmFyIGU9YS5nZXREYXRhc2V0TWV0YSh0KTtpZihhLmlzRGF0YXNldFZpc2libGUodCkpZm9yKHZhciBuPTA7bjxlLmRhdGEubGVuZ3RoO24rKylpZihlLmRhdGFbbl0uaW5SYW5nZShpLngsaS55KSlyZXR1cm4gZS5kYXRhW25dfX0uY2FsbChhKTtyZXR1cm4gbz8oZS5lYWNoKGEuZGF0YS5kYXRhc2V0cyxmdW5jdGlvbih0LGUpe2lmKGEuaXNEYXRhc2V0VmlzaWJsZShlKSl7dmFyIGk9YS5nZXREYXRhc2V0TWV0YShlKSxyPWkuZGF0YVtvLl9pbmRleF07ciYmIXIuX3ZpZXcuc2tpcCYmbi5wdXNoKHIpfX0sYSksbik6bn0sZ2V0RWxlbWVudHNBdFhBeGlzOmZ1bmN0aW9uKHQpe3ZhciBhPXRoaXMsaT1lLmdldFJlbGF0aXZlUG9zaXRpb24odCxhLmNoYXJ0KSxuPVtdLG89ZnVuY3Rpb24oKXtpZihhLmRhdGEuZGF0YXNldHMpZm9yKHZhciB0PTA7dDxhLmRhdGEuZGF0YXNldHMubGVuZ3RoO3QrKyl7dmFyIGU9YS5nZXREYXRhc2V0TWV0YSh0KTtpZihhLmlzRGF0YXNldFZpc2libGUodCkpZm9yKHZhciBuPTA7bjxlLmRhdGEubGVuZ3RoO24rKylpZihlLmRhdGFbbl0uaW5MYWJlbFJhbmdlKGkueCxpLnkpKXJldHVybiBlLmRhdGFbbl19fS5jYWxsKGEpO3JldHVybiBvPyhlLmVhY2goYS5kYXRhLmRhdGFzZXRzLGZ1bmN0aW9uKHQsaSl7aWYoYS5pc0RhdGFzZXRWaXNpYmxlKGkpKXt2YXIgcj1hLmdldERhdGFzZXRNZXRhKGkpLGw9ZS5maW5kSW5kZXgoci5kYXRhLGZ1bmN0aW9uKHQpe3JldHVybiBvLl9tb2RlbC54PT09dC5fbW9kZWwueH0pOy0xPT09bHx8ci5kYXRhW2xdLl92aWV3LnNraXB8fG4ucHVzaChyLmRhdGFbbF0pfX0sYSksbik6bn0sZ2V0RWxlbWVudHNBdEV2ZW50Rm9yTW9kZTpmdW5jdGlvbih0LGUpe3ZhciBhPXRoaXM7c3dpdGNoKGUpe2Nhc2VcInNpbmdsZVwiOnJldHVybiBhLmdldEVsZW1lbnRBdEV2ZW50KHQpO2Nhc2VcImxhYmVsXCI6cmV0dXJuIGEuZ2V0RWxlbWVudHNBdEV2ZW50KHQpO2Nhc2VcImRhdGFzZXRcIjpyZXR1cm4gYS5nZXREYXRhc2V0QXRFdmVudCh0KTtjYXNlXCJ4LWF4aXNcIjpyZXR1cm4gYS5nZXRFbGVtZW50c0F0WEF4aXModCk7ZGVmYXVsdDpyZXR1cm4gdH19LGdldERhdGFzZXRBdEV2ZW50OmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0RWxlbWVudEF0RXZlbnQodCk7cmV0dXJuIGUubGVuZ3RoPjAmJihlPXRoaXMuZ2V0RGF0YXNldE1ldGEoZVswXS5fZGF0YXNldEluZGV4KS5kYXRhKSxlfSxnZXREYXRhc2V0TWV0YTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLGE9ZS5kYXRhLmRhdGFzZXRzW3RdO2EuX21ldGF8fChhLl9tZXRhPXt9KTt2YXIgaT1hLl9tZXRhW2UuaWRdO3JldHVybiBpfHwoaT1hLl9tZXRhW2UuaWRdPXt0eXBlOm51bGwsZGF0YTpbXSxkYXRhc2V0Om51bGwsY29udHJvbGxlcjpudWxsLGhpZGRlbjpudWxsLHhBeGlzSUQ6bnVsbCx5QXhpc0lEOm51bGx9KSxpfSxnZXRWaXNpYmxlRGF0YXNldENvdW50OmZ1bmN0aW9uKCl7Zm9yKHZhciB0PTAsZT0wLGE9dGhpcy5kYXRhLmRhdGFzZXRzLmxlbmd0aDthPmU7KytlKXRoaXMuaXNEYXRhc2V0VmlzaWJsZShlKSYmdCsrO3JldHVybiB0fSxpc0RhdGFzZXRWaXNpYmxlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0RGF0YXNldE1ldGEodCk7cmV0dXJuXCJib29sZWFuXCI9PXR5cGVvZiBlLmhpZGRlbj8hZS5oaWRkZW46IXRoaXMuZGF0YS5kYXRhc2V0c1t0XS5oaWRkZW47XG59LGdlbmVyYXRlTGVnZW5kOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3B0aW9ucy5sZWdlbmRDYWxsYmFjayh0aGlzKX0sZGVzdHJveTpmdW5jdGlvbigpe3ZhciBhPXRoaXM7YS5zdG9wKCksYS5jbGVhcigpLGUudW5iaW5kRXZlbnRzKGEsYS5ldmVudHMpLGUucmVtb3ZlUmVzaXplTGlzdGVuZXIoYS5jaGFydC5jYW52YXMucGFyZW50Tm9kZSk7dmFyIGk9YS5jaGFydC5jYW52YXM7aS53aWR0aD1hLmNoYXJ0LndpZHRoLGkuaGVpZ2h0PWEuY2hhcnQuaGVpZ2h0LHZvaWQgMCE9PWEuY2hhcnQub3JpZ2luYWxEZXZpY2VQaXhlbFJhdGlvJiZhLmNoYXJ0LmN0eC5zY2FsZSgxL2EuY2hhcnQub3JpZ2luYWxEZXZpY2VQaXhlbFJhdGlvLDEvYS5jaGFydC5vcmlnaW5hbERldmljZVBpeGVsUmF0aW8pLGkuc3R5bGUud2lkdGg9YS5jaGFydC5vcmlnaW5hbENhbnZhc1N0eWxlV2lkdGgsaS5zdHlsZS5oZWlnaHQ9YS5jaGFydC5vcmlnaW5hbENhbnZhc1N0eWxlSGVpZ2h0LHQucGx1Z2lucy5ub3RpZnkoXCJkZXN0cm95XCIsW2FdKSxkZWxldGUgdC5pbnN0YW5jZXNbYS5pZF19LHRvQmFzZTY0SW1hZ2U6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jaGFydC5jYW52YXMudG9EYXRhVVJMLmFwcGx5KHRoaXMuY2hhcnQuY2FudmFzLGFyZ3VtZW50cyl9LGluaXRUb29sVGlwOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztlLnRvb2x0aXA9bmV3IHQuVG9vbHRpcCh7X2NoYXJ0OmUuY2hhcnQsX2NoYXJ0SW5zdGFuY2U6ZSxfZGF0YTplLmRhdGEsX29wdGlvbnM6ZS5vcHRpb25zLnRvb2x0aXBzfSxlKX0sYmluZEV2ZW50czpmdW5jdGlvbigpe3ZhciB0PXRoaXM7ZS5iaW5kRXZlbnRzKHQsdC5vcHRpb25zLmV2ZW50cyxmdW5jdGlvbihlKXt0LmV2ZW50SGFuZGxlcihlKX0pfSx1cGRhdGVIb3ZlclN0eWxlOmZ1bmN0aW9uKHQsZSxhKXt2YXIgaSxuLG8scj1hP1wic2V0SG92ZXJTdHlsZVwiOlwicmVtb3ZlSG92ZXJTdHlsZVwiO3N3aXRjaChlKXtjYXNlXCJzaW5nbGVcIjp0PVt0WzBdXTticmVhaztjYXNlXCJsYWJlbFwiOmNhc2VcImRhdGFzZXRcIjpjYXNlXCJ4LWF4aXNcIjpicmVhaztkZWZhdWx0OnJldHVybn1mb3Iobj0wLG89dC5sZW5ndGg7bz5uOysrbilpPXRbbl0saSYmdGhpcy5nZXREYXRhc2V0TWV0YShpLl9kYXRhc2V0SW5kZXgpLmNvbnRyb2xsZXJbcl0oaSl9LGV2ZW50SGFuZGxlcjpmdW5jdGlvbih0KXt2YXIgYT10aGlzLGk9YS50b29sdGlwLG49YS5vcHRpb25zfHx7fSxvPW4uaG92ZXIscj1uLnRvb2x0aXBzO3JldHVybiBhLmxhc3RBY3RpdmU9YS5sYXN0QWN0aXZlfHxbXSxhLmxhc3RUb29sdGlwQWN0aXZlPWEubGFzdFRvb2x0aXBBY3RpdmV8fFtdLFwibW91c2VvdXRcIj09PXQudHlwZT8oYS5hY3RpdmU9W10sYS50b29sdGlwQWN0aXZlPVtdKTooYS5hY3RpdmU9YS5nZXRFbGVtZW50c0F0RXZlbnRGb3JNb2RlKHQsby5tb2RlKSxhLnRvb2x0aXBBY3RpdmU9YS5nZXRFbGVtZW50c0F0RXZlbnRGb3JNb2RlKHQsci5tb2RlKSksby5vbkhvdmVyJiZvLm9uSG92ZXIuY2FsbChhLGEuYWN0aXZlKSwoXCJtb3VzZXVwXCI9PT10LnR5cGV8fFwiY2xpY2tcIj09PXQudHlwZSkmJihuLm9uQ2xpY2smJm4ub25DbGljay5jYWxsKGEsdCxhLmFjdGl2ZSksYS5sZWdlbmQmJmEubGVnZW5kLmhhbmRsZUV2ZW50JiZhLmxlZ2VuZC5oYW5kbGVFdmVudCh0KSksYS5sYXN0QWN0aXZlLmxlbmd0aCYmYS51cGRhdGVIb3ZlclN0eWxlKGEubGFzdEFjdGl2ZSxvLm1vZGUsITEpLGEuYWN0aXZlLmxlbmd0aCYmby5tb2RlJiZhLnVwZGF0ZUhvdmVyU3R5bGUoYS5hY3RpdmUsby5tb2RlLCEwKSwoci5lbmFibGVkfHxyLmN1c3RvbSkmJihpLmluaXRpYWxpemUoKSxpLl9hY3RpdmU9YS50b29sdGlwQWN0aXZlLGkudXBkYXRlKCEwKSksaS5waXZvdCgpLGEuYW5pbWF0aW5nfHxlLmFycmF5RXF1YWxzKGEuYWN0aXZlLGEubGFzdEFjdGl2ZSkmJmUuYXJyYXlFcXVhbHMoYS50b29sdGlwQWN0aXZlLGEubGFzdFRvb2x0aXBBY3RpdmUpfHwoYS5zdG9wKCksKHIuZW5hYmxlZHx8ci5jdXN0b20pJiZpLnVwZGF0ZSghMCksYS5yZW5kZXIoby5hbmltYXRpb25EdXJhdGlvbiwhMCkpLGEubGFzdEFjdGl2ZT1hLmFjdGl2ZSxhLmxhc3RUb29sdGlwQWN0aXZlPWEudG9vbHRpcEFjdGl2ZSxhfX0pfX0se31dLDI0OltmdW5jdGlvbih0LGUsYSl7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPWZ1bmN0aW9uKHQpe3ZhciBlPXQuaGVscGVycyxhPWUubm9vcDt0LkRhdGFzZXRDb250cm9sbGVyPWZ1bmN0aW9uKHQsZSl7dGhpcy5pbml0aWFsaXplLmNhbGwodGhpcyx0LGUpfSxlLmV4dGVuZCh0LkRhdGFzZXRDb250cm9sbGVyLnByb3RvdHlwZSx7ZGF0YXNldEVsZW1lbnRUeXBlOm51bGwsZGF0YUVsZW1lbnRUeXBlOm51bGwsaW5pdGlhbGl6ZTpmdW5jdGlvbih0LGUpe3ZhciBhPXRoaXM7YS5jaGFydD10LGEuaW5kZXg9ZSxhLmxpbmtTY2FsZXMoKSxhLmFkZEVsZW1lbnRzKCl9LHVwZGF0ZUluZGV4OmZ1bmN0aW9uKHQpe3RoaXMuaW5kZXg9dH0sbGlua1NjYWxlczpmdW5jdGlvbigpe3ZhciB0PXRoaXMsZT10LmdldE1ldGEoKSxhPXQuZ2V0RGF0YXNldCgpO251bGw9PT1lLnhBeGlzSUQmJihlLnhBeGlzSUQ9YS54QXhpc0lEfHx0LmNoYXJ0Lm9wdGlvbnMuc2NhbGVzLnhBeGVzWzBdLmlkKSxudWxsPT09ZS55QXhpc0lEJiYoZS55QXhpc0lEPWEueUF4aXNJRHx8dC5jaGFydC5vcHRpb25zLnNjYWxlcy55QXhlc1swXS5pZCl9LGdldERhdGFzZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jaGFydC5kYXRhLmRhdGFzZXRzW3RoaXMuaW5kZXhdfSxnZXRNZXRhOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2hhcnQuZ2V0RGF0YXNldE1ldGEodGhpcy5pbmRleCl9LGdldFNjYWxlRm9ySWQ6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY2hhcnQuc2NhbGVzW3RdfSxyZXNldDpmdW5jdGlvbigpe3RoaXMudXBkYXRlKCEwKX0sY3JlYXRlTWV0YURhdGFzZXQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9dC5kYXRhc2V0RWxlbWVudFR5cGU7cmV0dXJuIGUmJm5ldyBlKHtfY2hhcnQ6dC5jaGFydC5jaGFydCxfZGF0YXNldEluZGV4OnQuaW5kZXh9KX0sY3JlYXRlTWV0YURhdGE6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxhPWUuZGF0YUVsZW1lbnRUeXBlO3JldHVybiBhJiZuZXcgYSh7X2NoYXJ0OmUuY2hhcnQuY2hhcnQsX2RhdGFzZXRJbmRleDplLmluZGV4LF9pbmRleDp0fSl9LGFkZEVsZW1lbnRzOmZ1bmN0aW9uKCl7dmFyIHQsZSxhPXRoaXMsaT1hLmdldE1ldGEoKSxuPWEuZ2V0RGF0YXNldCgpLmRhdGF8fFtdLG89aS5kYXRhO2Zvcih0PTAsZT1uLmxlbmd0aDtlPnQ7Kyt0KW9bdF09b1t0XXx8YS5jcmVhdGVNZXRhRGF0YShpLHQpO2kuZGF0YXNldD1pLmRhdGFzZXR8fGEuY3JlYXRlTWV0YURhdGFzZXQoKX0sYWRkRWxlbWVudEFuZFJlc2V0OmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsYT1lLmNyZWF0ZU1ldGFEYXRhKHQpO2UuZ2V0TWV0YSgpLmRhdGEuc3BsaWNlKHQsMCxhKSxlLnVwZGF0ZUVsZW1lbnQoYSx0LCEwKX0sYnVpbGRPclVwZGF0ZUVsZW1lbnRzOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZXRNZXRhKCksZT10LmRhdGEsYT10aGlzLmdldERhdGFzZXQoKS5kYXRhLmxlbmd0aCxpPWUubGVuZ3RoO2lmKGk+YSllLnNwbGljZShhLGktYSk7ZWxzZSBpZihhPmkpZm9yKHZhciBuPWk7YT5uOysrbil0aGlzLmFkZEVsZW1lbnRBbmRSZXNldChuKX0sdXBkYXRlOmEsZHJhdzpmdW5jdGlvbih0KXt2YXIgYT10fHwxO2UuZWFjaCh0aGlzLmdldE1ldGEoKS5kYXRhLGZ1bmN0aW9uKHQpe3QudHJhbnNpdGlvbihhKS5kcmF3KCl9KX0scmVtb3ZlSG92ZXJTdHlsZTpmdW5jdGlvbih0LGEpe3ZhciBpPXRoaXMuY2hhcnQuZGF0YS5kYXRhc2V0c1t0Ll9kYXRhc2V0SW5kZXhdLG49dC5faW5kZXgsbz10LmN1c3RvbXx8e30scj1lLmdldFZhbHVlQXRJbmRleE9yRGVmYXVsdCxsPXQuX21vZGVsO2wuYmFja2dyb3VuZENvbG9yPW8uYmFja2dyb3VuZENvbG9yP28uYmFja2dyb3VuZENvbG9yOnIoaS5iYWNrZ3JvdW5kQ29sb3IsbixhLmJhY2tncm91bmRDb2xvciksbC5ib3JkZXJDb2xvcj1vLmJvcmRlckNvbG9yP28uYm9yZGVyQ29sb3I6cihpLmJvcmRlckNvbG9yLG4sYS5ib3JkZXJDb2xvciksbC5ib3JkZXJXaWR0aD1vLmJvcmRlcldpZHRoP28uYm9yZGVyV2lkdGg6cihpLmJvcmRlcldpZHRoLG4sYS5ib3JkZXJXaWR0aCl9LHNldEhvdmVyU3R5bGU6ZnVuY3Rpb24odCl7dmFyIGE9dGhpcy5jaGFydC5kYXRhLmRhdGFzZXRzW3QuX2RhdGFzZXRJbmRleF0saT10Ll9pbmRleCxuPXQuY3VzdG9tfHx7fSxvPWUuZ2V0VmFsdWVBdEluZGV4T3JEZWZhdWx0LHI9ZS5nZXRIb3ZlckNvbG9yLGw9dC5fbW9kZWw7bC5iYWNrZ3JvdW5kQ29sb3I9bi5ob3ZlckJhY2tncm91bmRDb2xvcj9uLmhvdmVyQmFja2dyb3VuZENvbG9yOm8oYS5ob3ZlckJhY2tncm91bmRDb2xvcixpLHIobC5iYWNrZ3JvdW5kQ29sb3IpKSxsLmJvcmRlckNvbG9yPW4uaG92ZXJCb3JkZXJDb2xvcj9uLmhvdmVyQm9yZGVyQ29sb3I6byhhLmhvdmVyQm9yZGVyQ29sb3IsaSxyKGwuYm9yZGVyQ29sb3IpKSxsLmJvcmRlcldpZHRoPW4uaG92ZXJCb3JkZXJXaWR0aD9uLmhvdmVyQm9yZGVyV2lkdGg6byhhLmhvdmVyQm9yZGVyV2lkdGgsaSxsLmJvcmRlcldpZHRoKX19KSx0LkRhdGFzZXRDb250cm9sbGVyLmV4dGVuZD1lLmluaGVyaXRzfX0se31dLDI1OltmdW5jdGlvbih0LGUsYSl7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPWZ1bmN0aW9uKHQpe3ZhciBlPXQuaGVscGVyczt0LmVsZW1lbnRzPXt9LHQuRWxlbWVudD1mdW5jdGlvbih0KXtlLmV4dGVuZCh0aGlzLHQpLHRoaXMuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGUuZXh0ZW5kKHQuRWxlbWVudC5wcm90b3R5cGUse2luaXRpYWxpemU6ZnVuY3Rpb24oKXt0aGlzLmhpZGRlbj0hMX0scGl2b3Q6ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3JldHVybiB0Ll92aWV3fHwodC5fdmlldz1lLmNsb25lKHQuX21vZGVsKSksdC5fc3RhcnQ9ZS5jbG9uZSh0Ll92aWV3KSx0fSx0cmFuc2l0aW9uOmZ1bmN0aW9uKHQpe3ZhciBhPXRoaXM7cmV0dXJuIGEuX3ZpZXd8fChhLl92aWV3PWUuY2xvbmUoYS5fbW9kZWwpKSwxPT09dD8oYS5fdmlldz1hLl9tb2RlbCxhLl9zdGFydD1udWxsLGEpOihhLl9zdGFydHx8YS5waXZvdCgpLGUuZWFjaChhLl9tb2RlbCxmdW5jdGlvbihpLG4pe2lmKFwiX1wiPT09blswXSk7ZWxzZSBpZihhLl92aWV3Lmhhc093blByb3BlcnR5KG4pKWlmKGk9PT1hLl92aWV3W25dKTtlbHNlIGlmKFwic3RyaW5nXCI9PXR5cGVvZiBpKXRyeXt2YXIgbz1lLmNvbG9yKGEuX21vZGVsW25dKS5taXgoZS5jb2xvcihhLl9zdGFydFtuXSksdCk7YS5fdmlld1tuXT1vLnJnYlN0cmluZygpfWNhdGNoKHIpe2EuX3ZpZXdbbl09aX1lbHNlIGlmKFwibnVtYmVyXCI9PXR5cGVvZiBpKXt2YXIgbD12b2lkIDAhPT1hLl9zdGFydFtuXSYmaXNOYU4oYS5fc3RhcnRbbl0pPT09ITE/YS5fc3RhcnRbbl06MDthLl92aWV3W25dPShhLl9tb2RlbFtuXS1sKSp0K2x9ZWxzZSBhLl92aWV3W25dPWk7ZWxzZVwibnVtYmVyXCIhPXR5cGVvZiBpfHxpc05hTihhLl92aWV3W25dKT9hLl92aWV3W25dPWk6YS5fdmlld1tuXT1pKnR9LGEpLGEpfSx0b29sdGlwUG9zaXRpb246ZnVuY3Rpb24oKXtyZXR1cm57eDp0aGlzLl9tb2RlbC54LHk6dGhpcy5fbW9kZWwueX19LGhhc1ZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIGUuaXNOdW1iZXIodGhpcy5fbW9kZWwueCkmJmUuaXNOdW1iZXIodGhpcy5fbW9kZWwueSl9fSksdC5FbGVtZW50LmV4dGVuZD1lLmluaGVyaXRzfX0se31dLDI2OltmdW5jdGlvbih0LGUsYSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9dCgzKTtlLmV4cG9ydHM9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSh0LGUsYSl7dmFyIGk7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIHQ/KGk9cGFyc2VJbnQodCwxMCksLTEhPXQuaW5kZXhPZihcIiVcIikmJihpPWkvMTAwKmUucGFyZW50Tm9kZVthXSkpOmk9dCxpfWZ1bmN0aW9uIGEodCl7cmV0dXJuIHZvaWQgMCE9PXQmJm51bGwhPT10JiZcIm5vbmVcIiE9PXR9ZnVuY3Rpb24gbih0LGksbil7dmFyIG89ZG9jdW1lbnQuZGVmYXVsdFZpZXcscj10LnBhcmVudE5vZGUsbD1vLmdldENvbXB1dGVkU3R5bGUodClbaV0scz1vLmdldENvbXB1dGVkU3R5bGUocilbaV0sZD1hKGwpLHU9YShzKSxjPU51bWJlci5QT1NJVElWRV9JTkZJTklUWTtyZXR1cm4gZHx8dT9NYXRoLm1pbihkP2UobCx0LG4pOmMsdT9lKHMscixuKTpjKTpcIm5vbmVcIn12YXIgbz10LmhlbHBlcnM9e307by5lYWNoPWZ1bmN0aW9uKHQsZSxhLGkpe3ZhciBuLHI7aWYoby5pc0FycmF5KHQpKWlmKHI9dC5sZW5ndGgsaSlmb3Iobj1yLTE7bj49MDtuLS0pZS5jYWxsKGEsdFtuXSxuKTtlbHNlIGZvcihuPTA7cj5uO24rKyllLmNhbGwoYSx0W25dLG4pO2Vsc2UgaWYoXCJvYmplY3RcIj09dHlwZW9mIHQpe3ZhciBsPU9iamVjdC5rZXlzKHQpO2ZvcihyPWwubGVuZ3RoLG49MDtyPm47bisrKWUuY2FsbChhLHRbbFtuXV0sbFtuXSl9fSxvLmNsb25lPWZ1bmN0aW9uKHQpe3ZhciBlPXt9O3JldHVybiBvLmVhY2godCxmdW5jdGlvbih0LGEpe28uaXNBcnJheSh0KT9lW2FdPXQuc2xpY2UoMCk6XCJvYmplY3RcIj09dHlwZW9mIHQmJm51bGwhPT10P2VbYV09by5jbG9uZSh0KTplW2FdPXR9KSxlfSxvLmV4dGVuZD1mdW5jdGlvbih0KXtmb3IodmFyIGU9ZnVuY3Rpb24oZSxhKXt0W2FdPWV9LGE9MSxpPWFyZ3VtZW50cy5sZW5ndGg7aT5hO2ErKylvLmVhY2goYXJndW1lbnRzW2FdLGUpO3JldHVybiB0fSxvLmNvbmZpZ01lcmdlPWZ1bmN0aW9uKGUpe3ZhciBhPW8uY2xvbmUoZSk7cmV0dXJuIG8uZWFjaChBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSksZnVuY3Rpb24oZSl7by5lYWNoKGUsZnVuY3Rpb24oZSxpKXtpZihcInNjYWxlc1wiPT09aSlhW2ldPW8uc2NhbGVNZXJnZShhLmhhc093blByb3BlcnR5KGkpP2FbaV06e30sZSk7ZWxzZSBpZihcInNjYWxlXCI9PT1pKWFbaV09by5jb25maWdNZXJnZShhLmhhc093blByb3BlcnR5KGkpP2FbaV06e30sdC5zY2FsZVNlcnZpY2UuZ2V0U2NhbGVEZWZhdWx0cyhlLnR5cGUpLGUpO2Vsc2UgaWYoYS5oYXNPd25Qcm9wZXJ0eShpKSYmby5pc0FycmF5KGFbaV0pJiZvLmlzQXJyYXkoZSkpe3ZhciBuPWFbaV07by5lYWNoKGUsZnVuY3Rpb24odCxlKXtlPG4ubGVuZ3RoP1wib2JqZWN0XCI9PXR5cGVvZiBuW2VdJiZudWxsIT09bltlXSYmXCJvYmplY3RcIj09dHlwZW9mIHQmJm51bGwhPT10P25bZV09by5jb25maWdNZXJnZShuW2VdLHQpOm5bZV09dDpuLnB1c2godCl9KX1lbHNlIGEuaGFzT3duUHJvcGVydHkoaSkmJlwib2JqZWN0XCI9PXR5cGVvZiBhW2ldJiZudWxsIT09YVtpXSYmXCJvYmplY3RcIj09dHlwZW9mIGU/YVtpXT1vLmNvbmZpZ01lcmdlKGFbaV0sZSk6YVtpXT1lfSl9KSxhfSxvLnNjYWxlTWVyZ2U9ZnVuY3Rpb24oZSxhKXt2YXIgaT1vLmNsb25lKGUpO3JldHVybiBvLmVhY2goYSxmdW5jdGlvbihlLGEpe1wieEF4ZXNcIj09PWF8fFwieUF4ZXNcIj09PWE/aS5oYXNPd25Qcm9wZXJ0eShhKT9vLmVhY2goZSxmdW5jdGlvbihlLG4pe3ZhciByPW8uZ2V0VmFsdWVPckRlZmF1bHQoZS50eXBlLFwieEF4ZXNcIj09PWE/XCJjYXRlZ29yeVwiOlwibGluZWFyXCIpLGw9dC5zY2FsZVNlcnZpY2UuZ2V0U2NhbGVEZWZhdWx0cyhyKTtuPj1pW2FdLmxlbmd0aHx8IWlbYV1bbl0udHlwZT9pW2FdLnB1c2goby5jb25maWdNZXJnZShsLGUpKTplLnR5cGUmJmUudHlwZSE9PWlbYV1bbl0udHlwZT9pW2FdW25dPW8uY29uZmlnTWVyZ2UoaVthXVtuXSxsLGUpOmlbYV1bbl09by5jb25maWdNZXJnZShpW2FdW25dLGUpfSk6KGlbYV09W10sby5lYWNoKGUsZnVuY3Rpb24oZSl7dmFyIG49by5nZXRWYWx1ZU9yRGVmYXVsdChlLnR5cGUsXCJ4QXhlc1wiPT09YT9cImNhdGVnb3J5XCI6XCJsaW5lYXJcIik7aVthXS5wdXNoKG8uY29uZmlnTWVyZ2UodC5zY2FsZVNlcnZpY2UuZ2V0U2NhbGVEZWZhdWx0cyhuKSxlKSl9KSk6aS5oYXNPd25Qcm9wZXJ0eShhKSYmXCJvYmplY3RcIj09dHlwZW9mIGlbYV0mJm51bGwhPT1pW2FdJiZcIm9iamVjdFwiPT10eXBlb2YgZT9pW2FdPW8uY29uZmlnTWVyZ2UoaVthXSxlKTppW2FdPWV9KSxpfSxvLmdldFZhbHVlQXRJbmRleE9yRGVmYXVsdD1mdW5jdGlvbih0LGUsYSl7cmV0dXJuIHZvaWQgMD09PXR8fG51bGw9PT10P2E6by5pc0FycmF5KHQpP2U8dC5sZW5ndGg/dFtlXTphOnR9LG8uZ2V0VmFsdWVPckRlZmF1bHQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdm9pZCAwPT09dD9lOnR9LG8uaW5kZXhPZj1BcnJheS5wcm90b3R5cGUuaW5kZXhPZj9mdW5jdGlvbih0LGUpe3JldHVybiB0LmluZGV4T2YoZSl9OmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBhPTAsaT10Lmxlbmd0aDtpPmE7KythKWlmKHRbYV09PT1lKXJldHVybiBhO3JldHVybi0xfSxvLndoZXJlPWZ1bmN0aW9uKHQsZSl7aWYoby5pc0FycmF5KHQpJiZBcnJheS5wcm90b3R5cGUuZmlsdGVyKXJldHVybiB0LmZpbHRlcihlKTt2YXIgYT1bXTtyZXR1cm4gby5lYWNoKHQsZnVuY3Rpb24odCl7ZSh0KSYmYS5wdXNoKHQpfSksYX0sby5maW5kSW5kZXg9QXJyYXkucHJvdG90eXBlLmZpbmRJbmRleD9mdW5jdGlvbih0LGUsYSl7cmV0dXJuIHQuZmluZEluZGV4KGUsYSl9OmZ1bmN0aW9uKHQsZSxhKXthPXZvaWQgMD09PWE/dDphO2Zvcih2YXIgaT0wLG49dC5sZW5ndGg7bj5pOysraSlpZihlLmNhbGwoYSx0W2ldLGksdCkpcmV0dXJuIGk7cmV0dXJuLTF9LG8uZmluZE5leHRXaGVyZT1mdW5jdGlvbih0LGUsYSl7KHZvaWQgMD09PWF8fG51bGw9PT1hKSYmKGE9LTEpO2Zvcih2YXIgaT1hKzE7aTx0Lmxlbmd0aDtpKyspe3ZhciBuPXRbaV07aWYoZShuKSlyZXR1cm4gbn19LG8uZmluZFByZXZpb3VzV2hlcmU9ZnVuY3Rpb24odCxlLGEpeyh2b2lkIDA9PT1hfHxudWxsPT09YSkmJihhPXQubGVuZ3RoKTtmb3IodmFyIGk9YS0xO2k+PTA7aS0tKXt2YXIgbj10W2ldO2lmKGUobikpcmV0dXJuIG59fSxvLmluaGVyaXRzPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsYT10JiZ0Lmhhc093blByb3BlcnR5KFwiY29uc3RydWN0b3JcIik/dC5jb25zdHJ1Y3RvcjpmdW5jdGlvbigpe3JldHVybiBlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0saT1mdW5jdGlvbigpe3RoaXMuY29uc3RydWN0b3I9YX07cmV0dXJuIGkucHJvdG90eXBlPWUucHJvdG90eXBlLGEucHJvdG90eXBlPW5ldyBpLGEuZXh0ZW5kPW8uaW5oZXJpdHMsdCYmby5leHRlbmQoYS5wcm90b3R5cGUsdCksYS5fX3N1cGVyX189ZS5wcm90b3R5cGUsYX0sby5ub29wPWZ1bmN0aW9uKCl7fSxvLnVpZD1mdW5jdGlvbigpe3ZhciB0PTA7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHQrK319KCksby5pc051bWJlcj1mdW5jdGlvbih0KXtyZXR1cm4haXNOYU4ocGFyc2VGbG9hdCh0KSkmJmlzRmluaXRlKHQpfSxvLmFsbW9zdEVxdWFscz1mdW5jdGlvbih0LGUsYSl7cmV0dXJuIE1hdGguYWJzKHQtZSk8YX0sby5tYXg9ZnVuY3Rpb24odCl7cmV0dXJuIHQucmVkdWNlKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGlzTmFOKGUpP3Q6TWF0aC5tYXgodCxlKX0sTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZKX0sby5taW49ZnVuY3Rpb24odCl7cmV0dXJuIHQucmVkdWNlKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGlzTmFOKGUpP3Q6TWF0aC5taW4odCxlKX0sTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZKX0sby5zaWduPU1hdGguc2lnbj9mdW5jdGlvbih0KXtyZXR1cm4gTWF0aC5zaWduKHQpfTpmdW5jdGlvbih0KXtyZXR1cm4gdD0rdCwwPT09dHx8aXNOYU4odCk/dDp0PjA/MTotMX0sby5sb2cxMD1NYXRoLmxvZzEwP2Z1bmN0aW9uKHQpe3JldHVybiBNYXRoLmxvZzEwKHQpfTpmdW5jdGlvbih0KXtyZXR1cm4gTWF0aC5sb2codCkvTWF0aC5MTjEwfSxvLnRvUmFkaWFucz1mdW5jdGlvbih0KXtyZXR1cm4gdCooTWF0aC5QSS8xODApfSxvLnRvRGVncmVlcz1mdW5jdGlvbih0KXtyZXR1cm4gdCooMTgwL01hdGguUEkpfSxvLmdldEFuZ2xlRnJvbVBvaW50PWZ1bmN0aW9uKHQsZSl7dmFyIGE9ZS54LXQueCxpPWUueS10Lnksbj1NYXRoLnNxcnQoYSphK2kqaSksbz1NYXRoLmF0YW4yKGksYSk7cmV0dXJuIG88LS41Kk1hdGguUEkmJihvKz0yKk1hdGguUEkpLHthbmdsZTpvLGRpc3RhbmNlOm59fSxvLmFsaWFzUGl4ZWw9ZnVuY3Rpb24odCl7cmV0dXJuIHQlMj09PTA/MDouNX0sby5zcGxpbmVDdXJ2ZT1mdW5jdGlvbih0LGUsYSxpKXt2YXIgbj10LnNraXA/ZTp0LG89ZSxyPWEuc2tpcD9lOmEsbD1NYXRoLnNxcnQoTWF0aC5wb3coby54LW4ueCwyKStNYXRoLnBvdyhvLnktbi55LDIpKSxzPU1hdGguc3FydChNYXRoLnBvdyhyLngtby54LDIpK01hdGgucG93KHIueS1vLnksMikpLGQ9bC8obCtzKSx1PXMvKGwrcyk7ZD1pc05hTihkKT8wOmQsdT1pc05hTih1KT8wOnU7dmFyIGM9aSpkLGg9aSp1O3JldHVybntwcmV2aW91czp7eDpvLngtYyooci54LW4ueCkseTpvLnktYyooci55LW4ueSl9LG5leHQ6e3g6by54K2gqKHIueC1uLngpLHk6by55K2gqKHIueS1uLnkpfX19LG8ubmV4dEl0ZW09ZnVuY3Rpb24odCxlLGEpe3JldHVybiBhP2U+PXQubGVuZ3RoLTE/dFswXTp0W2UrMV06ZT49dC5sZW5ndGgtMT90W3QubGVuZ3RoLTFdOnRbZSsxXX0sby5wcmV2aW91c0l0ZW09ZnVuY3Rpb24odCxlLGEpe3JldHVybiBhPzA+PWU/dFt0Lmxlbmd0aC0xXTp0W2UtMV06MD49ZT90WzBdOnRbZS0xXX0sby5uaWNlTnVtPWZ1bmN0aW9uKHQsZSl7dmFyIGEsaT1NYXRoLmZsb29yKG8ubG9nMTAodCkpLG49dC9NYXRoLnBvdygxMCxpKTtyZXR1cm4gYT1lPzEuNT5uPzE6Mz5uPzI6Nz5uPzU6MTA6MT49bj8xOjI+PW4/Mjo1Pj1uPzU6MTAsYSpNYXRoLnBvdygxMCxpKX07dmFyIHI9by5lYXNpbmdFZmZlY3RzPXtsaW5lYXI6ZnVuY3Rpb24odCl7cmV0dXJuIHR9LGVhc2VJblF1YWQ6ZnVuY3Rpb24odCl7cmV0dXJuIHQqdH0sZWFzZU91dFF1YWQ6ZnVuY3Rpb24odCl7cmV0dXJuLTEqdCoodC0yKX0sZWFzZUluT3V0UXVhZDpmdW5jdGlvbih0KXtyZXR1cm4odC89LjUpPDE/LjUqdCp0Oi0wLjUqKC0tdCoodC0yKS0xKX0sZWFzZUluQ3ViaWM6ZnVuY3Rpb24odCl7cmV0dXJuIHQqdCp0fSxlYXNlT3V0Q3ViaWM6ZnVuY3Rpb24odCl7cmV0dXJuIDEqKCh0PXQvMS0xKSp0KnQrMSl9LGVhc2VJbk91dEN1YmljOmZ1bmN0aW9uKHQpe3JldHVybih0Lz0uNSk8MT8uNSp0KnQqdDouNSooKHQtPTIpKnQqdCsyKX0sZWFzZUluUXVhcnQ6ZnVuY3Rpb24odCl7cmV0dXJuIHQqdCp0KnR9LGVhc2VPdXRRdWFydDpmdW5jdGlvbih0KXtyZXR1cm4tMSooKHQ9dC8xLTEpKnQqdCp0LTEpfSxlYXNlSW5PdXRRdWFydDpmdW5jdGlvbih0KXtyZXR1cm4odC89LjUpPDE/LjUqdCp0KnQqdDotMC41KigodC09MikqdCp0KnQtMil9LGVhc2VJblF1aW50OmZ1bmN0aW9uKHQpe3JldHVybiAxKih0Lz0xKSp0KnQqdCp0fSxlYXNlT3V0UXVpbnQ6ZnVuY3Rpb24odCl7cmV0dXJuIDEqKCh0PXQvMS0xKSp0KnQqdCp0KzEpfSxlYXNlSW5PdXRRdWludDpmdW5jdGlvbih0KXtyZXR1cm4odC89LjUpPDE/LjUqdCp0KnQqdCp0Oi41KigodC09MikqdCp0KnQqdCsyKX0sZWFzZUluU2luZTpmdW5jdGlvbih0KXtyZXR1cm4tMSpNYXRoLmNvcyh0LzEqKE1hdGguUEkvMikpKzF9LGVhc2VPdXRTaW5lOmZ1bmN0aW9uKHQpe3JldHVybiAxKk1hdGguc2luKHQvMSooTWF0aC5QSS8yKSl9LGVhc2VJbk91dFNpbmU6ZnVuY3Rpb24odCl7cmV0dXJuLTAuNSooTWF0aC5jb3MoTWF0aC5QSSp0LzEpLTEpfSxlYXNlSW5FeHBvOmZ1bmN0aW9uKHQpe3JldHVybiAwPT09dD8xOjEqTWF0aC5wb3coMiwxMCoodC8xLTEpKX0sZWFzZU91dEV4cG86ZnVuY3Rpb24odCl7cmV0dXJuIDE9PT10PzE6MSooLU1hdGgucG93KDIsLTEwKnQvMSkrMSl9LGVhc2VJbk91dEV4cG86ZnVuY3Rpb24odCl7cmV0dXJuIDA9PT10PzA6MT09PXQ/MToodC89LjUpPDE/LjUqTWF0aC5wb3coMiwxMCoodC0xKSk6LjUqKC1NYXRoLnBvdygyLC0xMCotLXQpKzIpfSxlYXNlSW5DaXJjOmZ1bmN0aW9uKHQpe3JldHVybiB0Pj0xP3Q6LTEqKE1hdGguc3FydCgxLSh0Lz0xKSp0KS0xKX0sZWFzZU91dENpcmM6ZnVuY3Rpb24odCl7cmV0dXJuIDEqTWF0aC5zcXJ0KDEtKHQ9dC8xLTEpKnQpfSxlYXNlSW5PdXRDaXJjOmZ1bmN0aW9uKHQpe3JldHVybih0Lz0uNSk8MT8tMC41KihNYXRoLnNxcnQoMS10KnQpLTEpOi41KihNYXRoLnNxcnQoMS0odC09MikqdCkrMSl9LGVhc2VJbkVsYXN0aWM6ZnVuY3Rpb24odCl7dmFyIGU9MS43MDE1OCxhPTAsaT0xO3JldHVybiAwPT09dD8wOjE9PT0odC89MSk/MTooYXx8KGE9LjMpLGk8TWF0aC5hYnMoMSk/KGk9MSxlPWEvNCk6ZT1hLygyKk1hdGguUEkpKk1hdGguYXNpbigxL2kpLC0oaSpNYXRoLnBvdygyLDEwKih0LT0xKSkqTWF0aC5zaW4oKDEqdC1lKSooMipNYXRoLlBJKS9hKSkpfSxlYXNlT3V0RWxhc3RpYzpmdW5jdGlvbih0KXt2YXIgZT0xLjcwMTU4LGE9MCxpPTE7cmV0dXJuIDA9PT10PzA6MT09PSh0Lz0xKT8xOihhfHwoYT0uMyksaTxNYXRoLmFicygxKT8oaT0xLGU9YS80KTplPWEvKDIqTWF0aC5QSSkqTWF0aC5hc2luKDEvaSksaSpNYXRoLnBvdygyLC0xMCp0KSpNYXRoLnNpbigoMSp0LWUpKigyKk1hdGguUEkpL2EpKzEpfSxlYXNlSW5PdXRFbGFzdGljOmZ1bmN0aW9uKHQpe3ZhciBlPTEuNzAxNTgsYT0wLGk9MTtyZXR1cm4gMD09PXQ/MDoyPT09KHQvPS41KT8xOihhfHwoYT0xKiguMyoxLjUpKSxpPE1hdGguYWJzKDEpPyhpPTEsZT1hLzQpOmU9YS8oMipNYXRoLlBJKSpNYXRoLmFzaW4oMS9pKSwxPnQ/LS41KihpKk1hdGgucG93KDIsMTAqKHQtPTEpKSpNYXRoLnNpbigoMSp0LWUpKigyKk1hdGguUEkpL2EpKTppKk1hdGgucG93KDIsLTEwKih0LT0xKSkqTWF0aC5zaW4oKDEqdC1lKSooMipNYXRoLlBJKS9hKSouNSsxKX0sZWFzZUluQmFjazpmdW5jdGlvbih0KXt2YXIgZT0xLjcwMTU4O3JldHVybiAxKih0Lz0xKSp0KigoZSsxKSp0LWUpfSxlYXNlT3V0QmFjazpmdW5jdGlvbih0KXt2YXIgZT0xLjcwMTU4O3JldHVybiAxKigodD10LzEtMSkqdCooKGUrMSkqdCtlKSsxKX0sZWFzZUluT3V0QmFjazpmdW5jdGlvbih0KXt2YXIgZT0xLjcwMTU4O3JldHVybih0Lz0uNSk8MT8uNSoodCp0KigoKGUqPTEuNTI1KSsxKSp0LWUpKTouNSooKHQtPTIpKnQqKCgoZSo9MS41MjUpKzEpKnQrZSkrMil9LGVhc2VJbkJvdW5jZTpmdW5jdGlvbih0KXtyZXR1cm4gMS1yLmVhc2VPdXRCb3VuY2UoMS10KX0sZWFzZU91dEJvdW5jZTpmdW5jdGlvbih0KXtyZXR1cm4odC89MSk8MS8yLjc1PzEqKDcuNTYyNSp0KnQpOjIvMi43NT50PzEqKDcuNTYyNSoodC09MS41LzIuNzUpKnQrLjc1KToyLjUvMi43NT50PzEqKDcuNTYyNSoodC09Mi4yNS8yLjc1KSp0Ky45Mzc1KToxKig3LjU2MjUqKHQtPTIuNjI1LzIuNzUpKnQrLjk4NDM3NSl9LGVhc2VJbk91dEJvdW5jZTpmdW5jdGlvbih0KXtyZXR1cm4uNT50Py41KnIuZWFzZUluQm91bmNlKDIqdCk6LjUqci5lYXNlT3V0Qm91bmNlKDIqdC0xKSsuNX19O28ucmVxdWVzdEFuaW1GcmFtZT1mdW5jdGlvbigpe3JldHVybiB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lfHx3aW5kb3cud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lfHx3aW5kb3cubW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lfHx3aW5kb3cub1JlcXVlc3RBbmltYXRpb25GcmFtZXx8d2luZG93Lm1zUmVxdWVzdEFuaW1hdGlvbkZyYW1lfHxmdW5jdGlvbih0KXtyZXR1cm4gd2luZG93LnNldFRpbWVvdXQodCwxZTMvNjApfX0oKSxvLmNhbmNlbEFuaW1GcmFtZT1mdW5jdGlvbigpe3JldHVybiB3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWV8fHdpbmRvdy53ZWJraXRDYW5jZWxBbmltYXRpb25GcmFtZXx8d2luZG93Lm1vekNhbmNlbEFuaW1hdGlvbkZyYW1lfHx3aW5kb3cub0NhbmNlbEFuaW1hdGlvbkZyYW1lfHx3aW5kb3cubXNDYW5jZWxBbmltYXRpb25GcmFtZXx8ZnVuY3Rpb24odCl7cmV0dXJuIHdpbmRvdy5jbGVhclRpbWVvdXQodCwxZTMvNjApfX0oKSxvLmdldFJlbGF0aXZlUG9zaXRpb249ZnVuY3Rpb24odCxlKXt2YXIgYSxpLG49dC5vcmlnaW5hbEV2ZW50fHx0LHI9dC5jdXJyZW50VGFyZ2V0fHx0LnNyY0VsZW1lbnQsbD1yLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLHM9bi50b3VjaGVzO3MmJnMubGVuZ3RoPjA/KGE9c1swXS5jbGllbnRYLGk9c1swXS5jbGllbnRZKTooYT1uLmNsaWVudFgsaT1uLmNsaWVudFkpO3ZhciBkPXBhcnNlRmxvYXQoby5nZXRTdHlsZShyLFwicGFkZGluZy1sZWZ0XCIpKSx1PXBhcnNlRmxvYXQoby5nZXRTdHlsZShyLFwicGFkZGluZy10b3BcIikpLGM9cGFyc2VGbG9hdChvLmdldFN0eWxlKHIsXCJwYWRkaW5nLXJpZ2h0XCIpKSxoPXBhcnNlRmxvYXQoby5nZXRTdHlsZShyLFwicGFkZGluZy1ib3R0b21cIikpLGY9bC5yaWdodC1sLmxlZnQtZC1jLGc9bC5ib3R0b20tbC50b3AtdS1oO3JldHVybiBhPU1hdGgucm91bmQoKGEtbC5sZWZ0LWQpL2Yqci53aWR0aC9lLmN1cnJlbnREZXZpY2VQaXhlbFJhdGlvKSxpPU1hdGgucm91bmQoKGktbC50b3AtdSkvZypyLmhlaWdodC9lLmN1cnJlbnREZXZpY2VQaXhlbFJhdGlvKSx7eDphLHk6aX19LG8uYWRkRXZlbnQ9ZnVuY3Rpb24odCxlLGEpe3QuYWRkRXZlbnRMaXN0ZW5lcj90LmFkZEV2ZW50TGlzdGVuZXIoZSxhKTp0LmF0dGFjaEV2ZW50P3QuYXR0YWNoRXZlbnQoXCJvblwiK2UsYSk6dFtcIm9uXCIrZV09YX0sby5yZW1vdmVFdmVudD1mdW5jdGlvbih0LGUsYSl7dC5yZW1vdmVFdmVudExpc3RlbmVyP3QucmVtb3ZlRXZlbnRMaXN0ZW5lcihlLGEsITEpOnQuZGV0YWNoRXZlbnQ/dC5kZXRhY2hFdmVudChcIm9uXCIrZSxhKTp0W1wib25cIitlXT1vLm5vb3B9LG8uYmluZEV2ZW50cz1mdW5jdGlvbih0LGUsYSl7dmFyIGk9dC5ldmVudHM9dC5ldmVudHN8fHt9O28uZWFjaChlLGZ1bmN0aW9uKGUpe2lbZV09ZnVuY3Rpb24oKXthLmFwcGx5KHQsYXJndW1lbnRzKX0sby5hZGRFdmVudCh0LmNoYXJ0LmNhbnZhcyxlLGlbZV0pfSl9LG8udW5iaW5kRXZlbnRzPWZ1bmN0aW9uKHQsZSl7dmFyIGE9dC5jaGFydC5jYW52YXM7by5lYWNoKGUsZnVuY3Rpb24odCxlKXtvLnJlbW92ZUV2ZW50KGEsZSx0KX0pfSxvLmdldENvbnN0cmFpbnRXaWR0aD1mdW5jdGlvbih0KXtyZXR1cm4gbih0LFwibWF4LXdpZHRoXCIsXCJjbGllbnRXaWR0aFwiKX0sby5nZXRDb25zdHJhaW50SGVpZ2h0PWZ1bmN0aW9uKHQpe3JldHVybiBuKHQsXCJtYXgtaGVpZ2h0XCIsXCJjbGllbnRIZWlnaHRcIil9LG8uZ2V0TWF4aW11bVdpZHRoPWZ1bmN0aW9uKHQpe3ZhciBlPXQucGFyZW50Tm9kZSxhPXBhcnNlSW50KG8uZ2V0U3R5bGUoZSxcInBhZGRpbmctbGVmdFwiKSkrcGFyc2VJbnQoby5nZXRTdHlsZShlLFwicGFkZGluZy1yaWdodFwiKSksaT1lLmNsaWVudFdpZHRoLWEsbj1vLmdldENvbnN0cmFpbnRXaWR0aCh0KTtyZXR1cm4gaXNOYU4obik/aTpNYXRoLm1pbihpLG4pfSxvLmdldE1heGltdW1IZWlnaHQ9ZnVuY3Rpb24odCl7dmFyIGU9dC5wYXJlbnROb2RlLGE9cGFyc2VJbnQoby5nZXRTdHlsZShlLFwicGFkZGluZy10b3BcIikpK3BhcnNlSW50KG8uZ2V0U3R5bGUoZSxcInBhZGRpbmctYm90dG9tXCIpKSxpPWUuY2xpZW50SGVpZ2h0LWEsbj1vLmdldENvbnN0cmFpbnRIZWlnaHQodCk7cmV0dXJuIGlzTmFOKG4pP2k6TWF0aC5taW4oaSxuKX0sby5nZXRTdHlsZT1mdW5jdGlvbih0LGUpe3JldHVybiB0LmN1cnJlbnRTdHlsZT90LmN1cnJlbnRTdHlsZVtlXTpkb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKHQsbnVsbCkuZ2V0UHJvcGVydHlWYWx1ZShlKX0sby5yZXRpbmFTY2FsZT1mdW5jdGlvbih0KXt2YXIgZT10LmN0eCxhPXQuY2FudmFzLGk9YS53aWR0aCxuPWEuaGVpZ2h0LG89dC5jdXJyZW50RGV2aWNlUGl4ZWxSYXRpbz13aW5kb3cuZGV2aWNlUGl4ZWxSYXRpb3x8MTsxIT09byYmKGEuaGVpZ2h0PW4qbyxhLndpZHRoPWkqbyxlLnNjYWxlKG8sbyksdC5vcmlnaW5hbERldmljZVBpeGVsUmF0aW89dC5vcmlnaW5hbERldmljZVBpeGVsUmF0aW98fG8pLGEuc3R5bGUud2lkdGg9aStcInB4XCIsYS5zdHlsZS5oZWlnaHQ9bitcInB4XCJ9LG8uY2xlYXI9ZnVuY3Rpb24odCl7dC5jdHguY2xlYXJSZWN0KDAsMCx0LndpZHRoLHQuaGVpZ2h0KX0sby5mb250U3RyaW5nPWZ1bmN0aW9uKHQsZSxhKXtyZXR1cm4gZStcIiBcIit0K1wicHggXCIrYX0sby5sb25nZXN0VGV4dD1mdW5jdGlvbih0LGUsYSxpKXtpPWl8fHt9O3ZhciBuPWkuZGF0YT1pLmRhdGF8fHt9LHI9aS5nYXJiYWdlQ29sbGVjdD1pLmdhcmJhZ2VDb2xsZWN0fHxbXTtpLmZvbnQhPT1lJiYobj1pLmRhdGE9e30scj1pLmdhcmJhZ2VDb2xsZWN0PVtdLGkuZm9udD1lKSx0LmZvbnQ9ZTt2YXIgbD0wO28uZWFjaChhLGZ1bmN0aW9uKGUpe3ZvaWQgMCE9PWUmJm51bGwhPT1lJiZvLmlzQXJyYXkoZSkhPT0hMD9sPW8ubWVhc3VyZVRleHQodCxuLHIsbCxlKTpvLmlzQXJyYXkoZSkmJm8uZWFjaChlLGZ1bmN0aW9uKGUpe3ZvaWQgMD09PWV8fG51bGw9PT1lfHxvLmlzQXJyYXkoZSl8fChsPW8ubWVhc3VyZVRleHQodCxuLHIsbCxlKSl9KX0pO3ZhciBzPXIubGVuZ3RoLzI7aWYocz5hLmxlbmd0aCl7Zm9yKHZhciBkPTA7cz5kO2QrKylkZWxldGUgbltyW2RdXTtyLnNwbGljZSgwLHMpfXJldHVybiBsfSxvLm1lYXN1cmVUZXh0PWZ1bmN0aW9uKHQsZSxhLGksbil7dmFyIG89ZVtuXTtyZXR1cm4gb3x8KG89ZVtuXT10Lm1lYXN1cmVUZXh0KG4pLndpZHRoLGEucHVzaChuKSksbz5pJiYoaT1vKSxpfSxvLm51bWJlck9mTGFiZWxMaW5lcz1mdW5jdGlvbih0KXt2YXIgZT0xO3JldHVybiBvLmVhY2godCxmdW5jdGlvbih0KXtvLmlzQXJyYXkodCkmJnQubGVuZ3RoPmUmJihlPXQubGVuZ3RoKX0pLGV9LG8uZHJhd1JvdW5kZWRSZWN0YW5nbGU9ZnVuY3Rpb24odCxlLGEsaSxuLG8pe3QuYmVnaW5QYXRoKCksdC5tb3ZlVG8oZStvLGEpLHQubGluZVRvKGUraS1vLGEpLHQucXVhZHJhdGljQ3VydmVUbyhlK2ksYSxlK2ksYStvKSx0LmxpbmVUbyhlK2ksYStuLW8pLHQucXVhZHJhdGljQ3VydmVUbyhlK2ksYStuLGUraS1vLGErbiksdC5saW5lVG8oZStvLGErbiksdC5xdWFkcmF0aWNDdXJ2ZVRvKGUsYStuLGUsYStuLW8pLHQubGluZVRvKGUsYStvKSx0LnF1YWRyYXRpY0N1cnZlVG8oZSxhLGUrbyxhKSx0LmNsb3NlUGF0aCgpfSxvLmNvbG9yPWZ1bmN0aW9uKGUpe3JldHVybiBpP2koZSBpbnN0YW5jZW9mIENhbnZhc0dyYWRpZW50P3QuZGVmYXVsdHMuZ2xvYmFsLmRlZmF1bHRDb2xvcjplKTooY29uc29sZS5sb2coXCJDb2xvci5qcyBub3QgZm91bmQhXCIpLGUpfSxvLmFkZFJlc2l6ZUxpc3RlbmVyPWZ1bmN0aW9uKHQsZSl7dmFyIGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlmcmFtZVwiKSxpPVwiY2hhcnRqcy1oaWRkZW4taWZyYW1lXCI7YS5jbGFzc2xpc3Q/YS5jbGFzc2xpc3QuYWRkKGkpOmEuc2V0QXR0cmlidXRlKFwiY2xhc3NcIixpKTt2YXIgbj1hLnN0eWxlO24ud2lkdGg9XCIxMDAlXCIsbi5kaXNwbGF5PVwiYmxvY2tcIixuLmJvcmRlcj0wLG4uaGVpZ2h0PTAsbi5tYXJnaW49MCxuLnBvc2l0aW9uPVwiYWJzb2x1dGVcIixuLmxlZnQ9MCxuLnJpZ2h0PTAsbi50b3A9MCxuLmJvdHRvbT0wLHQuaW5zZXJ0QmVmb3JlKGEsdC5maXJzdENoaWxkKSwoYS5jb250ZW50V2luZG93fHxhKS5vbnJlc2l6ZT1mdW5jdGlvbigpe2UmJmUoKX19LG8ucmVtb3ZlUmVzaXplTGlzdGVuZXI9ZnVuY3Rpb24odCl7dmFyIGU9dC5xdWVyeVNlbGVjdG9yKFwiLmNoYXJ0anMtaGlkZGVuLWlmcmFtZVwiKTtlJiZlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZSl9LG8uaXNBcnJheT1BcnJheS5pc0FycmF5P2Z1bmN0aW9uKHQpe3JldHVybiBBcnJheS5pc0FycmF5KHQpfTpmdW5jdGlvbih0KXtyZXR1cm5cIltvYmplY3QgQXJyYXldXCI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodCl9LG8uYXJyYXlFcXVhbHM9ZnVuY3Rpb24odCxlKXt2YXIgYSxpLG4scjtpZighdHx8IWV8fHQubGVuZ3RoIT1lLmxlbmd0aClyZXR1cm4hMTtmb3IoYT0wLGk9dC5sZW5ndGg7aT5hOysrYSlpZihuPXRbYV0scj1lW2FdLG4gaW5zdGFuY2VvZiBBcnJheSYmciBpbnN0YW5jZW9mIEFycmF5KXtpZighby5hcnJheUVxdWFscyhuLHIpKXJldHVybiExfWVsc2UgaWYobiE9cilyZXR1cm4hMTtyZXR1cm4hMH0sby5jYWxsQ2FsbGJhY2s9ZnVuY3Rpb24odCxlLGEpe3QmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHQuY2FsbCYmdC5hcHBseShhLGUpfSxvLmdldEhvdmVyQ29sb3I9ZnVuY3Rpb24odCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBDYW52YXNQYXR0ZXJuP3Q6by5jb2xvcih0KS5zYXR1cmF0ZSguNSkuZGFya2VuKC4xKS5yZ2JTdHJpbmcoKX19fSx7MzozfV0sMjc6W2Z1bmN0aW9uKHQsZSxhKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9ZnVuY3Rpb24oKXt2YXIgdD1mdW5jdGlvbihlLGEpe3ZhciBpPXRoaXMsbj10LmhlbHBlcnM7cmV0dXJuIGkuY29uZmlnPWF8fHtkYXRhOntkYXRhc2V0czpbXX19LGUubGVuZ3RoJiZlWzBdLmdldENvbnRleHQmJihlPWVbMF0pLGUuZ2V0Q29udGV4dCYmKGU9ZS5nZXRDb250ZXh0KFwiMmRcIikpLGkuY3R4PWUsaS5jYW52YXM9ZS5jYW52YXMsZS5jYW52YXMuc3R5bGUuZGlzcGxheT1lLmNhbnZhcy5zdHlsZS5kaXNwbGF5fHxcImJsb2NrXCIsaS53aWR0aD1lLmNhbnZhcy53aWR0aHx8cGFyc2VJbnQobi5nZXRTdHlsZShlLmNhbnZhcyxcIndpZHRoXCIpLDEwKXx8bi5nZXRNYXhpbXVtV2lkdGgoZS5jYW52YXMpLGkuaGVpZ2h0PWUuY2FudmFzLmhlaWdodHx8cGFyc2VJbnQobi5nZXRTdHlsZShlLmNhbnZhcyxcImhlaWdodFwiKSwxMCl8fG4uZ2V0TWF4aW11bUhlaWdodChlLmNhbnZhcyksaS5hc3BlY3RSYXRpbz1pLndpZHRoL2kuaGVpZ2h0LChpc05hTihpLmFzcGVjdFJhdGlvKXx8aXNGaW5pdGUoaS5hc3BlY3RSYXRpbyk9PT0hMSkmJihpLmFzcGVjdFJhdGlvPXZvaWQgMCE9PWEuYXNwZWN0UmF0aW8/YS5hc3BlY3RSYXRpbzoyKSxpLm9yaWdpbmFsQ2FudmFzU3R5bGVXaWR0aD1lLmNhbnZhcy5zdHlsZS53aWR0aCxpLm9yaWdpbmFsQ2FudmFzU3R5bGVIZWlnaHQ9ZS5jYW52YXMuc3R5bGUuaGVpZ2h0LG4ucmV0aW5hU2NhbGUoaSksaS5jb250cm9sbGVyPW5ldyB0LkNvbnRyb2xsZXIoaSksbi5hZGRSZXNpemVMaXN0ZW5lcihlLmNhbnZhcy5wYXJlbnROb2RlLGZ1bmN0aW9uKCl7aS5jb250cm9sbGVyJiZpLmNvbnRyb2xsZXIuY29uZmlnLm9wdGlvbnMucmVzcG9uc2l2ZSYmaS5jb250cm9sbGVyLnJlc2l6ZSgpfSksaS5jb250cm9sbGVyP2kuY29udHJvbGxlcjppfTtyZXR1cm4gdC5kZWZhdWx0cz17Z2xvYmFsOntyZXNwb25zaXZlOiEwLHJlc3BvbnNpdmVBbmltYXRpb25EdXJhdGlvbjowLG1haW50YWluQXNwZWN0UmF0aW86ITAsZXZlbnRzOltcIm1vdXNlbW92ZVwiLFwibW91c2VvdXRcIixcImNsaWNrXCIsXCJ0b3VjaHN0YXJ0XCIsXCJ0b3VjaG1vdmVcIl0saG92ZXI6e29uSG92ZXI6bnVsbCxtb2RlOlwic2luZ2xlXCIsYW5pbWF0aW9uRHVyYXRpb246NDAwfSxvbkNsaWNrOm51bGwsZGVmYXVsdENvbG9yOlwicmdiYSgwLDAsMCwwLjEpXCIsZGVmYXVsdEZvbnRDb2xvcjpcIiM2NjZcIixkZWZhdWx0Rm9udEZhbWlseTpcIidIZWx2ZXRpY2EgTmV1ZScsICdIZWx2ZXRpY2EnLCAnQXJpYWwnLCBzYW5zLXNlcmlmXCIsZGVmYXVsdEZvbnRTaXplOjEyLGRlZmF1bHRGb250U3R5bGU6XCJub3JtYWxcIixzaG93TGluZXM6ITAsZWxlbWVudHM6e30sbGVnZW5kQ2FsbGJhY2s6ZnVuY3Rpb24odCl7dmFyIGU9W107ZS5wdXNoKCc8dWwgY2xhc3M9XCInK3QuaWQrJy1sZWdlbmRcIj4nKTtmb3IodmFyIGE9MDthPHQuZGF0YS5kYXRhc2V0cy5sZW5ndGg7YSsrKWUucHVzaCgnPGxpPjxzcGFuIHN0eWxlPVwiYmFja2dyb3VuZC1jb2xvcjonK3QuZGF0YS5kYXRhc2V0c1thXS5iYWNrZ3JvdW5kQ29sb3IrJ1wiPjwvc3Bhbj4nKSx0LmRhdGEuZGF0YXNldHNbYV0ubGFiZWwmJmUucHVzaCh0LmRhdGEuZGF0YXNldHNbYV0ubGFiZWwpLGUucHVzaChcIjwvbGk+XCIpO3JldHVybiBlLnB1c2goXCI8L3VsPlwiKSxlLmpvaW4oXCJcIil9fX0sdC5DaGFydD10LHR9fSx7fV0sMjg6W2Z1bmN0aW9uKHQsZSxhKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9ZnVuY3Rpb24odCl7dmFyIGU9dC5oZWxwZXJzO3QubGF5b3V0U2VydmljZT17ZGVmYXVsdHM6e30sYWRkQm94OmZ1bmN0aW9uKHQsZSl7dC5ib3hlc3x8KHQuYm94ZXM9W10pLHQuYm94ZXMucHVzaChlKX0scmVtb3ZlQm94OmZ1bmN0aW9uKHQsZSl7dC5ib3hlcyYmdC5ib3hlcy5zcGxpY2UodC5ib3hlcy5pbmRleE9mKGUpLDEpfSx1cGRhdGU6ZnVuY3Rpb24odCxhLGkpe2Z1bmN0aW9uIG4odCl7dmFyIGUsYT10LmlzSG9yaXpvbnRhbCgpO2E/KGU9dC51cGRhdGUodC5vcHRpb25zLmZ1bGxXaWR0aD9wOmsseSksUy09ZS5oZWlnaHQpOihlPXQudXBkYXRlKHgsdiksay09ZS53aWR0aCksdy5wdXNoKHtob3Jpem9udGFsOmEsbWluU2l6ZTplLGJveDp0fSl9ZnVuY3Rpb24gbyh0KXt2YXIgYT1lLmZpbmROZXh0V2hlcmUodyxmdW5jdGlvbihlKXtyZXR1cm4gZS5ib3g9PT10fSk7aWYoYSlpZih0LmlzSG9yaXpvbnRhbCgpKXt2YXIgaT17bGVmdDpDLHJpZ2h0Ok0sdG9wOjAsYm90dG9tOjB9O3QudXBkYXRlKHQub3B0aW9ucy5mdWxsV2lkdGg/cDprLG0vMixpKX1lbHNlIHQudXBkYXRlKGEubWluU2l6ZS53aWR0aCxTKX1mdW5jdGlvbiByKHQpe3ZhciBhPWUuZmluZE5leHRXaGVyZSh3LGZ1bmN0aW9uKGUpe3JldHVybiBlLmJveD09PXR9KSxpPXtsZWZ0OjAscmlnaHQ6MCx0b3A6RCxib3R0b206QX07YSYmdC51cGRhdGUoYS5taW5TaXplLndpZHRoLFMsaSl9ZnVuY3Rpb24gbCh0KXt0LmlzSG9yaXpvbnRhbCgpPyh0LmxlZnQ9dC5vcHRpb25zLmZ1bGxXaWR0aD9zOkMsdC5yaWdodD10Lm9wdGlvbnMuZnVsbFdpZHRoP2EtczpDK2ssdC50b3A9UCx0LmJvdHRvbT1QK3QuaGVpZ2h0LFA9dC5ib3R0b20pOih0LmxlZnQ9Rix0LnJpZ2h0PUYrdC53aWR0aCx0LnRvcD1ELHQuYm90dG9tPUQrUyxGPXQucmlnaHQpfWlmKHQpe3ZhciBzPTAsZD0wLHU9ZS53aGVyZSh0LmJveGVzLGZ1bmN0aW9uKHQpe3JldHVyblwibGVmdFwiPT09dC5vcHRpb25zLnBvc2l0aW9ufSksYz1lLndoZXJlKHQuYm94ZXMsZnVuY3Rpb24odCl7cmV0dXJuXCJyaWdodFwiPT09dC5vcHRpb25zLnBvc2l0aW9ufSksaD1lLndoZXJlKHQuYm94ZXMsZnVuY3Rpb24odCl7cmV0dXJuXCJ0b3BcIj09PXQub3B0aW9ucy5wb3NpdGlvbn0pLGY9ZS53aGVyZSh0LmJveGVzLGZ1bmN0aW9uKHQpe3JldHVyblwiYm90dG9tXCI9PT10Lm9wdGlvbnMucG9zaXRpb259KSxnPWUud2hlcmUodC5ib3hlcyxmdW5jdGlvbih0KXtyZXR1cm5cImNoYXJ0QXJlYVwiPT09dC5vcHRpb25zLnBvc2l0aW9ufSk7aC5zb3J0KGZ1bmN0aW9uKHQsZSl7cmV0dXJuKGUub3B0aW9ucy5mdWxsV2lkdGg/MTowKS0odC5vcHRpb25zLmZ1bGxXaWR0aD8xOjApfSksZi5zb3J0KGZ1bmN0aW9uKHQsZSl7cmV0dXJuKHQub3B0aW9ucy5mdWxsV2lkdGg/MTowKS0oZS5vcHRpb25zLmZ1bGxXaWR0aD8xOjApfSk7dmFyIHA9YS0yKnMsbT1pLTIqZCxiPXAvMix2PW0vMix4PShhLWIpLyh1Lmxlbmd0aCtjLmxlbmd0aCkseT0oaS12KS8oaC5sZW5ndGgrZi5sZW5ndGgpLGs9cCxTPW0sdz1bXTtlLmVhY2godS5jb25jYXQoYyxoLGYpLG4pO3ZhciBDPXMsTT1zLEQ9ZCxBPWQ7ZS5lYWNoKHUuY29uY2F0KGMpLG8pLGUuZWFjaCh1LGZ1bmN0aW9uKHQpe0MrPXQud2lkdGh9KSxlLmVhY2goYyxmdW5jdGlvbih0KXtNKz10LndpZHRofSksZS5lYWNoKGguY29uY2F0KGYpLG8pLGUuZWFjaChoLGZ1bmN0aW9uKHQpe0QrPXQuaGVpZ2h0fSksZS5lYWNoKGYsZnVuY3Rpb24odCl7QSs9dC5oZWlnaHR9KSxlLmVhY2godS5jb25jYXQoYyksciksQz1zLE09cyxEPWQsQT1kLGUuZWFjaCh1LGZ1bmN0aW9uKHQpe0MrPXQud2lkdGh9KSxlLmVhY2goYyxmdW5jdGlvbih0KXtNKz10LndpZHRofSksZS5lYWNoKGgsZnVuY3Rpb24odCl7RCs9dC5oZWlnaHR9KSxlLmVhY2goZixmdW5jdGlvbih0KXtBKz10LmhlaWdodH0pO3ZhciBJPWktRC1BLFQ9YS1DLU07KFQhPT1rfHxJIT09UykmJihlLmVhY2godSxmdW5jdGlvbih0KXt0LmhlaWdodD1JfSksZS5lYWNoKGMsZnVuY3Rpb24odCl7dC5oZWlnaHQ9SX0pLGUuZWFjaChoLGZ1bmN0aW9uKHQpe3Qub3B0aW9ucy5mdWxsV2lkdGh8fCh0LndpZHRoPVQpfSksZS5lYWNoKGYsZnVuY3Rpb24odCl7dC5vcHRpb25zLmZ1bGxXaWR0aHx8KHQud2lkdGg9VCl9KSxTPUksaz1UKTt2YXIgRj1zLFA9ZDtlLmVhY2godS5jb25jYXQoaCksbCksRis9ayxQKz1TLGUuZWFjaChjLGwpLGUuZWFjaChmLGwpLHQuY2hhcnRBcmVhPXtsZWZ0OkMsdG9wOkQscmlnaHQ6QytrLGJvdHRvbTpEK1N9LGUuZWFjaChnLGZ1bmN0aW9uKGUpe2UubGVmdD10LmNoYXJ0QXJlYS5sZWZ0LGUudG9wPXQuY2hhcnRBcmVhLnRvcCxlLnJpZ2h0PXQuY2hhcnRBcmVhLnJpZ2h0LGUuYm90dG9tPXQuY2hhcnRBcmVhLmJvdHRvbSxlLnVwZGF0ZShrLFMpfSl9fX19fSx7fV0sMjk6W2Z1bmN0aW9uKHQsZSxhKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9ZnVuY3Rpb24odCl7dmFyIGU9dC5oZWxwZXJzLGE9ZS5ub29wO3QuZGVmYXVsdHMuZ2xvYmFsLmxlZ2VuZD17ZGlzcGxheTohMCxwb3NpdGlvbjpcInRvcFwiLGZ1bGxXaWR0aDohMCxyZXZlcnNlOiExLG9uQ2xpY2s6ZnVuY3Rpb24odCxlKXt2YXIgYT1lLmRhdGFzZXRJbmRleCxpPXRoaXMuY2hhcnQsbj1pLmdldERhdGFzZXRNZXRhKGEpO24uaGlkZGVuPW51bGw9PT1uLmhpZGRlbj8haS5kYXRhLmRhdGFzZXRzW2FdLmhpZGRlbjpudWxsLGkudXBkYXRlKCl9LGxhYmVsczp7Ym94V2lkdGg6NDAscGFkZGluZzoxMCxnZW5lcmF0ZUxhYmVsczpmdW5jdGlvbih0KXt2YXIgYT10LmRhdGE7cmV0dXJuIGUuaXNBcnJheShhLmRhdGFzZXRzKT9hLmRhdGFzZXRzLm1hcChmdW5jdGlvbihhLGkpe3JldHVybnt0ZXh0OmEubGFiZWwsZmlsbFN0eWxlOmUuaXNBcnJheShhLmJhY2tncm91bmRDb2xvcik/YS5iYWNrZ3JvdW5kQ29sb3JbMF06YS5iYWNrZ3JvdW5kQ29sb3IsaGlkZGVuOiF0LmlzRGF0YXNldFZpc2libGUoaSksbGluZUNhcDphLmJvcmRlckNhcFN0eWxlLGxpbmVEYXNoOmEuYm9yZGVyRGFzaCxsaW5lRGFzaE9mZnNldDphLmJvcmRlckRhc2hPZmZzZXQsbGluZUpvaW46YS5ib3JkZXJKb2luU3R5bGUsbGluZVdpZHRoOmEuYm9yZGVyV2lkdGgsc3Ryb2tlU3R5bGU6YS5ib3JkZXJDb2xvcixwb2ludFN0eWxlOmEucG9pbnRTdHlsZSxkYXRhc2V0SW5kZXg6aX19LHRoaXMpOltdfX19LHQuTGVnZW5kPXQuRWxlbWVudC5leHRlbmQoe2luaXRpYWxpemU6ZnVuY3Rpb24odCl7ZS5leHRlbmQodGhpcyx0KSx0aGlzLmxlZ2VuZEhpdEJveGVzPVtdLHRoaXMuZG91Z2hudXRNb2RlPSExfSxiZWZvcmVVcGRhdGU6YSx1cGRhdGU6ZnVuY3Rpb24odCxlLGEpe3ZhciBpPXRoaXM7cmV0dXJuIGkuYmVmb3JlVXBkYXRlKCksaS5tYXhXaWR0aD10LGkubWF4SGVpZ2h0PWUsaS5tYXJnaW5zPWEsaS5iZWZvcmVTZXREaW1lbnNpb25zKCksaS5zZXREaW1lbnNpb25zKCksaS5hZnRlclNldERpbWVuc2lvbnMoKSxpLmJlZm9yZUJ1aWxkTGFiZWxzKCksaS5idWlsZExhYmVscygpLGkuYWZ0ZXJCdWlsZExhYmVscygpLGkuYmVmb3JlRml0KCksaS5maXQoKSxpLmFmdGVyRml0KCksaS5hZnRlclVwZGF0ZSgpLGkubWluU2l6ZX0sYWZ0ZXJVcGRhdGU6YSxiZWZvcmVTZXREaW1lbnNpb25zOmEsc2V0RGltZW5zaW9uczpmdW5jdGlvbigpe3ZhciB0PXRoaXM7dC5pc0hvcml6b250YWwoKT8odC53aWR0aD10Lm1heFdpZHRoLHQubGVmdD0wLHQucmlnaHQ9dC53aWR0aCk6KHQuaGVpZ2h0PXQubWF4SGVpZ2h0LHQudG9wPTAsdC5ib3R0b209dC5oZWlnaHQpLHQucGFkZGluZ0xlZnQ9MCx0LnBhZGRpbmdUb3A9MCx0LnBhZGRpbmdSaWdodD0wLHQucGFkZGluZ0JvdHRvbT0wLHQubWluU2l6ZT17d2lkdGg6MCxoZWlnaHQ6MH19LGFmdGVyU2V0RGltZW5zaW9uczphLGJlZm9yZUJ1aWxkTGFiZWxzOmEsYnVpbGRMYWJlbHM6ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3QubGVnZW5kSXRlbXM9dC5vcHRpb25zLmxhYmVscy5nZW5lcmF0ZUxhYmVscy5jYWxsKHQsdC5jaGFydCksdC5vcHRpb25zLnJldmVyc2UmJnQubGVnZW5kSXRlbXMucmV2ZXJzZSgpfSxhZnRlckJ1aWxkTGFiZWxzOmEsYmVmb3JlRml0OmEsZml0OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxpPWEub3B0aW9ucyxuPWkubGFiZWxzLG89aS5kaXNwbGF5LHI9YS5jdHgsbD10LmRlZmF1bHRzLmdsb2JhbCxzPWUuZ2V0VmFsdWVPckRlZmF1bHQsZD1zKG4uZm9udFNpemUsbC5kZWZhdWx0Rm9udFNpemUpLHU9cyhuLmZvbnRTdHlsZSxsLmRlZmF1bHRGb250U3R5bGUpLGM9cyhuLmZvbnRGYW1pbHksbC5kZWZhdWx0Rm9udEZhbWlseSksaD1lLmZvbnRTdHJpbmcoZCx1LGMpLGY9YS5sZWdlbmRIaXRCb3hlcz1bXSxnPWEubWluU2l6ZSxwPWEuaXNIb3Jpem9udGFsKCk7aWYocD8oZy53aWR0aD1hLm1heFdpZHRoLGcuaGVpZ2h0PW8/MTA6MCk6KGcud2lkdGg9bz8xMDowLGcuaGVpZ2h0PWEubWF4SGVpZ2h0KSxvKWlmKHIuZm9udD1oLHApe3ZhciBtPWEubGluZVdpZHRocz1bMF0sYj1hLmxlZ2VuZEl0ZW1zLmxlbmd0aD9kK24ucGFkZGluZzowO3IudGV4dEFsaWduPVwibGVmdFwiLHIudGV4dEJhc2VsaW5lPVwidG9wXCIsZS5lYWNoKGEubGVnZW5kSXRlbXMsZnVuY3Rpb24odCxlKXt2YXIgaT1uLnVzZVBvaW50U3R5bGU/ZCpNYXRoLnNxcnQoMik6bi5ib3hXaWR0aCxvPWkrZC8yK3IubWVhc3VyZVRleHQodC50ZXh0KS53aWR0aDttW20ubGVuZ3RoLTFdK28rbi5wYWRkaW5nPj1hLndpZHRoJiYoYis9ZCtuLnBhZGRpbmcsbVttLmxlbmd0aF09YS5sZWZ0KSxmW2VdPXtsZWZ0OjAsdG9wOjAsd2lkdGg6byxoZWlnaHQ6ZH0sbVttLmxlbmd0aC0xXSs9bytuLnBhZGRpbmd9KSxnLmhlaWdodCs9Yn1lbHNle3ZhciB2PW4ucGFkZGluZyx4PWEuY29sdW1uV2lkdGhzPVtdLHk9bi5wYWRkaW5nLGs9MCxTPTAsdz1kK3Y7ZS5lYWNoKGEubGVnZW5kSXRlbXMsZnVuY3Rpb24odCxlKXt2YXIgYT1uLnVzZVBvaW50U3R5bGU/MipuLmJveFdpZHRoOm4uYm94V2lkdGgsaT1hK2QvMityLm1lYXN1cmVUZXh0KHQudGV4dCkud2lkdGg7Uyt3PmcuaGVpZ2h0JiYoeSs9aytuLnBhZGRpbmcseC5wdXNoKGspLGs9MCxTPTApLGs9TWF0aC5tYXgoayxpKSxTKz13LGZbZV09e2xlZnQ6MCx0b3A6MCx3aWR0aDppLGhlaWdodDpkfX0pLHkrPWsseC5wdXNoKGspLGcud2lkdGgrPXl9YS53aWR0aD1nLndpZHRoLGEuaGVpZ2h0PWcuaGVpZ2h0fSxhZnRlckZpdDphLGlzSG9yaXpvbnRhbDpmdW5jdGlvbigpe3JldHVyblwidG9wXCI9PT10aGlzLm9wdGlvbnMucG9zaXRpb258fFwiYm90dG9tXCI9PT10aGlzLm9wdGlvbnMucG9zaXRpb259LGRyYXc6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGk9YS5vcHRpb25zLG49aS5sYWJlbHMsbz10LmRlZmF1bHRzLmdsb2JhbCxyPW8uZWxlbWVudHMubGluZSxsPWEud2lkdGgscz1hLmxpbmVXaWR0aHM7aWYoaS5kaXNwbGF5KXt2YXIgZCx1PWEuY3R4LGM9ZS5nZXRWYWx1ZU9yRGVmYXVsdCxoPWMobi5mb250Q29sb3Isby5kZWZhdWx0Rm9udENvbG9yKSxmPWMobi5mb250U2l6ZSxvLmRlZmF1bHRGb250U2l6ZSksZz1jKG4uZm9udFN0eWxlLG8uZGVmYXVsdEZvbnRTdHlsZSkscD1jKG4uZm9udEZhbWlseSxvLmRlZmF1bHRGb250RmFtaWx5KSxtPWUuZm9udFN0cmluZyhmLGcscCk7dS50ZXh0QWxpZ249XCJsZWZ0XCIsdS50ZXh0QmFzZWxpbmU9XCJ0b3BcIix1LmxpbmVXaWR0aD0uNSx1LnN0cm9rZVN0eWxlPWgsdS5maWxsU3R5bGU9aCx1LmZvbnQ9bTt2YXIgYj1uLmJveFdpZHRoLHY9YS5sZWdlbmRIaXRCb3hlcyx4PWZ1bmN0aW9uKGUsYSxuKXtpZighKGlzTmFOKGIpfHwwPj1iKSl7aWYodS5zYXZlKCksdS5maWxsU3R5bGU9YyhuLmZpbGxTdHlsZSxvLmRlZmF1bHRDb2xvciksdS5saW5lQ2FwPWMobi5saW5lQ2FwLHIuYm9yZGVyQ2FwU3R5bGUpLHUubGluZURhc2hPZmZzZXQ9YyhuLmxpbmVEYXNoT2Zmc2V0LHIuYm9yZGVyRGFzaE9mZnNldCksdS5saW5lSm9pbj1jKG4ubGluZUpvaW4sci5ib3JkZXJKb2luU3R5bGUpLHUubGluZVdpZHRoPWMobi5saW5lV2lkdGgsci5ib3JkZXJXaWR0aCksdS5zdHJva2VTdHlsZT1jKG4uc3Ryb2tlU3R5bGUsby5kZWZhdWx0Q29sb3IpLHUuc2V0TGluZURhc2gmJnUuc2V0TGluZURhc2goYyhuLmxpbmVEYXNoLHIuYm9yZGVyRGFzaCkpLGkubGFiZWxzJiZpLmxhYmVscy51c2VQb2ludFN0eWxlKXt2YXIgbD1mKk1hdGguU1FSVDIvMixzPWwvTWF0aC5TUVJUMixkPWUrcyxoPWErczt0LmNhbnZhc0hlbHBlcnMuZHJhd1BvaW50KHUsbi5wb2ludFN0eWxlLGwsZCxoKX1lbHNlIHUuc3Ryb2tlUmVjdChlLGEsYixmKSx1LmZpbGxSZWN0KGUsYSxiLGYpO3UucmVzdG9yZSgpfX0seT1mdW5jdGlvbih0LGUsYSxpKXt1LmZpbGxUZXh0KGEudGV4dCxiK2YvMit0LGUpLGEuaGlkZGVuJiYodS5iZWdpblBhdGgoKSx1LmxpbmVXaWR0aD0yLHUubW92ZVRvKGIrZi8yK3QsZStmLzIpLHUubGluZVRvKGIrZi8yK3QraSxlK2YvMiksdS5zdHJva2UoKSl9LGs9YS5pc0hvcml6b250YWwoKTtkPWs/e3g6YS5sZWZ0KyhsLXNbMF0pLzIseTphLnRvcCtuLnBhZGRpbmcsbGluZTowfTp7eDphLmxlZnQrbi5wYWRkaW5nLHk6YS50b3Arbi5wYWRkaW5nLGxpbmU6MH07dmFyIFM9ZituLnBhZGRpbmc7ZS5lYWNoKGEubGVnZW5kSXRlbXMsZnVuY3Rpb24odCxlKXt2YXIgaT11Lm1lYXN1cmVUZXh0KHQudGV4dCkud2lkdGgsbz1uLnVzZVBvaW50U3R5bGU/ZitmLzIraTpiK2YvMitpLHI9ZC54LGM9ZC55O2s/citvPj1sJiYoYz1kLnkrPVMsZC5saW5lKysscj1kLng9YS5sZWZ0KyhsLXNbZC5saW5lXSkvMik6YytTPmEuYm90dG9tJiYocj1kLng9cithLmNvbHVtbldpZHRoc1tkLmxpbmVdK24ucGFkZGluZyxjPWQueT1hLnRvcCxkLmxpbmUrKykseChyLGMsdCksdltlXS5sZWZ0PXIsdltlXS50b3A9Yyx5KHIsYyx0LGkpLGs/ZC54Kz1vK24ucGFkZGluZzpkLnkrPVN9KX19LGhhbmRsZUV2ZW50OmZ1bmN0aW9uKHQpe3ZhciBhPXRoaXMsaT1lLmdldFJlbGF0aXZlUG9zaXRpb24odCxhLmNoYXJ0LmNoYXJ0KSxuPWkueCxvPWkueSxyPWEub3B0aW9ucztpZihuPj1hLmxlZnQmJm48PWEucmlnaHQmJm8+PWEudG9wJiZvPD1hLmJvdHRvbSlmb3IodmFyIGw9YS5sZWdlbmRIaXRCb3hlcyxzPTA7czxsLmxlbmd0aDsrK3Mpe3ZhciBkPWxbc107aWYobj49ZC5sZWZ0JiZuPD1kLmxlZnQrZC53aWR0aCYmbz49ZC50b3AmJm88PWQudG9wK2QuaGVpZ2h0KXtyLm9uQ2xpY2smJnIub25DbGljay5jYWxsKGEsdCxhLmxlZ2VuZEl0ZW1zW3NdKTticmVha319fX0pLHQucGx1Z2lucy5yZWdpc3Rlcih7YmVmb3JlSW5pdDpmdW5jdGlvbihlKXt2YXIgYT1lLm9wdGlvbnMsaT1hLmxlZ2VuZDtpJiYoZS5sZWdlbmQ9bmV3IHQuTGVnZW5kKHtjdHg6ZS5jaGFydC5jdHgsb3B0aW9uczppLGNoYXJ0OmV9KSx0LmxheW91dFNlcnZpY2UuYWRkQm94KGUsZS5sZWdlbmQpKX19KX19LHt9XSwzMDpbZnVuY3Rpb24odCxlLGEpe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1mdW5jdGlvbih0KXt2YXIgZT10LmhlbHBlcnMubm9vcDt0LnBsdWdpbnM9e19wbHVnaW5zOltdLHJlZ2lzdGVyOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX3BsdWdpbnM7W10uY29uY2F0KHQpLmZvckVhY2goZnVuY3Rpb24odCl7LTE9PT1lLmluZGV4T2YodCkmJmUucHVzaCh0KX0pfSx1bnJlZ2lzdGVyOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX3BsdWdpbnM7W10uY29uY2F0KHQpLmZvckVhY2goZnVuY3Rpb24odCl7dmFyIGE9ZS5pbmRleE9mKHQpOy0xIT09YSYmZS5zcGxpY2UoYSwxKX0pfSxjbGVhcjpmdW5jdGlvbigpe3RoaXMuX3BsdWdpbnM9W119LGNvdW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BsdWdpbnMubGVuZ3RofSxnZXRBbGw6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGx1Z2luc30sbm90aWZ5OmZ1bmN0aW9uKHQsZSl7dmFyIGEsaSxuPXRoaXMuX3BsdWdpbnMsbz1uLmxlbmd0aDtmb3IoYT0wO28+YTsrK2EpaWYoaT1uW2FdLFwiZnVuY3Rpb25cIj09dHlwZW9mIGlbdF0mJmlbdF0uYXBwbHkoaSxlfHxbXSk9PT0hMSlyZXR1cm4hMTtyZXR1cm4hMH19LHQuUGx1Z2luQmFzZT10LkVsZW1lbnQuZXh0ZW5kKHtiZWZvcmVJbml0OmUsYWZ0ZXJJbml0OmUsYmVmb3JlVXBkYXRlOmUsYWZ0ZXJVcGRhdGU6ZSxiZWZvcmVEcmF3OmUsYWZ0ZXJEcmF3OmUsZGVzdHJveTplfSksdC5wbHVnaW5TZXJ2aWNlPXQucGx1Z2luc319LHt9XSwzMTpbZnVuY3Rpb24odCxlLGEpe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1mdW5jdGlvbih0KXt2YXIgZT10LmhlbHBlcnM7dC5kZWZhdWx0cy5zY2FsZT17ZGlzcGxheTohMCxwb3NpdGlvbjpcImxlZnRcIixncmlkTGluZXM6e2Rpc3BsYXk6ITAsY29sb3I6XCJyZ2JhKDAsIDAsIDAsIDAuMSlcIixsaW5lV2lkdGg6MSxkcmF3Qm9yZGVyOiEwLGRyYXdPbkNoYXJ0QXJlYTohMCxkcmF3VGlja3M6ITAsdGlja01hcmtMZW5ndGg6MTAsemVyb0xpbmVXaWR0aDoxLHplcm9MaW5lQ29sb3I6XCJyZ2JhKDAsMCwwLDAuMjUpXCIsb2Zmc2V0R3JpZExpbmVzOiExfSxzY2FsZUxhYmVsOntsYWJlbFN0cmluZzpcIlwiLGRpc3BsYXk6ITF9LHRpY2tzOntiZWdpbkF0WmVybzohMSxtaW5Sb3RhdGlvbjowLG1heFJvdGF0aW9uOjUwLG1pcnJvcjohMSxwYWRkaW5nOjEwLHJldmVyc2U6ITEsZGlzcGxheTohMCxhdXRvU2tpcDohMCxhdXRvU2tpcFBhZGRpbmc6MCxsYWJlbE9mZnNldDowLGNhbGxiYWNrOmZ1bmN0aW9uKHQpe3JldHVybiBlLmlzQXJyYXkodCk/dDpcIlwiK3R9fX0sdC5TY2FsZT10LkVsZW1lbnQuZXh0ZW5kKHtiZWZvcmVVcGRhdGU6ZnVuY3Rpb24oKXtlLmNhbGxDYWxsYmFjayh0aGlzLm9wdGlvbnMuYmVmb3JlVXBkYXRlLFt0aGlzXSl9LHVwZGF0ZTpmdW5jdGlvbih0LGEsaSl7dmFyIG49dGhpcztyZXR1cm4gbi5iZWZvcmVVcGRhdGUoKSxuLm1heFdpZHRoPXQsbi5tYXhIZWlnaHQ9YSxuLm1hcmdpbnM9ZS5leHRlbmQoe2xlZnQ6MCxyaWdodDowLHRvcDowLGJvdHRvbTowfSxpKSxuLmJlZm9yZVNldERpbWVuc2lvbnMoKSxuLnNldERpbWVuc2lvbnMoKSxuLmFmdGVyU2V0RGltZW5zaW9ucygpLG4uYmVmb3JlRGF0YUxpbWl0cygpLG4uZGV0ZXJtaW5lRGF0YUxpbWl0cygpLG4uYWZ0ZXJEYXRhTGltaXRzKCksbi5iZWZvcmVCdWlsZFRpY2tzKCksbi5idWlsZFRpY2tzKCksbi5hZnRlckJ1aWxkVGlja3MoKSxuLmJlZm9yZVRpY2tUb0xhYmVsQ29udmVyc2lvbigpLG4uY29udmVydFRpY2tzVG9MYWJlbHMoKSxuLmFmdGVyVGlja1RvTGFiZWxDb252ZXJzaW9uKCksbi5iZWZvcmVDYWxjdWxhdGVUaWNrUm90YXRpb24oKSxuLmNhbGN1bGF0ZVRpY2tSb3RhdGlvbigpLG4uYWZ0ZXJDYWxjdWxhdGVUaWNrUm90YXRpb24oKSxuLmJlZm9yZUZpdCgpLG4uZml0KCksbi5hZnRlckZpdCgpLG4uYWZ0ZXJVcGRhdGUoKSxuLm1pblNpemV9LGFmdGVyVXBkYXRlOmZ1bmN0aW9uKCl7ZS5jYWxsQ2FsbGJhY2sodGhpcy5vcHRpb25zLmFmdGVyVXBkYXRlLFt0aGlzXSl9LGJlZm9yZVNldERpbWVuc2lvbnM6ZnVuY3Rpb24oKXtlLmNhbGxDYWxsYmFjayh0aGlzLm9wdGlvbnMuYmVmb3JlU2V0RGltZW5zaW9ucyxbdGhpc10pfSxzZXREaW1lbnNpb25zOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0LmlzSG9yaXpvbnRhbCgpPyh0LndpZHRoPXQubWF4V2lkdGgsdC5sZWZ0PTAsdC5yaWdodD10LndpZHRoKToodC5oZWlnaHQ9dC5tYXhIZWlnaHQsdC50b3A9MCx0LmJvdHRvbT10LmhlaWdodCksdC5wYWRkaW5nTGVmdD0wLHQucGFkZGluZ1RvcD0wLHQucGFkZGluZ1JpZ2h0PTAsdC5wYWRkaW5nQm90dG9tPTB9LGFmdGVyU2V0RGltZW5zaW9uczpmdW5jdGlvbigpe2UuY2FsbENhbGxiYWNrKHRoaXMub3B0aW9ucy5hZnRlclNldERpbWVuc2lvbnMsW3RoaXNdKX0sYmVmb3JlRGF0YUxpbWl0czpmdW5jdGlvbigpe2UuY2FsbENhbGxiYWNrKHRoaXMub3B0aW9ucy5iZWZvcmVEYXRhTGltaXRzLFt0aGlzXSl9LGRldGVybWluZURhdGFMaW1pdHM6ZS5ub29wLGFmdGVyRGF0YUxpbWl0czpmdW5jdGlvbigpe2UuY2FsbENhbGxiYWNrKHRoaXMub3B0aW9ucy5hZnRlckRhdGFMaW1pdHMsW3RoaXNdKX0sYmVmb3JlQnVpbGRUaWNrczpmdW5jdGlvbigpe2UuY2FsbENhbGxiYWNrKHRoaXMub3B0aW9ucy5iZWZvcmVCdWlsZFRpY2tzLFt0aGlzXSl9LGJ1aWxkVGlja3M6ZS5ub29wLGFmdGVyQnVpbGRUaWNrczpmdW5jdGlvbigpe2UuY2FsbENhbGxiYWNrKHRoaXMub3B0aW9ucy5hZnRlckJ1aWxkVGlja3MsW3RoaXNdKX0sYmVmb3JlVGlja1RvTGFiZWxDb252ZXJzaW9uOmZ1bmN0aW9uKCl7ZS5jYWxsQ2FsbGJhY2sodGhpcy5vcHRpb25zLmJlZm9yZVRpY2tUb0xhYmVsQ29udmVyc2lvbixbdGhpc10pfSxjb252ZXJ0VGlja3NUb0xhYmVsczpmdW5jdGlvbigpe3ZhciB0PXRoaXM7dC50aWNrcz10LnRpY2tzLm1hcChmdW5jdGlvbihlLGEsaSl7cmV0dXJuIHQub3B0aW9ucy50aWNrcy51c2VyQ2FsbGJhY2s/dC5vcHRpb25zLnRpY2tzLnVzZXJDYWxsYmFjayhlLGEsaSk6dC5vcHRpb25zLnRpY2tzLmNhbGxiYWNrKGUsYSxpKX0sdCl9LGFmdGVyVGlja1RvTGFiZWxDb252ZXJzaW9uOmZ1bmN0aW9uKCl7ZS5jYWxsQ2FsbGJhY2sodGhpcy5vcHRpb25zLmFmdGVyVGlja1RvTGFiZWxDb252ZXJzaW9uLFt0aGlzXSl9LGJlZm9yZUNhbGN1bGF0ZVRpY2tSb3RhdGlvbjpmdW5jdGlvbigpe2UuY2FsbENhbGxiYWNrKHRoaXMub3B0aW9ucy5iZWZvcmVDYWxjdWxhdGVUaWNrUm90YXRpb24sW3RoaXNdKX0sY2FsY3VsYXRlVGlja1JvdGF0aW9uOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxpPWEuY3R4LG49dC5kZWZhdWx0cy5nbG9iYWwsbz1hLm9wdGlvbnMudGlja3Mscj1lLmdldFZhbHVlT3JEZWZhdWx0KG8uZm9udFNpemUsbi5kZWZhdWx0Rm9udFNpemUpLGw9ZS5nZXRWYWx1ZU9yRGVmYXVsdChvLmZvbnRTdHlsZSxuLmRlZmF1bHRGb250U3R5bGUpLHM9ZS5nZXRWYWx1ZU9yRGVmYXVsdChvLmZvbnRGYW1pbHksbi5kZWZhdWx0Rm9udEZhbWlseSksZD1lLmZvbnRTdHJpbmcocixsLHMpO2kuZm9udD1kO3ZhciB1LGM9aS5tZWFzdXJlVGV4dChhLnRpY2tzWzBdKS53aWR0aCxoPWkubWVhc3VyZVRleHQoYS50aWNrc1thLnRpY2tzLmxlbmd0aC0xXSkud2lkdGg7aWYoYS5sYWJlbFJvdGF0aW9uPW8ubWluUm90YXRpb258fDAsYS5wYWRkaW5nUmlnaHQ9MCxhLnBhZGRpbmdMZWZ0PTAsYS5vcHRpb25zLmRpc3BsYXkmJmEuaXNIb3Jpem9udGFsKCkpe2EucGFkZGluZ1JpZ2h0PWgvMiszLGEucGFkZGluZ0xlZnQ9Yy8yKzMsYS5sb25nZXN0VGV4dENhY2hlfHwoYS5sb25nZXN0VGV4dENhY2hlPXt9KTtmb3IodmFyIGYsZyxwPWUubG9uZ2VzdFRleHQoaSxkLGEudGlja3MsYS5sb25nZXN0VGV4dENhY2hlKSxtPXAsYj1hLmdldFBpeGVsRm9yVGljaygxKS1hLmdldFBpeGVsRm9yVGljaygwKS02O20+YiYmYS5sYWJlbFJvdGF0aW9uPG8ubWF4Um90YXRpb247KXtpZihmPU1hdGguY29zKGUudG9SYWRpYW5zKGEubGFiZWxSb3RhdGlvbikpLGc9TWF0aC5zaW4oZS50b1JhZGlhbnMoYS5sYWJlbFJvdGF0aW9uKSksdT1mKmMsdStyLzI+YS55TGFiZWxXaWR0aCYmKGEucGFkZGluZ0xlZnQ9dStyLzIpLGEucGFkZGluZ1JpZ2h0PXIvMixnKnA+YS5tYXhIZWlnaHQpe2EubGFiZWxSb3RhdGlvbi0tO2JyZWFrfWEubGFiZWxSb3RhdGlvbisrLG09ZipwfX1hLm1hcmdpbnMmJihhLnBhZGRpbmdMZWZ0PU1hdGgubWF4KGEucGFkZGluZ0xlZnQtYS5tYXJnaW5zLmxlZnQsMCksYS5wYWRkaW5nUmlnaHQ9TWF0aC5tYXgoYS5wYWRkaW5nUmlnaHQtYS5tYXJnaW5zLnJpZ2h0LDApKX0sYWZ0ZXJDYWxjdWxhdGVUaWNrUm90YXRpb246ZnVuY3Rpb24oKXtlLmNhbGxDYWxsYmFjayh0aGlzLm9wdGlvbnMuYWZ0ZXJDYWxjdWxhdGVUaWNrUm90YXRpb24sW3RoaXNdKX0sYmVmb3JlRml0OmZ1bmN0aW9uKCl7ZS5jYWxsQ2FsbGJhY2sodGhpcy5vcHRpb25zLmJlZm9yZUZpdCxbdGhpc10pO1xufSxmaXQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGk9YS5taW5TaXplPXt3aWR0aDowLGhlaWdodDowfSxuPWEub3B0aW9ucyxvPXQuZGVmYXVsdHMuZ2xvYmFsLHI9bi50aWNrcyxsPW4uc2NhbGVMYWJlbCxzPW4uZGlzcGxheSxkPWEuaXNIb3Jpem9udGFsKCksdT1lLmdldFZhbHVlT3JEZWZhdWx0KHIuZm9udFNpemUsby5kZWZhdWx0Rm9udFNpemUpLGM9ZS5nZXRWYWx1ZU9yRGVmYXVsdChyLmZvbnRTdHlsZSxvLmRlZmF1bHRGb250U3R5bGUpLGg9ZS5nZXRWYWx1ZU9yRGVmYXVsdChyLmZvbnRGYW1pbHksby5kZWZhdWx0Rm9udEZhbWlseSksZj1lLmZvbnRTdHJpbmcodSxjLGgpLGc9ZS5nZXRWYWx1ZU9yRGVmYXVsdChsLmZvbnRTaXplLG8uZGVmYXVsdEZvbnRTaXplKSxwPW4uZ3JpZExpbmVzLnRpY2tNYXJrTGVuZ3RoO2lmKGQ/aS53aWR0aD1hLmlzRnVsbFdpZHRoKCk/YS5tYXhXaWR0aC1hLm1hcmdpbnMubGVmdC1hLm1hcmdpbnMucmlnaHQ6YS5tYXhXaWR0aDppLndpZHRoPXM/cDowLGQ/aS5oZWlnaHQ9cz9wOjA6aS5oZWlnaHQ9YS5tYXhIZWlnaHQsbC5kaXNwbGF5JiZzJiYoZD9pLmhlaWdodCs9MS41Kmc6aS53aWR0aCs9MS41KmcpLHIuZGlzcGxheSYmcyl7YS5sb25nZXN0VGV4dENhY2hlfHwoYS5sb25nZXN0VGV4dENhY2hlPXt9KTt2YXIgbT1lLmxvbmdlc3RUZXh0KGEuY3R4LGYsYS50aWNrcyxhLmxvbmdlc3RUZXh0Q2FjaGUpLGI9ZS5udW1iZXJPZkxhYmVsTGluZXMoYS50aWNrcyksdj0uNSp1O2lmKGQpe2EubG9uZ2VzdExhYmVsV2lkdGg9bTt2YXIgeD1NYXRoLnNpbihlLnRvUmFkaWFucyhhLmxhYmVsUm90YXRpb24pKSphLmxvbmdlc3RMYWJlbFdpZHRoK3UqYit2KmI7aS5oZWlnaHQ9TWF0aC5taW4oYS5tYXhIZWlnaHQsaS5oZWlnaHQreCksYS5jdHguZm9udD1mO3ZhciB5PWEuY3R4Lm1lYXN1cmVUZXh0KGEudGlja3NbMF0pLndpZHRoLGs9YS5jdHgubWVhc3VyZVRleHQoYS50aWNrc1thLnRpY2tzLmxlbmd0aC0xXSkud2lkdGgsUz1NYXRoLmNvcyhlLnRvUmFkaWFucyhhLmxhYmVsUm90YXRpb24pKSx3PU1hdGguc2luKGUudG9SYWRpYW5zKGEubGFiZWxSb3RhdGlvbikpO2EucGFkZGluZ0xlZnQ9MCE9PWEubGFiZWxSb3RhdGlvbj9TKnkrMzp5LzIrMyxhLnBhZGRpbmdSaWdodD0wIT09YS5sYWJlbFJvdGF0aW9uP3cqKHUvMikrMzprLzIrM31lbHNle3ZhciBDPWEubWF4V2lkdGgtaS53aWR0aCxNPXIubWlycm9yO00/bT0wOm0rPWEub3B0aW9ucy50aWNrcy5wYWRkaW5nLEM+bT9pLndpZHRoKz1tOmkud2lkdGg9YS5tYXhXaWR0aCxhLnBhZGRpbmdUb3A9dS8yLGEucGFkZGluZ0JvdHRvbT11LzJ9fWEubWFyZ2lucyYmKGEucGFkZGluZ0xlZnQ9TWF0aC5tYXgoYS5wYWRkaW5nTGVmdC1hLm1hcmdpbnMubGVmdCwwKSxhLnBhZGRpbmdUb3A9TWF0aC5tYXgoYS5wYWRkaW5nVG9wLWEubWFyZ2lucy50b3AsMCksYS5wYWRkaW5nUmlnaHQ9TWF0aC5tYXgoYS5wYWRkaW5nUmlnaHQtYS5tYXJnaW5zLnJpZ2h0LDApLGEucGFkZGluZ0JvdHRvbT1NYXRoLm1heChhLnBhZGRpbmdCb3R0b20tYS5tYXJnaW5zLmJvdHRvbSwwKSksYS53aWR0aD1pLndpZHRoLGEuaGVpZ2h0PWkuaGVpZ2h0fSxhZnRlckZpdDpmdW5jdGlvbigpe2UuY2FsbENhbGxiYWNrKHRoaXMub3B0aW9ucy5hZnRlckZpdCxbdGhpc10pfSxpc0hvcml6b250YWw6ZnVuY3Rpb24oKXtyZXR1cm5cInRvcFwiPT09dGhpcy5vcHRpb25zLnBvc2l0aW9ufHxcImJvdHRvbVwiPT09dGhpcy5vcHRpb25zLnBvc2l0aW9ufSxpc0Z1bGxXaWR0aDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm9wdGlvbnMuZnVsbFdpZHRofSxnZXRSaWdodFZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBudWxsPT09dHx8XCJ1bmRlZmluZWRcIj09dHlwZW9mIHQ/TmFOOlwibnVtYmVyXCI9PXR5cGVvZiB0JiZpc05hTih0KT9OYU46XCJvYmplY3RcIj09dHlwZW9mIHQ/dCBpbnN0YW5jZW9mIERhdGV8fHQuaXNWYWxpZD90OnRoaXMuZ2V0UmlnaHRWYWx1ZSh0aGlzLmlzSG9yaXpvbnRhbCgpP3QueDp0LnkpOnR9LGdldExhYmVsRm9ySW5kZXg6ZS5ub29wLGdldFBpeGVsRm9yVmFsdWU6ZS5ub29wLGdldFZhbHVlRm9yUGl4ZWw6ZS5ub29wLGdldFBpeGVsRm9yVGljazpmdW5jdGlvbih0LGUpe3ZhciBhPXRoaXM7aWYoYS5pc0hvcml6b250YWwoKSl7dmFyIGk9YS53aWR0aC0oYS5wYWRkaW5nTGVmdCthLnBhZGRpbmdSaWdodCksbj1pL01hdGgubWF4KGEudGlja3MubGVuZ3RoLShhLm9wdGlvbnMuZ3JpZExpbmVzLm9mZnNldEdyaWRMaW5lcz8wOjEpLDEpLG89bip0K2EucGFkZGluZ0xlZnQ7ZSYmKG8rPW4vMik7dmFyIHI9YS5sZWZ0K01hdGgucm91bmQobyk7cmV0dXJuIHIrPWEuaXNGdWxsV2lkdGgoKT9hLm1hcmdpbnMubGVmdDowfXZhciBsPWEuaGVpZ2h0LShhLnBhZGRpbmdUb3ArYS5wYWRkaW5nQm90dG9tKTtyZXR1cm4gYS50b3ArdCoobC8oYS50aWNrcy5sZW5ndGgtMSkpfSxnZXRQaXhlbEZvckRlY2ltYWw6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztpZihlLmlzSG9yaXpvbnRhbCgpKXt2YXIgYT1lLndpZHRoLShlLnBhZGRpbmdMZWZ0K2UucGFkZGluZ1JpZ2h0KSxpPWEqdCtlLnBhZGRpbmdMZWZ0LG49ZS5sZWZ0K01hdGgucm91bmQoaSk7cmV0dXJuIG4rPWUuaXNGdWxsV2lkdGgoKT9lLm1hcmdpbnMubGVmdDowfXJldHVybiBlLnRvcCt0KmUuaGVpZ2h0fSxnZXRCYXNlUGl4ZWw6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9dC5taW4sYT10Lm1heDtyZXR1cm4gdC5nZXRQaXhlbEZvclZhbHVlKHQuYmVnaW5BdFplcm8/MDowPmUmJjA+YT9hOmU+MCYmYT4wP2U6MCl9LGRyYXc6ZnVuY3Rpb24oYSl7dmFyIGk9dGhpcyxuPWkub3B0aW9ucztpZihuLmRpc3BsYXkpe3ZhciBvLHIsbD1pLmN0eCxzPXQuZGVmYXVsdHMuZ2xvYmFsLGQ9bi50aWNrcyx1PW4uZ3JpZExpbmVzLGM9bi5zY2FsZUxhYmVsLGg9MCE9PWkubGFiZWxSb3RhdGlvbixmPWQuYXV0b1NraXAsZz1pLmlzSG9yaXpvbnRhbCgpO2QubWF4VGlja3NMaW1pdCYmKHI9ZC5tYXhUaWNrc0xpbWl0KTt2YXIgcD1lLmdldFZhbHVlT3JEZWZhdWx0KGQuZm9udENvbG9yLHMuZGVmYXVsdEZvbnRDb2xvciksbT1lLmdldFZhbHVlT3JEZWZhdWx0KGQuZm9udFNpemUscy5kZWZhdWx0Rm9udFNpemUpLGI9ZS5nZXRWYWx1ZU9yRGVmYXVsdChkLmZvbnRTdHlsZSxzLmRlZmF1bHRGb250U3R5bGUpLHY9ZS5nZXRWYWx1ZU9yRGVmYXVsdChkLmZvbnRGYW1pbHkscy5kZWZhdWx0Rm9udEZhbWlseSkseD1lLmZvbnRTdHJpbmcobSxiLHYpLHk9dS50aWNrTWFya0xlbmd0aCxrPWUuZ2V0VmFsdWVPckRlZmF1bHQoYy5mb250Q29sb3Iscy5kZWZhdWx0Rm9udENvbG9yKSxTPWUuZ2V0VmFsdWVPckRlZmF1bHQoYy5mb250U2l6ZSxzLmRlZmF1bHRGb250U2l6ZSksdz1lLmdldFZhbHVlT3JEZWZhdWx0KGMuZm9udFN0eWxlLHMuZGVmYXVsdEZvbnRTdHlsZSksQz1lLmdldFZhbHVlT3JEZWZhdWx0KGMuZm9udEZhbWlseSxzLmRlZmF1bHRGb250RmFtaWx5KSxNPWUuZm9udFN0cmluZyhTLHcsQyksRD1lLnRvUmFkaWFucyhpLmxhYmVsUm90YXRpb24pLEE9TWF0aC5jb3MoRCksST1pLmxvbmdlc3RMYWJlbFdpZHRoKkE7bC5maWxsU3R5bGU9cDt2YXIgVD1bXTtpZihnKXtpZihvPSExLGgmJihJLz0yKSwoSStkLmF1dG9Ta2lwUGFkZGluZykqaS50aWNrcy5sZW5ndGg+aS53aWR0aC0oaS5wYWRkaW5nTGVmdCtpLnBhZGRpbmdSaWdodCkmJihvPTErTWF0aC5mbG9vcigoSStkLmF1dG9Ta2lwUGFkZGluZykqaS50aWNrcy5sZW5ndGgvKGkud2lkdGgtKGkucGFkZGluZ0xlZnQraS5wYWRkaW5nUmlnaHQpKSkpLHImJmkudGlja3MubGVuZ3RoPnIpZm9yKDshb3x8aS50aWNrcy5sZW5ndGgvKG98fDEpPnI7KW98fChvPTEpLG8rPTE7Znx8KG89ITEpfXZhciBGPVwicmlnaHRcIj09PW4ucG9zaXRpb24/aS5sZWZ0OmkucmlnaHQteSxQPVwicmlnaHRcIj09PW4ucG9zaXRpb24/aS5sZWZ0K3k6aS5yaWdodCxSPVwiYm90dG9tXCI9PT1uLnBvc2l0aW9uP2kudG9wOmkuYm90dG9tLXksXz1cImJvdHRvbVwiPT09bi5wb3NpdGlvbj9pLnRvcCt5OmkuYm90dG9tO2lmKGUuZWFjaChpLnRpY2tzLGZ1bmN0aW9uKHQscil7aWYodm9pZCAwIT09dCYmbnVsbCE9PXQpe3ZhciBsPWkudGlja3MubGVuZ3RoPT09cisxLHM9bz4xJiZyJW8+MHx8ciVvPT09MCYmcitvPj1pLnRpY2tzLmxlbmd0aDtpZigoIXN8fGwpJiZ2b2lkIDAhPT10JiZudWxsIT09dCl7dmFyIGMsZjtyPT09KFwidW5kZWZpbmVkXCIhPXR5cGVvZiBpLnplcm9MaW5lSW5kZXg/aS56ZXJvTGluZUluZGV4OjApPyhjPXUuemVyb0xpbmVXaWR0aCxmPXUuemVyb0xpbmVDb2xvcik6KGM9ZS5nZXRWYWx1ZUF0SW5kZXhPckRlZmF1bHQodS5saW5lV2lkdGgsciksZj1lLmdldFZhbHVlQXRJbmRleE9yRGVmYXVsdCh1LmNvbG9yLHIpKTt2YXIgcCxtLGIsdix4LGssUyx3LEMsTSxBLEk9XCJtaWRkbGVcIjtpZihnKXtofHwoST1cInRvcFwiPT09bi5wb3NpdGlvbj9cImJvdHRvbVwiOlwidG9wXCIpLEE9aD9cInJpZ2h0XCI6XCJjZW50ZXJcIjt2YXIgVj1pLmdldFBpeGVsRm9yVGljayhyKStlLmFsaWFzUGl4ZWwoYyk7Qz1pLmdldFBpeGVsRm9yVGljayhyLHUub2Zmc2V0R3JpZExpbmVzKStkLmxhYmVsT2Zmc2V0LE09aD9pLnRvcCsxMjpcInRvcFwiPT09bi5wb3NpdGlvbj9pLmJvdHRvbS15OmkudG9wK3kscD1iPXg9Uz1WLG09Uix2PV8saz1hLnRvcCx3PWEuYm90dG9tfWVsc2V7XCJsZWZ0XCI9PT1uLnBvc2l0aW9uP2QubWlycm9yPyhDPWkucmlnaHQrZC5wYWRkaW5nLEE9XCJsZWZ0XCIpOihDPWkucmlnaHQtZC5wYWRkaW5nLEE9XCJyaWdodFwiKTpkLm1pcnJvcj8oQz1pLmxlZnQtZC5wYWRkaW5nLEE9XCJyaWdodFwiKTooQz1pLmxlZnQrZC5wYWRkaW5nLEE9XCJsZWZ0XCIpO3ZhciBMPWkuZ2V0UGl4ZWxGb3JUaWNrKHIpO0wrPWUuYWxpYXNQaXhlbChjKSxNPWkuZ2V0UGl4ZWxGb3JUaWNrKHIsdS5vZmZzZXRHcmlkTGluZXMpLHA9RixiPVAseD1hLmxlZnQsUz1hLnJpZ2h0LG09dj1rPXc9TH1ULnB1c2goe3R4MTpwLHR5MTptLHR4MjpiLHR5Mjp2LHgxOngseTE6ayx4MjpTLHkyOncsbGFiZWxYOkMsbGFiZWxZOk0sZ2xXaWR0aDpjLGdsQ29sb3I6Zixyb3RhdGlvbjotMSpELGxhYmVsOnQsdGV4dEJhc2VsaW5lOkksdGV4dEFsaWduOkF9KX19fSksZS5lYWNoKFQsZnVuY3Rpb24odCl7aWYodS5kaXNwbGF5JiYobC5saW5lV2lkdGg9dC5nbFdpZHRoLGwuc3Ryb2tlU3R5bGU9dC5nbENvbG9yLGwuYmVnaW5QYXRoKCksdS5kcmF3VGlja3MmJihsLm1vdmVUbyh0LnR4MSx0LnR5MSksbC5saW5lVG8odC50eDIsdC50eTIpKSx1LmRyYXdPbkNoYXJ0QXJlYSYmKGwubW92ZVRvKHQueDEsdC55MSksbC5saW5lVG8odC54Mix0LnkyKSksbC5zdHJva2UoKSksZC5kaXNwbGF5KXtsLnNhdmUoKSxsLnRyYW5zbGF0ZSh0LmxhYmVsWCx0LmxhYmVsWSksbC5yb3RhdGUodC5yb3RhdGlvbiksbC5mb250PXgsbC50ZXh0QmFzZWxpbmU9dC50ZXh0QmFzZWxpbmUsbC50ZXh0QWxpZ249dC50ZXh0QWxpZ247dmFyIGE9dC5sYWJlbDtpZihlLmlzQXJyYXkoYSkpZm9yKHZhciBpPTAsbj0wO2k8YS5sZW5ndGg7KytpKWwuZmlsbFRleHQoXCJcIithW2ldLDAsbiksbis9MS41Km07ZWxzZSBsLmZpbGxUZXh0KGEsMCwwKTtsLnJlc3RvcmUoKX19KSxjLmRpc3BsYXkpe3ZhciBWLEwsTz0wO2lmKGcpVj1pLmxlZnQrKGkucmlnaHQtaS5sZWZ0KS8yLEw9XCJib3R0b21cIj09PW4ucG9zaXRpb24/aS5ib3R0b20tUy8yOmkudG9wK1MvMjtlbHNle3ZhciBCPVwibGVmdFwiPT09bi5wb3NpdGlvbjtWPUI/aS5sZWZ0K1MvMjppLnJpZ2h0LVMvMixMPWkudG9wKyhpLmJvdHRvbS1pLnRvcCkvMixPPUI/LS41Kk1hdGguUEk6LjUqTWF0aC5QSX1sLnNhdmUoKSxsLnRyYW5zbGF0ZShWLEwpLGwucm90YXRlKE8pLGwudGV4dEFsaWduPVwiY2VudGVyXCIsbC50ZXh0QmFzZWxpbmU9XCJtaWRkbGVcIixsLmZpbGxTdHlsZT1rLGwuZm9udD1NLGwuZmlsbFRleHQoYy5sYWJlbFN0cmluZywwLDApLGwucmVzdG9yZSgpfWlmKHUuZHJhd0JvcmRlcil7bC5saW5lV2lkdGg9ZS5nZXRWYWx1ZUF0SW5kZXhPckRlZmF1bHQodS5saW5lV2lkdGgsMCksbC5zdHJva2VTdHlsZT1lLmdldFZhbHVlQXRJbmRleE9yRGVmYXVsdCh1LmNvbG9yLDApO3ZhciBXPWkubGVmdCx6PWkucmlnaHQsTj1pLnRvcCxIPWkuYm90dG9tLEU9ZS5hbGlhc1BpeGVsKGwubGluZVdpZHRoKTtnPyhOPUg9XCJ0b3BcIj09PW4ucG9zaXRpb24/aS5ib3R0b206aS50b3AsTis9RSxIKz1FKTooVz16PVwibGVmdFwiPT09bi5wb3NpdGlvbj9pLnJpZ2h0OmkubGVmdCxXKz1FLHorPUUpLGwuYmVnaW5QYXRoKCksbC5tb3ZlVG8oVyxOKSxsLmxpbmVUbyh6LEgpLGwuc3Ryb2tlKCl9fX19KX19LHt9XSwzMjpbZnVuY3Rpb24odCxlLGEpe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1mdW5jdGlvbih0KXt2YXIgZT10LmhlbHBlcnM7dC5zY2FsZVNlcnZpY2U9e2NvbnN0cnVjdG9yczp7fSxkZWZhdWx0czp7fSxyZWdpc3RlclNjYWxlVHlwZTpmdW5jdGlvbih0LGEsaSl7dGhpcy5jb25zdHJ1Y3RvcnNbdF09YSx0aGlzLmRlZmF1bHRzW3RdPWUuY2xvbmUoaSl9LGdldFNjYWxlQ29uc3RydWN0b3I6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3JzLmhhc093blByb3BlcnR5KHQpP3RoaXMuY29uc3RydWN0b3JzW3RdOnZvaWQgMH0sZ2V0U2NhbGVEZWZhdWx0czpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5kZWZhdWx0cy5oYXNPd25Qcm9wZXJ0eShhKT9lLnNjYWxlTWVyZ2UodC5kZWZhdWx0cy5zY2FsZSx0aGlzLmRlZmF1bHRzW2FdKTp7fX0sdXBkYXRlU2NhbGVEZWZhdWx0czpmdW5jdGlvbih0LGEpe3ZhciBpPXRoaXMuZGVmYXVsdHM7aS5oYXNPd25Qcm9wZXJ0eSh0KSYmKGlbdF09ZS5leHRlbmQoaVt0XSxhKSl9LGFkZFNjYWxlc1RvTGF5b3V0OmZ1bmN0aW9uKGEpe2UuZWFjaChhLnNjYWxlcyxmdW5jdGlvbihlKXt0LmxheW91dFNlcnZpY2UuYWRkQm94KGEsZSl9KX19fX0se31dLDMzOltmdW5jdGlvbih0LGUsYSl7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPWZ1bmN0aW9uKHQpe3ZhciBlPXQuaGVscGVyczt0LmRlZmF1bHRzLmdsb2JhbC50aXRsZT17ZGlzcGxheTohMSxwb3NpdGlvbjpcInRvcFwiLGZ1bGxXaWR0aDohMCxmb250U3R5bGU6XCJib2xkXCIscGFkZGluZzoxMCx0ZXh0OlwiXCJ9O3ZhciBhPWUubm9vcDt0LlRpdGxlPXQuRWxlbWVudC5leHRlbmQoe2luaXRpYWxpemU6ZnVuY3Rpb24oYSl7dmFyIGk9dGhpcztlLmV4dGVuZChpLGEpLGkub3B0aW9ucz1lLmNvbmZpZ01lcmdlKHQuZGVmYXVsdHMuZ2xvYmFsLnRpdGxlLGEub3B0aW9ucyksaS5sZWdlbmRIaXRCb3hlcz1bXX0sYmVmb3JlVXBkYXRlOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5jaGFydC5vcHRpb25zO2EmJmEudGl0bGUmJih0aGlzLm9wdGlvbnM9ZS5jb25maWdNZXJnZSh0LmRlZmF1bHRzLmdsb2JhbC50aXRsZSxhLnRpdGxlKSl9LHVwZGF0ZTpmdW5jdGlvbih0LGUsYSl7dmFyIGk9dGhpcztyZXR1cm4gaS5iZWZvcmVVcGRhdGUoKSxpLm1heFdpZHRoPXQsaS5tYXhIZWlnaHQ9ZSxpLm1hcmdpbnM9YSxpLmJlZm9yZVNldERpbWVuc2lvbnMoKSxpLnNldERpbWVuc2lvbnMoKSxpLmFmdGVyU2V0RGltZW5zaW9ucygpLGkuYmVmb3JlQnVpbGRMYWJlbHMoKSxpLmJ1aWxkTGFiZWxzKCksaS5hZnRlckJ1aWxkTGFiZWxzKCksaS5iZWZvcmVGaXQoKSxpLmZpdCgpLGkuYWZ0ZXJGaXQoKSxpLmFmdGVyVXBkYXRlKCksaS5taW5TaXplfSxhZnRlclVwZGF0ZTphLGJlZm9yZVNldERpbWVuc2lvbnM6YSxzZXREaW1lbnNpb25zOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0LmlzSG9yaXpvbnRhbCgpPyh0LndpZHRoPXQubWF4V2lkdGgsdC5sZWZ0PTAsdC5yaWdodD10LndpZHRoKToodC5oZWlnaHQ9dC5tYXhIZWlnaHQsdC50b3A9MCx0LmJvdHRvbT10LmhlaWdodCksdC5wYWRkaW5nTGVmdD0wLHQucGFkZGluZ1RvcD0wLHQucGFkZGluZ1JpZ2h0PTAsdC5wYWRkaW5nQm90dG9tPTAsdC5taW5TaXplPXt3aWR0aDowLGhlaWdodDowfX0sYWZ0ZXJTZXREaW1lbnNpb25zOmEsYmVmb3JlQnVpbGRMYWJlbHM6YSxidWlsZExhYmVsczphLGFmdGVyQnVpbGRMYWJlbHM6YSxiZWZvcmVGaXQ6YSxmaXQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGk9ZS5nZXRWYWx1ZU9yRGVmYXVsdCxuPWEub3B0aW9ucyxvPXQuZGVmYXVsdHMuZ2xvYmFsLHI9bi5kaXNwbGF5LGw9aShuLmZvbnRTaXplLG8uZGVmYXVsdEZvbnRTaXplKSxzPWEubWluU2l6ZTthLmlzSG9yaXpvbnRhbCgpPyhzLndpZHRoPWEubWF4V2lkdGgscy5oZWlnaHQ9cj9sKzIqbi5wYWRkaW5nOjApOihzLndpZHRoPXI/bCsyKm4ucGFkZGluZzowLHMuaGVpZ2h0PWEubWF4SGVpZ2h0KSxhLndpZHRoPXMud2lkdGgsYS5oZWlnaHQ9cy5oZWlnaHR9LGFmdGVyRml0OmEsaXNIb3Jpem9udGFsOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5vcHRpb25zLnBvc2l0aW9uO3JldHVyblwidG9wXCI9PT10fHxcImJvdHRvbVwiPT09dH0sZHJhdzpmdW5jdGlvbigpe3ZhciBhPXRoaXMsaT1hLmN0eCxuPWUuZ2V0VmFsdWVPckRlZmF1bHQsbz1hLm9wdGlvbnMscj10LmRlZmF1bHRzLmdsb2JhbDtpZihvLmRpc3BsYXkpe3ZhciBsLHMsZD1uKG8uZm9udFNpemUsci5kZWZhdWx0Rm9udFNpemUpLHU9bihvLmZvbnRTdHlsZSxyLmRlZmF1bHRGb250U3R5bGUpLGM9bihvLmZvbnRGYW1pbHksci5kZWZhdWx0Rm9udEZhbWlseSksaD1lLmZvbnRTdHJpbmcoZCx1LGMpLGY9MCxnPWEudG9wLHA9YS5sZWZ0LG09YS5ib3R0b20sYj1hLnJpZ2h0O2kuZmlsbFN0eWxlPW4oby5mb250Q29sb3Isci5kZWZhdWx0Rm9udENvbG9yKSxpLmZvbnQ9aCxhLmlzSG9yaXpvbnRhbCgpPyhsPXArKGItcCkvMixzPWcrKG0tZykvMik6KGw9XCJsZWZ0XCI9PT1vLnBvc2l0aW9uP3ArZC8yOmItZC8yLHM9ZysobS1nKS8yLGY9TWF0aC5QSSooXCJsZWZ0XCI9PT1vLnBvc2l0aW9uPy0uNTouNSkpLGkuc2F2ZSgpLGkudHJhbnNsYXRlKGwscyksaS5yb3RhdGUoZiksaS50ZXh0QWxpZ249XCJjZW50ZXJcIixpLnRleHRCYXNlbGluZT1cIm1pZGRsZVwiLGkuZmlsbFRleHQoby50ZXh0LDAsMCksaS5yZXN0b3JlKCl9fX0pLHQucGx1Z2lucy5yZWdpc3Rlcih7YmVmb3JlSW5pdDpmdW5jdGlvbihlKXt2YXIgYT1lLm9wdGlvbnMsaT1hLnRpdGxlO2kmJihlLnRpdGxlQmxvY2s9bmV3IHQuVGl0bGUoe2N0eDplLmNoYXJ0LmN0eCxvcHRpb25zOmksY2hhcnQ6ZX0pLHQubGF5b3V0U2VydmljZS5hZGRCb3goZSxlLnRpdGxlQmxvY2spKX19KX19LHt9XSwzNDpbZnVuY3Rpb24odCxlLGEpe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKHQsZSl7cmV0dXJuIGUmJihuLmlzQXJyYXkoZSk/QXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkodCxlKTp0LnB1c2goZSkpLHR9ZnVuY3Rpb24gYSh0KXtpZighdC5sZW5ndGgpcmV0dXJuITE7dmFyIGUsYSxpPVtdLG49W107Zm9yKGU9MCxhPXQubGVuZ3RoO2E+ZTsrK2Upe3ZhciBvPXRbZV07aWYobyYmby5oYXNWYWx1ZSgpKXt2YXIgcj1vLnRvb2x0aXBQb3NpdGlvbigpO2kucHVzaChyLngpLG4ucHVzaChyLnkpfX12YXIgbD0wLHM9MDtmb3IoZT0wO2U8aS5sZW5ndGg7KytlKWlbZV0mJihsKz1pW2VdLHMrPW5bZV0pO3JldHVybnt4Ok1hdGgucm91bmQobC9pLmxlbmd0aCkseTpNYXRoLnJvdW5kKHMvaS5sZW5ndGgpfX1mdW5jdGlvbiBpKHQpe3ZhciBlPXQuX3hTY2FsZSxhPXQuX3lTY2FsZXx8dC5fc2NhbGUsaT10Ll9pbmRleCxuPXQuX2RhdGFzZXRJbmRleDtyZXR1cm57eExhYmVsOmU/ZS5nZXRMYWJlbEZvckluZGV4KGksbik6XCJcIix5TGFiZWw6YT9hLmdldExhYmVsRm9ySW5kZXgoaSxuKTpcIlwiLGluZGV4OmksZGF0YXNldEluZGV4Om59fXZhciBuPXQuaGVscGVyczt0LmRlZmF1bHRzLmdsb2JhbC50b29sdGlwcz17ZW5hYmxlZDohMCxjdXN0b206bnVsbCxtb2RlOlwic2luZ2xlXCIsYmFja2dyb3VuZENvbG9yOlwicmdiYSgwLDAsMCwwLjgpXCIsdGl0bGVGb250U3R5bGU6XCJib2xkXCIsdGl0bGVTcGFjaW5nOjIsdGl0bGVNYXJnaW5Cb3R0b206Nix0aXRsZUZvbnRDb2xvcjpcIiNmZmZcIix0aXRsZUFsaWduOlwibGVmdFwiLGJvZHlTcGFjaW5nOjIsYm9keUZvbnRDb2xvcjpcIiNmZmZcIixib2R5QWxpZ246XCJsZWZ0XCIsZm9vdGVyRm9udFN0eWxlOlwiYm9sZFwiLGZvb3RlclNwYWNpbmc6Mixmb290ZXJNYXJnaW5Ub3A6Nixmb290ZXJGb250Q29sb3I6XCIjZmZmXCIsZm9vdGVyQWxpZ246XCJsZWZ0XCIseVBhZGRpbmc6Nix4UGFkZGluZzo2LHlBbGlnbjpcImNlbnRlclwiLHhBbGlnbjpcImNlbnRlclwiLGNhcmV0U2l6ZTo1LGNvcm5lclJhZGl1czo2LG11bHRpS2V5QmFja2dyb3VuZDpcIiNmZmZcIixjYWxsYmFja3M6e2JlZm9yZVRpdGxlOm4ubm9vcCx0aXRsZTpmdW5jdGlvbih0LGUpe3ZhciBhPVwiXCIsaT1lLmxhYmVscyxuPWk/aS5sZW5ndGg6MDtpZih0Lmxlbmd0aD4wKXt2YXIgbz10WzBdO28ueExhYmVsP2E9by54TGFiZWw6bj4wJiZvLmluZGV4PG4mJihhPWlbby5pbmRleF0pfXJldHVybiBhfSxhZnRlclRpdGxlOm4ubm9vcCxiZWZvcmVCb2R5Om4ubm9vcCxiZWZvcmVMYWJlbDpuLm5vb3AsbGFiZWw6ZnVuY3Rpb24odCxlKXt2YXIgYT1lLmRhdGFzZXRzW3QuZGF0YXNldEluZGV4XS5sYWJlbHx8XCJcIjtyZXR1cm4gYStcIjogXCIrdC55TGFiZWx9LGxhYmVsQ29sb3I6ZnVuY3Rpb24odCxlKXt2YXIgYT1lLmdldERhdGFzZXRNZXRhKHQuZGF0YXNldEluZGV4KSxpPWEuZGF0YVt0LmluZGV4XSxuPWkuX3ZpZXc7cmV0dXJue2JvcmRlckNvbG9yOm4uYm9yZGVyQ29sb3IsYmFja2dyb3VuZENvbG9yOm4uYmFja2dyb3VuZENvbG9yfX0sYWZ0ZXJMYWJlbDpuLm5vb3AsYWZ0ZXJCb2R5Om4ubm9vcCxiZWZvcmVGb290ZXI6bi5ub29wLGZvb3RlcjpuLm5vb3AsYWZ0ZXJGb290ZXI6bi5ub29wfX0sdC5Ub29sdGlwPXQuRWxlbWVudC5leHRlbmQoe2luaXRpYWxpemU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLGE9dC5kZWZhdWx0cy5nbG9iYWwsaT1lLl9vcHRpb25zLG89bi5nZXRWYWx1ZU9yRGVmYXVsdDtuLmV4dGVuZChlLHtfbW9kZWw6e3hQYWRkaW5nOmkueFBhZGRpbmcseVBhZGRpbmc6aS55UGFkZGluZyx4QWxpZ246aS54QWxpZ24seUFsaWduOmkueUFsaWduLGJvZHlGb250Q29sb3I6aS5ib2R5Rm9udENvbG9yLF9ib2R5Rm9udEZhbWlseTpvKGkuYm9keUZvbnRGYW1pbHksYS5kZWZhdWx0Rm9udEZhbWlseSksX2JvZHlGb250U3R5bGU6byhpLmJvZHlGb250U3R5bGUsYS5kZWZhdWx0Rm9udFN0eWxlKSxfYm9keUFsaWduOmkuYm9keUFsaWduLGJvZHlGb250U2l6ZTpvKGkuYm9keUZvbnRTaXplLGEuZGVmYXVsdEZvbnRTaXplKSxib2R5U3BhY2luZzppLmJvZHlTcGFjaW5nLHRpdGxlRm9udENvbG9yOmkudGl0bGVGb250Q29sb3IsX3RpdGxlRm9udEZhbWlseTpvKGkudGl0bGVGb250RmFtaWx5LGEuZGVmYXVsdEZvbnRGYW1pbHkpLF90aXRsZUZvbnRTdHlsZTpvKGkudGl0bGVGb250U3R5bGUsYS5kZWZhdWx0Rm9udFN0eWxlKSx0aXRsZUZvbnRTaXplOm8oaS50aXRsZUZvbnRTaXplLGEuZGVmYXVsdEZvbnRTaXplKSxfdGl0bGVBbGlnbjppLnRpdGxlQWxpZ24sdGl0bGVTcGFjaW5nOmkudGl0bGVTcGFjaW5nLHRpdGxlTWFyZ2luQm90dG9tOmkudGl0bGVNYXJnaW5Cb3R0b20sZm9vdGVyRm9udENvbG9yOmkuZm9vdGVyRm9udENvbG9yLF9mb290ZXJGb250RmFtaWx5Om8oaS5mb290ZXJGb250RmFtaWx5LGEuZGVmYXVsdEZvbnRGYW1pbHkpLF9mb290ZXJGb250U3R5bGU6byhpLmZvb3RlckZvbnRTdHlsZSxhLmRlZmF1bHRGb250U3R5bGUpLGZvb3RlckZvbnRTaXplOm8oaS5mb290ZXJGb250U2l6ZSxhLmRlZmF1bHRGb250U2l6ZSksX2Zvb3RlckFsaWduOmkuZm9vdGVyQWxpZ24sZm9vdGVyU3BhY2luZzppLmZvb3RlclNwYWNpbmcsZm9vdGVyTWFyZ2luVG9wOmkuZm9vdGVyTWFyZ2luVG9wLGNhcmV0U2l6ZTppLmNhcmV0U2l6ZSxjb3JuZXJSYWRpdXM6aS5jb3JuZXJSYWRpdXMsYmFja2dyb3VuZENvbG9yOmkuYmFja2dyb3VuZENvbG9yLG9wYWNpdHk6MCxsZWdlbmRDb2xvckJhY2tncm91bmQ6aS5tdWx0aUtleUJhY2tncm91bmR9fSl9LGdldFRpdGxlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxhPXQuX29wdGlvbnMsaT1hLmNhbGxiYWNrcyxuPWkuYmVmb3JlVGl0bGUuYXBwbHkodCxhcmd1bWVudHMpLG89aS50aXRsZS5hcHBseSh0LGFyZ3VtZW50cykscj1pLmFmdGVyVGl0bGUuYXBwbHkodCxhcmd1bWVudHMpLGw9W107cmV0dXJuIGw9ZShsLG4pLGw9ZShsLG8pLGw9ZShsLHIpfSxnZXRCZWZvcmVCb2R5OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fb3B0aW9ucy5jYWxsYmFja3MuYmVmb3JlQm9keS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIG4uaXNBcnJheSh0KT90OnZvaWQgMCE9PXQ/W3RdOltdfSxnZXRCb2R5OmZ1bmN0aW9uKHQsYSl7dmFyIGk9dGhpcyxvPWkuX29wdGlvbnMuY2FsbGJhY2tzLHI9W107cmV0dXJuIG4uZWFjaCh0LGZ1bmN0aW9uKHQpe3ZhciBuPXtiZWZvcmU6W10sbGluZXM6W10sYWZ0ZXI6W119O2Uobi5iZWZvcmUsby5iZWZvcmVMYWJlbC5jYWxsKGksdCxhKSksZShuLmxpbmVzLG8ubGFiZWwuY2FsbChpLHQsYSkpLGUobi5hZnRlcixvLmFmdGVyTGFiZWwuY2FsbChpLHQsYSkpLHIucHVzaChuKX0pLHJ9LGdldEFmdGVyQm9keTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX29wdGlvbnMuY2FsbGJhY2tzLmFmdGVyQm9keS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIG4uaXNBcnJheSh0KT90OnZvaWQgMCE9PXQ/W3RdOltdfSxnZXRGb290ZXI6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGE9dC5fb3B0aW9ucy5jYWxsYmFja3MsaT1hLmJlZm9yZUZvb3Rlci5hcHBseSh0LGFyZ3VtZW50cyksbj1hLmZvb3Rlci5hcHBseSh0LGFyZ3VtZW50cyksbz1hLmFmdGVyRm9vdGVyLmFwcGx5KHQsYXJndW1lbnRzKSxyPVtdO3JldHVybiByPWUocixpKSxyPWUocixuKSxyPWUocixvKX0sdXBkYXRlOmZ1bmN0aW9uKHQpe3ZhciBlLG8scj10aGlzLGw9ci5fb3B0aW9ucyxzPXIuX21vZGVsLGQ9ci5fYWN0aXZlLHU9ci5fZGF0YSxjPXIuX2NoYXJ0SW5zdGFuY2U7aWYoZC5sZW5ndGgpe3Mub3BhY2l0eT0xO3ZhciBoPVtdLGY9YShkKSxnPVtdO2ZvcihlPTAsbz1kLmxlbmd0aDtvPmU7KytlKWcucHVzaChpKGRbZV0pKTtsLml0ZW1Tb3J0JiYoZz1nLnNvcnQobC5pdGVtU29ydCkpLGQubGVuZ3RoPjEmJm4uZWFjaChnLGZ1bmN0aW9uKHQpe2gucHVzaChsLmNhbGxiYWNrcy5sYWJlbENvbG9yLmNhbGwocix0LGMpKX0pLG4uZXh0ZW5kKHMse3RpdGxlOnIuZ2V0VGl0bGUoZyx1KSxiZWZvcmVCb2R5OnIuZ2V0QmVmb3JlQm9keShnLHUpLGJvZHk6ci5nZXRCb2R5KGcsdSksYWZ0ZXJCb2R5OnIuZ2V0QWZ0ZXJCb2R5KGcsdSksZm9vdGVyOnIuZ2V0Rm9vdGVyKGcsdSkseDpNYXRoLnJvdW5kKGYueCkseTpNYXRoLnJvdW5kKGYueSksY2FyZXRQYWRkaW5nOm4uZ2V0VmFsdWVPckRlZmF1bHQoZi5wYWRkaW5nLDIpLGxhYmVsQ29sb3JzOmh9KTt2YXIgcD1yLmdldFRvb2x0aXBTaXplKHMpO3IuZGV0ZXJtaW5lQWxpZ25tZW50KHApLG4uZXh0ZW5kKHMsci5nZXRCYWNrZ3JvdW5kUG9pbnQocyxwKSl9ZWxzZSByLl9tb2RlbC5vcGFjaXR5PTA7cmV0dXJuIHQmJmwuY3VzdG9tJiZsLmN1c3RvbS5jYWxsKHIscykscn0sZ2V0VG9vbHRpcFNpemU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fY2hhcnQuY3R4LGE9e2hlaWdodDoyKnQueVBhZGRpbmcsd2lkdGg6MH0saT10LmJvZHksbz1pLnJlZHVjZShmdW5jdGlvbih0LGUpe3JldHVybiB0K2UuYmVmb3JlLmxlbmd0aCtlLmxpbmVzLmxlbmd0aCtlLmFmdGVyLmxlbmd0aH0sMCk7bys9dC5iZWZvcmVCb2R5Lmxlbmd0aCt0LmFmdGVyQm9keS5sZW5ndGg7dmFyIHI9dC50aXRsZS5sZW5ndGgsbD10LmZvb3Rlci5sZW5ndGgscz10LnRpdGxlRm9udFNpemUsZD10LmJvZHlGb250U2l6ZSx1PXQuZm9vdGVyRm9udFNpemU7YS5oZWlnaHQrPXIqcyxhLmhlaWdodCs9KHItMSkqdC50aXRsZVNwYWNpbmcsYS5oZWlnaHQrPXI/dC50aXRsZU1hcmdpbkJvdHRvbTowLGEuaGVpZ2h0Kz1vKmQsYS5oZWlnaHQrPW8/KG8tMSkqdC5ib2R5U3BhY2luZzowLGEuaGVpZ2h0Kz1sP3QuZm9vdGVyTWFyZ2luVG9wOjAsYS5oZWlnaHQrPWwqdSxhLmhlaWdodCs9bD8obC0xKSp0LmZvb3RlclNwYWNpbmc6MDt2YXIgYz0wLGg9ZnVuY3Rpb24odCl7YS53aWR0aD1NYXRoLm1heChhLndpZHRoLGUubWVhc3VyZVRleHQodCkud2lkdGgrYyl9O3JldHVybiBlLmZvbnQ9bi5mb250U3RyaW5nKHMsdC5fdGl0bGVGb250U3R5bGUsdC5fdGl0bGVGb250RmFtaWx5KSxuLmVhY2godC50aXRsZSxoKSxlLmZvbnQ9bi5mb250U3RyaW5nKGQsdC5fYm9keUZvbnRTdHlsZSx0Ll9ib2R5Rm9udEZhbWlseSksbi5lYWNoKHQuYmVmb3JlQm9keS5jb25jYXQodC5hZnRlckJvZHkpLGgpLGM9aS5sZW5ndGg+MT9kKzI6MCxuLmVhY2goaSxmdW5jdGlvbih0KXtuLmVhY2godC5iZWZvcmUsaCksbi5lYWNoKHQubGluZXMsaCksbi5lYWNoKHQuYWZ0ZXIsaCl9KSxjPTAsZS5mb250PW4uZm9udFN0cmluZyh1LHQuX2Zvb3RlckZvbnRTdHlsZSx0Ll9mb290ZXJGb250RmFtaWx5KSxuLmVhY2godC5mb290ZXIsaCksYS53aWR0aCs9Mip0LnhQYWRkaW5nLGF9LGRldGVybWluZUFsaWdubWVudDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLGE9ZS5fbW9kZWwsaT1lLl9jaGFydCxuPWUuX2NoYXJ0SW5zdGFuY2UuY2hhcnRBcmVhO2EueTx0LmhlaWdodD9hLnlBbGlnbj1cInRvcFwiOmEueT5pLmhlaWdodC10LmhlaWdodCYmKGEueUFsaWduPVwiYm90dG9tXCIpO3ZhciBvLHIsbCxzLGQsdT0obi5sZWZ0K24ucmlnaHQpLzIsYz0obi50b3Arbi5ib3R0b20pLzI7XCJjZW50ZXJcIj09PWEueUFsaWduPyhvPWZ1bmN0aW9uKHQpe3JldHVybiB1Pj10fSxyPWZ1bmN0aW9uKHQpe3JldHVybiB0PnV9KToobz1mdW5jdGlvbihlKXtyZXR1cm4gZTw9dC53aWR0aC8yfSxyPWZ1bmN0aW9uKGUpe3JldHVybiBlPj1pLndpZHRoLXQud2lkdGgvMn0pLGw9ZnVuY3Rpb24oZSl7cmV0dXJuIGUrdC53aWR0aD5pLndpZHRofSxzPWZ1bmN0aW9uKGUpe3JldHVybiBlLXQud2lkdGg8MH0sZD1mdW5jdGlvbih0KXtyZXR1cm4gYz49dD9cInRvcFwiOlwiYm90dG9tXCJ9LG8oYS54KT8oYS54QWxpZ249XCJsZWZ0XCIsbChhLngpJiYoYS54QWxpZ249XCJjZW50ZXJcIixhLnlBbGlnbj1kKGEueSkpKTpyKGEueCkmJihhLnhBbGlnbj1cInJpZ2h0XCIscyhhLngpJiYoYS54QWxpZ249XCJjZW50ZXJcIixhLnlBbGlnbj1kKGEueSkpKX0sZ2V0QmFja2dyb3VuZFBvaW50OmZ1bmN0aW9uKHQsZSl7dmFyIGE9e3g6dC54LHk6dC55fSxpPXQuY2FyZXRTaXplLG49dC5jYXJldFBhZGRpbmcsbz10LmNvcm5lclJhZGl1cyxyPXQueEFsaWduLGw9dC55QWxpZ24scz1pK24sZD1vK247cmV0dXJuXCJyaWdodFwiPT09cj9hLngtPWUud2lkdGg6XCJjZW50ZXJcIj09PXImJihhLngtPWUud2lkdGgvMiksXCJ0b3BcIj09PWw/YS55Kz1zOlwiYm90dG9tXCI9PT1sP2EueS09ZS5oZWlnaHQrczphLnktPWUuaGVpZ2h0LzIsXCJjZW50ZXJcIj09PWw/XCJsZWZ0XCI9PT1yP2EueCs9czpcInJpZ2h0XCI9PT1yJiYoYS54LT1zKTpcImxlZnRcIj09PXI/YS54LT1kOlwicmlnaHRcIj09PXImJihhLngrPWQpLGF9LGRyYXdDYXJldDpmdW5jdGlvbih0LGUsYSl7dmFyIGksbyxyLGwscyxkLHU9dGhpcy5fdmlldyxjPXRoaXMuX2NoYXJ0LmN0eCxoPXUuY2FyZXRTaXplLGY9dS5jb3JuZXJSYWRpdXMsZz11LnhBbGlnbixwPXUueUFsaWduLG09dC54LGI9dC55LHY9ZS53aWR0aCx4PWUuaGVpZ2h0O1wiY2VudGVyXCI9PT1wPyhcImxlZnRcIj09PWc/KGk9bSxvPWktaCxyPWkpOihpPW0rdixvPWkraCxyPWkpLHM9Yit4LzIsbD1zLWgsZD1zK2gpOihcImxlZnRcIj09PWc/KGk9bStmLG89aStoLHI9bytoKTpcInJpZ2h0XCI9PT1nPyhpPW0rdi1mLG89aS1oLHI9by1oKToobz1tK3YvMixpPW8taCxyPW8raCksXCJ0b3BcIj09PXA/KGw9YixzPWwtaCxkPWwpOihsPWIreCxzPWwraCxkPWwpKTt2YXIgeT1uLmNvbG9yKHUuYmFja2dyb3VuZENvbG9yKTtjLmZpbGxTdHlsZT15LmFscGhhKGEqeS5hbHBoYSgpKS5yZ2JTdHJpbmcoKSxjLmJlZ2luUGF0aCgpLGMubW92ZVRvKGksbCksYy5saW5lVG8obyxzKSxjLmxpbmVUbyhyLGQpLGMuY2xvc2VQYXRoKCksYy5maWxsKCl9LGRyYXdUaXRsZTpmdW5jdGlvbih0LGUsYSxpKXt2YXIgbz1lLnRpdGxlO2lmKG8ubGVuZ3RoKXthLnRleHRBbGlnbj1lLl90aXRsZUFsaWduLGEudGV4dEJhc2VsaW5lPVwidG9wXCI7dmFyIHI9ZS50aXRsZUZvbnRTaXplLGw9ZS50aXRsZVNwYWNpbmcscz1uLmNvbG9yKGUudGl0bGVGb250Q29sb3IpO2EuZmlsbFN0eWxlPXMuYWxwaGEoaSpzLmFscGhhKCkpLnJnYlN0cmluZygpLGEuZm9udD1uLmZvbnRTdHJpbmcocixlLl90aXRsZUZvbnRTdHlsZSxlLl90aXRsZUZvbnRGYW1pbHkpO3ZhciBkLHU7Zm9yKGQ9MCx1PW8ubGVuZ3RoO3U+ZDsrK2QpYS5maWxsVGV4dChvW2RdLHQueCx0LnkpLHQueSs9citsLGQrMT09PW8ubGVuZ3RoJiYodC55Kz1lLnRpdGxlTWFyZ2luQm90dG9tLWwpfX0sZHJhd0JvZHk6ZnVuY3Rpb24odCxlLGEsaSl7dmFyIG89ZS5ib2R5Rm9udFNpemUscj1lLmJvZHlTcGFjaW5nLGw9ZS5ib2R5O2EudGV4dEFsaWduPWUuX2JvZHlBbGlnbixhLnRleHRCYXNlbGluZT1cInRvcFwiO3ZhciBzPW4uY29sb3IoZS5ib2R5Rm9udENvbG9yKSxkPXMuYWxwaGEoaSpzLmFscGhhKCkpLnJnYlN0cmluZygpO2EuZmlsbFN0eWxlPWQsYS5mb250PW4uZm9udFN0cmluZyhvLGUuX2JvZHlGb250U3R5bGUsZS5fYm9keUZvbnRGYW1pbHkpO3ZhciB1PTAsYz1mdW5jdGlvbihlKXthLmZpbGxUZXh0KGUsdC54K3UsdC55KSx0LnkrPW8rcn07bi5lYWNoKGUuYmVmb3JlQm9keSxjKTt2YXIgaD1sLmxlbmd0aD4xO3U9aD9vKzI6MCxuLmVhY2gobCxmdW5jdGlvbihyLGwpe24uZWFjaChyLmJlZm9yZSxjKSxuLmVhY2goci5saW5lcyxmdW5jdGlvbihyKXtoJiYoYS5maWxsU3R5bGU9bi5jb2xvcihlLmxlZ2VuZENvbG9yQmFja2dyb3VuZCkuYWxwaGEoaSkucmdiYVN0cmluZygpLGEuZmlsbFJlY3QodC54LHQueSxvLG8pLGEuc3Ryb2tlU3R5bGU9bi5jb2xvcihlLmxhYmVsQ29sb3JzW2xdLmJvcmRlckNvbG9yKS5hbHBoYShpKS5yZ2JhU3RyaW5nKCksYS5zdHJva2VSZWN0KHQueCx0LnksbyxvKSxhLmZpbGxTdHlsZT1uLmNvbG9yKGUubGFiZWxDb2xvcnNbbF0uYmFja2dyb3VuZENvbG9yKS5hbHBoYShpKS5yZ2JhU3RyaW5nKCksYS5maWxsUmVjdCh0LngrMSx0LnkrMSxvLTIsby0yKSxhLmZpbGxTdHlsZT1kKSxjKHIpfSksbi5lYWNoKHIuYWZ0ZXIsYyl9KSx1PTAsbi5lYWNoKGUuYWZ0ZXJCb2R5LGMpLHQueS09cn0sZHJhd0Zvb3RlcjpmdW5jdGlvbih0LGUsYSxpKXt2YXIgbz1lLmZvb3RlcjtpZihvLmxlbmd0aCl7dC55Kz1lLmZvb3Rlck1hcmdpblRvcCxhLnRleHRBbGlnbj1lLl9mb290ZXJBbGlnbixhLnRleHRCYXNlbGluZT1cInRvcFwiO3ZhciByPW4uY29sb3IoZS5mb290ZXJGb250Q29sb3IpO2EuZmlsbFN0eWxlPXIuYWxwaGEoaSpyLmFscGhhKCkpLnJnYlN0cmluZygpLGEuZm9udD1uLmZvbnRTdHJpbmcoZS5mb290ZXJGb250U2l6ZSxlLl9mb290ZXJGb250U3R5bGUsZS5fZm9vdGVyRm9udEZhbWlseSksbi5lYWNoKG8sZnVuY3Rpb24oaSl7YS5maWxsVGV4dChpLHQueCx0LnkpLHQueSs9ZS5mb290ZXJGb250U2l6ZStlLmZvb3RlclNwYWNpbmd9KX19LGRyYXc6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9jaGFydC5jdHgsZT10aGlzLl92aWV3O2lmKDAhPT1lLm9wYWNpdHkpe3ZhciBhPXRoaXMuZ2V0VG9vbHRpcFNpemUoZSksaT17eDplLngseTplLnl9LG89TWF0aC5hYnMoZS5vcGFjaXR5PC4wMDEpPzA6ZS5vcGFjaXR5O2lmKHRoaXMuX29wdGlvbnMuZW5hYmxlZCl7dmFyIHI9bi5jb2xvcihlLmJhY2tncm91bmRDb2xvcik7dC5maWxsU3R5bGU9ci5hbHBoYShvKnIuYWxwaGEoKSkucmdiU3RyaW5nKCksbi5kcmF3Um91bmRlZFJlY3RhbmdsZSh0LGkueCxpLnksYS53aWR0aCxhLmhlaWdodCxlLmNvcm5lclJhZGl1cyksdC5maWxsKCksdGhpcy5kcmF3Q2FyZXQoaSxhLG8pLGkueCs9ZS54UGFkZGluZyxpLnkrPWUueVBhZGRpbmcsdGhpcy5kcmF3VGl0bGUoaSxlLHQsbyksdGhpcy5kcmF3Qm9keShpLGUsdCxvKSx0aGlzLmRyYXdGb290ZXIoaSxlLHQsbyl9fX19KX19LHt9XSwzNTpbZnVuY3Rpb24odCxlLGEpe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1mdW5jdGlvbih0KXt2YXIgZT10LmhlbHBlcnMsYT10LmRlZmF1bHRzLmdsb2JhbDthLmVsZW1lbnRzLmFyYz17YmFja2dyb3VuZENvbG9yOmEuZGVmYXVsdENvbG9yLGJvcmRlckNvbG9yOlwiI2ZmZlwiLGJvcmRlcldpZHRoOjJ9LHQuZWxlbWVudHMuQXJjPXQuRWxlbWVudC5leHRlbmQoe2luTGFiZWxSYW5nZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl92aWV3O3JldHVybiBlP01hdGgucG93KHQtZS54LDIpPE1hdGgucG93KGUucmFkaXVzK2UuaG92ZXJSYWRpdXMsMik6ITF9LGluUmFuZ2U6ZnVuY3Rpb24odCxhKXt2YXIgaT10aGlzLl92aWV3O2lmKGkpe2Zvcih2YXIgbj1lLmdldEFuZ2xlRnJvbVBvaW50KGkse3g6dCx5OmF9KSxvPW4uYW5nbGUscj1uLmRpc3RhbmNlLGw9aS5zdGFydEFuZ2xlLHM9aS5lbmRBbmdsZTtsPnM7KXMrPTIqTWF0aC5QSTtmb3IoO28+czspby09MipNYXRoLlBJO2Zvcig7bD5vOylvKz0yKk1hdGguUEk7dmFyIGQ9bz49bCYmcz49byx1PXI+PWkuaW5uZXJSYWRpdXMmJnI8PWkub3V0ZXJSYWRpdXM7cmV0dXJuIGQmJnV9cmV0dXJuITF9LHRvb2x0aXBQb3NpdGlvbjpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX3ZpZXcsZT10LnN0YXJ0QW5nbGUrKHQuZW5kQW5nbGUtdC5zdGFydEFuZ2xlKS8yLGE9KHQub3V0ZXJSYWRpdXMtdC5pbm5lclJhZGl1cykvMit0LmlubmVyUmFkaXVzO3JldHVybnt4OnQueCtNYXRoLmNvcyhlKSphLHk6dC55K01hdGguc2luKGUpKmF9fSxkcmF3OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fY2hhcnQuY3R4LGU9dGhpcy5fdmlldyxhPWUuc3RhcnRBbmdsZSxpPWUuZW5kQW5nbGU7dC5iZWdpblBhdGgoKSx0LmFyYyhlLngsZS55LGUub3V0ZXJSYWRpdXMsYSxpKSx0LmFyYyhlLngsZS55LGUuaW5uZXJSYWRpdXMsaSxhLCEwKSx0LmNsb3NlUGF0aCgpLHQuc3Ryb2tlU3R5bGU9ZS5ib3JkZXJDb2xvcix0LmxpbmVXaWR0aD1lLmJvcmRlcldpZHRoLHQuZmlsbFN0eWxlPWUuYmFja2dyb3VuZENvbG9yLHQuZmlsbCgpLHQubGluZUpvaW49XCJiZXZlbFwiLGUuYm9yZGVyV2lkdGgmJnQuc3Ryb2tlKCl9fSl9fSx7fV0sMzY6W2Z1bmN0aW9uKHQsZSxhKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9ZnVuY3Rpb24odCl7dmFyIGU9dC5oZWxwZXJzLGE9dC5kZWZhdWx0cy5nbG9iYWw7dC5kZWZhdWx0cy5nbG9iYWwuZWxlbWVudHMubGluZT17dGVuc2lvbjouNCxiYWNrZ3JvdW5kQ29sb3I6YS5kZWZhdWx0Q29sb3IsYm9yZGVyV2lkdGg6Myxib3JkZXJDb2xvcjphLmRlZmF1bHRDb2xvcixib3JkZXJDYXBTdHlsZTpcImJ1dHRcIixib3JkZXJEYXNoOltdLGJvcmRlckRhc2hPZmZzZXQ6MCxib3JkZXJKb2luU3R5bGU6XCJtaXRlclwiLGNhcEJlemllclBvaW50czohMCxmaWxsOiEwfSx0LmVsZW1lbnRzLkxpbmU9dC5FbGVtZW50LmV4dGVuZCh7ZHJhdzpmdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXt2YXIgYT1lLl92aWV3O2UuX3ZpZXcuc3RlcHBlZExpbmU9PT0hMD8ocy5saW5lVG8oZS5fdmlldy54LHQuX3ZpZXcueSkscy5saW5lVG8oZS5fdmlldy54LGUuX3ZpZXcueSkpOjA9PT1lLl92aWV3LnRlbnNpb24/cy5saW5lVG8oYS54LGEueSk6cy5iZXppZXJDdXJ2ZVRvKHQuX3ZpZXcuY29udHJvbFBvaW50TmV4dFgsdC5fdmlldy5jb250cm9sUG9pbnROZXh0WSxhLmNvbnRyb2xQb2ludFByZXZpb3VzWCxhLmNvbnRyb2xQb2ludFByZXZpb3VzWSxhLngsYS55KX12YXIgaT10aGlzLG49aS5fdmlldyxvPW4uc3BhbkdhcHMscj1uLnNjYWxlWmVybyxsPWkuX2xvb3Ascz1pLl9jaGFydC5jdHg7cy5zYXZlKCk7dmFyIGQ9aS5fY2hpbGRyZW4uc2xpY2UoKSx1PS0xO2wmJmQubGVuZ3RoJiZkLnB1c2goZFswXSk7dmFyIGMsaCxmLGc7aWYoZC5sZW5ndGgmJm4uZmlsbCl7Zm9yKHMuYmVnaW5QYXRoKCksYz0wO2M8ZC5sZW5ndGg7KytjKWg9ZFtjXSxmPWUucHJldmlvdXNJdGVtKGQsYyksZz1oLl92aWV3LDA9PT1jPyhsP3MubW92ZVRvKHIueCxyLnkpOnMubW92ZVRvKGcueCxyKSxnLnNraXB8fCh1PWMscy5saW5lVG8oZy54LGcueSkpKTooZj0tMT09PXU/ZjpkW3VdLGcuc2tpcD9vfHx1IT09Yy0xfHwobD9zLmxpbmVUbyhyLngsci55KTpzLmxpbmVUbyhmLl92aWV3LngscikpOih1IT09Yy0xP28mJi0xIT09dT90KGYsaCk6bD9zLmxpbmVUbyhnLngsZy55KToocy5saW5lVG8oZy54LHIpLHMubGluZVRvKGcueCxnLnkpKTp0KGYsaCksdT1jKSk7bHx8cy5saW5lVG8oZFt1XS5fdmlldy54LHIpLHMuZmlsbFN0eWxlPW4uYmFja2dyb3VuZENvbG9yfHxhLmRlZmF1bHRDb2xvcixzLmNsb3NlUGF0aCgpLHMuZmlsbCgpfXZhciBwPWEuZWxlbWVudHMubGluZTtmb3Iocy5saW5lQ2FwPW4uYm9yZGVyQ2FwU3R5bGV8fHAuYm9yZGVyQ2FwU3R5bGUscy5zZXRMaW5lRGFzaCYmcy5zZXRMaW5lRGFzaChuLmJvcmRlckRhc2h8fHAuYm9yZGVyRGFzaCkscy5saW5lRGFzaE9mZnNldD1uLmJvcmRlckRhc2hPZmZzZXR8fHAuYm9yZGVyRGFzaE9mZnNldCxzLmxpbmVKb2luPW4uYm9yZGVySm9pblN0eWxlfHxwLmJvcmRlckpvaW5TdHlsZSxzLmxpbmVXaWR0aD1uLmJvcmRlcldpZHRofHxwLmJvcmRlcldpZHRoLHMuc3Ryb2tlU3R5bGU9bi5ib3JkZXJDb2xvcnx8YS5kZWZhdWx0Q29sb3Iscy5iZWdpblBhdGgoKSx1PS0xLGM9MDtjPGQubGVuZ3RoOysrYyloPWRbY10sZj1lLnByZXZpb3VzSXRlbShkLGMpLGc9aC5fdmlldywwPT09Yz9nLnNraXB8fChzLm1vdmVUbyhnLngsZy55KSx1PWMpOihmPS0xPT09dT9mOmRbdV0sZy5za2lwfHwodSE9PWMtMSYmIW98fC0xPT09dT9zLm1vdmVUbyhnLngsZy55KTp0KGYsaCksdT1jKSk7cy5zdHJva2UoKSxzLnJlc3RvcmUoKX19KX19LHt9XSwzNzpbZnVuY3Rpb24odCxlLGEpe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1mdW5jdGlvbih0KXt2YXIgZT10LmhlbHBlcnMsYT10LmRlZmF1bHRzLmdsb2JhbCxpPWEuZGVmYXVsdENvbG9yO2EuZWxlbWVudHMucG9pbnQ9e3JhZGl1czozLHBvaW50U3R5bGU6XCJjaXJjbGVcIixiYWNrZ3JvdW5kQ29sb3I6aSxib3JkZXJXaWR0aDoxLGJvcmRlckNvbG9yOmksaGl0UmFkaXVzOjEsaG92ZXJSYWRpdXM6NCxob3ZlckJvcmRlcldpZHRoOjF9LHQuZWxlbWVudHMuUG9pbnQ9dC5FbGVtZW50LmV4dGVuZCh7aW5SYW5nZTpmdW5jdGlvbih0LGUpe3ZhciBhPXRoaXMuX3ZpZXc7cmV0dXJuIGE/TWF0aC5wb3codC1hLngsMikrTWF0aC5wb3coZS1hLnksMik8TWF0aC5wb3coYS5oaXRSYWRpdXMrYS5yYWRpdXMsMik6ITF9LGluTGFiZWxSYW5nZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl92aWV3O3JldHVybiBlP01hdGgucG93KHQtZS54LDIpPE1hdGgucG93KGUucmFkaXVzK2UuaGl0UmFkaXVzLDIpOiExfSx0b29sdGlwUG9zaXRpb246ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl92aWV3O3JldHVybnt4OnQueCx5OnQueSxwYWRkaW5nOnQucmFkaXVzK3QuYm9yZGVyV2lkdGh9fSxkcmF3OmZ1bmN0aW9uKCl7dmFyIG49dGhpcy5fdmlldyxvPXRoaXMuX2NoYXJ0LmN0eCxyPW4ucG9pbnRTdHlsZSxsPW4ucmFkaXVzLHM9bi54LGQ9bi55O24uc2tpcHx8KG8uc3Ryb2tlU3R5bGU9bi5ib3JkZXJDb2xvcnx8aSxvLmxpbmVXaWR0aD1lLmdldFZhbHVlT3JEZWZhdWx0KG4uYm9yZGVyV2lkdGgsYS5lbGVtZW50cy5wb2ludC5ib3JkZXJXaWR0aCksby5maWxsU3R5bGU9bi5iYWNrZ3JvdW5kQ29sb3J8fGksdC5jYW52YXNIZWxwZXJzLmRyYXdQb2ludChvLHIsbCxzLGQpKX19KX19LHt9XSwzODpbZnVuY3Rpb24odCxlLGEpe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1mdW5jdGlvbih0KXt2YXIgZT10LmRlZmF1bHRzLmdsb2JhbDtlLmVsZW1lbnRzLnJlY3RhbmdsZT17YmFja2dyb3VuZENvbG9yOmUuZGVmYXVsdENvbG9yLGJvcmRlcldpZHRoOjAsYm9yZGVyQ29sb3I6ZS5kZWZhdWx0Q29sb3IsYm9yZGVyU2tpcHBlZDpcImJvdHRvbVwifSx0LmVsZW1lbnRzLlJlY3RhbmdsZT10LkVsZW1lbnQuZXh0ZW5kKHtkcmF3OmZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXtyZXR1cm4gc1sodSt0KSU0XX12YXIgZT10aGlzLl9jaGFydC5jdHgsYT10aGlzLl92aWV3LGk9YS53aWR0aC8yLG49YS54LWksbz1hLngraSxyPWEuYmFzZS0oYS5iYXNlLWEueSksbD1hLmJvcmRlcldpZHRoLzI7YS5ib3JkZXJXaWR0aCYmKG4rPWwsby09bCxyKz1sKSxlLmJlZ2luUGF0aCgpLGUuZmlsbFN0eWxlPWEuYmFja2dyb3VuZENvbG9yLGUuc3Ryb2tlU3R5bGU9YS5ib3JkZXJDb2xvcixlLmxpbmVXaWR0aD1hLmJvcmRlcldpZHRoO3ZhciBzPVtbbixhLmJhc2VdLFtuLHJdLFtvLHJdLFtvLGEuYmFzZV1dLGQ9W1wiYm90dG9tXCIsXCJsZWZ0XCIsXCJ0b3BcIixcInJpZ2h0XCJdLHU9ZC5pbmRleE9mKGEuYm9yZGVyU2tpcHBlZCwwKTstMT09PXUmJih1PTApLGUubW92ZVRvLmFwcGx5KGUsdCgwKSk7Zm9yKHZhciBjPTE7ND5jO2MrKyllLmxpbmVUby5hcHBseShlLHQoYykpO2UuZmlsbCgpLGEuYm9yZGVyV2lkdGgmJmUuc3Ryb2tlKCl9LGhlaWdodDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX3ZpZXc7cmV0dXJuIHQuYmFzZS10Lnl9LGluUmFuZ2U6ZnVuY3Rpb24odCxlKXt2YXIgYT10aGlzLl92aWV3O3JldHVybiBhP2EueTxhLmJhc2U/dD49YS54LWEud2lkdGgvMiYmdDw9YS54K2Eud2lkdGgvMiYmZT49YS55JiZlPD1hLmJhc2U6dD49YS54LWEud2lkdGgvMiYmdDw9YS54K2Eud2lkdGgvMiYmZT49YS5iYXNlJiZlPD1hLnk6ITF9LGluTGFiZWxSYW5nZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl92aWV3O3JldHVybiBlP3Q+PWUueC1lLndpZHRoLzImJnQ8PWUueCtlLndpZHRoLzI6ITF9LHRvb2x0aXBQb3NpdGlvbjpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX3ZpZXc7cmV0dXJue3g6dC54LHk6dC55fX19KX19LHt9XSwzOTpbZnVuY3Rpb24odCxlLGEpe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1mdW5jdGlvbih0KXt2YXIgZT10LmhlbHBlcnMsYT17cG9zaXRpb246XCJib3R0b21cIn0saT10LlNjYWxlLmV4dGVuZCh7Z2V0TGFiZWxzOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5jaGFydC5kYXRhO3JldHVybih0aGlzLmlzSG9yaXpvbnRhbCgpP3QueExhYmVsczp0LnlMYWJlbHMpfHx0LmxhYmVsc30sZGV0ZXJtaW5lRGF0YUxpbWl0czpmdW5jdGlvbigpe3ZhciB0PXRoaXMsYT10LmdldExhYmVscygpO3QubWluSW5kZXg9MCx0Lm1heEluZGV4PWEubGVuZ3RoLTE7dmFyIGk7dm9pZCAwIT09dC5vcHRpb25zLnRpY2tzLm1pbiYmKGk9ZS5pbmRleE9mKGEsdC5vcHRpb25zLnRpY2tzLm1pbiksdC5taW5JbmRleD0tMSE9PWk/aTp0Lm1pbkluZGV4KSx2b2lkIDAhPT10Lm9wdGlvbnMudGlja3MubWF4JiYoaT1lLmluZGV4T2YoYSx0Lm9wdGlvbnMudGlja3MubWF4KSx0Lm1heEluZGV4PS0xIT09aT9pOnQubWF4SW5kZXgpLHQubWluPWFbdC5taW5JbmRleF0sdC5tYXg9YVt0Lm1heEluZGV4XX0sYnVpbGRUaWNrczpmdW5jdGlvbigpe3ZhciB0PXRoaXMsZT10LmdldExhYmVscygpO3QudGlja3M9MD09PXQubWluSW5kZXgmJnQubWF4SW5kZXg9PT1lLmxlbmd0aC0xP2U6ZS5zbGljZSh0Lm1pbkluZGV4LHQubWF4SW5kZXgrMSl9LGdldExhYmVsRm9ySW5kZXg6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudGlja3NbdF19LGdldFBpeGVsRm9yVmFsdWU6ZnVuY3Rpb24odCxlLGEsaSl7dmFyIG49dGhpcyxvPU1hdGgubWF4KG4ubWF4SW5kZXgrMS1uLm1pbkluZGV4LShuLm9wdGlvbnMuZ3JpZExpbmVzLm9mZnNldEdyaWRMaW5lcz8wOjEpLDEpO2lmKHZvaWQgMCE9PXQpe3ZhciByPW4uZ2V0TGFiZWxzKCksbD1yLmluZGV4T2YodCk7ZT0tMSE9PWw/bDplfWlmKG4uaXNIb3Jpem9udGFsKCkpe3ZhciBzPW4ud2lkdGgtKG4ucGFkZGluZ0xlZnQrbi5wYWRkaW5nUmlnaHQpLGQ9cy9vLHU9ZCooZS1uLm1pbkluZGV4KStuLnBhZGRpbmdMZWZ0O3JldHVybiBuLm9wdGlvbnMuZ3JpZExpbmVzLm9mZnNldEdyaWRMaW5lcyYmaSYmKHUrPWQvMiksbi5sZWZ0K01hdGgucm91bmQodSl9dmFyIGM9bi5oZWlnaHQtKG4ucGFkZGluZ1RvcCtuLnBhZGRpbmdCb3R0b20pLGg9Yy9vLGY9aCooZS1uLm1pbkluZGV4KStuLnBhZGRpbmdUb3A7cmV0dXJuIG4ub3B0aW9ucy5ncmlkTGluZXMub2Zmc2V0R3JpZExpbmVzJiZpJiYoZis9aC8yKSxuLnRvcCtNYXRoLnJvdW5kKGYpfSxnZXRQaXhlbEZvclRpY2s6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5nZXRQaXhlbEZvclZhbHVlKHRoaXMudGlja3NbdF0sdCt0aGlzLm1pbkluZGV4LG51bGwsZSl9LGdldFZhbHVlRm9yUGl4ZWw6ZnVuY3Rpb24odCl7dmFyIGUsYT10aGlzLGk9TWF0aC5tYXgoYS50aWNrcy5sZW5ndGgtKGEub3B0aW9ucy5ncmlkTGluZXMub2Zmc2V0R3JpZExpbmVzPzA6MSksMSksbj1hLmlzSG9yaXpvbnRhbCgpLG89bj9hLndpZHRoLShhLnBhZGRpbmdMZWZ0K2EucGFkZGluZ1JpZ2h0KTphLmhlaWdodC0oYS5wYWRkaW5nVG9wK2EucGFkZGluZ0JvdHRvbSkscj1vL2k7cmV0dXJuIHQtPW4/YS5sZWZ0OmEudG9wLGEub3B0aW9ucy5ncmlkTGluZXMub2Zmc2V0R3JpZExpbmVzJiYodC09ci8yKSx0LT1uP2EucGFkZGluZ0xlZnQ6YS5wYWRkaW5nVG9wLGU9MD49dD8wOk1hdGgucm91bmQodC9yKX0sZ2V0QmFzZVBpeGVsOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYm90dG9tfX0pO3Quc2NhbGVTZXJ2aWNlLnJlZ2lzdGVyU2NhbGVUeXBlKFwiY2F0ZWdvcnlcIixpLGEpfX0se31dLDQwOltmdW5jdGlvbih0LGUsYSl7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPWZ1bmN0aW9uKHQpe3ZhciBlPXQuaGVscGVycyxhPXtwb3NpdGlvbjpcImxlZnRcIix0aWNrczp7Y2FsbGJhY2s6ZnVuY3Rpb24odCxhLGkpe3ZhciBuPWkubGVuZ3RoPjM/aVsyXS1pWzFdOmlbMV0taVswXTtNYXRoLmFicyhuKT4xJiZ0IT09TWF0aC5mbG9vcih0KSYmKG49dC1NYXRoLmZsb29yKHQpKTt2YXIgbz1lLmxvZzEwKE1hdGguYWJzKG4pKSxyPVwiXCI7aWYoMCE9PXQpe3ZhciBsPS0xKk1hdGguZmxvb3Iobyk7bD1NYXRoLm1heChNYXRoLm1pbihsLDIwKSwwKSxyPXQudG9GaXhlZChsKX1lbHNlIHI9XCIwXCI7cmV0dXJuIHJ9fX0saT10LkxpbmVhclNjYWxlQmFzZS5leHRlbmQoe2RldGVybWluZURhdGFMaW1pdHM6ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3JldHVybiBsP3QueEF4aXNJRD09PWEuaWQ6dC55QXhpc0lEPT09YS5pZH12YXIgYT10aGlzLGk9YS5vcHRpb25zLG49YS5jaGFydCxvPW4uZGF0YSxyPW8uZGF0YXNldHMsbD1hLmlzSG9yaXpvbnRhbCgpO2lmKGEubWluPW51bGwsYS5tYXg9bnVsbCxpLnN0YWNrZWQpe3ZhciBzPXt9LGQ9ITEsdT0hMTtlLmVhY2gocixmdW5jdGlvbihvLHIpe3ZhciBsPW4uZ2V0RGF0YXNldE1ldGEocik7dm9pZCAwPT09c1tsLnR5cGVdJiYoc1tsLnR5cGVdPXtwb3NpdGl2ZVZhbHVlczpbXSxuZWdhdGl2ZVZhbHVlczpbXX0pO3ZhciBjPXNbbC50eXBlXS5wb3NpdGl2ZVZhbHVlcyxoPXNbbC50eXBlXS5uZWdhdGl2ZVZhbHVlcztuLmlzRGF0YXNldFZpc2libGUocikmJnQobCkmJmUuZWFjaChvLmRhdGEsZnVuY3Rpb24odCxlKXt2YXIgbj0rYS5nZXRSaWdodFZhbHVlKHQpO2lzTmFOKG4pfHxsLmRhdGFbZV0uaGlkZGVufHwoY1tlXT1jW2VdfHwwLGhbZV09aFtlXXx8MCxpLnJlbGF0aXZlUG9pbnRzP2NbZV09MTAwOjA+bj8odT0hMCxoW2VdKz1uKTooZD0hMCxjW2VdKz1uKSl9KX0pLGUuZWFjaChzLGZ1bmN0aW9uKHQpe3ZhciBpPXQucG9zaXRpdmVWYWx1ZXMuY29uY2F0KHQubmVnYXRpdmVWYWx1ZXMpLG49ZS5taW4oaSksbz1lLm1heChpKTthLm1pbj1udWxsPT09YS5taW4/bjpNYXRoLm1pbihhLm1pbixuKSxhLm1heD1udWxsPT09YS5tYXg/bzpNYXRoLm1heChhLm1heCxvKX0pfWVsc2UgZS5lYWNoKHIsZnVuY3Rpb24oaSxvKXt2YXIgcj1uLmdldERhdGFzZXRNZXRhKG8pO24uaXNEYXRhc2V0VmlzaWJsZShvKSYmdChyKSYmZS5lYWNoKGkuZGF0YSxmdW5jdGlvbih0LGUpe3ZhciBpPSthLmdldFJpZ2h0VmFsdWUodCk7aXNOYU4oaSl8fHIuZGF0YVtlXS5oaWRkZW58fChudWxsPT09YS5taW4/YS5taW49aTppPGEubWluJiYoYS5taW49aSksbnVsbD09PWEubWF4P2EubWF4PWk6aT5hLm1heCYmKGEubWF4PWkpKX0pfSk7dGhpcy5oYW5kbGVUaWNrUmFuZ2VPcHRpb25zKCl9LGdldFRpY2tMaW1pdDpmdW5jdGlvbigpe3ZhciBhLGk9dGhpcyxuPWkub3B0aW9ucy50aWNrcztpZihpLmlzSG9yaXpvbnRhbCgpKWE9TWF0aC5taW4obi5tYXhUaWNrc0xpbWl0P24ubWF4VGlja3NMaW1pdDoxMSxNYXRoLmNlaWwoaS53aWR0aC81MCkpO2Vsc2V7dmFyIG89ZS5nZXRWYWx1ZU9yRGVmYXVsdChuLmZvbnRTaXplLHQuZGVmYXVsdHMuZ2xvYmFsLmRlZmF1bHRGb250U2l6ZSk7YT1NYXRoLm1pbihuLm1heFRpY2tzTGltaXQ/bi5tYXhUaWNrc0xpbWl0OjExLE1hdGguY2VpbChpLmhlaWdodC8oMipvKSkpfXJldHVybiBhfSxoYW5kbGVEaXJlY3Rpb25hbENoYW5nZXM6ZnVuY3Rpb24oKXt0aGlzLmlzSG9yaXpvbnRhbCgpfHx0aGlzLnRpY2tzLnJldmVyc2UoKX0sZ2V0TGFiZWxGb3JJbmRleDpmdW5jdGlvbih0LGUpe3JldHVybit0aGlzLmdldFJpZ2h0VmFsdWUodGhpcy5jaGFydC5kYXRhLmRhdGFzZXRzW2VdLmRhdGFbdF0pfSxnZXRQaXhlbEZvclZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlLGEsaT10aGlzLG49aS5wYWRkaW5nTGVmdCxvPWkucGFkZGluZ0JvdHRvbSxyPWkuc3RhcnQsbD0raS5nZXRSaWdodFZhbHVlKHQpLHM9aS5lbmQtcjtyZXR1cm4gaS5pc0hvcml6b250YWwoKT8oYT1pLndpZHRoLShuK2kucGFkZGluZ1JpZ2h0KSxlPWkubGVmdCthL3MqKGwtciksTWF0aC5yb3VuZChlK24pKTooYT1pLmhlaWdodC0oaS5wYWRkaW5nVG9wK28pLGU9aS5ib3R0b20tby1hL3MqKGwtciksTWF0aC5yb3VuZChlKSl9LGdldFZhbHVlRm9yUGl4ZWw6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxhPWUuaXNIb3Jpem9udGFsKCksaT1lLnBhZGRpbmdMZWZ0LG49ZS5wYWRkaW5nQm90dG9tLG89YT9lLndpZHRoLShpK2UucGFkZGluZ1JpZ2h0KTplLmhlaWdodC0oZS5wYWRkaW5nVG9wK24pLHI9KGE/dC1lLmxlZnQtaTplLmJvdHRvbS1uLXQpL287cmV0dXJuIGUuc3RhcnQrKGUuZW5kLWUuc3RhcnQpKnJ9LGdldFBpeGVsRm9yVGljazpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5nZXRQaXhlbEZvclZhbHVlKHRoaXMudGlja3NBc051bWJlcnNbdF0pfX0pO3Quc2NhbGVTZXJ2aWNlLnJlZ2lzdGVyU2NhbGVUeXBlKFwibGluZWFyXCIsaSxhKX19LHt9XSw0MTpbZnVuY3Rpb24odCxlLGEpe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1mdW5jdGlvbih0KXt2YXIgZT10LmhlbHBlcnMsYT1lLm5vb3A7dC5MaW5lYXJTY2FsZUJhc2U9dC5TY2FsZS5leHRlbmQoe2hhbmRsZVRpY2tSYW5nZU9wdGlvbnM6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGE9dC5vcHRpb25zLGk9YS50aWNrcztpZihpLmJlZ2luQXRaZXJvKXt2YXIgbj1lLnNpZ24odC5taW4pLG89ZS5zaWduKHQubWF4KTswPm4mJjA+bz90Lm1heD0wOm4+MCYmbz4wJiYodC5taW49MCl9dm9pZCAwIT09aS5taW4/dC5taW49aS5taW46dm9pZCAwIT09aS5zdWdnZXN0ZWRNaW4mJih0Lm1pbj1NYXRoLm1pbih0Lm1pbixpLnN1Z2dlc3RlZE1pbikpLHZvaWQgMCE9PWkubWF4P3QubWF4PWkubWF4OnZvaWQgMCE9PWkuc3VnZ2VzdGVkTWF4JiYodC5tYXg9TWF0aC5tYXgodC5tYXgsaS5zdWdnZXN0ZWRNYXgpKSx0Lm1pbj09PXQubWF4JiYodC5tYXgrKyxpLmJlZ2luQXRaZXJvfHx0Lm1pbi0tKX0sZ2V0VGlja0xpbWl0OmEsaGFuZGxlRGlyZWN0aW9uYWxDaGFuZ2VzOmEsYnVpbGRUaWNrczpmdW5jdGlvbigpe3ZhciB0PXRoaXMsYT10Lm9wdGlvbnMsaT10LnRpY2tzPVtdLG49YS50aWNrcyxvPWUuZ2V0VmFsdWVPckRlZmF1bHQscj10LmdldFRpY2tMaW1pdCgpO3I9TWF0aC5tYXgoMixyKTt2YXIgbCxzPW4uZml4ZWRTdGVwU2l6ZSYmbi5maXhlZFN0ZXBTaXplPjB8fG4uc3RlcFNpemUmJm4uc3RlcFNpemU+MDtpZihzKWw9byhuLmZpeGVkU3RlcFNpemUsbi5zdGVwU2l6ZSk7ZWxzZXt2YXIgZD1lLm5pY2VOdW0odC5tYXgtdC5taW4sITEpO2w9ZS5uaWNlTnVtKGQvKHItMSksITApfXZhciB1PU1hdGguZmxvb3IodC5taW4vbCkqbCxjPU1hdGguY2VpbCh0Lm1heC9sKSpsLGg9KGMtdSkvbDtoPWUuYWxtb3N0RXF1YWxzKGgsTWF0aC5yb3VuZChoKSxsLzFlMyk/TWF0aC5yb3VuZChoKTpNYXRoLmNlaWwoaCksaS5wdXNoKHZvaWQgMCE9PW4ubWluP24ubWluOnUpO2Zvcih2YXIgZj0xO2g+ZjsrK2YpaS5wdXNoKHUrZipsKTtpLnB1c2godm9pZCAwIT09bi5tYXg/bi5tYXg6YyksdC5oYW5kbGVEaXJlY3Rpb25hbENoYW5nZXMoKSx0Lm1heD1lLm1heChpKSx0Lm1pbj1lLm1pbihpKSxuLnJldmVyc2U/KGkucmV2ZXJzZSgpLHQuc3RhcnQ9dC5tYXgsdC5lbmQ9dC5taW4pOih0LnN0YXJ0PXQubWluLHQuZW5kPXQubWF4KX0sY29udmVydFRpY2tzVG9MYWJlbHM6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UudGlja3NBc051bWJlcnM9ZS50aWNrcy5zbGljZSgpLGUuemVyb0xpbmVJbmRleD1lLnRpY2tzLmluZGV4T2YoMCksdC5TY2FsZS5wcm90b3R5cGUuY29udmVydFRpY2tzVG9MYWJlbHMuY2FsbChlKX19KX19LHt9XSw0MjpbZnVuY3Rpb24odCxlLGEpe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1mdW5jdGlvbih0KXt2YXIgZT10LmhlbHBlcnMsYT17cG9zaXRpb246XCJsZWZ0XCIsdGlja3M6e2NhbGxiYWNrOmZ1bmN0aW9uKHQsYSxpKXt2YXIgbj10L01hdGgucG93KDEwLE1hdGguZmxvb3IoZS5sb2cxMCh0KSkpO3JldHVybiAxPT09bnx8Mj09PW58fDU9PT1ufHwwPT09YXx8YT09PWkubGVuZ3RoLTE/dC50b0V4cG9uZW50aWFsKCk6XCJcIn19fSxpPXQuU2NhbGUuZXh0ZW5kKHtkZXRlcm1pbmVEYXRhTGltaXRzOmZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXtyZXR1cm4gZD90LnhBeGlzSUQ9PT1hLmlkOnQueUF4aXNJRD09PWEuaWR9dmFyIGE9dGhpcyxpPWEub3B0aW9ucyxuPWkudGlja3Msbz1hLmNoYXJ0LHI9by5kYXRhLGw9ci5kYXRhc2V0cyxzPWUuZ2V0VmFsdWVPckRlZmF1bHQsZD1hLmlzSG9yaXpvbnRhbCgpO2lmKGEubWluPW51bGwsYS5tYXg9bnVsbCxpLnN0YWNrZWQpe3ZhciB1PXt9O2UuZWFjaChsLGZ1bmN0aW9uKG4scil7dmFyIGw9by5nZXREYXRhc2V0TWV0YShyKTtvLmlzRGF0YXNldFZpc2libGUocikmJnQobCkmJih2b2lkIDA9PT11W2wudHlwZV0mJih1W2wudHlwZV09W10pLGUuZWFjaChuLmRhdGEsZnVuY3Rpb24odCxlKXt2YXIgbj11W2wudHlwZV0sbz0rYS5nZXRSaWdodFZhbHVlKHQpO2lzTmFOKG8pfHxsLmRhdGFbZV0uaGlkZGVufHwobltlXT1uW2VdfHwwLGkucmVsYXRpdmVQb2ludHM/bltlXT0xMDA6bltlXSs9byl9KSl9KSxlLmVhY2godSxmdW5jdGlvbih0KXt2YXIgaT1lLm1pbih0KSxuPWUubWF4KHQpO2EubWluPW51bGw9PT1hLm1pbj9pOk1hdGgubWluKGEubWluLGkpLGEubWF4PW51bGw9PT1hLm1heD9uOk1hdGgubWF4KGEubWF4LG4pfSl9ZWxzZSBlLmVhY2gobCxmdW5jdGlvbihpLG4pe3ZhciByPW8uZ2V0RGF0YXNldE1ldGEobik7by5pc0RhdGFzZXRWaXNpYmxlKG4pJiZ0KHIpJiZlLmVhY2goaS5kYXRhLGZ1bmN0aW9uKHQsZSl7dmFyIGk9K2EuZ2V0UmlnaHRWYWx1ZSh0KTtpc05hTihpKXx8ci5kYXRhW2VdLmhpZGRlbnx8KG51bGw9PT1hLm1pbj9hLm1pbj1pOmk8YS5taW4mJihhLm1pbj1pKSxudWxsPT09YS5tYXg/YS5tYXg9aTppPmEubWF4JiYoYS5tYXg9aSkpfSl9KTthLm1pbj1zKG4ubWluLGEubWluKSxhLm1heD1zKG4ubWF4LGEubWF4KSxhLm1pbj09PWEubWF4JiYoMCE9PWEubWluJiZudWxsIT09YS5taW4/KGEubWluPU1hdGgucG93KDEwLE1hdGguZmxvb3IoZS5sb2cxMChhLm1pbikpLTEpLGEubWF4PU1hdGgucG93KDEwLE1hdGguZmxvb3IoZS5sb2cxMChhLm1heCkpKzEpKTooYS5taW49MSxhLm1heD0xMCkpfSxidWlsZFRpY2tzOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMsYT10Lm9wdGlvbnMsaT1hLnRpY2tzLG49ZS5nZXRWYWx1ZU9yRGVmYXVsdCxvPXQudGlja3M9W10scj1uKGkubWluLE1hdGgucG93KDEwLE1hdGguZmxvb3IoZS5sb2cxMCh0Lm1pbikpKSk7cjx0Lm1heDspe28ucHVzaChyKTt2YXIgbD1NYXRoLmZsb29yKGUubG9nMTAocikpLHM9TWF0aC5mbG9vcihyL01hdGgucG93KDEwLGwpKSsxOzEwPT09cyYmKHM9MSwrK2wpLHI9cypNYXRoLnBvdygxMCxsKX12YXIgZD1uKGkubWF4LHIpO28ucHVzaChkKSx0LmlzSG9yaXpvbnRhbCgpfHxvLnJldmVyc2UoKSx0Lm1heD1lLm1heChvKSx0Lm1pbj1lLm1pbihvKSxpLnJldmVyc2U/KG8ucmV2ZXJzZSgpLHQuc3RhcnQ9dC5tYXgsdC5lbmQ9dC5taW4pOih0LnN0YXJ0PXQubWluLHQuZW5kPXQubWF4KX0sY29udmVydFRpY2tzVG9MYWJlbHM6ZnVuY3Rpb24oKXt0aGlzLnRpY2tWYWx1ZXM9dGhpcy50aWNrcy5zbGljZSgpLHQuU2NhbGUucHJvdG90eXBlLmNvbnZlcnRUaWNrc1RvTGFiZWxzLmNhbGwodGhpcyl9LGdldExhYmVsRm9ySW5kZXg6ZnVuY3Rpb24odCxlKXtyZXR1cm4rdGhpcy5nZXRSaWdodFZhbHVlKHRoaXMuY2hhcnQuZGF0YS5kYXRhc2V0c1tlXS5kYXRhW3RdKX0sZ2V0UGl4ZWxGb3JUaWNrOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmdldFBpeGVsRm9yVmFsdWUodGhpcy50aWNrVmFsdWVzW3RdKX0sZ2V0UGl4ZWxGb3JWYWx1ZTpmdW5jdGlvbih0KXt2YXIgYSxpLG49dGhpcyxvPW4uc3RhcnQscj0rbi5nZXRSaWdodFZhbHVlKHQpLGw9ZS5sb2cxMChuLmVuZCktZS5sb2cxMChvKSxzPW4ucGFkZGluZ1RvcCxkPW4ucGFkZGluZ0JvdHRvbSx1PW4ucGFkZGluZ0xlZnQ7cmV0dXJuIG4uaXNIb3Jpem9udGFsKCk/MD09PXI/aT1uLmxlZnQrdTooYT1uLndpZHRoLSh1K24ucGFkZGluZ1JpZ2h0KSxpPW4ubGVmdCthL2wqKGUubG9nMTAociktZS5sb2cxMChvKSksaSs9dSk6MD09PXI/aT1uLnRvcCtzOihhPW4uaGVpZ2h0LShzK2QpLGk9bi5ib3R0b20tZC1hL2wqKGUubG9nMTAociktZS5sb2cxMChvKSkpLGl9LGdldFZhbHVlRm9yUGl4ZWw6ZnVuY3Rpb24odCl7dmFyIGEsaSxuPXRoaXMsbz1lLmxvZzEwKG4uZW5kKS1lLmxvZzEwKG4uc3RhcnQpO3JldHVybiBuLmlzSG9yaXpvbnRhbCgpPyhpPW4ud2lkdGgtKG4ucGFkZGluZ0xlZnQrbi5wYWRkaW5nUmlnaHQpLGE9bi5zdGFydCpNYXRoLnBvdygxMCwodC1uLmxlZnQtbi5wYWRkaW5nTGVmdCkqby9pKSk6KGk9bi5oZWlnaHQtKG4ucGFkZGluZ1RvcCtuLnBhZGRpbmdCb3R0b20pLGE9TWF0aC5wb3coMTAsKG4uYm90dG9tLW4ucGFkZGluZ0JvdHRvbS10KSpvL2kpL24uc3RhcnQpLGF9fSk7dC5zY2FsZVNlcnZpY2UucmVnaXN0ZXJTY2FsZVR5cGUoXCJsb2dhcml0aG1pY1wiLGksYSl9fSx7fV0sNDM6W2Z1bmN0aW9uKHQsZSxhKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9ZnVuY3Rpb24odCl7dmFyIGU9dC5oZWxwZXJzLGE9dC5kZWZhdWx0cy5nbG9iYWwsaT17ZGlzcGxheTohMCxhbmltYXRlOiEwLGxpbmVBcmM6ITEscG9zaXRpb246XCJjaGFydEFyZWFcIixhbmdsZUxpbmVzOntkaXNwbGF5OiEwLGNvbG9yOlwicmdiYSgwLCAwLCAwLCAwLjEpXCIsbGluZVdpZHRoOjF9LHRpY2tzOntzaG93TGFiZWxCYWNrZHJvcDohMCxiYWNrZHJvcENvbG9yOlwicmdiYSgyNTUsMjU1LDI1NSwwLjc1KVwiLGJhY2tkcm9wUGFkZGluZ1k6MixiYWNrZHJvcFBhZGRpbmdYOjJ9LHBvaW50TGFiZWxzOntmb250U2l6ZToxMCxjYWxsYmFjazpmdW5jdGlvbih0KXtyZXR1cm4gdH19fSxuPXQuTGluZWFyU2NhbGVCYXNlLmV4dGVuZCh7Z2V0VmFsdWVDb3VudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNoYXJ0LmRhdGEubGFiZWxzLmxlbmd0aDtcbn0sc2V0RGltZW5zaW9uczpmdW5jdGlvbigpe3ZhciB0PXRoaXMsaT10Lm9wdGlvbnMsbj1pLnRpY2tzO3Qud2lkdGg9dC5tYXhXaWR0aCx0LmhlaWdodD10Lm1heEhlaWdodCx0LnhDZW50ZXI9TWF0aC5yb3VuZCh0LndpZHRoLzIpLHQueUNlbnRlcj1NYXRoLnJvdW5kKHQuaGVpZ2h0LzIpO3ZhciBvPWUubWluKFt0LmhlaWdodCx0LndpZHRoXSkscj1lLmdldFZhbHVlT3JEZWZhdWx0KG4uZm9udFNpemUsYS5kZWZhdWx0Rm9udFNpemUpO3QuZHJhd2luZ0FyZWE9aS5kaXNwbGF5P28vMi0oci8yK24uYmFja2Ryb3BQYWRkaW5nWSk6by8yfSxkZXRlcm1pbmVEYXRhTGltaXRzOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxhPXQuY2hhcnQ7dC5taW49bnVsbCx0Lm1heD1udWxsLGUuZWFjaChhLmRhdGEuZGF0YXNldHMsZnVuY3Rpb24oaSxuKXtpZihhLmlzRGF0YXNldFZpc2libGUobikpe3ZhciBvPWEuZ2V0RGF0YXNldE1ldGEobik7ZS5lYWNoKGkuZGF0YSxmdW5jdGlvbihlLGEpe3ZhciBpPSt0LmdldFJpZ2h0VmFsdWUoZSk7aXNOYU4oaSl8fG8uZGF0YVthXS5oaWRkZW58fChudWxsPT09dC5taW4/dC5taW49aTppPHQubWluJiYodC5taW49aSksbnVsbD09PXQubWF4P3QubWF4PWk6aT50Lm1heCYmKHQubWF4PWkpKX0pfX0pLHQuaGFuZGxlVGlja1JhbmdlT3B0aW9ucygpfSxnZXRUaWNrTGltaXQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdGlvbnMudGlja3MsaT1lLmdldFZhbHVlT3JEZWZhdWx0KHQuZm9udFNpemUsYS5kZWZhdWx0Rm9udFNpemUpO3JldHVybiBNYXRoLm1pbih0Lm1heFRpY2tzTGltaXQ/dC5tYXhUaWNrc0xpbWl0OjExLE1hdGguY2VpbCh0aGlzLmRyYXdpbmdBcmVhLygxLjUqaSkpKX0sY29udmVydFRpY2tzVG9MYWJlbHM6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3QuTGluZWFyU2NhbGVCYXNlLnByb3RvdHlwZS5jb252ZXJ0VGlja3NUb0xhYmVscy5jYWxsKGUpLGUucG9pbnRMYWJlbHM9ZS5jaGFydC5kYXRhLmxhYmVscy5tYXAoZS5vcHRpb25zLnBvaW50TGFiZWxzLmNhbGxiYWNrLGUpfSxnZXRMYWJlbEZvckluZGV4OmZ1bmN0aW9uKHQsZSl7cmV0dXJuK3RoaXMuZ2V0UmlnaHRWYWx1ZSh0aGlzLmNoYXJ0LmRhdGEuZGF0YXNldHNbZV0uZGF0YVt0XSl9LGZpdDpmdW5jdGlvbigpe3ZhciB0LGksbixvLHIsbCxzLGQsdSxjLGgsZixnPXRoaXMub3B0aW9ucy5wb2ludExhYmVscyxwPWUuZ2V0VmFsdWVPckRlZmF1bHQoZy5mb250U2l6ZSxhLmRlZmF1bHRGb250U2l6ZSksbT1lLmdldFZhbHVlT3JEZWZhdWx0KGcuZm9udFN0eWxlLGEuZGVmYXVsdEZvbnRTdHlsZSksYj1lLmdldFZhbHVlT3JEZWZhdWx0KGcuZm9udEZhbWlseSxhLmRlZmF1bHRGb250RmFtaWx5KSx2PWUuZm9udFN0cmluZyhwLG0sYikseD1lLm1pbihbdGhpcy5oZWlnaHQvMi1wLTUsdGhpcy53aWR0aC8yXSkseT10aGlzLndpZHRoLGs9MDtmb3IodGhpcy5jdHguZm9udD12LGk9MDtpPHRoaXMuZ2V0VmFsdWVDb3VudCgpO2krKyl7dD10aGlzLmdldFBvaW50UG9zaXRpb24oaSx4KSxuPXRoaXMuY3R4Lm1lYXN1cmVUZXh0KHRoaXMucG9pbnRMYWJlbHNbaV0/dGhpcy5wb2ludExhYmVsc1tpXTpcIlwiKS53aWR0aCs1O3ZhciBTPXRoaXMuZ2V0SW5kZXhBbmdsZShpKStNYXRoLlBJLzIsdz0zNjAqUy8oMipNYXRoLlBJKSUzNjA7MD09PXd8fDE4MD09PXc/KG89bi8yLHQueCtvPnkmJih5PXQueCtvLHI9aSksdC54LW88ayYmKGs9dC54LW8scz1pKSk6MTgwPnc/dC54K24+eSYmKHk9dC54K24scj1pKTp0LngtbjxrJiYoaz10LngtbixzPWkpfXU9ayxjPU1hdGguY2VpbCh5LXRoaXMud2lkdGgpLGw9dGhpcy5nZXRJbmRleEFuZ2xlKHIpLGQ9dGhpcy5nZXRJbmRleEFuZ2xlKHMpLGg9Yy9NYXRoLnNpbihsK01hdGguUEkvMiksZj11L01hdGguc2luKGQrTWF0aC5QSS8yKSxoPWUuaXNOdW1iZXIoaCk/aDowLGY9ZS5pc051bWJlcihmKT9mOjAsdGhpcy5kcmF3aW5nQXJlYT1NYXRoLnJvdW5kKHgtKGYraCkvMiksdGhpcy5zZXRDZW50ZXJQb2ludChmLGgpfSxzZXRDZW50ZXJQb2ludDpmdW5jdGlvbih0LGUpe3ZhciBhPXRoaXMsaT1hLndpZHRoLWUtYS5kcmF3aW5nQXJlYSxuPXQrYS5kcmF3aW5nQXJlYTthLnhDZW50ZXI9TWF0aC5yb3VuZCgobitpKS8yK2EubGVmdCksYS55Q2VudGVyPU1hdGgucm91bmQoYS5oZWlnaHQvMithLnRvcCl9LGdldEluZGV4QW5nbGU6ZnVuY3Rpb24odCl7dmFyIGU9MipNYXRoLlBJL3RoaXMuZ2V0VmFsdWVDb3VudCgpLGE9dGhpcy5jaGFydC5vcHRpb25zJiZ0aGlzLmNoYXJ0Lm9wdGlvbnMuc3RhcnRBbmdsZT90aGlzLmNoYXJ0Lm9wdGlvbnMuc3RhcnRBbmdsZTowLGk9YSpNYXRoLlBJKjIvMzYwO3JldHVybiB0KmUtTWF0aC5QSS8yK2l9LGdldERpc3RhbmNlRnJvbUNlbnRlckZvclZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7aWYobnVsbD09PXQpcmV0dXJuIDA7dmFyIGE9ZS5kcmF3aW5nQXJlYS8oZS5tYXgtZS5taW4pO3JldHVybiBlLm9wdGlvbnMucmV2ZXJzZT8oZS5tYXgtdCkqYToodC1lLm1pbikqYX0sZ2V0UG9pbnRQb3NpdGlvbjpmdW5jdGlvbih0LGUpe3ZhciBhPXRoaXMsaT1hLmdldEluZGV4QW5nbGUodCk7cmV0dXJue3g6TWF0aC5yb3VuZChNYXRoLmNvcyhpKSplKSthLnhDZW50ZXIseTpNYXRoLnJvdW5kKE1hdGguc2luKGkpKmUpK2EueUNlbnRlcn19LGdldFBvaW50UG9zaXRpb25Gb3JWYWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmdldFBvaW50UG9zaXRpb24odCx0aGlzLmdldERpc3RhbmNlRnJvbUNlbnRlckZvclZhbHVlKGUpKX0sZ2V0QmFzZVBvc2l0aW9uOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxlPXQubWluLGE9dC5tYXg7cmV0dXJuIHQuZ2V0UG9pbnRQb3NpdGlvbkZvclZhbHVlKDAsdC5iZWdpbkF0WmVybz8wOjA+ZSYmMD5hP2E6ZT4wJiZhPjA/ZTowKX0sZHJhdzpmdW5jdGlvbigpe3ZhciB0PXRoaXMsaT10Lm9wdGlvbnMsbj1pLmdyaWRMaW5lcyxvPWkudGlja3Mscj1pLmFuZ2xlTGluZXMsbD1pLnBvaW50TGFiZWxzLHM9ZS5nZXRWYWx1ZU9yRGVmYXVsdDtpZihpLmRpc3BsYXkpe3ZhciBkPXQuY3R4LHU9cyhvLmZvbnRTaXplLGEuZGVmYXVsdEZvbnRTaXplKSxjPXMoby5mb250U3R5bGUsYS5kZWZhdWx0Rm9udFN0eWxlKSxoPXMoby5mb250RmFtaWx5LGEuZGVmYXVsdEZvbnRGYW1pbHkpLGY9ZS5mb250U3RyaW5nKHUsYyxoKTtpZihlLmVhY2godC50aWNrcyxmdW5jdGlvbihyLGwpe2lmKGw+MHx8aS5yZXZlcnNlKXt2YXIgYz10LmdldERpc3RhbmNlRnJvbUNlbnRlckZvclZhbHVlKHQudGlja3NBc051bWJlcnNbbF0pLGg9dC55Q2VudGVyLWM7aWYobi5kaXNwbGF5JiYwIT09bClpZihkLnN0cm9rZVN0eWxlPWUuZ2V0VmFsdWVBdEluZGV4T3JEZWZhdWx0KG4uY29sb3IsbC0xKSxkLmxpbmVXaWR0aD1lLmdldFZhbHVlQXRJbmRleE9yRGVmYXVsdChuLmxpbmVXaWR0aCxsLTEpLGkubGluZUFyYylkLmJlZ2luUGF0aCgpLGQuYXJjKHQueENlbnRlcix0LnlDZW50ZXIsYywwLDIqTWF0aC5QSSksZC5jbG9zZVBhdGgoKSxkLnN0cm9rZSgpO2Vsc2V7ZC5iZWdpblBhdGgoKTtmb3IodmFyIGc9MDtnPHQuZ2V0VmFsdWVDb3VudCgpO2crKyl7dmFyIHA9dC5nZXRQb2ludFBvc2l0aW9uKGcsYyk7MD09PWc/ZC5tb3ZlVG8ocC54LHAueSk6ZC5saW5lVG8ocC54LHAueSl9ZC5jbG9zZVBhdGgoKSxkLnN0cm9rZSgpfWlmKG8uZGlzcGxheSl7dmFyIG09cyhvLmZvbnRDb2xvcixhLmRlZmF1bHRGb250Q29sb3IpO2lmKGQuZm9udD1mLG8uc2hvd0xhYmVsQmFja2Ryb3Ape3ZhciBiPWQubWVhc3VyZVRleHQocikud2lkdGg7ZC5maWxsU3R5bGU9by5iYWNrZHJvcENvbG9yLGQuZmlsbFJlY3QodC54Q2VudGVyLWIvMi1vLmJhY2tkcm9wUGFkZGluZ1gsaC11LzItby5iYWNrZHJvcFBhZGRpbmdZLGIrMipvLmJhY2tkcm9wUGFkZGluZ1gsdSsyKm8uYmFja2Ryb3BQYWRkaW5nWSl9ZC50ZXh0QWxpZ249XCJjZW50ZXJcIixkLnRleHRCYXNlbGluZT1cIm1pZGRsZVwiLGQuZmlsbFN0eWxlPW0sZC5maWxsVGV4dChyLHQueENlbnRlcixoKX19fSksIWkubGluZUFyYyl7ZC5saW5lV2lkdGg9ci5saW5lV2lkdGgsZC5zdHJva2VTdHlsZT1yLmNvbG9yO2Zvcih2YXIgZz10LmdldERpc3RhbmNlRnJvbUNlbnRlckZvclZhbHVlKGkucmV2ZXJzZT90Lm1pbjp0Lm1heCkscD1zKGwuZm9udFNpemUsYS5kZWZhdWx0Rm9udFNpemUpLG09cyhsLmZvbnRTdHlsZSxhLmRlZmF1bHRGb250U3R5bGUpLGI9cyhsLmZvbnRGYW1pbHksYS5kZWZhdWx0Rm9udEZhbWlseSksdj1lLmZvbnRTdHJpbmcocCxtLGIpLHg9dC5nZXRWYWx1ZUNvdW50KCktMTt4Pj0wO3gtLSl7aWYoci5kaXNwbGF5KXt2YXIgeT10LmdldFBvaW50UG9zaXRpb24oeCxnKTtkLmJlZ2luUGF0aCgpLGQubW92ZVRvKHQueENlbnRlcix0LnlDZW50ZXIpLGQubGluZVRvKHkueCx5LnkpLGQuc3Ryb2tlKCksZC5jbG9zZVBhdGgoKX12YXIgaz10LmdldFBvaW50UG9zaXRpb24oeCxnKzUpLFM9cyhsLmZvbnRDb2xvcixhLmRlZmF1bHRGb250Q29sb3IpO2QuZm9udD12LGQuZmlsbFN0eWxlPVM7dmFyIHc9dC5wb2ludExhYmVscyxDPXRoaXMuZ2V0SW5kZXhBbmdsZSh4KStNYXRoLlBJLzIsTT0zNjAqQy8oMipNYXRoLlBJKSUzNjA7MD09PU18fDE4MD09PU0/ZC50ZXh0QWxpZ249XCJjZW50ZXJcIjoxODA+TT9kLnRleHRBbGlnbj1cImxlZnRcIjpkLnRleHRBbGlnbj1cInJpZ2h0XCIsOTA9PT1NfHwyNzA9PT1NP2QudGV4dEJhc2VsaW5lPVwibWlkZGxlXCI6TT4yNzB8fDkwPk0/ZC50ZXh0QmFzZWxpbmU9XCJib3R0b21cIjpkLnRleHRCYXNlbGluZT1cInRvcFwiLGQuZmlsbFRleHQod1t4XT93W3hdOlwiXCIsay54LGsueSl9fX19fSk7dC5zY2FsZVNlcnZpY2UucmVnaXN0ZXJTY2FsZVR5cGUoXCJyYWRpYWxMaW5lYXJcIixuLGkpfX0se31dLDQ0OltmdW5jdGlvbih0LGUsYSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9dCgxKTtpPVwiZnVuY3Rpb25cIj09dHlwZW9mIGk/aTp3aW5kb3cubW9tZW50LGUuZXhwb3J0cz1mdW5jdGlvbih0KXt2YXIgZT10LmhlbHBlcnMsYT17dW5pdHM6W3tuYW1lOlwibWlsbGlzZWNvbmRcIixzdGVwczpbMSwyLDUsMTAsMjAsNTAsMTAwLDI1MCw1MDBdfSx7bmFtZTpcInNlY29uZFwiLHN0ZXBzOlsxLDIsNSwxMCwzMF19LHtuYW1lOlwibWludXRlXCIsc3RlcHM6WzEsMiw1LDEwLDMwXX0se25hbWU6XCJob3VyXCIsc3RlcHM6WzEsMiwzLDYsMTJdfSx7bmFtZTpcImRheVwiLHN0ZXBzOlsxLDIsNV19LHtuYW1lOlwid2Vla1wiLG1heFN0ZXA6NH0se25hbWU6XCJtb250aFwiLG1heFN0ZXA6M30se25hbWU6XCJxdWFydGVyXCIsbWF4U3RlcDo0fSx7bmFtZTpcInllYXJcIixtYXhTdGVwOiExfV19LG49e3Bvc2l0aW9uOlwiYm90dG9tXCIsdGltZTp7cGFyc2VyOiExLGZvcm1hdDohMSx1bml0OiExLHJvdW5kOiExLGRpc3BsYXlGb3JtYXQ6ITEsaXNvV2Vla2RheTohMSxkaXNwbGF5Rm9ybWF0czp7bWlsbGlzZWNvbmQ6XCJoOm1tOnNzLlNTUyBhXCIsc2Vjb25kOlwiaDptbTpzcyBhXCIsbWludXRlOlwiaDptbTpzcyBhXCIsaG91cjpcIk1NTSBELCBoQVwiLGRheTpcImxsXCIsd2VlazpcImxsXCIsbW9udGg6XCJNTU0gWVlZWVwiLHF1YXJ0ZXI6XCJbUV1RIC0gWVlZWVwiLHllYXI6XCJZWVlZXCJ9fSx0aWNrczp7YXV0b1NraXA6ITF9fSxvPXQuU2NhbGUuZXh0ZW5kKHtpbml0aWFsaXplOmZ1bmN0aW9uKCl7aWYoIWkpdGhyb3cgbmV3IEVycm9yKFwiQ2hhcnQuanMgLSBNb21lbnQuanMgY291bGQgbm90IGJlIGZvdW5kISBZb3UgbXVzdCBpbmNsdWRlIGl0IGJlZm9yZSBDaGFydC5qcyB0byB1c2UgdGhlIHRpbWUgc2NhbGUuIERvd25sb2FkIGF0IGh0dHBzOi8vbW9tZW50anMuY29tXCIpO3QuU2NhbGUucHJvdG90eXBlLmluaXRpYWxpemUuY2FsbCh0aGlzKX0sZ2V0TGFiZWxNb21lbnQ6ZnVuY3Rpb24odCxlKXtyZXR1cm5cInVuZGVmaW5lZFwiIT10eXBlb2YgdGhpcy5sYWJlbE1vbWVudHNbdF0/dGhpcy5sYWJlbE1vbWVudHNbdF1bZV06bnVsbH0sZ2V0TW9tZW50U3RhcnRPZjpmdW5jdGlvbih0KXt2YXIgZT10aGlzO3JldHVyblwid2Vla1wiPT09ZS5vcHRpb25zLnRpbWUudW5pdCYmZS5vcHRpb25zLnRpbWUuaXNvV2Vla2RheSE9PSExP3QuY2xvbmUoKS5zdGFydE9mKFwiaXNvV2Vla1wiKS5pc29XZWVrZGF5KGUub3B0aW9ucy50aW1lLmlzb1dlZWtkYXkpOnQuY2xvbmUoKS5zdGFydE9mKGUudGlja1VuaXQpfSxkZXRlcm1pbmVEYXRhTGltaXRzOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0LmxhYmVsTW9tZW50cz1bXTt2YXIgYT1bXTt0LmNoYXJ0LmRhdGEubGFiZWxzJiZ0LmNoYXJ0LmRhdGEubGFiZWxzLmxlbmd0aD4wPyhlLmVhY2godC5jaGFydC5kYXRhLmxhYmVscyxmdW5jdGlvbihlKXt2YXIgaT10LnBhcnNlVGltZShlKTtpLmlzVmFsaWQoKSYmKHQub3B0aW9ucy50aW1lLnJvdW5kJiZpLnN0YXJ0T2YodC5vcHRpb25zLnRpbWUucm91bmQpLGEucHVzaChpKSl9LHQpLHQuZmlyc3RUaWNrPWkubWluLmNhbGwodCxhKSx0Lmxhc3RUaWNrPWkubWF4LmNhbGwodCxhKSk6KHQuZmlyc3RUaWNrPW51bGwsdC5sYXN0VGljaz1udWxsKSxlLmVhY2godC5jaGFydC5kYXRhLmRhdGFzZXRzLGZ1bmN0aW9uKG4sbyl7dmFyIHI9W10sbD10LmNoYXJ0LmlzRGF0YXNldFZpc2libGUobyk7XCJvYmplY3RcIj09dHlwZW9mIG4uZGF0YVswXSYmbnVsbCE9PW4uZGF0YVswXT9lLmVhY2gobi5kYXRhLGZ1bmN0aW9uKGUpe3ZhciBhPXQucGFyc2VUaW1lKHQuZ2V0UmlnaHRWYWx1ZShlKSk7YS5pc1ZhbGlkKCkmJih0Lm9wdGlvbnMudGltZS5yb3VuZCYmYS5zdGFydE9mKHQub3B0aW9ucy50aW1lLnJvdW5kKSxyLnB1c2goYSksbCYmKHQuZmlyc3RUaWNrPW51bGwhPT10LmZpcnN0VGljaz9pLm1pbih0LmZpcnN0VGljayxhKTphLHQubGFzdFRpY2s9bnVsbCE9PXQubGFzdFRpY2s/aS5tYXgodC5sYXN0VGljayxhKTphKSl9LHQpOnI9YSx0LmxhYmVsTW9tZW50cy5wdXNoKHIpfSx0KSx0Lm9wdGlvbnMudGltZS5taW4mJih0LmZpcnN0VGljaz10LnBhcnNlVGltZSh0Lm9wdGlvbnMudGltZS5taW4pKSx0Lm9wdGlvbnMudGltZS5tYXgmJih0Lmxhc3RUaWNrPXQucGFyc2VUaW1lKHQub3B0aW9ucy50aW1lLm1heCkpLHQuZmlyc3RUaWNrPSh0LmZpcnN0VGlja3x8aSgpKS5jbG9uZSgpLHQubGFzdFRpY2s9KHQubGFzdFRpY2t8fGkoKSkuY2xvbmUoKX0sYnVpbGRUaWNrczpmdW5jdGlvbigpe3ZhciBpPXRoaXM7aS5jdHguc2F2ZSgpO3ZhciBuPWUuZ2V0VmFsdWVPckRlZmF1bHQoaS5vcHRpb25zLnRpY2tzLmZvbnRTaXplLHQuZGVmYXVsdHMuZ2xvYmFsLmRlZmF1bHRGb250U2l6ZSksbz1lLmdldFZhbHVlT3JEZWZhdWx0KGkub3B0aW9ucy50aWNrcy5mb250U3R5bGUsdC5kZWZhdWx0cy5nbG9iYWwuZGVmYXVsdEZvbnRTdHlsZSkscj1lLmdldFZhbHVlT3JEZWZhdWx0KGkub3B0aW9ucy50aWNrcy5mb250RmFtaWx5LHQuZGVmYXVsdHMuZ2xvYmFsLmRlZmF1bHRGb250RmFtaWx5KSxsPWUuZm9udFN0cmluZyhuLG8scik7aWYoaS5jdHguZm9udD1sLGkudGlja3M9W10saS51bml0U2NhbGU9MSxpLnNjYWxlU2l6ZUluVW5pdHM9MCxpLm9wdGlvbnMudGltZS51bml0KWkudGlja1VuaXQ9aS5vcHRpb25zLnRpbWUudW5pdHx8XCJkYXlcIixpLmRpc3BsYXlGb3JtYXQ9aS5vcHRpb25zLnRpbWUuZGlzcGxheUZvcm1hdHNbaS50aWNrVW5pdF0saS5zY2FsZVNpemVJblVuaXRzPWkubGFzdFRpY2suZGlmZihpLmZpcnN0VGljayxpLnRpY2tVbml0LCEwKSxpLnVuaXRTY2FsZT1lLmdldFZhbHVlT3JEZWZhdWx0KGkub3B0aW9ucy50aW1lLnVuaXRTdGVwU2l6ZSwxKTtlbHNle3ZhciBzPWkuaXNIb3Jpem9udGFsKCk/aS53aWR0aC0oaS5wYWRkaW5nTGVmdCtpLnBhZGRpbmdSaWdodCk6aS5oZWlnaHQtKGkucGFkZGluZ1RvcCtpLnBhZGRpbmdCb3R0b20pLGQ9aS50aWNrRm9ybWF0RnVuY3Rpb24oaS5maXJzdFRpY2ssMCxbXSksdT1pLmN0eC5tZWFzdXJlVGV4dChkKS53aWR0aCxjPU1hdGguY29zKGUudG9SYWRpYW5zKGkub3B0aW9ucy50aWNrcy5tYXhSb3RhdGlvbikpLGg9TWF0aC5zaW4oZS50b1JhZGlhbnMoaS5vcHRpb25zLnRpY2tzLm1heFJvdGF0aW9uKSk7dT11KmMrbipoO3ZhciBmPXMvdTtpLnRpY2tVbml0PVwibWlsbGlzZWNvbmRcIixpLnNjYWxlU2l6ZUluVW5pdHM9aS5sYXN0VGljay5kaWZmKGkuZmlyc3RUaWNrLGkudGlja1VuaXQsITApLGkuZGlzcGxheUZvcm1hdD1pLm9wdGlvbnMudGltZS5kaXNwbGF5Rm9ybWF0c1tpLnRpY2tVbml0XTtmb3IodmFyIGc9MCxwPWEudW5pdHNbZ107ZzxhLnVuaXRzLmxlbmd0aDspe2lmKGkudW5pdFNjYWxlPTEsZS5pc0FycmF5KHAuc3RlcHMpJiZNYXRoLmNlaWwoaS5zY2FsZVNpemVJblVuaXRzL2YpPGUubWF4KHAuc3RlcHMpKXtmb3IodmFyIG09MDttPHAuc3RlcHMubGVuZ3RoOysrbSlpZihwLnN0ZXBzW21dPj1NYXRoLmNlaWwoaS5zY2FsZVNpemVJblVuaXRzL2YpKXtpLnVuaXRTY2FsZT1lLmdldFZhbHVlT3JEZWZhdWx0KGkub3B0aW9ucy50aW1lLnVuaXRTdGVwU2l6ZSxwLnN0ZXBzW21dKTticmVha31icmVha31pZihwLm1heFN0ZXA9PT0hMXx8TWF0aC5jZWlsKGkuc2NhbGVTaXplSW5Vbml0cy9mKTxwLm1heFN0ZXApe2kudW5pdFNjYWxlPWUuZ2V0VmFsdWVPckRlZmF1bHQoaS5vcHRpb25zLnRpbWUudW5pdFN0ZXBTaXplLE1hdGguY2VpbChpLnNjYWxlU2l6ZUluVW5pdHMvZikpO2JyZWFrfSsrZyxwPWEudW5pdHNbZ10saS50aWNrVW5pdD1wLm5hbWU7dmFyIGI9aS5maXJzdFRpY2suZGlmZihpLmdldE1vbWVudFN0YXJ0T2YoaS5maXJzdFRpY2spLGkudGlja1VuaXQsITApLHY9aS5nZXRNb21lbnRTdGFydE9mKGkubGFzdFRpY2suY2xvbmUoKS5hZGQoMSxpLnRpY2tVbml0KSkuZGlmZihpLmxhc3RUaWNrLGkudGlja1VuaXQsITApO2kuc2NhbGVTaXplSW5Vbml0cz1pLmxhc3RUaWNrLmRpZmYoaS5maXJzdFRpY2ssaS50aWNrVW5pdCwhMCkrYit2LGkuZGlzcGxheUZvcm1hdD1pLm9wdGlvbnMudGltZS5kaXNwbGF5Rm9ybWF0c1twLm5hbWVdfX12YXIgeDtpZihpLm9wdGlvbnMudGltZS5taW4/eD1pLmdldE1vbWVudFN0YXJ0T2YoaS5maXJzdFRpY2spOihpLmZpcnN0VGljaz1pLmdldE1vbWVudFN0YXJ0T2YoaS5maXJzdFRpY2spLHg9aS5maXJzdFRpY2spLCFpLm9wdGlvbnMudGltZS5tYXgpe3ZhciB5PWkuZ2V0TW9tZW50U3RhcnRPZihpLmxhc3RUaWNrKSxrPXkuZGlmZihpLmxhc3RUaWNrLGkudGlja1VuaXQsITApOzA+az9pLmxhc3RUaWNrPWkuZ2V0TW9tZW50U3RhcnRPZihpLmxhc3RUaWNrLmFkZCgxLGkudGlja1VuaXQpKTprPj0wJiYoaS5sYXN0VGljaz15KSxpLnNjYWxlU2l6ZUluVW5pdHM9aS5sYXN0VGljay5kaWZmKGkuZmlyc3RUaWNrLGkudGlja1VuaXQsITApfWkuc21hbGxlc3RMYWJlbFNlcGFyYXRpb249aS53aWR0aCxlLmVhY2goaS5jaGFydC5kYXRhLmRhdGFzZXRzLGZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBhPTE7YTxpLmxhYmVsTW9tZW50c1tlXS5sZW5ndGg7YSsrKWkuc21hbGxlc3RMYWJlbFNlcGFyYXRpb249TWF0aC5taW4oaS5zbWFsbGVzdExhYmVsU2VwYXJhdGlvbixpLmxhYmVsTW9tZW50c1tlXVthXS5kaWZmKGkubGFiZWxNb21lbnRzW2VdW2EtMV0saS50aWNrVW5pdCwhMCkpfSxpKSxpLm9wdGlvbnMudGltZS5kaXNwbGF5Rm9ybWF0JiYoaS5kaXNwbGF5Rm9ybWF0PWkub3B0aW9ucy50aW1lLmRpc3BsYXlGb3JtYXQpLGkudGlja3MucHVzaChpLmZpcnN0VGljay5jbG9uZSgpKTtmb3IodmFyIFM9MTtTPD1pLnNjYWxlU2l6ZUluVW5pdHM7KytTKXt2YXIgdz14LmNsb25lKCkuYWRkKFMsaS50aWNrVW5pdCk7aWYoaS5vcHRpb25zLnRpbWUubWF4JiZ3LmRpZmYoaS5sYXN0VGljayxpLnRpY2tVbml0LCEwKT49MClicmVhaztTJWkudW5pdFNjYWxlPT09MCYmaS50aWNrcy5wdXNoKHcpfXZhciBDPWkudGlja3NbaS50aWNrcy5sZW5ndGgtMV0uZGlmZihpLmxhc3RUaWNrLGkudGlja1VuaXQpOygwIT09Q3x8MD09PWkuc2NhbGVTaXplSW5Vbml0cykmJihpLm9wdGlvbnMudGltZS5tYXg/KGkudGlja3MucHVzaChpLmxhc3RUaWNrLmNsb25lKCkpLGkuc2NhbGVTaXplSW5Vbml0cz1pLmxhc3RUaWNrLmRpZmYoaS50aWNrc1swXSxpLnRpY2tVbml0LCEwKSk6KGkudGlja3MucHVzaChpLmxhc3RUaWNrLmNsb25lKCkpLGkuc2NhbGVTaXplSW5Vbml0cz1pLmxhc3RUaWNrLmRpZmYoaS5maXJzdFRpY2ssaS50aWNrVW5pdCwhMCkpKSxpLmN0eC5yZXN0b3JlKCl9LGdldExhYmVsRm9ySW5kZXg6ZnVuY3Rpb24odCxlKXt2YXIgYT10aGlzLGk9YS5jaGFydC5kYXRhLmxhYmVscyYmdDxhLmNoYXJ0LmRhdGEubGFiZWxzLmxlbmd0aD9hLmNoYXJ0LmRhdGEubGFiZWxzW3RdOlwiXCI7cmV0dXJuXCJvYmplY3RcIj09dHlwZW9mIGEuY2hhcnQuZGF0YS5kYXRhc2V0c1tlXS5kYXRhWzBdJiYoaT1hLmdldFJpZ2h0VmFsdWUoYS5jaGFydC5kYXRhLmRhdGFzZXRzW2VdLmRhdGFbdF0pKSxhLm9wdGlvbnMudGltZS50b29sdGlwRm9ybWF0JiYoaT1hLnBhcnNlVGltZShpKS5mb3JtYXQoYS5vcHRpb25zLnRpbWUudG9vbHRpcEZvcm1hdCkpLGl9LHRpY2tGb3JtYXRGdW5jdGlvbjpmdW5jdGlvbih0LGEsaSl7dmFyIG49dC5mb3JtYXQodGhpcy5kaXNwbGF5Rm9ybWF0KSxvPXRoaXMub3B0aW9ucy50aWNrcyxyPWUuZ2V0VmFsdWVPckRlZmF1bHQoby5jYWxsYmFjayxvLnVzZXJDYWxsYmFjayk7cmV0dXJuIHI/cihuLGEsaSk6bn0sY29udmVydFRpY2tzVG9MYWJlbHM6ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3QudGlja01vbWVudHM9dC50aWNrcyx0LnRpY2tzPXQudGlja3MubWFwKHQudGlja0Zvcm1hdEZ1bmN0aW9uLHQpfSxnZXRQaXhlbEZvclZhbHVlOmZ1bmN0aW9uKHQsZSxhKXt2YXIgbj10aGlzO3QmJnQuaXNWYWxpZHx8KHQ9aShuLmdldFJpZ2h0VmFsdWUodCkpKTt2YXIgbz10JiZ0LmlzVmFsaWQmJnQuaXNWYWxpZCgpP3Q6bi5nZXRMYWJlbE1vbWVudChhLGUpO2lmKG8pe3ZhciByPW8uZGlmZihuLmZpcnN0VGljayxuLnRpY2tVbml0LCEwKSxsPTAhPT1yP3Ivbi5zY2FsZVNpemVJblVuaXRzOnI7aWYobi5pc0hvcml6b250YWwoKSl7dmFyIHM9bi53aWR0aC0obi5wYWRkaW5nTGVmdCtuLnBhZGRpbmdSaWdodCksZD1zKmwrbi5wYWRkaW5nTGVmdDtyZXR1cm4gbi5sZWZ0K01hdGgucm91bmQoZCl9dmFyIHU9bi5oZWlnaHQtKG4ucGFkZGluZ1RvcCtuLnBhZGRpbmdCb3R0b20pLGM9dSpsK24ucGFkZGluZ1RvcDtyZXR1cm4gbi50b3ArTWF0aC5yb3VuZChjKX19LGdldFBpeGVsRm9yVGljazpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5nZXRQaXhlbEZvclZhbHVlKHRoaXMudGlja01vbWVudHNbdF0sbnVsbCxudWxsKX0sZ2V0VmFsdWVGb3JQaXhlbDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLGE9ZS5pc0hvcml6b250YWwoKT9lLndpZHRoLShlLnBhZGRpbmdMZWZ0K2UucGFkZGluZ1JpZ2h0KTplLmhlaWdodC0oZS5wYWRkaW5nVG9wK2UucGFkZGluZ0JvdHRvbSksbj0odC0oZS5pc0hvcml6b250YWwoKT9lLmxlZnQrZS5wYWRkaW5nTGVmdDplLnRvcCtlLnBhZGRpbmdUb3ApKS9hO3JldHVybiBuKj1lLnNjYWxlU2l6ZUluVW5pdHMsZS5maXJzdFRpY2suY2xvbmUoKS5hZGQoaS5kdXJhdGlvbihuLGUudGlja1VuaXQpLmFzU2Vjb25kcygpLFwic2Vjb25kc1wiKX0scGFyc2VUaW1lOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGUub3B0aW9ucy50aW1lLnBhcnNlcj9pKHQsZS5vcHRpb25zLnRpbWUucGFyc2VyKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLm9wdGlvbnMudGltZS5wYXJzZXI/ZS5vcHRpb25zLnRpbWUucGFyc2VyKHQpOlwiZnVuY3Rpb25cIj09dHlwZW9mIHQuZ2V0TW9udGh8fFwibnVtYmVyXCI9PXR5cGVvZiB0P2kodCk6dC5pc1ZhbGlkJiZ0LmlzVmFsaWQoKT90Olwic3RyaW5nXCIhPXR5cGVvZiBlLm9wdGlvbnMudGltZS5mb3JtYXQmJmUub3B0aW9ucy50aW1lLmZvcm1hdC5jYWxsPyhjb25zb2xlLndhcm4oXCJvcHRpb25zLnRpbWUuZm9ybWF0IGlzIGRlcHJlY2F0ZWQgYW5kIHJlcGxhY2VkIGJ5IG9wdGlvbnMudGltZS5wYXJzZXIuIFNlZSBodHRwOi8vbm5uaWNrLmdpdGh1Yi5pby9DaGFydC5qcy9kb2NzLXYyLyNzY2FsZXMtdGltZS1zY2FsZVwiKSxlLm9wdGlvbnMudGltZS5mb3JtYXQodCkpOmkodCxlLm9wdGlvbnMudGltZS5mb3JtYXQpfX0pO3Quc2NhbGVTZXJ2aWNlLnJlZ2lzdGVyU2NhbGVUeXBlKFwidGltZVwiLG8sbil9fSx7MToxfV19LHt9LFs3XSkoNyl9KTsiLCIvKlxyXG4gQW5ndWxhckpTIHYxLjUuOFxyXG4gKGMpIDIwMTAtMjAxNiBHb29nbGUsIEluYy4gaHR0cDovL2FuZ3VsYXJqcy5vcmdcclxuIExpY2Vuc2U6IE1JVFxyXG4qL1xyXG4oZnVuY3Rpb24oeCxuKXsndXNlIHN0cmljdCc7ZnVuY3Rpb24gcyhmLGspe3ZhciBlPSExLGE9ITE7dGhpcy5uZ0NsaWNrT3ZlcnJpZGVFbmFibGVkPWZ1bmN0aW9uKGIpe3JldHVybiBuLmlzRGVmaW5lZChiKT8oYiYmIWEmJihhPSEwLHQuJCRtb2R1bGVOYW1lPVwibmdUb3VjaFwiLGsuZGlyZWN0aXZlKFwibmdDbGlja1wiLHQpLGYuZGVjb3JhdG9yKFwibmdDbGlja0RpcmVjdGl2ZVwiLFtcIiRkZWxlZ2F0ZVwiLGZ1bmN0aW9uKGEpe2lmKGUpYS5zaGlmdCgpO2Vsc2UgZm9yKHZhciBiPWEubGVuZ3RoLTE7MDw9Yjspe2lmKFwibmdUb3VjaFwiPT09YVtiXS4kJG1vZHVsZU5hbWUpe2Euc3BsaWNlKGIsMSk7YnJlYWt9Yi0tfXJldHVybiBhfV0pKSxlPWIsdGhpcyk6ZX07dGhpcy4kZ2V0PWZ1bmN0aW9uKCl7cmV0dXJue25nQ2xpY2tPdmVycmlkZUVuYWJsZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gZX19fX1mdW5jdGlvbiB2KGYsayxlKXtwLmRpcmVjdGl2ZShmLFtcIiRwYXJzZVwiLFwiJHN3aXBlXCIsZnVuY3Rpb24oYSxcclxuYil7cmV0dXJuIGZ1bmN0aW9uKGwsdSxnKXtmdW5jdGlvbiBoKGMpe2lmKCFkKXJldHVybiExO3ZhciBhPU1hdGguYWJzKGMueS1kLnkpO2M9KGMueC1kLngpKms7cmV0dXJuIHImJjc1PmEmJjA8YyYmMzA8YyYmLjM+YS9jfXZhciBtPWEoZ1tmXSksZCxyLGM9W1widG91Y2hcIl07bi5pc0RlZmluZWQoZy5uZ1N3aXBlRGlzYWJsZU1vdXNlKXx8Yy5wdXNoKFwibW91c2VcIik7Yi5iaW5kKHUse3N0YXJ0OmZ1bmN0aW9uKGMsYSl7ZD1jO3I9ITB9LGNhbmNlbDpmdW5jdGlvbihjKXtyPSExfSxlbmQ6ZnVuY3Rpb24oYyxkKXtoKGMpJiZsLiRhcHBseShmdW5jdGlvbigpe3UudHJpZ2dlckhhbmRsZXIoZSk7bShsLHskZXZlbnQ6ZH0pfSl9fSxjKX19XSl9dmFyIHA9bi5tb2R1bGUoXCJuZ1RvdWNoXCIsW10pO3AucHJvdmlkZXIoXCIkdG91Y2hcIixzKTtzLiRpbmplY3Q9W1wiJHByb3ZpZGVcIixcIiRjb21waWxlUHJvdmlkZXJcIl07cC5mYWN0b3J5KFwiJHN3aXBlXCIsW2Z1bmN0aW9uKCl7ZnVuY3Rpb24gZihhKXthPVxyXG5hLm9yaWdpbmFsRXZlbnR8fGE7dmFyIGI9YS50b3VjaGVzJiZhLnRvdWNoZXMubGVuZ3RoP2EudG91Y2hlczpbYV07YT1hLmNoYW5nZWRUb3VjaGVzJiZhLmNoYW5nZWRUb3VjaGVzWzBdfHxiWzBdO3JldHVybnt4OmEuY2xpZW50WCx5OmEuY2xpZW50WX19ZnVuY3Rpb24gayhhLGIpe3ZhciBsPVtdO24uZm9yRWFjaChhLGZ1bmN0aW9uKGEpeyhhPWVbYV1bYl0pJiZsLnB1c2goYSl9KTtyZXR1cm4gbC5qb2luKFwiIFwiKX12YXIgZT17bW91c2U6e3N0YXJ0OlwibW91c2Vkb3duXCIsbW92ZTpcIm1vdXNlbW92ZVwiLGVuZDpcIm1vdXNldXBcIn0sdG91Y2g6e3N0YXJ0OlwidG91Y2hzdGFydFwiLG1vdmU6XCJ0b3VjaG1vdmVcIixlbmQ6XCJ0b3VjaGVuZFwiLGNhbmNlbDpcInRvdWNoY2FuY2VsXCJ9LHBvaW50ZXI6e3N0YXJ0OlwicG9pbnRlcmRvd25cIixtb3ZlOlwicG9pbnRlcm1vdmVcIixlbmQ6XCJwb2ludGVydXBcIixjYW5jZWw6XCJwb2ludGVyY2FuY2VsXCJ9fTtyZXR1cm57YmluZDpmdW5jdGlvbihhLGIsbCl7dmFyIGUsXHJcbmcsaCxtLGQ9ITE7bD1sfHxbXCJtb3VzZVwiLFwidG91Y2hcIixcInBvaW50ZXJcIl07YS5vbihrKGwsXCJzdGFydFwiKSxmdW5jdGlvbihjKXtoPWYoYyk7ZD0hMDtnPWU9MDttPWg7Yi5zdGFydCYmYi5zdGFydChoLGMpfSk7dmFyIHI9ayhsLFwiY2FuY2VsXCIpO2lmKHIpYS5vbihyLGZ1bmN0aW9uKGMpe2Q9ITE7Yi5jYW5jZWwmJmIuY2FuY2VsKGMpfSk7YS5vbihrKGwsXCJtb3ZlXCIpLGZ1bmN0aW9uKGMpe2lmKGQmJmgpe3ZhciBhPWYoYyk7ZSs9TWF0aC5hYnMoYS54LW0ueCk7Zys9TWF0aC5hYnMoYS55LW0ueSk7bT1hOzEwPmUmJjEwPmd8fChnPmU/KGQ9ITEsYi5jYW5jZWwmJmIuY2FuY2VsKGMpKTooYy5wcmV2ZW50RGVmYXVsdCgpLGIubW92ZSYmYi5tb3ZlKGEsYykpKX19KTthLm9uKGsobCxcImVuZFwiKSxmdW5jdGlvbihjKXtkJiYoZD0hMSxiLmVuZCYmYi5lbmQoZihjKSxjKSl9KX19fV0pO3ZhciB0PVtcIiRwYXJzZVwiLFwiJHRpbWVvdXRcIixcIiRyb290RWxlbWVudFwiLGZ1bmN0aW9uKGYsayxlKXtmdW5jdGlvbiBhKGEsXHJcbmQsYil7Zm9yKHZhciBjPTA7YzxhLmxlbmd0aDtjKz0yKXt2YXIgZz1hW2MrMV0sZT1iO2lmKDI1Pk1hdGguYWJzKGFbY10tZCkmJjI1Pk1hdGguYWJzKGctZSkpcmV0dXJuIGEuc3BsaWNlKGMsYysyKSwhMH1yZXR1cm4hMX1mdW5jdGlvbiBiKGIpe2lmKCEoMjUwMDxEYXRlLm5vdygpLXUpKXt2YXIgZD1iLnRvdWNoZXMmJmIudG91Y2hlcy5sZW5ndGg/Yi50b3VjaGVzOltiXSxlPWRbMF0uY2xpZW50WCxkPWRbMF0uY2xpZW50WTtpZighKDE+ZSYmMT5kfHxoJiZoWzBdPT09ZSYmaFsxXT09PWQpKXtoJiYoaD1udWxsKTt2YXIgYz1iLnRhcmdldDtcImxhYmVsXCI9PT1uLmxvd2VyY2FzZShjLm5vZGVOYW1lfHxjWzBdJiZjWzBdLm5vZGVOYW1lKSYmKGg9W2UsZF0pO2EoZyxlLGQpfHwoYi5zdG9wUHJvcGFnYXRpb24oKSxiLnByZXZlbnREZWZhdWx0KCksYi50YXJnZXQmJmIudGFyZ2V0LmJsdXImJmIudGFyZ2V0LmJsdXIoKSl9fX1mdW5jdGlvbiBsKGEpe2E9YS50b3VjaGVzJiZhLnRvdWNoZXMubGVuZ3RoP1xyXG5hLnRvdWNoZXM6W2FdO3ZhciBiPWFbMF0uY2xpZW50WCxlPWFbMF0uY2xpZW50WTtnLnB1c2goYixlKTtrKGZ1bmN0aW9uKCl7Zm9yKHZhciBhPTA7YTxnLmxlbmd0aDthKz0yKWlmKGdbYV09PWImJmdbYSsxXT09ZSl7Zy5zcGxpY2UoYSxhKzIpO2JyZWFrfX0sMjUwMCwhMSl9dmFyIHUsZyxoO3JldHVybiBmdW5jdGlvbihoLGQsayl7dmFyIGM9ZihrLm5nQ2xpY2spLHc9ITEscSxwLHMsdDtkLm9uKFwidG91Y2hzdGFydFwiLGZ1bmN0aW9uKGEpe3c9ITA7cT1hLnRhcmdldD9hLnRhcmdldDphLnNyY0VsZW1lbnQ7Mz09cS5ub2RlVHlwZSYmKHE9cS5wYXJlbnROb2RlKTtkLmFkZENsYXNzKFwibmctY2xpY2stYWN0aXZlXCIpO3A9RGF0ZS5ub3coKTthPWEub3JpZ2luYWxFdmVudHx8YTthPShhLnRvdWNoZXMmJmEudG91Y2hlcy5sZW5ndGg/YS50b3VjaGVzOlthXSlbMF07cz1hLmNsaWVudFg7dD1hLmNsaWVudFl9KTtkLm9uKFwidG91Y2hjYW5jZWxcIixmdW5jdGlvbihhKXt3PSExO2QucmVtb3ZlQ2xhc3MoXCJuZy1jbGljay1hY3RpdmVcIil9KTtcclxuZC5vbihcInRvdWNoZW5kXCIsZnVuY3Rpb24oYyl7dmFyIGg9RGF0ZS5ub3coKS1wLGY9Yy5vcmlnaW5hbEV2ZW50fHxjLG09KGYuY2hhbmdlZFRvdWNoZXMmJmYuY2hhbmdlZFRvdWNoZXMubGVuZ3RoP2YuY2hhbmdlZFRvdWNoZXM6Zi50b3VjaGVzJiZmLnRvdWNoZXMubGVuZ3RoP2YudG91Y2hlczpbZl0pWzBdLGY9bS5jbGllbnRYLG09bS5jbGllbnRZLHY9TWF0aC5zcXJ0KE1hdGgucG93KGYtcywyKStNYXRoLnBvdyhtLXQsMikpO3cmJjc1MD5oJiYxMj52JiYoZ3x8KGVbMF0uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsYiwhMCksZVswXS5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hzdGFydFwiLGwsITApLGc9W10pLHU9RGF0ZS5ub3coKSxhKGcsZixtKSxxJiZxLmJsdXIoKSxuLmlzRGVmaW5lZChrLmRpc2FibGVkKSYmITEhPT1rLmRpc2FibGVkfHxkLnRyaWdnZXJIYW5kbGVyKFwiY2xpY2tcIixbY10pKTt3PSExO2QucmVtb3ZlQ2xhc3MoXCJuZy1jbGljay1hY3RpdmVcIil9KTtkLm9uY2xpY2s9XHJcbmZ1bmN0aW9uKGEpe307ZC5vbihcImNsaWNrXCIsZnVuY3Rpb24oYSxiKXtoLiRhcHBseShmdW5jdGlvbigpe2MoaCx7JGV2ZW50OmJ8fGF9KX0pfSk7ZC5vbihcIm1vdXNlZG93blwiLGZ1bmN0aW9uKGEpe2QuYWRkQ2xhc3MoXCJuZy1jbGljay1hY3RpdmVcIil9KTtkLm9uKFwibW91c2Vtb3ZlIG1vdXNldXBcIixmdW5jdGlvbihhKXtkLnJlbW92ZUNsYXNzKFwibmctY2xpY2stYWN0aXZlXCIpfSl9fV07dihcIm5nU3dpcGVMZWZ0XCIsLTEsXCJzd2lwZWxlZnRcIik7dihcIm5nU3dpcGVSaWdodFwiLDEsXCJzd2lwZXJpZ2h0XCIpfSkod2luZG93LHdpbmRvdy5hbmd1bGFyKTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YW5ndWxhci10b3VjaC5taW4uanMubWFwXHJcbiIsIi8qKlxyXG4gKiBAbGljZW5zZSBBbmd1bGFySlMgdjEuNS44XHJcbiAqIChjKSAyMDEwLTIwMTYgR29vZ2xlLCBJbmMuIGh0dHA6Ly9hbmd1bGFyanMub3JnXHJcbiAqIExpY2Vuc2U6IE1JVFxyXG4gKi9cclxuKGZ1bmN0aW9uKHdpbmRvdywgYW5ndWxhcikgeyd1c2Ugc3RyaWN0JztcclxuXHJcbi8qIGdsb2JhbCBzaGFsbG93Q29weTogdHJ1ZSAqL1xyXG5cclxuLyoqXHJcbiAqIENyZWF0ZXMgYSBzaGFsbG93IGNvcHkgb2YgYW4gb2JqZWN0LCBhbiBhcnJheSBvciBhIHByaW1pdGl2ZS5cclxuICpcclxuICogQXNzdW1lcyB0aGF0IHRoZXJlIGFyZSBubyBwcm90byBwcm9wZXJ0aWVzIGZvciBvYmplY3RzLlxyXG4gKi9cclxuZnVuY3Rpb24gc2hhbGxvd0NvcHkoc3JjLCBkc3QpIHtcclxuICBpZiAoaXNBcnJheShzcmMpKSB7XHJcbiAgICBkc3QgPSBkc3QgfHwgW107XHJcblxyXG4gICAgZm9yICh2YXIgaSA9IDAsIGlpID0gc3JjLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcclxuICAgICAgZHN0W2ldID0gc3JjW2ldO1xyXG4gICAgfVxyXG4gIH0gZWxzZSBpZiAoaXNPYmplY3Qoc3JjKSkge1xyXG4gICAgZHN0ID0gZHN0IHx8IHt9O1xyXG5cclxuICAgIGZvciAodmFyIGtleSBpbiBzcmMpIHtcclxuICAgICAgaWYgKCEoa2V5LmNoYXJBdCgwKSA9PT0gJyQnICYmIGtleS5jaGFyQXQoMSkgPT09ICckJykpIHtcclxuICAgICAgICBkc3Rba2V5XSA9IHNyY1trZXldO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXR1cm4gZHN0IHx8IHNyYztcclxufVxyXG5cclxuLyogZ2xvYmFsIHNoYWxsb3dDb3B5OiBmYWxzZSAqL1xyXG5cclxuLy8gVGhlcmUgYXJlIG5lY2Vzc2FyeSBmb3IgYHNoYWxsb3dDb3B5KClgIChpbmNsdWRlZCB2aWEgYHNyYy9zaGFsbG93Q29weS5qc2ApLlxyXG4vLyBUaGV5IGFyZSBpbml0aWFsaXplZCBpbnNpZGUgdGhlIGAkUm91dGVQcm92aWRlcmAsIHRvIGVuc3VyZSBgd2luZG93LmFuZ3VsYXJgIGlzIGF2YWlsYWJsZS5cclxudmFyIGlzQXJyYXk7XHJcbnZhciBpc09iamVjdDtcclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgbW9kdWxlXHJcbiAqIEBuYW1lIG5nUm91dGVcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqXHJcbiAqICMgbmdSb3V0ZVxyXG4gKlxyXG4gKiBUaGUgYG5nUm91dGVgIG1vZHVsZSBwcm92aWRlcyByb3V0aW5nIGFuZCBkZWVwbGlua2luZyBzZXJ2aWNlcyBhbmQgZGlyZWN0aXZlcyBmb3IgYW5ndWxhciBhcHBzLlxyXG4gKlxyXG4gKiAjIyBFeGFtcGxlXHJcbiAqIFNlZSB7QGxpbmsgbmdSb3V0ZS4kcm91dGUjZXhhbXBsZSAkcm91dGV9IGZvciBhbiBleGFtcGxlIG9mIGNvbmZpZ3VyaW5nIGFuZCB1c2luZyBgbmdSb3V0ZWAuXHJcbiAqXHJcbiAqXHJcbiAqIDxkaXYgZG9jLW1vZHVsZS1jb21wb25lbnRzPVwibmdSb3V0ZVwiPjwvZGl2PlxyXG4gKi9cclxuIC8qIGdsb2JhbCAtbmdSb3V0ZU1vZHVsZSAqL1xyXG52YXIgbmdSb3V0ZU1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCduZ1JvdXRlJywgWyduZyddKS5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXIoJyRyb3V0ZScsICRSb3V0ZVByb3ZpZGVyKSxcclxuICAgICRyb3V0ZU1pbkVyciA9IGFuZ3VsYXIuJCRtaW5FcnIoJ25nUm91dGUnKTtcclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgcHJvdmlkZXJcclxuICogQG5hbWUgJHJvdXRlUHJvdmlkZXJcclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqXHJcbiAqIFVzZWQgZm9yIGNvbmZpZ3VyaW5nIHJvdXRlcy5cclxuICpcclxuICogIyMgRXhhbXBsZVxyXG4gKiBTZWUge0BsaW5rIG5nUm91dGUuJHJvdXRlI2V4YW1wbGUgJHJvdXRlfSBmb3IgYW4gZXhhbXBsZSBvZiBjb25maWd1cmluZyBhbmQgdXNpbmcgYG5nUm91dGVgLlxyXG4gKlxyXG4gKiAjIyBEZXBlbmRlbmNpZXNcclxuICogUmVxdWlyZXMgdGhlIHtAbGluayBuZ1JvdXRlIGBuZ1JvdXRlYH0gbW9kdWxlIHRvIGJlIGluc3RhbGxlZC5cclxuICovXHJcbmZ1bmN0aW9uICRSb3V0ZVByb3ZpZGVyKCkge1xyXG4gIGlzQXJyYXkgPSBhbmd1bGFyLmlzQXJyYXk7XHJcbiAgaXNPYmplY3QgPSBhbmd1bGFyLmlzT2JqZWN0O1xyXG5cclxuICBmdW5jdGlvbiBpbmhlcml0KHBhcmVudCwgZXh0cmEpIHtcclxuICAgIHJldHVybiBhbmd1bGFyLmV4dGVuZChPYmplY3QuY3JlYXRlKHBhcmVudCksIGV4dHJhKTtcclxuICB9XHJcblxyXG4gIHZhciByb3V0ZXMgPSB7fTtcclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAqIEBuYW1lICRyb3V0ZVByb3ZpZGVyI3doZW5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIFJvdXRlIHBhdGggKG1hdGNoZWQgYWdhaW5zdCBgJGxvY2F0aW9uLnBhdGhgKS4gSWYgYCRsb2NhdGlvbi5wYXRoYFxyXG4gICAqICAgIGNvbnRhaW5zIHJlZHVuZGFudCB0cmFpbGluZyBzbGFzaCBvciBpcyBtaXNzaW5nIG9uZSwgdGhlIHJvdXRlIHdpbGwgc3RpbGwgbWF0Y2ggYW5kIHRoZVxyXG4gICAqICAgIGAkbG9jYXRpb24ucGF0aGAgd2lsbCBiZSB1cGRhdGVkIHRvIGFkZCBvciBkcm9wIHRoZSB0cmFpbGluZyBzbGFzaCB0byBleGFjdGx5IG1hdGNoIHRoZVxyXG4gICAqICAgIHJvdXRlIGRlZmluaXRpb24uXHJcbiAgICpcclxuICAgKiAgICAqIGBwYXRoYCBjYW4gY29udGFpbiBuYW1lZCBncm91cHMgc3RhcnRpbmcgd2l0aCBhIGNvbG9uOiBlLmcuIGA6bmFtZWAuIEFsbCBjaGFyYWN0ZXJzIHVwXHJcbiAgICogICAgICAgIHRvIHRoZSBuZXh0IHNsYXNoIGFyZSBtYXRjaGVkIGFuZCBzdG9yZWQgaW4gYCRyb3V0ZVBhcmFtc2AgdW5kZXIgdGhlIGdpdmVuIGBuYW1lYFxyXG4gICAqICAgICAgICB3aGVuIHRoZSByb3V0ZSBtYXRjaGVzLlxyXG4gICAqICAgICogYHBhdGhgIGNhbiBjb250YWluIG5hbWVkIGdyb3VwcyBzdGFydGluZyB3aXRoIGEgY29sb24gYW5kIGVuZGluZyB3aXRoIGEgc3RhcjpcclxuICAgKiAgICAgICAgZS5nLmA6bmFtZSpgLiBBbGwgY2hhcmFjdGVycyBhcmUgZWFnZXJseSBzdG9yZWQgaW4gYCRyb3V0ZVBhcmFtc2AgdW5kZXIgdGhlIGdpdmVuIGBuYW1lYFxyXG4gICAqICAgICAgICB3aGVuIHRoZSByb3V0ZSBtYXRjaGVzLlxyXG4gICAqICAgICogYHBhdGhgIGNhbiBjb250YWluIG9wdGlvbmFsIG5hbWVkIGdyb3VwcyB3aXRoIGEgcXVlc3Rpb24gbWFyazogZS5nLmA6bmFtZT9gLlxyXG4gICAqXHJcbiAgICogICAgRm9yIGV4YW1wbGUsIHJvdXRlcyBsaWtlIGAvY29sb3IvOmNvbG9yL2xhcmdlY29kZS86bGFyZ2Vjb2RlKlxcL2VkaXRgIHdpbGwgbWF0Y2hcclxuICAgKiAgICBgL2NvbG9yL2Jyb3duL2xhcmdlY29kZS9jb2RlL3dpdGgvc2xhc2hlcy9lZGl0YCBhbmQgZXh0cmFjdDpcclxuICAgKlxyXG4gICAqICAgICogYGNvbG9yOiBicm93bmBcclxuICAgKiAgICAqIGBsYXJnZWNvZGU6IGNvZGUvd2l0aC9zbGFzaGVzYC5cclxuICAgKlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtPYmplY3R9IHJvdXRlIE1hcHBpbmcgaW5mb3JtYXRpb24gdG8gYmUgYXNzaWduZWQgdG8gYCRyb3V0ZS5jdXJyZW50YCBvbiByb3V0ZVxyXG4gICAqICAgIG1hdGNoLlxyXG4gICAqXHJcbiAgICogICAgT2JqZWN0IHByb3BlcnRpZXM6XHJcbiAgICpcclxuICAgKiAgICAtIGBjb250cm9sbGVyYCDigJMgYHsoc3RyaW5nfGZ1bmN0aW9uKCk9fWAg4oCTIENvbnRyb2xsZXIgZm4gdGhhdCBzaG91bGQgYmUgYXNzb2NpYXRlZCB3aXRoXHJcbiAgICogICAgICBuZXdseSBjcmVhdGVkIHNjb3BlIG9yIHRoZSBuYW1lIG9mIGEge0BsaW5rIGFuZ3VsYXIuTW9kdWxlI2NvbnRyb2xsZXIgcmVnaXN0ZXJlZFxyXG4gICAqICAgICAgY29udHJvbGxlcn0gaWYgcGFzc2VkIGFzIGEgc3RyaW5nLlxyXG4gICAqICAgIC0gYGNvbnRyb2xsZXJBc2Ag4oCTIGB7c3RyaW5nPX1gIOKAkyBBbiBpZGVudGlmaWVyIG5hbWUgZm9yIGEgcmVmZXJlbmNlIHRvIHRoZSBjb250cm9sbGVyLlxyXG4gICAqICAgICAgSWYgcHJlc2VudCwgdGhlIGNvbnRyb2xsZXIgd2lsbCBiZSBwdWJsaXNoZWQgdG8gc2NvcGUgdW5kZXIgdGhlIGBjb250cm9sbGVyQXNgIG5hbWUuXHJcbiAgICogICAgLSBgdGVtcGxhdGVgIOKAkyBge3N0cmluZz18ZnVuY3Rpb24oKT19YCDigJMgaHRtbCB0ZW1wbGF0ZSBhcyBhIHN0cmluZyBvciBhIGZ1bmN0aW9uIHRoYXRcclxuICAgKiAgICAgIHJldHVybnMgYW4gaHRtbCB0ZW1wbGF0ZSBhcyBhIHN0cmluZyB3aGljaCBzaG91bGQgYmUgdXNlZCBieSB7QGxpbmtcclxuICAgKiAgICAgIG5nUm91dGUuZGlyZWN0aXZlOm5nVmlldyBuZ1ZpZXd9IG9yIHtAbGluayBuZy5kaXJlY3RpdmU6bmdJbmNsdWRlIG5nSW5jbHVkZX0gZGlyZWN0aXZlcy5cclxuICAgKiAgICAgIFRoaXMgcHJvcGVydHkgdGFrZXMgcHJlY2VkZW5jZSBvdmVyIGB0ZW1wbGF0ZVVybGAuXHJcbiAgICpcclxuICAgKiAgICAgIElmIGB0ZW1wbGF0ZWAgaXMgYSBmdW5jdGlvbiwgaXQgd2lsbCBiZSBjYWxsZWQgd2l0aCB0aGUgZm9sbG93aW5nIHBhcmFtZXRlcnM6XHJcbiAgICpcclxuICAgKiAgICAgIC0gYHtBcnJheS48T2JqZWN0Pn1gIC0gcm91dGUgcGFyYW1ldGVycyBleHRyYWN0ZWQgZnJvbSB0aGUgY3VycmVudFxyXG4gICAqICAgICAgICBgJGxvY2F0aW9uLnBhdGgoKWAgYnkgYXBwbHlpbmcgdGhlIGN1cnJlbnQgcm91dGVcclxuICAgKlxyXG4gICAqICAgIC0gYHRlbXBsYXRlVXJsYCDigJMgYHtzdHJpbmc9fGZ1bmN0aW9uKCk9fWAg4oCTIHBhdGggb3IgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGEgcGF0aCB0byBhbiBodG1sXHJcbiAgICogICAgICB0ZW1wbGF0ZSB0aGF0IHNob3VsZCBiZSB1c2VkIGJ5IHtAbGluayBuZ1JvdXRlLmRpcmVjdGl2ZTpuZ1ZpZXcgbmdWaWV3fS5cclxuICAgKlxyXG4gICAqICAgICAgSWYgYHRlbXBsYXRlVXJsYCBpcyBhIGZ1bmN0aW9uLCBpdCB3aWxsIGJlIGNhbGxlZCB3aXRoIHRoZSBmb2xsb3dpbmcgcGFyYW1ldGVyczpcclxuICAgKlxyXG4gICAqICAgICAgLSBge0FycmF5LjxPYmplY3Q+fWAgLSByb3V0ZSBwYXJhbWV0ZXJzIGV4dHJhY3RlZCBmcm9tIHRoZSBjdXJyZW50XHJcbiAgICogICAgICAgIGAkbG9jYXRpb24ucGF0aCgpYCBieSBhcHBseWluZyB0aGUgY3VycmVudCByb3V0ZVxyXG4gICAqXHJcbiAgICogICAgLSBgcmVzb2x2ZWAgLSBge09iamVjdC48c3RyaW5nLCBmdW5jdGlvbj49fWAgLSBBbiBvcHRpb25hbCBtYXAgb2YgZGVwZW5kZW5jaWVzIHdoaWNoIHNob3VsZFxyXG4gICAqICAgICAgYmUgaW5qZWN0ZWQgaW50byB0aGUgY29udHJvbGxlci4gSWYgYW55IG9mIHRoZXNlIGRlcGVuZGVuY2llcyBhcmUgcHJvbWlzZXMsIHRoZSByb3V0ZXJcclxuICAgKiAgICAgIHdpbGwgd2FpdCBmb3IgdGhlbSBhbGwgdG8gYmUgcmVzb2x2ZWQgb3Igb25lIHRvIGJlIHJlamVjdGVkIGJlZm9yZSB0aGUgY29udHJvbGxlciBpc1xyXG4gICAqICAgICAgaW5zdGFudGlhdGVkLlxyXG4gICAqICAgICAgSWYgYWxsIHRoZSBwcm9taXNlcyBhcmUgcmVzb2x2ZWQgc3VjY2Vzc2Z1bGx5LCB0aGUgdmFsdWVzIG9mIHRoZSByZXNvbHZlZCBwcm9taXNlcyBhcmVcclxuICAgKiAgICAgIGluamVjdGVkIGFuZCB7QGxpbmsgbmdSb3V0ZS4kcm91dGUjJHJvdXRlQ2hhbmdlU3VjY2VzcyAkcm91dGVDaGFuZ2VTdWNjZXNzfSBldmVudCBpc1xyXG4gICAqICAgICAgZmlyZWQuIElmIGFueSBvZiB0aGUgcHJvbWlzZXMgYXJlIHJlamVjdGVkIHRoZVxyXG4gICAqICAgICAge0BsaW5rIG5nUm91dGUuJHJvdXRlIyRyb3V0ZUNoYW5nZUVycm9yICRyb3V0ZUNoYW5nZUVycm9yfSBldmVudCBpcyBmaXJlZC5cclxuICAgKiAgICAgIEZvciBlYXNpZXIgYWNjZXNzIHRvIHRoZSByZXNvbHZlZCBkZXBlbmRlbmNpZXMgZnJvbSB0aGUgdGVtcGxhdGUsIHRoZSBgcmVzb2x2ZWAgbWFwIHdpbGxcclxuICAgKiAgICAgIGJlIGF2YWlsYWJsZSBvbiB0aGUgc2NvcGUgb2YgdGhlIHJvdXRlLCB1bmRlciBgJHJlc29sdmVgIChieSBkZWZhdWx0KSBvciBhIGN1c3RvbSBuYW1lXHJcbiAgICogICAgICBzcGVjaWZpZWQgYnkgdGhlIGByZXNvbHZlQXNgIHByb3BlcnR5IChzZWUgYmVsb3cpLiBUaGlzIGNhbiBiZSBwYXJ0aWN1bGFybHkgdXNlZnVsLCB3aGVuXHJcbiAgICogICAgICB3b3JraW5nIHdpdGgge0BsaW5rIGFuZ3VsYXIuTW9kdWxlI2NvbXBvbmVudCBjb21wb25lbnRzfSBhcyByb3V0ZSB0ZW1wbGF0ZXMuPGJyIC8+XHJcbiAgICogICAgICA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtd2FybmluZ1wiPlxyXG4gICAqICAgICAgICAqKk5vdGU6KiogSWYgeW91ciBzY29wZSBhbHJlYWR5IGNvbnRhaW5zIGEgcHJvcGVydHkgd2l0aCB0aGlzIG5hbWUsIGl0IHdpbGwgYmUgaGlkZGVuXHJcbiAgICogICAgICAgIG9yIG92ZXJ3cml0dGVuLiBNYWtlIHN1cmUsIHlvdSBzcGVjaWZ5IGFuIGFwcHJvcHJpYXRlIG5hbWUgZm9yIHRoaXMgcHJvcGVydHksIHRoYXRcclxuICAgKiAgICAgICAgZG9lcyBub3QgY29sbGlkZSB3aXRoIG90aGVyIHByb3BlcnRpZXMgb24gdGhlIHNjb3BlLlxyXG4gICAqICAgICAgPC9kaXY+XHJcbiAgICogICAgICBUaGUgbWFwIG9iamVjdCBpczpcclxuICAgKlxyXG4gICAqICAgICAgLSBga2V5YCDigJMgYHtzdHJpbmd9YDogYSBuYW1lIG9mIGEgZGVwZW5kZW5jeSB0byBiZSBpbmplY3RlZCBpbnRvIHRoZSBjb250cm9sbGVyLlxyXG4gICAqICAgICAgLSBgZmFjdG9yeWAgLSBge3N0cmluZ3xmdW5jdGlvbn1gOiBJZiBgc3RyaW5nYCB0aGVuIGl0IGlzIGFuIGFsaWFzIGZvciBhIHNlcnZpY2UuXHJcbiAgICogICAgICAgIE90aGVyd2lzZSBpZiBmdW5jdGlvbiwgdGhlbiBpdCBpcyB7QGxpbmsgYXV0by4kaW5qZWN0b3IjaW52b2tlIGluamVjdGVkfVxyXG4gICAqICAgICAgICBhbmQgdGhlIHJldHVybiB2YWx1ZSBpcyB0cmVhdGVkIGFzIHRoZSBkZXBlbmRlbmN5LiBJZiB0aGUgcmVzdWx0IGlzIGEgcHJvbWlzZSwgaXQgaXNcclxuICAgKiAgICAgICAgcmVzb2x2ZWQgYmVmb3JlIGl0cyB2YWx1ZSBpcyBpbmplY3RlZCBpbnRvIHRoZSBjb250cm9sbGVyLiBCZSBhd2FyZSB0aGF0XHJcbiAgICogICAgICAgIGBuZ1JvdXRlLiRyb3V0ZVBhcmFtc2Agd2lsbCBzdGlsbCByZWZlciB0byB0aGUgcHJldmlvdXMgcm91dGUgd2l0aGluIHRoZXNlIHJlc29sdmVcclxuICAgKiAgICAgICAgZnVuY3Rpb25zLiAgVXNlIGAkcm91dGUuY3VycmVudC5wYXJhbXNgIHRvIGFjY2VzcyB0aGUgbmV3IHJvdXRlIHBhcmFtZXRlcnMsIGluc3RlYWQuXHJcbiAgICpcclxuICAgKiAgICAtIGByZXNvbHZlQXNgIC0gYHtzdHJpbmc9fWAgLSBUaGUgbmFtZSB1bmRlciB3aGljaCB0aGUgYHJlc29sdmVgIG1hcCB3aWxsIGJlIGF2YWlsYWJsZSBvblxyXG4gICAqICAgICAgdGhlIHNjb3BlIG9mIHRoZSByb3V0ZS4gSWYgb21pdHRlZCwgZGVmYXVsdHMgdG8gYCRyZXNvbHZlYC5cclxuICAgKlxyXG4gICAqICAgIC0gYHJlZGlyZWN0VG9gIOKAkyBgeyhzdHJpbmd8ZnVuY3Rpb24oKSk9fWAg4oCTIHZhbHVlIHRvIHVwZGF0ZVxyXG4gICAqICAgICAge0BsaW5rIG5nLiRsb2NhdGlvbiAkbG9jYXRpb259IHBhdGggd2l0aCBhbmQgdHJpZ2dlciByb3V0ZSByZWRpcmVjdGlvbi5cclxuICAgKlxyXG4gICAqICAgICAgSWYgYHJlZGlyZWN0VG9gIGlzIGEgZnVuY3Rpb24sIGl0IHdpbGwgYmUgY2FsbGVkIHdpdGggdGhlIGZvbGxvd2luZyBwYXJhbWV0ZXJzOlxyXG4gICAqXHJcbiAgICogICAgICAtIGB7T2JqZWN0LjxzdHJpbmc+fWAgLSByb3V0ZSBwYXJhbWV0ZXJzIGV4dHJhY3RlZCBmcm9tIHRoZSBjdXJyZW50XHJcbiAgICogICAgICAgIGAkbG9jYXRpb24ucGF0aCgpYCBieSBhcHBseWluZyB0aGUgY3VycmVudCByb3V0ZSB0ZW1wbGF0ZVVybC5cclxuICAgKiAgICAgIC0gYHtzdHJpbmd9YCAtIGN1cnJlbnQgYCRsb2NhdGlvbi5wYXRoKClgXHJcbiAgICogICAgICAtIGB7T2JqZWN0fWAgLSBjdXJyZW50IGAkbG9jYXRpb24uc2VhcmNoKClgXHJcbiAgICpcclxuICAgKiAgICAgIFRoZSBjdXN0b20gYHJlZGlyZWN0VG9gIGZ1bmN0aW9uIGlzIGV4cGVjdGVkIHRvIHJldHVybiBhIHN0cmluZyB3aGljaCB3aWxsIGJlIHVzZWRcclxuICAgKiAgICAgIHRvIHVwZGF0ZSBgJGxvY2F0aW9uLnBhdGgoKWAgYW5kIGAkbG9jYXRpb24uc2VhcmNoKClgLlxyXG4gICAqXHJcbiAgICogICAgLSBgW3JlbG9hZE9uU2VhcmNoPXRydWVdYCAtIGB7Ym9vbGVhbj19YCAtIHJlbG9hZCByb3V0ZSB3aGVuIG9ubHkgYCRsb2NhdGlvbi5zZWFyY2goKWBcclxuICAgKiAgICAgIG9yIGAkbG9jYXRpb24uaGFzaCgpYCBjaGFuZ2VzLlxyXG4gICAqXHJcbiAgICogICAgICBJZiB0aGUgb3B0aW9uIGlzIHNldCB0byBgZmFsc2VgIGFuZCB1cmwgaW4gdGhlIGJyb3dzZXIgY2hhbmdlcywgdGhlblxyXG4gICAqICAgICAgYCRyb3V0ZVVwZGF0ZWAgZXZlbnQgaXMgYnJvYWRjYXN0ZWQgb24gdGhlIHJvb3Qgc2NvcGUuXHJcbiAgICpcclxuICAgKiAgICAtIGBbY2FzZUluc2Vuc2l0aXZlTWF0Y2g9ZmFsc2VdYCAtIGB7Ym9vbGVhbj19YCAtIG1hdGNoIHJvdXRlcyB3aXRob3V0IGJlaW5nIGNhc2Ugc2Vuc2l0aXZlXHJcbiAgICpcclxuICAgKiAgICAgIElmIHRoZSBvcHRpb24gaXMgc2V0IHRvIGB0cnVlYCwgdGhlbiB0aGUgcGFydGljdWxhciByb3V0ZSBjYW4gYmUgbWF0Y2hlZCB3aXRob3V0IGJlaW5nXHJcbiAgICogICAgICBjYXNlIHNlbnNpdGl2ZVxyXG4gICAqXHJcbiAgICogQHJldHVybnMge09iamVjdH0gc2VsZlxyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogQWRkcyBhIG5ldyByb3V0ZSBkZWZpbml0aW9uIHRvIHRoZSBgJHJvdXRlYCBzZXJ2aWNlLlxyXG4gICAqL1xyXG4gIHRoaXMud2hlbiA9IGZ1bmN0aW9uKHBhdGgsIHJvdXRlKSB7XHJcbiAgICAvL2NvcHkgb3JpZ2luYWwgcm91dGUgb2JqZWN0IHRvIHByZXNlcnZlIHBhcmFtcyBpbmhlcml0ZWQgZnJvbSBwcm90byBjaGFpblxyXG4gICAgdmFyIHJvdXRlQ29weSA9IHNoYWxsb3dDb3B5KHJvdXRlKTtcclxuICAgIGlmIChhbmd1bGFyLmlzVW5kZWZpbmVkKHJvdXRlQ29weS5yZWxvYWRPblNlYXJjaCkpIHtcclxuICAgICAgcm91dGVDb3B5LnJlbG9hZE9uU2VhcmNoID0gdHJ1ZTtcclxuICAgIH1cclxuICAgIGlmIChhbmd1bGFyLmlzVW5kZWZpbmVkKHJvdXRlQ29weS5jYXNlSW5zZW5zaXRpdmVNYXRjaCkpIHtcclxuICAgICAgcm91dGVDb3B5LmNhc2VJbnNlbnNpdGl2ZU1hdGNoID0gdGhpcy5jYXNlSW5zZW5zaXRpdmVNYXRjaDtcclxuICAgIH1cclxuICAgIHJvdXRlc1twYXRoXSA9IGFuZ3VsYXIuZXh0ZW5kKFxyXG4gICAgICByb3V0ZUNvcHksXHJcbiAgICAgIHBhdGggJiYgcGF0aFJlZ0V4cChwYXRoLCByb3V0ZUNvcHkpXHJcbiAgICApO1xyXG5cclxuICAgIC8vIGNyZWF0ZSByZWRpcmVjdGlvbiBmb3IgdHJhaWxpbmcgc2xhc2hlc1xyXG4gICAgaWYgKHBhdGgpIHtcclxuICAgICAgdmFyIHJlZGlyZWN0UGF0aCA9IChwYXRoW3BhdGgubGVuZ3RoIC0gMV0gPT0gJy8nKVxyXG4gICAgICAgICAgICA/IHBhdGguc3Vic3RyKDAsIHBhdGgubGVuZ3RoIC0gMSlcclxuICAgICAgICAgICAgOiBwYXRoICsgJy8nO1xyXG5cclxuICAgICAgcm91dGVzW3JlZGlyZWN0UGF0aF0gPSBhbmd1bGFyLmV4dGVuZChcclxuICAgICAgICB7cmVkaXJlY3RUbzogcGF0aH0sXHJcbiAgICAgICAgcGF0aFJlZ0V4cChyZWRpcmVjdFBhdGgsIHJvdXRlQ29weSlcclxuICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgcHJvcGVydHlcclxuICAgKiBAbmFtZSAkcm91dGVQcm92aWRlciNjYXNlSW5zZW5zaXRpdmVNYXRjaFxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqXHJcbiAgICogQSBib29sZWFuIHByb3BlcnR5IGluZGljYXRpbmcgaWYgcm91dGVzIGRlZmluZWRcclxuICAgKiB1c2luZyB0aGlzIHByb3ZpZGVyIHNob3VsZCBiZSBtYXRjaGVkIHVzaW5nIGEgY2FzZSBpbnNlbnNpdGl2ZVxyXG4gICAqIGFsZ29yaXRobS4gRGVmYXVsdHMgdG8gYGZhbHNlYC5cclxuICAgKi9cclxuICB0aGlzLmNhc2VJbnNlbnNpdGl2ZU1hdGNoID0gZmFsc2U7XHJcblxyXG4gICAvKipcclxuICAgICogQHBhcmFtIHBhdGgge3N0cmluZ30gcGF0aFxyXG4gICAgKiBAcGFyYW0gb3B0cyB7T2JqZWN0fSBvcHRpb25zXHJcbiAgICAqIEByZXR1cm4gez9PYmplY3R9XHJcbiAgICAqXHJcbiAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgKiBOb3JtYWxpemVzIHRoZSBnaXZlbiBwYXRoLCByZXR1cm5pbmcgYSByZWd1bGFyIGV4cHJlc3Npb25cclxuICAgICogYW5kIHRoZSBvcmlnaW5hbCBwYXRoLlxyXG4gICAgKlxyXG4gICAgKiBJbnNwaXJlZCBieSBwYXRoUmV4cCBpbiB2aXNpb25tZWRpYS9leHByZXNzL2xpYi91dGlscy5qcy5cclxuICAgICovXHJcbiAgZnVuY3Rpb24gcGF0aFJlZ0V4cChwYXRoLCBvcHRzKSB7XHJcbiAgICB2YXIgaW5zZW5zaXRpdmUgPSBvcHRzLmNhc2VJbnNlbnNpdGl2ZU1hdGNoLFxyXG4gICAgICAgIHJldCA9IHtcclxuICAgICAgICAgIG9yaWdpbmFsUGF0aDogcGF0aCxcclxuICAgICAgICAgIHJlZ2V4cDogcGF0aFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAga2V5cyA9IHJldC5rZXlzID0gW107XHJcblxyXG4gICAgcGF0aCA9IHBhdGhcclxuICAgICAgLnJlcGxhY2UoLyhbKCkuXSkvZywgJ1xcXFwkMScpXHJcbiAgICAgIC5yZXBsYWNlKC8oXFwvKT86KFxcdyspKFxcKlxcP3xbXFw/XFwqXSk/L2csIGZ1bmN0aW9uKF8sIHNsYXNoLCBrZXksIG9wdGlvbikge1xyXG4gICAgICAgIHZhciBvcHRpb25hbCA9IChvcHRpb24gPT09ICc/JyB8fCBvcHRpb24gPT09ICcqPycpID8gJz8nIDogbnVsbDtcclxuICAgICAgICB2YXIgc3RhciA9IChvcHRpb24gPT09ICcqJyB8fCBvcHRpb24gPT09ICcqPycpID8gJyonIDogbnVsbDtcclxuICAgICAgICBrZXlzLnB1c2goeyBuYW1lOiBrZXksIG9wdGlvbmFsOiAhIW9wdGlvbmFsIH0pO1xyXG4gICAgICAgIHNsYXNoID0gc2xhc2ggfHwgJyc7XHJcbiAgICAgICAgcmV0dXJuICcnXHJcbiAgICAgICAgICArIChvcHRpb25hbCA/ICcnIDogc2xhc2gpXHJcbiAgICAgICAgICArICcoPzonXHJcbiAgICAgICAgICArIChvcHRpb25hbCA/IHNsYXNoIDogJycpXHJcbiAgICAgICAgICArIChzdGFyICYmICcoLis/KScgfHwgJyhbXi9dKyknKVxyXG4gICAgICAgICAgKyAob3B0aW9uYWwgfHwgJycpXHJcbiAgICAgICAgICArICcpJ1xyXG4gICAgICAgICAgKyAob3B0aW9uYWwgfHwgJycpO1xyXG4gICAgICB9KVxyXG4gICAgICAucmVwbGFjZSgvKFtcXC8kXFwqXSkvZywgJ1xcXFwkMScpO1xyXG5cclxuICAgIHJldC5yZWdleHAgPSBuZXcgUmVnRXhwKCdeJyArIHBhdGggKyAnJCcsIGluc2Vuc2l0aXZlID8gJ2knIDogJycpO1xyXG4gICAgcmV0dXJuIHJldDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBtZXRob2RcclxuICAgKiBAbmFtZSAkcm91dGVQcm92aWRlciNvdGhlcndpc2VcclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIFNldHMgcm91dGUgZGVmaW5pdGlvbiB0aGF0IHdpbGwgYmUgdXNlZCBvbiByb3V0ZSBjaGFuZ2Ugd2hlbiBubyBvdGhlciByb3V0ZSBkZWZpbml0aW9uXHJcbiAgICogaXMgbWF0Y2hlZC5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7T2JqZWN0fHN0cmluZ30gcGFyYW1zIE1hcHBpbmcgaW5mb3JtYXRpb24gdG8gYmUgYXNzaWduZWQgdG8gYCRyb3V0ZS5jdXJyZW50YC5cclxuICAgKiBJZiBjYWxsZWQgd2l0aCBhIHN0cmluZywgdGhlIHZhbHVlIG1hcHMgdG8gYHJlZGlyZWN0VG9gLlxyXG4gICAqIEByZXR1cm5zIHtPYmplY3R9IHNlbGZcclxuICAgKi9cclxuICB0aGlzLm90aGVyd2lzZSA9IGZ1bmN0aW9uKHBhcmFtcykge1xyXG4gICAgaWYgKHR5cGVvZiBwYXJhbXMgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgIHBhcmFtcyA9IHtyZWRpcmVjdFRvOiBwYXJhbXN9O1xyXG4gICAgfVxyXG4gICAgdGhpcy53aGVuKG51bGwsIHBhcmFtcyk7XHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9O1xyXG5cclxuXHJcbiAgdGhpcy4kZ2V0ID0gWyckcm9vdFNjb3BlJyxcclxuICAgICAgICAgICAgICAgJyRsb2NhdGlvbicsXHJcbiAgICAgICAgICAgICAgICckcm91dGVQYXJhbXMnLFxyXG4gICAgICAgICAgICAgICAnJHEnLFxyXG4gICAgICAgICAgICAgICAnJGluamVjdG9yJyxcclxuICAgICAgICAgICAgICAgJyR0ZW1wbGF0ZVJlcXVlc3QnLFxyXG4gICAgICAgICAgICAgICAnJHNjZScsXHJcbiAgICAgIGZ1bmN0aW9uKCRyb290U2NvcGUsICRsb2NhdGlvbiwgJHJvdXRlUGFyYW1zLCAkcSwgJGluamVjdG9yLCAkdGVtcGxhdGVSZXF1ZXN0LCAkc2NlKSB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAbmdkb2Mgc2VydmljZVxyXG4gICAgICogQG5hbWUgJHJvdXRlXHJcbiAgICAgKiBAcmVxdWlyZXMgJGxvY2F0aW9uXHJcbiAgICAgKiBAcmVxdWlyZXMgJHJvdXRlUGFyYW1zXHJcbiAgICAgKlxyXG4gICAgICogQHByb3BlcnR5IHtPYmplY3R9IGN1cnJlbnQgUmVmZXJlbmNlIHRvIHRoZSBjdXJyZW50IHJvdXRlIGRlZmluaXRpb24uXHJcbiAgICAgKiBUaGUgcm91dGUgZGVmaW5pdGlvbiBjb250YWluczpcclxuICAgICAqXHJcbiAgICAgKiAgIC0gYGNvbnRyb2xsZXJgOiBUaGUgY29udHJvbGxlciBjb25zdHJ1Y3RvciBhcyBkZWZpbmVkIGluIHRoZSByb3V0ZSBkZWZpbml0aW9uLlxyXG4gICAgICogICAtIGBsb2NhbHNgOiBBIG1hcCBvZiBsb2NhbHMgd2hpY2ggaXMgdXNlZCBieSB7QGxpbmsgbmcuJGNvbnRyb2xsZXIgJGNvbnRyb2xsZXJ9IHNlcnZpY2UgZm9yXHJcbiAgICAgKiAgICAgY29udHJvbGxlciBpbnN0YW50aWF0aW9uLiBUaGUgYGxvY2Fsc2AgY29udGFpblxyXG4gICAgICogICAgIHRoZSByZXNvbHZlZCB2YWx1ZXMgb2YgdGhlIGByZXNvbHZlYCBtYXAuIEFkZGl0aW9uYWxseSB0aGUgYGxvY2Fsc2AgYWxzbyBjb250YWluOlxyXG4gICAgICpcclxuICAgICAqICAgICAtIGAkc2NvcGVgIC0gVGhlIGN1cnJlbnQgcm91dGUgc2NvcGUuXHJcbiAgICAgKiAgICAgLSBgJHRlbXBsYXRlYCAtIFRoZSBjdXJyZW50IHJvdXRlIHRlbXBsYXRlIEhUTUwuXHJcbiAgICAgKlxyXG4gICAgICogICAgIFRoZSBgbG9jYWxzYCB3aWxsIGJlIGFzc2lnbmVkIHRvIHRoZSByb3V0ZSBzY29wZSdzIGAkcmVzb2x2ZWAgcHJvcGVydHkuIFlvdSBjYW4gb3ZlcnJpZGVcclxuICAgICAqICAgICB0aGUgcHJvcGVydHkgbmFtZSwgdXNpbmcgYHJlc29sdmVBc2AgaW4gdGhlIHJvdXRlIGRlZmluaXRpb24uIFNlZVxyXG4gICAgICogICAgIHtAbGluayBuZ1JvdXRlLiRyb3V0ZVByb3ZpZGVyICRyb3V0ZVByb3ZpZGVyfSBmb3IgbW9yZSBpbmZvLlxyXG4gICAgICpcclxuICAgICAqIEBwcm9wZXJ0eSB7T2JqZWN0fSByb3V0ZXMgT2JqZWN0IHdpdGggYWxsIHJvdXRlIGNvbmZpZ3VyYXRpb24gT2JqZWN0cyBhcyBpdHMgcHJvcGVydGllcy5cclxuICAgICAqXHJcbiAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAqIGAkcm91dGVgIGlzIHVzZWQgZm9yIGRlZXAtbGlua2luZyBVUkxzIHRvIGNvbnRyb2xsZXJzIGFuZCB2aWV3cyAoSFRNTCBwYXJ0aWFscykuXHJcbiAgICAgKiBJdCB3YXRjaGVzIGAkbG9jYXRpb24udXJsKClgIGFuZCB0cmllcyB0byBtYXAgdGhlIHBhdGggdG8gYW4gZXhpc3Rpbmcgcm91dGUgZGVmaW5pdGlvbi5cclxuICAgICAqXHJcbiAgICAgKiBSZXF1aXJlcyB0aGUge0BsaW5rIG5nUm91dGUgYG5nUm91dGVgfSBtb2R1bGUgdG8gYmUgaW5zdGFsbGVkLlxyXG4gICAgICpcclxuICAgICAqIFlvdSBjYW4gZGVmaW5lIHJvdXRlcyB0aHJvdWdoIHtAbGluayBuZ1JvdXRlLiRyb3V0ZVByb3ZpZGVyICRyb3V0ZVByb3ZpZGVyfSdzIEFQSS5cclxuICAgICAqXHJcbiAgICAgKiBUaGUgYCRyb3V0ZWAgc2VydmljZSBpcyB0eXBpY2FsbHkgdXNlZCBpbiBjb25qdW5jdGlvbiB3aXRoIHRoZVxyXG4gICAgICoge0BsaW5rIG5nUm91dGUuZGlyZWN0aXZlOm5nVmlldyBgbmdWaWV3YH0gZGlyZWN0aXZlIGFuZCB0aGVcclxuICAgICAqIHtAbGluayBuZ1JvdXRlLiRyb3V0ZVBhcmFtcyBgJHJvdXRlUGFyYW1zYH0gc2VydmljZS5cclxuICAgICAqXHJcbiAgICAgKiBAZXhhbXBsZVxyXG4gICAgICogVGhpcyBleGFtcGxlIHNob3dzIGhvdyBjaGFuZ2luZyB0aGUgVVJMIGhhc2ggY2F1c2VzIHRoZSBgJHJvdXRlYCB0byBtYXRjaCBhIHJvdXRlIGFnYWluc3QgdGhlXHJcbiAgICAgKiBVUkwsIGFuZCB0aGUgYG5nVmlld2AgcHVsbHMgaW4gdGhlIHBhcnRpYWwuXHJcbiAgICAgKlxyXG4gICAgICogPGV4YW1wbGUgbmFtZT1cIiRyb3V0ZS1zZXJ2aWNlXCIgbW9kdWxlPVwibmdSb3V0ZUV4YW1wbGVcIlxyXG4gICAgICogICAgICAgICAgZGVwcz1cImFuZ3VsYXItcm91dGUuanNcIiBmaXhCYXNlPVwidHJ1ZVwiPlxyXG4gICAgICogICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAgICogICAgIDxkaXYgbmctY29udHJvbGxlcj1cIk1haW5Db250cm9sbGVyXCI+XHJcbiAgICAgKiAgICAgICBDaG9vc2U6XHJcbiAgICAgKiAgICAgICA8YSBocmVmPVwiQm9vay9Nb2J5XCI+TW9ieTwvYT4gfFxyXG4gICAgICogICAgICAgPGEgaHJlZj1cIkJvb2svTW9ieS9jaC8xXCI+TW9ieTogQ2gxPC9hPiB8XHJcbiAgICAgKiAgICAgICA8YSBocmVmPVwiQm9vay9HYXRzYnlcIj5HYXRzYnk8L2E+IHxcclxuICAgICAqICAgICAgIDxhIGhyZWY9XCJCb29rL0dhdHNieS9jaC80P2tleT12YWx1ZVwiPkdhdHNieTogQ2g0PC9hPiB8XHJcbiAgICAgKiAgICAgICA8YSBocmVmPVwiQm9vay9TY2FybGV0XCI+U2NhcmxldCBMZXR0ZXI8L2E+PGJyLz5cclxuICAgICAqXHJcbiAgICAgKiAgICAgICA8ZGl2IG5nLXZpZXc+PC9kaXY+XHJcbiAgICAgKlxyXG4gICAgICogICAgICAgPGhyIC8+XHJcbiAgICAgKlxyXG4gICAgICogICAgICAgPHByZT4kbG9jYXRpb24ucGF0aCgpID0ge3skbG9jYXRpb24ucGF0aCgpfX08L3ByZT5cclxuICAgICAqICAgICAgIDxwcmU+JHJvdXRlLmN1cnJlbnQudGVtcGxhdGVVcmwgPSB7eyRyb3V0ZS5jdXJyZW50LnRlbXBsYXRlVXJsfX08L3ByZT5cclxuICAgICAqICAgICAgIDxwcmU+JHJvdXRlLmN1cnJlbnQucGFyYW1zID0ge3skcm91dGUuY3VycmVudC5wYXJhbXN9fTwvcHJlPlxyXG4gICAgICogICAgICAgPHByZT4kcm91dGUuY3VycmVudC5zY29wZS5uYW1lID0ge3skcm91dGUuY3VycmVudC5zY29wZS5uYW1lfX08L3ByZT5cclxuICAgICAqICAgICAgIDxwcmU+JHJvdXRlUGFyYW1zID0ge3skcm91dGVQYXJhbXN9fTwvcHJlPlxyXG4gICAgICogICAgIDwvZGl2PlxyXG4gICAgICogICA8L2ZpbGU+XHJcbiAgICAgKlxyXG4gICAgICogICA8ZmlsZSBuYW1lPVwiYm9vay5odG1sXCI+XHJcbiAgICAgKiAgICAgY29udHJvbGxlcjoge3tuYW1lfX08YnIgLz5cclxuICAgICAqICAgICBCb29rIElkOiB7e3BhcmFtcy5ib29rSWR9fTxiciAvPlxyXG4gICAgICogICA8L2ZpbGU+XHJcbiAgICAgKlxyXG4gICAgICogICA8ZmlsZSBuYW1lPVwiY2hhcHRlci5odG1sXCI+XHJcbiAgICAgKiAgICAgY29udHJvbGxlcjoge3tuYW1lfX08YnIgLz5cclxuICAgICAqICAgICBCb29rIElkOiB7e3BhcmFtcy5ib29rSWR9fTxiciAvPlxyXG4gICAgICogICAgIENoYXB0ZXIgSWQ6IHt7cGFyYW1zLmNoYXB0ZXJJZH19XHJcbiAgICAgKiAgIDwvZmlsZT5cclxuICAgICAqXHJcbiAgICAgKiAgIDxmaWxlIG5hbWU9XCJzY3JpcHQuanNcIj5cclxuICAgICAqICAgICBhbmd1bGFyLm1vZHVsZSgnbmdSb3V0ZUV4YW1wbGUnLCBbJ25nUm91dGUnXSlcclxuICAgICAqXHJcbiAgICAgKiAgICAgIC5jb250cm9sbGVyKCdNYWluQ29udHJvbGxlcicsIGZ1bmN0aW9uKCRzY29wZSwgJHJvdXRlLCAkcm91dGVQYXJhbXMsICRsb2NhdGlvbikge1xyXG4gICAgICogICAgICAgICAgJHNjb3BlLiRyb3V0ZSA9ICRyb3V0ZTtcclxuICAgICAqICAgICAgICAgICRzY29wZS4kbG9jYXRpb24gPSAkbG9jYXRpb247XHJcbiAgICAgKiAgICAgICAgICAkc2NvcGUuJHJvdXRlUGFyYW1zID0gJHJvdXRlUGFyYW1zO1xyXG4gICAgICogICAgICB9KVxyXG4gICAgICpcclxuICAgICAqICAgICAgLmNvbnRyb2xsZXIoJ0Jvb2tDb250cm9sbGVyJywgZnVuY3Rpb24oJHNjb3BlLCAkcm91dGVQYXJhbXMpIHtcclxuICAgICAqICAgICAgICAgICRzY29wZS5uYW1lID0gXCJCb29rQ29udHJvbGxlclwiO1xyXG4gICAgICogICAgICAgICAgJHNjb3BlLnBhcmFtcyA9ICRyb3V0ZVBhcmFtcztcclxuICAgICAqICAgICAgfSlcclxuICAgICAqXHJcbiAgICAgKiAgICAgIC5jb250cm9sbGVyKCdDaGFwdGVyQ29udHJvbGxlcicsIGZ1bmN0aW9uKCRzY29wZSwgJHJvdXRlUGFyYW1zKSB7XHJcbiAgICAgKiAgICAgICAgICAkc2NvcGUubmFtZSA9IFwiQ2hhcHRlckNvbnRyb2xsZXJcIjtcclxuICAgICAqICAgICAgICAgICRzY29wZS5wYXJhbXMgPSAkcm91dGVQYXJhbXM7XHJcbiAgICAgKiAgICAgIH0pXHJcbiAgICAgKlxyXG4gICAgICogICAgIC5jb25maWcoZnVuY3Rpb24oJHJvdXRlUHJvdmlkZXIsICRsb2NhdGlvblByb3ZpZGVyKSB7XHJcbiAgICAgKiAgICAgICAkcm91dGVQcm92aWRlclxyXG4gICAgICogICAgICAgIC53aGVuKCcvQm9vay86Ym9va0lkJywge1xyXG4gICAgICogICAgICAgICB0ZW1wbGF0ZVVybDogJ2Jvb2suaHRtbCcsXHJcbiAgICAgKiAgICAgICAgIGNvbnRyb2xsZXI6ICdCb29rQ29udHJvbGxlcicsXHJcbiAgICAgKiAgICAgICAgIHJlc29sdmU6IHtcclxuICAgICAqICAgICAgICAgICAvLyBJIHdpbGwgY2F1c2UgYSAxIHNlY29uZCBkZWxheVxyXG4gICAgICogICAgICAgICAgIGRlbGF5OiBmdW5jdGlvbigkcSwgJHRpbWVvdXQpIHtcclxuICAgICAqICAgICAgICAgICAgIHZhciBkZWxheSA9ICRxLmRlZmVyKCk7XHJcbiAgICAgKiAgICAgICAgICAgICAkdGltZW91dChkZWxheS5yZXNvbHZlLCAxMDAwKTtcclxuICAgICAqICAgICAgICAgICAgIHJldHVybiBkZWxheS5wcm9taXNlO1xyXG4gICAgICogICAgICAgICAgIH1cclxuICAgICAqICAgICAgICAgfVxyXG4gICAgICogICAgICAgfSlcclxuICAgICAqICAgICAgIC53aGVuKCcvQm9vay86Ym9va0lkL2NoLzpjaGFwdGVySWQnLCB7XHJcbiAgICAgKiAgICAgICAgIHRlbXBsYXRlVXJsOiAnY2hhcHRlci5odG1sJyxcclxuICAgICAqICAgICAgICAgY29udHJvbGxlcjogJ0NoYXB0ZXJDb250cm9sbGVyJ1xyXG4gICAgICogICAgICAgfSk7XHJcbiAgICAgKlxyXG4gICAgICogICAgICAgLy8gY29uZmlndXJlIGh0bWw1IHRvIGdldCBsaW5rcyB3b3JraW5nIG9uIGpzZmlkZGxlXHJcbiAgICAgKiAgICAgICAkbG9jYXRpb25Qcm92aWRlci5odG1sNU1vZGUodHJ1ZSk7XHJcbiAgICAgKiAgICAgfSk7XHJcbiAgICAgKlxyXG4gICAgICogICA8L2ZpbGU+XHJcbiAgICAgKlxyXG4gICAgICogICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XHJcbiAgICAgKiAgICAgaXQoJ3Nob3VsZCBsb2FkIGFuZCBjb21waWxlIGNvcnJlY3QgdGVtcGxhdGUnLCBmdW5jdGlvbigpIHtcclxuICAgICAqICAgICAgIGVsZW1lbnQoYnkubGlua1RleHQoJ01vYnk6IENoMScpKS5jbGljaygpO1xyXG4gICAgICogICAgICAgdmFyIGNvbnRlbnQgPSBlbGVtZW50KGJ5LmNzcygnW25nLXZpZXddJykpLmdldFRleHQoKTtcclxuICAgICAqICAgICAgIGV4cGVjdChjb250ZW50KS50b01hdGNoKC9jb250cm9sbGVyXFw6IENoYXB0ZXJDb250cm9sbGVyLyk7XHJcbiAgICAgKiAgICAgICBleHBlY3QoY29udGVudCkudG9NYXRjaCgvQm9vayBJZFxcOiBNb2J5Lyk7XHJcbiAgICAgKiAgICAgICBleHBlY3QoY29udGVudCkudG9NYXRjaCgvQ2hhcHRlciBJZFxcOiAxLyk7XHJcbiAgICAgKlxyXG4gICAgICogICAgICAgZWxlbWVudChieS5wYXJ0aWFsTGlua1RleHQoJ1NjYXJsZXQnKSkuY2xpY2soKTtcclxuICAgICAqXHJcbiAgICAgKiAgICAgICBjb250ZW50ID0gZWxlbWVudChieS5jc3MoJ1tuZy12aWV3XScpKS5nZXRUZXh0KCk7XHJcbiAgICAgKiAgICAgICBleHBlY3QoY29udGVudCkudG9NYXRjaCgvY29udHJvbGxlclxcOiBCb29rQ29udHJvbGxlci8pO1xyXG4gICAgICogICAgICAgZXhwZWN0KGNvbnRlbnQpLnRvTWF0Y2goL0Jvb2sgSWRcXDogU2NhcmxldC8pO1xyXG4gICAgICogICAgIH0pO1xyXG4gICAgICogICA8L2ZpbGU+XHJcbiAgICAgKiA8L2V4YW1wbGU+XHJcbiAgICAgKi9cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBuZ2RvYyBldmVudFxyXG4gICAgICogQG5hbWUgJHJvdXRlIyRyb3V0ZUNoYW5nZVN0YXJ0XHJcbiAgICAgKiBAZXZlbnRUeXBlIGJyb2FkY2FzdCBvbiByb290IHNjb3BlXHJcbiAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAqIEJyb2FkY2FzdGVkIGJlZm9yZSBhIHJvdXRlIGNoYW5nZS4gQXQgdGhpcyAgcG9pbnQgdGhlIHJvdXRlIHNlcnZpY2VzIHN0YXJ0c1xyXG4gICAgICogcmVzb2x2aW5nIGFsbCBvZiB0aGUgZGVwZW5kZW5jaWVzIG5lZWRlZCBmb3IgdGhlIHJvdXRlIGNoYW5nZSB0byBvY2N1ci5cclxuICAgICAqIFR5cGljYWxseSB0aGlzIGludm9sdmVzIGZldGNoaW5nIHRoZSB2aWV3IHRlbXBsYXRlIGFzIHdlbGwgYXMgYW55IGRlcGVuZGVuY2llc1xyXG4gICAgICogZGVmaW5lZCBpbiBgcmVzb2x2ZWAgcm91dGUgcHJvcGVydHkuIE9uY2UgIGFsbCBvZiB0aGUgZGVwZW5kZW5jaWVzIGFyZSByZXNvbHZlZFxyXG4gICAgICogYCRyb3V0ZUNoYW5nZVN1Y2Nlc3NgIGlzIGZpcmVkLlxyXG4gICAgICpcclxuICAgICAqIFRoZSByb3V0ZSBjaGFuZ2UgKGFuZCB0aGUgYCRsb2NhdGlvbmAgY2hhbmdlIHRoYXQgdHJpZ2dlcmVkIGl0KSBjYW4gYmUgcHJldmVudGVkXHJcbiAgICAgKiBieSBjYWxsaW5nIGBwcmV2ZW50RGVmYXVsdGAgbWV0aG9kIG9mIHRoZSBldmVudC4gU2VlIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRvbn1cclxuICAgICAqIGZvciBtb3JlIGRldGFpbHMgYWJvdXQgZXZlbnQgb2JqZWN0LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBhbmd1bGFyRXZlbnQgU3ludGhldGljIGV2ZW50IG9iamVjdC5cclxuICAgICAqIEBwYXJhbSB7Um91dGV9IG5leHQgRnV0dXJlIHJvdXRlIGluZm9ybWF0aW9uLlxyXG4gICAgICogQHBhcmFtIHtSb3V0ZX0gY3VycmVudCBDdXJyZW50IHJvdXRlIGluZm9ybWF0aW9uLlxyXG4gICAgICovXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAbmdkb2MgZXZlbnRcclxuICAgICAqIEBuYW1lICRyb3V0ZSMkcm91dGVDaGFuZ2VTdWNjZXNzXHJcbiAgICAgKiBAZXZlbnRUeXBlIGJyb2FkY2FzdCBvbiByb290IHNjb3BlXHJcbiAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAqIEJyb2FkY2FzdGVkIGFmdGVyIGEgcm91dGUgY2hhbmdlIGhhcyBoYXBwZW5lZCBzdWNjZXNzZnVsbHkuXHJcbiAgICAgKiBUaGUgYHJlc29sdmVgIGRlcGVuZGVuY2llcyBhcmUgbm93IGF2YWlsYWJsZSBpbiB0aGUgYGN1cnJlbnQubG9jYWxzYCBwcm9wZXJ0eS5cclxuICAgICAqXHJcbiAgICAgKiB7QGxpbmsgbmdSb3V0ZS5kaXJlY3RpdmU6bmdWaWV3IG5nVmlld30gbGlzdGVucyBmb3IgdGhlIGRpcmVjdGl2ZVxyXG4gICAgICogdG8gaW5zdGFudGlhdGUgdGhlIGNvbnRyb2xsZXIgYW5kIHJlbmRlciB0aGUgdmlldy5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gYW5ndWxhckV2ZW50IFN5bnRoZXRpYyBldmVudCBvYmplY3QuXHJcbiAgICAgKiBAcGFyYW0ge1JvdXRlfSBjdXJyZW50IEN1cnJlbnQgcm91dGUgaW5mb3JtYXRpb24uXHJcbiAgICAgKiBAcGFyYW0ge1JvdXRlfFVuZGVmaW5lZH0gcHJldmlvdXMgUHJldmlvdXMgcm91dGUgaW5mb3JtYXRpb24sIG9yIHVuZGVmaW5lZCBpZiBjdXJyZW50IGlzXHJcbiAgICAgKiBmaXJzdCByb3V0ZSBlbnRlcmVkLlxyXG4gICAgICovXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAbmdkb2MgZXZlbnRcclxuICAgICAqIEBuYW1lICRyb3V0ZSMkcm91dGVDaGFuZ2VFcnJvclxyXG4gICAgICogQGV2ZW50VHlwZSBicm9hZGNhc3Qgb24gcm9vdCBzY29wZVxyXG4gICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgKiBCcm9hZGNhc3RlZCBpZiBhbnkgb2YgdGhlIHJlc29sdmUgcHJvbWlzZXMgYXJlIHJlamVjdGVkLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBhbmd1bGFyRXZlbnQgU3ludGhldGljIGV2ZW50IG9iamVjdFxyXG4gICAgICogQHBhcmFtIHtSb3V0ZX0gY3VycmVudCBDdXJyZW50IHJvdXRlIGluZm9ybWF0aW9uLlxyXG4gICAgICogQHBhcmFtIHtSb3V0ZX0gcHJldmlvdXMgUHJldmlvdXMgcm91dGUgaW5mb3JtYXRpb24uXHJcbiAgICAgKiBAcGFyYW0ge1JvdXRlfSByZWplY3Rpb24gUmVqZWN0aW9uIG9mIHRoZSBwcm9taXNlLiBVc3VhbGx5IHRoZSBlcnJvciBvZiB0aGUgZmFpbGVkIHByb21pc2UuXHJcbiAgICAgKi9cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBuZ2RvYyBldmVudFxyXG4gICAgICogQG5hbWUgJHJvdXRlIyRyb3V0ZVVwZGF0ZVxyXG4gICAgICogQGV2ZW50VHlwZSBicm9hZGNhc3Qgb24gcm9vdCBzY29wZVxyXG4gICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgKiBUaGUgYHJlbG9hZE9uU2VhcmNoYCBwcm9wZXJ0eSBoYXMgYmVlbiBzZXQgdG8gZmFsc2UsIGFuZCB3ZSBhcmUgcmV1c2luZyB0aGUgc2FtZVxyXG4gICAgICogaW5zdGFuY2Ugb2YgdGhlIENvbnRyb2xsZXIuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGFuZ3VsYXJFdmVudCBTeW50aGV0aWMgZXZlbnQgb2JqZWN0XHJcbiAgICAgKiBAcGFyYW0ge1JvdXRlfSBjdXJyZW50IEN1cnJlbnQvcHJldmlvdXMgcm91dGUgaW5mb3JtYXRpb24uXHJcbiAgICAgKi9cclxuXHJcbiAgICB2YXIgZm9yY2VSZWxvYWQgPSBmYWxzZSxcclxuICAgICAgICBwcmVwYXJlZFJvdXRlLFxyXG4gICAgICAgIHByZXBhcmVkUm91dGVJc1VwZGF0ZU9ubHksXHJcbiAgICAgICAgJHJvdXRlID0ge1xyXG4gICAgICAgICAgcm91dGVzOiByb3V0ZXMsXHJcblxyXG4gICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgICAgICAgKiBAbmFtZSAkcm91dGUjcmVsb2FkXHJcbiAgICAgICAgICAgKlxyXG4gICAgICAgICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgICAgICAgKiBDYXVzZXMgYCRyb3V0ZWAgc2VydmljZSB0byByZWxvYWQgdGhlIGN1cnJlbnQgcm91dGUgZXZlbiBpZlxyXG4gICAgICAgICAgICoge0BsaW5rIG5nLiRsb2NhdGlvbiAkbG9jYXRpb259IGhhc24ndCBjaGFuZ2VkLlxyXG4gICAgICAgICAgICpcclxuICAgICAgICAgICAqIEFzIGEgcmVzdWx0IG9mIHRoYXQsIHtAbGluayBuZ1JvdXRlLmRpcmVjdGl2ZTpuZ1ZpZXcgbmdWaWV3fVxyXG4gICAgICAgICAgICogY3JlYXRlcyBuZXcgc2NvcGUgYW5kIHJlaW5zdGFudGlhdGVzIHRoZSBjb250cm9sbGVyLlxyXG4gICAgICAgICAgICovXHJcbiAgICAgICAgICByZWxvYWQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBmb3JjZVJlbG9hZCA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICB2YXIgZmFrZUxvY2F0aW9uRXZlbnQgPSB7XHJcbiAgICAgICAgICAgICAgZGVmYXVsdFByZXZlbnRlZDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgcHJldmVudERlZmF1bHQ6IGZ1bmN0aW9uIGZha2VQcmV2ZW50RGVmYXVsdCgpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGVmYXVsdFByZXZlbnRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBmb3JjZVJlbG9hZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICRyb290U2NvcGUuJGV2YWxBc3luYyhmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICBwcmVwYXJlUm91dGUoZmFrZUxvY2F0aW9uRXZlbnQpO1xyXG4gICAgICAgICAgICAgIGlmICghZmFrZUxvY2F0aW9uRXZlbnQuZGVmYXVsdFByZXZlbnRlZCkgY29tbWl0Um91dGUoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9LFxyXG5cclxuICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICAgICAgICogQG5hbWUgJHJvdXRlI3VwZGF0ZVBhcmFtc1xyXG4gICAgICAgICAgICpcclxuICAgICAgICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICAgICAgICogQ2F1c2VzIGAkcm91dGVgIHNlcnZpY2UgdG8gdXBkYXRlIHRoZSBjdXJyZW50IFVSTCwgcmVwbGFjaW5nXHJcbiAgICAgICAgICAgKiBjdXJyZW50IHJvdXRlIHBhcmFtZXRlcnMgd2l0aCB0aG9zZSBzcGVjaWZpZWQgaW4gYG5ld1BhcmFtc2AuXHJcbiAgICAgICAgICAgKiBQcm92aWRlZCBwcm9wZXJ0eSBuYW1lcyB0aGF0IG1hdGNoIHRoZSByb3V0ZSdzIHBhdGggc2VnbWVudFxyXG4gICAgICAgICAgICogZGVmaW5pdGlvbnMgd2lsbCBiZSBpbnRlcnBvbGF0ZWQgaW50byB0aGUgbG9jYXRpb24ncyBwYXRoLCB3aGlsZVxyXG4gICAgICAgICAgICogcmVtYWluaW5nIHByb3BlcnRpZXMgd2lsbCBiZSB0cmVhdGVkIGFzIHF1ZXJ5IHBhcmFtcy5cclxuICAgICAgICAgICAqXHJcbiAgICAgICAgICAgKiBAcGFyYW0geyFPYmplY3Q8c3RyaW5nLCBzdHJpbmc+fSBuZXdQYXJhbXMgbWFwcGluZyBvZiBVUkwgcGFyYW1ldGVyIG5hbWVzIHRvIHZhbHVlc1xyXG4gICAgICAgICAgICovXHJcbiAgICAgICAgICB1cGRhdGVQYXJhbXM6IGZ1bmN0aW9uKG5ld1BhcmFtcykge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50ICYmIHRoaXMuY3VycmVudC4kJHJvdXRlKSB7XHJcbiAgICAgICAgICAgICAgbmV3UGFyYW1zID0gYW5ndWxhci5leHRlbmQoe30sIHRoaXMuY3VycmVudC5wYXJhbXMsIG5ld1BhcmFtcyk7XHJcbiAgICAgICAgICAgICAgJGxvY2F0aW9uLnBhdGgoaW50ZXJwb2xhdGUodGhpcy5jdXJyZW50LiQkcm91dGUub3JpZ2luYWxQYXRoLCBuZXdQYXJhbXMpKTtcclxuICAgICAgICAgICAgICAvLyBpbnRlcnBvbGF0ZSBtb2RpZmllcyBuZXdQYXJhbXMsIG9ubHkgcXVlcnkgcGFyYW1zIGFyZSBsZWZ0XHJcbiAgICAgICAgICAgICAgJGxvY2F0aW9uLnNlYXJjaChuZXdQYXJhbXMpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIHRocm93ICRyb3V0ZU1pbkVycignbm9yb3V0JywgJ1RyaWVkIHVwZGF0aW5nIHJvdXRlIHdoZW4gd2l0aCBubyBjdXJyZW50IHJvdXRlJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICRyb290U2NvcGUuJG9uKCckbG9jYXRpb25DaGFuZ2VTdGFydCcsIHByZXBhcmVSb3V0ZSk7XHJcbiAgICAkcm9vdFNjb3BlLiRvbignJGxvY2F0aW9uQ2hhbmdlU3VjY2VzcycsIGNvbW1pdFJvdXRlKTtcclxuXHJcbiAgICByZXR1cm4gJHJvdXRlO1xyXG5cclxuICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAcGFyYW0gb24ge3N0cmluZ30gY3VycmVudCB1cmxcclxuICAgICAqIEBwYXJhbSByb3V0ZSB7T2JqZWN0fSByb3V0ZSByZWdleHAgdG8gbWF0Y2ggdGhlIHVybCBhZ2FpbnN0XHJcbiAgICAgKiBAcmV0dXJuIHs/T2JqZWN0fVxyXG4gICAgICpcclxuICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICogQ2hlY2sgaWYgdGhlIHJvdXRlIG1hdGNoZXMgdGhlIGN1cnJlbnQgdXJsLlxyXG4gICAgICpcclxuICAgICAqIEluc3BpcmVkIGJ5IG1hdGNoIGluXHJcbiAgICAgKiB2aXNpb25tZWRpYS9leHByZXNzL2xpYi9yb3V0ZXIvcm91dGVyLmpzLlxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBzd2l0Y2hSb3V0ZU1hdGNoZXIob24sIHJvdXRlKSB7XHJcbiAgICAgIHZhciBrZXlzID0gcm91dGUua2V5cyxcclxuICAgICAgICAgIHBhcmFtcyA9IHt9O1xyXG5cclxuICAgICAgaWYgKCFyb3V0ZS5yZWdleHApIHJldHVybiBudWxsO1xyXG5cclxuICAgICAgdmFyIG0gPSByb3V0ZS5yZWdleHAuZXhlYyhvbik7XHJcbiAgICAgIGlmICghbSkgcmV0dXJuIG51bGw7XHJcblxyXG4gICAgICBmb3IgKHZhciBpID0gMSwgbGVuID0gbS5sZW5ndGg7IGkgPCBsZW47ICsraSkge1xyXG4gICAgICAgIHZhciBrZXkgPSBrZXlzW2kgLSAxXTtcclxuXHJcbiAgICAgICAgdmFyIHZhbCA9IG1baV07XHJcblxyXG4gICAgICAgIGlmIChrZXkgJiYgdmFsKSB7XHJcbiAgICAgICAgICBwYXJhbXNba2V5Lm5hbWVdID0gdmFsO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gcGFyYW1zO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHByZXBhcmVSb3V0ZSgkbG9jYXRpb25FdmVudCkge1xyXG4gICAgICB2YXIgbGFzdFJvdXRlID0gJHJvdXRlLmN1cnJlbnQ7XHJcblxyXG4gICAgICBwcmVwYXJlZFJvdXRlID0gcGFyc2VSb3V0ZSgpO1xyXG4gICAgICBwcmVwYXJlZFJvdXRlSXNVcGRhdGVPbmx5ID0gcHJlcGFyZWRSb3V0ZSAmJiBsYXN0Um91dGUgJiYgcHJlcGFyZWRSb3V0ZS4kJHJvdXRlID09PSBsYXN0Um91dGUuJCRyb3V0ZVxyXG4gICAgICAgICAgJiYgYW5ndWxhci5lcXVhbHMocHJlcGFyZWRSb3V0ZS5wYXRoUGFyYW1zLCBsYXN0Um91dGUucGF0aFBhcmFtcylcclxuICAgICAgICAgICYmICFwcmVwYXJlZFJvdXRlLnJlbG9hZE9uU2VhcmNoICYmICFmb3JjZVJlbG9hZDtcclxuXHJcbiAgICAgIGlmICghcHJlcGFyZWRSb3V0ZUlzVXBkYXRlT25seSAmJiAobGFzdFJvdXRlIHx8IHByZXBhcmVkUm91dGUpKSB7XHJcbiAgICAgICAgaWYgKCRyb290U2NvcGUuJGJyb2FkY2FzdCgnJHJvdXRlQ2hhbmdlU3RhcnQnLCBwcmVwYXJlZFJvdXRlLCBsYXN0Um91dGUpLmRlZmF1bHRQcmV2ZW50ZWQpIHtcclxuICAgICAgICAgIGlmICgkbG9jYXRpb25FdmVudCkge1xyXG4gICAgICAgICAgICAkbG9jYXRpb25FdmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGNvbW1pdFJvdXRlKCkge1xyXG4gICAgICB2YXIgbGFzdFJvdXRlID0gJHJvdXRlLmN1cnJlbnQ7XHJcbiAgICAgIHZhciBuZXh0Um91dGUgPSBwcmVwYXJlZFJvdXRlO1xyXG5cclxuICAgICAgaWYgKHByZXBhcmVkUm91dGVJc1VwZGF0ZU9ubHkpIHtcclxuICAgICAgICBsYXN0Um91dGUucGFyYW1zID0gbmV4dFJvdXRlLnBhcmFtcztcclxuICAgICAgICBhbmd1bGFyLmNvcHkobGFzdFJvdXRlLnBhcmFtcywgJHJvdXRlUGFyYW1zKTtcclxuICAgICAgICAkcm9vdFNjb3BlLiRicm9hZGNhc3QoJyRyb3V0ZVVwZGF0ZScsIGxhc3RSb3V0ZSk7XHJcbiAgICAgIH0gZWxzZSBpZiAobmV4dFJvdXRlIHx8IGxhc3RSb3V0ZSkge1xyXG4gICAgICAgIGZvcmNlUmVsb2FkID0gZmFsc2U7XHJcbiAgICAgICAgJHJvdXRlLmN1cnJlbnQgPSBuZXh0Um91dGU7XHJcbiAgICAgICAgaWYgKG5leHRSb3V0ZSkge1xyXG4gICAgICAgICAgaWYgKG5leHRSb3V0ZS5yZWRpcmVjdFRvKSB7XHJcbiAgICAgICAgICAgIGlmIChhbmd1bGFyLmlzU3RyaW5nKG5leHRSb3V0ZS5yZWRpcmVjdFRvKSkge1xyXG4gICAgICAgICAgICAgICRsb2NhdGlvbi5wYXRoKGludGVycG9sYXRlKG5leHRSb3V0ZS5yZWRpcmVjdFRvLCBuZXh0Um91dGUucGFyYW1zKSkuc2VhcmNoKG5leHRSb3V0ZS5wYXJhbXMpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAkbG9jYXRpb24udXJsKG5leHRSb3V0ZS5yZWRpcmVjdFRvKG5leHRSb3V0ZS5wYXRoUGFyYW1zLCAkbG9jYXRpb24ucGF0aCgpLCAkbG9jYXRpb24uc2VhcmNoKCkpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICRxLndoZW4obmV4dFJvdXRlKS5cclxuICAgICAgICAgIHRoZW4ocmVzb2x2ZUxvY2FscykuXHJcbiAgICAgICAgICB0aGVuKGZ1bmN0aW9uKGxvY2Fscykge1xyXG4gICAgICAgICAgICAvLyBhZnRlciByb3V0ZSBjaGFuZ2VcclxuICAgICAgICAgICAgaWYgKG5leHRSb3V0ZSA9PSAkcm91dGUuY3VycmVudCkge1xyXG4gICAgICAgICAgICAgIGlmIChuZXh0Um91dGUpIHtcclxuICAgICAgICAgICAgICAgIG5leHRSb3V0ZS5sb2NhbHMgPSBsb2NhbHM7XHJcbiAgICAgICAgICAgICAgICBhbmd1bGFyLmNvcHkobmV4dFJvdXRlLnBhcmFtcywgJHJvdXRlUGFyYW1zKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgJHJvb3RTY29wZS4kYnJvYWRjYXN0KCckcm91dGVDaGFuZ2VTdWNjZXNzJywgbmV4dFJvdXRlLCBsYXN0Um91dGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9LCBmdW5jdGlvbihlcnJvcikge1xyXG4gICAgICAgICAgICBpZiAobmV4dFJvdXRlID09ICRyb3V0ZS5jdXJyZW50KSB7XHJcbiAgICAgICAgICAgICAgJHJvb3RTY29wZS4kYnJvYWRjYXN0KCckcm91dGVDaGFuZ2VFcnJvcicsIG5leHRSb3V0ZSwgbGFzdFJvdXRlLCBlcnJvcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gcmVzb2x2ZUxvY2Fscyhyb3V0ZSkge1xyXG4gICAgICBpZiAocm91dGUpIHtcclxuICAgICAgICB2YXIgbG9jYWxzID0gYW5ndWxhci5leHRlbmQoe30sIHJvdXRlLnJlc29sdmUpO1xyXG4gICAgICAgIGFuZ3VsYXIuZm9yRWFjaChsb2NhbHMsIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcclxuICAgICAgICAgIGxvY2Fsc1trZXldID0gYW5ndWxhci5pc1N0cmluZyh2YWx1ZSkgP1xyXG4gICAgICAgICAgICAgICRpbmplY3Rvci5nZXQodmFsdWUpIDpcclxuICAgICAgICAgICAgICAkaW5qZWN0b3IuaW52b2tlKHZhbHVlLCBudWxsLCBudWxsLCBrZXkpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHZhciB0ZW1wbGF0ZSA9IGdldFRlbXBsYXRlRm9yKHJvdXRlKTtcclxuICAgICAgICBpZiAoYW5ndWxhci5pc0RlZmluZWQodGVtcGxhdGUpKSB7XHJcbiAgICAgICAgICBsb2NhbHNbJyR0ZW1wbGF0ZSddID0gdGVtcGxhdGU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiAkcS5hbGwobG9jYWxzKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBmdW5jdGlvbiBnZXRUZW1wbGF0ZUZvcihyb3V0ZSkge1xyXG4gICAgICB2YXIgdGVtcGxhdGUsIHRlbXBsYXRlVXJsO1xyXG4gICAgICBpZiAoYW5ndWxhci5pc0RlZmluZWQodGVtcGxhdGUgPSByb3V0ZS50ZW1wbGF0ZSkpIHtcclxuICAgICAgICBpZiAoYW5ndWxhci5pc0Z1bmN0aW9uKHRlbXBsYXRlKSkge1xyXG4gICAgICAgICAgdGVtcGxhdGUgPSB0ZW1wbGF0ZShyb3V0ZS5wYXJhbXMpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIGlmIChhbmd1bGFyLmlzRGVmaW5lZCh0ZW1wbGF0ZVVybCA9IHJvdXRlLnRlbXBsYXRlVXJsKSkge1xyXG4gICAgICAgIGlmIChhbmd1bGFyLmlzRnVuY3Rpb24odGVtcGxhdGVVcmwpKSB7XHJcbiAgICAgICAgICB0ZW1wbGF0ZVVybCA9IHRlbXBsYXRlVXJsKHJvdXRlLnBhcmFtcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZCh0ZW1wbGF0ZVVybCkpIHtcclxuICAgICAgICAgIHJvdXRlLmxvYWRlZFRlbXBsYXRlVXJsID0gJHNjZS52YWx1ZU9mKHRlbXBsYXRlVXJsKTtcclxuICAgICAgICAgIHRlbXBsYXRlID0gJHRlbXBsYXRlUmVxdWVzdCh0ZW1wbGF0ZVVybCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiB0ZW1wbGF0ZTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSB0aGUgY3VycmVudCBhY3RpdmUgcm91dGUsIGJ5IG1hdGNoaW5nIGl0IGFnYWluc3QgdGhlIFVSTFxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBwYXJzZVJvdXRlKCkge1xyXG4gICAgICAvLyBNYXRjaCBhIHJvdXRlXHJcbiAgICAgIHZhciBwYXJhbXMsIG1hdGNoO1xyXG4gICAgICBhbmd1bGFyLmZvckVhY2gocm91dGVzLCBmdW5jdGlvbihyb3V0ZSwgcGF0aCkge1xyXG4gICAgICAgIGlmICghbWF0Y2ggJiYgKHBhcmFtcyA9IHN3aXRjaFJvdXRlTWF0Y2hlcigkbG9jYXRpb24ucGF0aCgpLCByb3V0ZSkpKSB7XHJcbiAgICAgICAgICBtYXRjaCA9IGluaGVyaXQocm91dGUsIHtcclxuICAgICAgICAgICAgcGFyYW1zOiBhbmd1bGFyLmV4dGVuZCh7fSwgJGxvY2F0aW9uLnNlYXJjaCgpLCBwYXJhbXMpLFxyXG4gICAgICAgICAgICBwYXRoUGFyYW1zOiBwYXJhbXN9KTtcclxuICAgICAgICAgIG1hdGNoLiQkcm91dGUgPSByb3V0ZTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgICAvLyBObyByb3V0ZSBtYXRjaGVkOyBmYWxsYmFjayB0byBcIm90aGVyd2lzZVwiIHJvdXRlXHJcbiAgICAgIHJldHVybiBtYXRjaCB8fCByb3V0ZXNbbnVsbF0gJiYgaW5oZXJpdChyb3V0ZXNbbnVsbF0sIHtwYXJhbXM6IHt9LCBwYXRoUGFyYW1zOnt9fSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBpbnRlcnBvbGF0aW9uIG9mIHRoZSByZWRpcmVjdCBwYXRoIHdpdGggdGhlIHBhcmFtZXRlcnNcclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gaW50ZXJwb2xhdGUoc3RyaW5nLCBwYXJhbXMpIHtcclxuICAgICAgdmFyIHJlc3VsdCA9IFtdO1xyXG4gICAgICBhbmd1bGFyLmZvckVhY2goKHN0cmluZyB8fCAnJykuc3BsaXQoJzonKSwgZnVuY3Rpb24oc2VnbWVudCwgaSkge1xyXG4gICAgICAgIGlmIChpID09PSAwKSB7XHJcbiAgICAgICAgICByZXN1bHQucHVzaChzZWdtZW50KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdmFyIHNlZ21lbnRNYXRjaCA9IHNlZ21lbnQubWF0Y2goLyhcXHcrKSg/Ols/Kl0pPyguKikvKTtcclxuICAgICAgICAgIHZhciBrZXkgPSBzZWdtZW50TWF0Y2hbMV07XHJcbiAgICAgICAgICByZXN1bHQucHVzaChwYXJhbXNba2V5XSk7XHJcbiAgICAgICAgICByZXN1bHQucHVzaChzZWdtZW50TWF0Y2hbMl0gfHwgJycpO1xyXG4gICAgICAgICAgZGVsZXRlIHBhcmFtc1trZXldO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICAgIHJldHVybiByZXN1bHQuam9pbignJyk7XHJcbiAgICB9XHJcbiAgfV07XHJcbn1cclxuXHJcbm5nUm91dGVNb2R1bGUucHJvdmlkZXIoJyRyb3V0ZVBhcmFtcycsICRSb3V0ZVBhcmFtc1Byb3ZpZGVyKTtcclxuXHJcblxyXG4vKipcclxuICogQG5nZG9jIHNlcnZpY2VcclxuICogQG5hbWUgJHJvdXRlUGFyYW1zXHJcbiAqIEByZXF1aXJlcyAkcm91dGVcclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIFRoZSBgJHJvdXRlUGFyYW1zYCBzZXJ2aWNlIGFsbG93cyB5b3UgdG8gcmV0cmlldmUgdGhlIGN1cnJlbnQgc2V0IG9mIHJvdXRlIHBhcmFtZXRlcnMuXHJcbiAqXHJcbiAqIFJlcXVpcmVzIHRoZSB7QGxpbmsgbmdSb3V0ZSBgbmdSb3V0ZWB9IG1vZHVsZSB0byBiZSBpbnN0YWxsZWQuXHJcbiAqXHJcbiAqIFRoZSByb3V0ZSBwYXJhbWV0ZXJzIGFyZSBhIGNvbWJpbmF0aW9uIG9mIHtAbGluayBuZy4kbG9jYXRpb24gYCRsb2NhdGlvbmB9J3NcclxuICoge0BsaW5rIG5nLiRsb2NhdGlvbiNzZWFyY2ggYHNlYXJjaCgpYH0gYW5kIHtAbGluayBuZy4kbG9jYXRpb24jcGF0aCBgcGF0aCgpYH0uXHJcbiAqIFRoZSBgcGF0aGAgcGFyYW1ldGVycyBhcmUgZXh0cmFjdGVkIHdoZW4gdGhlIHtAbGluayBuZ1JvdXRlLiRyb3V0ZSBgJHJvdXRlYH0gcGF0aCBpcyBtYXRjaGVkLlxyXG4gKlxyXG4gKiBJbiBjYXNlIG9mIHBhcmFtZXRlciBuYW1lIGNvbGxpc2lvbiwgYHBhdGhgIHBhcmFtcyB0YWtlIHByZWNlZGVuY2Ugb3ZlciBgc2VhcmNoYCBwYXJhbXMuXHJcbiAqXHJcbiAqIFRoZSBzZXJ2aWNlIGd1YXJhbnRlZXMgdGhhdCB0aGUgaWRlbnRpdHkgb2YgdGhlIGAkcm91dGVQYXJhbXNgIG9iamVjdCB3aWxsIHJlbWFpbiB1bmNoYW5nZWRcclxuICogKGJ1dCBpdHMgcHJvcGVydGllcyB3aWxsIGxpa2VseSBjaGFuZ2UpIGV2ZW4gd2hlbiBhIHJvdXRlIGNoYW5nZSBvY2N1cnMuXHJcbiAqXHJcbiAqIE5vdGUgdGhhdCB0aGUgYCRyb3V0ZVBhcmFtc2AgYXJlIG9ubHkgdXBkYXRlZCAqYWZ0ZXIqIGEgcm91dGUgY2hhbmdlIGNvbXBsZXRlcyBzdWNjZXNzZnVsbHkuXHJcbiAqIFRoaXMgbWVhbnMgdGhhdCB5b3UgY2Fubm90IHJlbHkgb24gYCRyb3V0ZVBhcmFtc2AgYmVpbmcgY29ycmVjdCBpbiByb3V0ZSByZXNvbHZlIGZ1bmN0aW9ucy5cclxuICogSW5zdGVhZCB5b3UgY2FuIHVzZSBgJHJvdXRlLmN1cnJlbnQucGFyYW1zYCB0byBhY2Nlc3MgdGhlIG5ldyByb3V0ZSdzIHBhcmFtZXRlcnMuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGBgYGpzXHJcbiAqICAvLyBHaXZlbjpcclxuICogIC8vIFVSTDogaHR0cDovL3NlcnZlci5jb20vaW5kZXguaHRtbCMvQ2hhcHRlci8xL1NlY3Rpb24vMj9zZWFyY2g9bW9ieVxyXG4gKiAgLy8gUm91dGU6IC9DaGFwdGVyLzpjaGFwdGVySWQvU2VjdGlvbi86c2VjdGlvbklkXHJcbiAqICAvL1xyXG4gKiAgLy8gVGhlblxyXG4gKiAgJHJvdXRlUGFyYW1zID09PiB7Y2hhcHRlcklkOicxJywgc2VjdGlvbklkOicyJywgc2VhcmNoOidtb2J5J31cclxuICogYGBgXHJcbiAqL1xyXG5mdW5jdGlvbiAkUm91dGVQYXJhbXNQcm92aWRlcigpIHtcclxuICB0aGlzLiRnZXQgPSBmdW5jdGlvbigpIHsgcmV0dXJuIHt9OyB9O1xyXG59XHJcblxyXG5uZ1JvdXRlTW9kdWxlLmRpcmVjdGl2ZSgnbmdWaWV3JywgbmdWaWV3RmFjdG9yeSk7XHJcbm5nUm91dGVNb2R1bGUuZGlyZWN0aXZlKCduZ1ZpZXcnLCBuZ1ZpZXdGaWxsQ29udGVudEZhY3RvcnkpO1xyXG5cclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgZGlyZWN0aXZlXHJcbiAqIEBuYW1lIG5nVmlld1xyXG4gKiBAcmVzdHJpY3QgRUNBXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiAjIE92ZXJ2aWV3XHJcbiAqIGBuZ1ZpZXdgIGlzIGEgZGlyZWN0aXZlIHRoYXQgY29tcGxlbWVudHMgdGhlIHtAbGluayBuZ1JvdXRlLiRyb3V0ZSAkcm91dGV9IHNlcnZpY2UgYnlcclxuICogaW5jbHVkaW5nIHRoZSByZW5kZXJlZCB0ZW1wbGF0ZSBvZiB0aGUgY3VycmVudCByb3V0ZSBpbnRvIHRoZSBtYWluIGxheW91dCAoYGluZGV4Lmh0bWxgKSBmaWxlLlxyXG4gKiBFdmVyeSB0aW1lIHRoZSBjdXJyZW50IHJvdXRlIGNoYW5nZXMsIHRoZSBpbmNsdWRlZCB2aWV3IGNoYW5nZXMgd2l0aCBpdCBhY2NvcmRpbmcgdG8gdGhlXHJcbiAqIGNvbmZpZ3VyYXRpb24gb2YgdGhlIGAkcm91dGVgIHNlcnZpY2UuXHJcbiAqXHJcbiAqIFJlcXVpcmVzIHRoZSB7QGxpbmsgbmdSb3V0ZSBgbmdSb3V0ZWB9IG1vZHVsZSB0byBiZSBpbnN0YWxsZWQuXHJcbiAqXHJcbiAqIEBhbmltYXRpb25zXHJcbiAqIHwgQW5pbWF0aW9uICAgICAgICAgICAgICAgICAgICAgICAgfCBPY2N1cnMgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XHJcbiAqIHwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS18XHJcbiAqIHwge0BsaW5rIG5nLiRhbmltYXRlI2VudGVyIGVudGVyfSAgfCB3aGVuIHRoZSBuZXcgZWxlbWVudCBpcyBpbnNlcnRlZCB0byB0aGUgRE9NIHxcclxuICogfCB7QGxpbmsgbmcuJGFuaW1hdGUjbGVhdmUgbGVhdmV9ICB8IHdoZW4gdGhlIG9sZCBlbGVtZW50IGlzIHJlbW92ZWQgZnJvbSB0byB0aGUgRE9NICB8XHJcbiAqXHJcbiAqIFRoZSBlbnRlciBhbmQgbGVhdmUgYW5pbWF0aW9uIG9jY3VyIGNvbmN1cnJlbnRseS5cclxuICpcclxuICogQGtub3duSXNzdWUgSWYgYG5nVmlld2AgaXMgY29udGFpbmVkIGluIGFuIGFzeW5jaHJvbm91c2x5IGxvYWRlZCB0ZW1wbGF0ZSAoZS5nLiBpbiBhbm90aGVyXHJcbiAqICAgICAgICAgICAgIGRpcmVjdGl2ZSdzIHRlbXBsYXRlVXJsIG9yIGluIGEgdGVtcGxhdGUgbG9hZGVkIHVzaW5nIGBuZ0luY2x1ZGVgKSwgdGhlbiB5b3UgbmVlZCB0b1xyXG4gKiAgICAgICAgICAgICBtYWtlIHN1cmUgdGhhdCBgJHJvdXRlYCBpcyBpbnN0YW50aWF0ZWQgaW4gdGltZSB0byBjYXB0dXJlIHRoZSBpbml0aWFsXHJcbiAqICAgICAgICAgICAgIGAkbG9jYXRpb25DaGFuZ2VTdGFydGAgZXZlbnQgYW5kIGxvYWQgdGhlIGFwcHJvcHJpYXRlIHZpZXcuIE9uZSB3YXkgdG8gYWNoaWV2ZSB0aGlzXHJcbiAqICAgICAgICAgICAgIGlzIHRvIGhhdmUgaXQgYXMgYSBkZXBlbmRlbmN5IGluIGEgYC5ydW5gIGJsb2NrOlxyXG4gKiAgICAgICAgICAgICBgbXlNb2R1bGUucnVuKFsnJHJvdXRlJywgZnVuY3Rpb24oKSB7fV0pO2BcclxuICpcclxuICogQHNjb3BlXHJcbiAqIEBwcmlvcml0eSA0MDBcclxuICogQHBhcmFtIHtzdHJpbmc9fSBvbmxvYWQgRXhwcmVzc2lvbiB0byBldmFsdWF0ZSB3aGVuZXZlciB0aGUgdmlldyB1cGRhdGVzLlxyXG4gKlxyXG4gKiBAcGFyYW0ge3N0cmluZz19IGF1dG9zY3JvbGwgV2hldGhlciBgbmdWaWV3YCBzaG91bGQgY2FsbCB7QGxpbmsgbmcuJGFuY2hvclNjcm9sbFxyXG4gKiAgICAgICAgICAgICAgICAgICRhbmNob3JTY3JvbGx9IHRvIHNjcm9sbCB0aGUgdmlld3BvcnQgYWZ0ZXIgdGhlIHZpZXcgaXMgdXBkYXRlZC5cclxuICpcclxuICogICAgICAgICAgICAgICAgICAtIElmIHRoZSBhdHRyaWJ1dGUgaXMgbm90IHNldCwgZGlzYWJsZSBzY3JvbGxpbmcuXHJcbiAqICAgICAgICAgICAgICAgICAgLSBJZiB0aGUgYXR0cmlidXRlIGlzIHNldCB3aXRob3V0IHZhbHVlLCBlbmFibGUgc2Nyb2xsaW5nLlxyXG4gKiAgICAgICAgICAgICAgICAgIC0gT3RoZXJ3aXNlIGVuYWJsZSBzY3JvbGxpbmcgb25seSBpZiB0aGUgYGF1dG9zY3JvbGxgIGF0dHJpYnV0ZSB2YWx1ZSBldmFsdWF0ZWRcclxuICogICAgICAgICAgICAgICAgICAgIGFzIGFuIGV4cHJlc3Npb24geWllbGRzIGEgdHJ1dGh5IHZhbHVlLlxyXG4gKiBAZXhhbXBsZVxyXG4gICAgPGV4YW1wbGUgbmFtZT1cIm5nVmlldy1kaXJlY3RpdmVcIiBtb2R1bGU9XCJuZ1ZpZXdFeGFtcGxlXCJcclxuICAgICAgICAgICAgIGRlcHM9XCJhbmd1bGFyLXJvdXRlLmpzO2FuZ3VsYXItYW5pbWF0ZS5qc1wiXHJcbiAgICAgICAgICAgICBhbmltYXRpb25zPVwidHJ1ZVwiIGZpeEJhc2U9XCJ0cnVlXCI+XHJcbiAgICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiTWFpbkN0cmwgYXMgbWFpblwiPlxyXG4gICAgICAgICAgQ2hvb3NlOlxyXG4gICAgICAgICAgPGEgaHJlZj1cIkJvb2svTW9ieVwiPk1vYnk8L2E+IHxcclxuICAgICAgICAgIDxhIGhyZWY9XCJCb29rL01vYnkvY2gvMVwiPk1vYnk6IENoMTwvYT4gfFxyXG4gICAgICAgICAgPGEgaHJlZj1cIkJvb2svR2F0c2J5XCI+R2F0c2J5PC9hPiB8XHJcbiAgICAgICAgICA8YSBocmVmPVwiQm9vay9HYXRzYnkvY2gvND9rZXk9dmFsdWVcIj5HYXRzYnk6IENoNDwvYT4gfFxyXG4gICAgICAgICAgPGEgaHJlZj1cIkJvb2svU2NhcmxldFwiPlNjYXJsZXQgTGV0dGVyPC9hPjxici8+XHJcblxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cInZpZXctYW5pbWF0ZS1jb250YWluZXJcIj5cclxuICAgICAgICAgICAgPGRpdiBuZy12aWV3IGNsYXNzPVwidmlldy1hbmltYXRlXCI+PC9kaXY+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDxociAvPlxyXG5cclxuICAgICAgICAgIDxwcmU+JGxvY2F0aW9uLnBhdGgoKSA9IHt7bWFpbi4kbG9jYXRpb24ucGF0aCgpfX08L3ByZT5cclxuICAgICAgICAgIDxwcmU+JHJvdXRlLmN1cnJlbnQudGVtcGxhdGVVcmwgPSB7e21haW4uJHJvdXRlLmN1cnJlbnQudGVtcGxhdGVVcmx9fTwvcHJlPlxyXG4gICAgICAgICAgPHByZT4kcm91dGUuY3VycmVudC5wYXJhbXMgPSB7e21haW4uJHJvdXRlLmN1cnJlbnQucGFyYW1zfX08L3ByZT5cclxuICAgICAgICAgIDxwcmU+JHJvdXRlUGFyYW1zID0ge3ttYWluLiRyb3V0ZVBhcmFtc319PC9wcmU+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvZmlsZT5cclxuXHJcbiAgICAgIDxmaWxlIG5hbWU9XCJib29rLmh0bWxcIj5cclxuICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgY29udHJvbGxlcjoge3tib29rLm5hbWV9fTxiciAvPlxyXG4gICAgICAgICAgQm9vayBJZDoge3tib29rLnBhcmFtcy5ib29rSWR9fTxiciAvPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L2ZpbGU+XHJcblxyXG4gICAgICA8ZmlsZSBuYW1lPVwiY2hhcHRlci5odG1sXCI+XHJcbiAgICAgICAgPGRpdj5cclxuICAgICAgICAgIGNvbnRyb2xsZXI6IHt7Y2hhcHRlci5uYW1lfX08YnIgLz5cclxuICAgICAgICAgIEJvb2sgSWQ6IHt7Y2hhcHRlci5wYXJhbXMuYm9va0lkfX08YnIgLz5cclxuICAgICAgICAgIENoYXB0ZXIgSWQ6IHt7Y2hhcHRlci5wYXJhbXMuY2hhcHRlcklkfX1cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9maWxlPlxyXG5cclxuICAgICAgPGZpbGUgbmFtZT1cImFuaW1hdGlvbnMuY3NzXCI+XHJcbiAgICAgICAgLnZpZXctYW5pbWF0ZS1jb250YWluZXIge1xyXG4gICAgICAgICAgcG9zaXRpb246cmVsYXRpdmU7XHJcbiAgICAgICAgICBoZWlnaHQ6MTAwcHghaW1wb3J0YW50O1xyXG4gICAgICAgICAgYmFja2dyb3VuZDp3aGl0ZTtcclxuICAgICAgICAgIGJvcmRlcjoxcHggc29saWQgYmxhY2s7XHJcbiAgICAgICAgICBoZWlnaHQ6NDBweDtcclxuICAgICAgICAgIG92ZXJmbG93OmhpZGRlbjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC52aWV3LWFuaW1hdGUge1xyXG4gICAgICAgICAgcGFkZGluZzoxMHB4O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLnZpZXctYW5pbWF0ZS5uZy1lbnRlciwgLnZpZXctYW5pbWF0ZS5uZy1sZWF2ZSB7XHJcbiAgICAgICAgICB0cmFuc2l0aW9uOmFsbCBjdWJpYy1iZXppZXIoMC4yNTAsIDAuNDYwLCAwLjQ1MCwgMC45NDApIDEuNXM7XHJcblxyXG4gICAgICAgICAgZGlzcGxheTpibG9jaztcclxuICAgICAgICAgIHdpZHRoOjEwMCU7XHJcbiAgICAgICAgICBib3JkZXItbGVmdDoxcHggc29saWQgYmxhY2s7XHJcblxyXG4gICAgICAgICAgcG9zaXRpb246YWJzb2x1dGU7XHJcbiAgICAgICAgICB0b3A6MDtcclxuICAgICAgICAgIGxlZnQ6MDtcclxuICAgICAgICAgIHJpZ2h0OjA7XHJcbiAgICAgICAgICBib3R0b206MDtcclxuICAgICAgICAgIHBhZGRpbmc6MTBweDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC52aWV3LWFuaW1hdGUubmctZW50ZXIge1xyXG4gICAgICAgICAgbGVmdDoxMDAlO1xyXG4gICAgICAgIH1cclxuICAgICAgICAudmlldy1hbmltYXRlLm5nLWVudGVyLm5nLWVudGVyLWFjdGl2ZSB7XHJcbiAgICAgICAgICBsZWZ0OjA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC52aWV3LWFuaW1hdGUubmctbGVhdmUubmctbGVhdmUtYWN0aXZlIHtcclxuICAgICAgICAgIGxlZnQ6LTEwMCU7XHJcbiAgICAgICAgfVxyXG4gICAgICA8L2ZpbGU+XHJcblxyXG4gICAgICA8ZmlsZSBuYW1lPVwic2NyaXB0LmpzXCI+XHJcbiAgICAgICAgYW5ndWxhci5tb2R1bGUoJ25nVmlld0V4YW1wbGUnLCBbJ25nUm91dGUnLCAnbmdBbmltYXRlJ10pXHJcbiAgICAgICAgICAuY29uZmlnKFsnJHJvdXRlUHJvdmlkZXInLCAnJGxvY2F0aW9uUHJvdmlkZXInLFxyXG4gICAgICAgICAgICBmdW5jdGlvbigkcm91dGVQcm92aWRlciwgJGxvY2F0aW9uUHJvdmlkZXIpIHtcclxuICAgICAgICAgICAgICAkcm91dGVQcm92aWRlclxyXG4gICAgICAgICAgICAgICAgLndoZW4oJy9Cb29rLzpib29rSWQnLCB7XHJcbiAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnYm9vay5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ0Jvb2tDdHJsJyxcclxuICAgICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAnYm9vaydcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAud2hlbignL0Jvb2svOmJvb2tJZC9jaC86Y2hhcHRlcklkJywge1xyXG4gICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2NoYXB0ZXIuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdDaGFwdGVyQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ2NoYXB0ZXInXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgJGxvY2F0aW9uUHJvdmlkZXIuaHRtbDVNb2RlKHRydWUpO1xyXG4gICAgICAgICAgfV0pXHJcbiAgICAgICAgICAuY29udHJvbGxlcignTWFpbkN0cmwnLCBbJyRyb3V0ZScsICckcm91dGVQYXJhbXMnLCAnJGxvY2F0aW9uJyxcclxuICAgICAgICAgICAgZnVuY3Rpb24oJHJvdXRlLCAkcm91dGVQYXJhbXMsICRsb2NhdGlvbikge1xyXG4gICAgICAgICAgICAgIHRoaXMuJHJvdXRlID0gJHJvdXRlO1xyXG4gICAgICAgICAgICAgIHRoaXMuJGxvY2F0aW9uID0gJGxvY2F0aW9uO1xyXG4gICAgICAgICAgICAgIHRoaXMuJHJvdXRlUGFyYW1zID0gJHJvdXRlUGFyYW1zO1xyXG4gICAgICAgICAgfV0pXHJcbiAgICAgICAgICAuY29udHJvbGxlcignQm9va0N0cmwnLCBbJyRyb3V0ZVBhcmFtcycsIGZ1bmN0aW9uKCRyb3V0ZVBhcmFtcykge1xyXG4gICAgICAgICAgICB0aGlzLm5hbWUgPSBcIkJvb2tDdHJsXCI7XHJcbiAgICAgICAgICAgIHRoaXMucGFyYW1zID0gJHJvdXRlUGFyYW1zO1xyXG4gICAgICAgICAgfV0pXHJcbiAgICAgICAgICAuY29udHJvbGxlcignQ2hhcHRlckN0cmwnLCBbJyRyb3V0ZVBhcmFtcycsIGZ1bmN0aW9uKCRyb3V0ZVBhcmFtcykge1xyXG4gICAgICAgICAgICB0aGlzLm5hbWUgPSBcIkNoYXB0ZXJDdHJsXCI7XHJcbiAgICAgICAgICAgIHRoaXMucGFyYW1zID0gJHJvdXRlUGFyYW1zO1xyXG4gICAgICAgICAgfV0pO1xyXG5cclxuICAgICAgPC9maWxlPlxyXG5cclxuICAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxyXG4gICAgICAgIGl0KCdzaG91bGQgbG9hZCBhbmQgY29tcGlsZSBjb3JyZWN0IHRlbXBsYXRlJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICBlbGVtZW50KGJ5LmxpbmtUZXh0KCdNb2J5OiBDaDEnKSkuY2xpY2soKTtcclxuICAgICAgICAgIHZhciBjb250ZW50ID0gZWxlbWVudChieS5jc3MoJ1tuZy12aWV3XScpKS5nZXRUZXh0KCk7XHJcbiAgICAgICAgICBleHBlY3QoY29udGVudCkudG9NYXRjaCgvY29udHJvbGxlclxcOiBDaGFwdGVyQ3RybC8pO1xyXG4gICAgICAgICAgZXhwZWN0KGNvbnRlbnQpLnRvTWF0Y2goL0Jvb2sgSWRcXDogTW9ieS8pO1xyXG4gICAgICAgICAgZXhwZWN0KGNvbnRlbnQpLnRvTWF0Y2goL0NoYXB0ZXIgSWRcXDogMS8pO1xyXG5cclxuICAgICAgICAgIGVsZW1lbnQoYnkucGFydGlhbExpbmtUZXh0KCdTY2FybGV0JykpLmNsaWNrKCk7XHJcblxyXG4gICAgICAgICAgY29udGVudCA9IGVsZW1lbnQoYnkuY3NzKCdbbmctdmlld10nKSkuZ2V0VGV4dCgpO1xyXG4gICAgICAgICAgZXhwZWN0KGNvbnRlbnQpLnRvTWF0Y2goL2NvbnRyb2xsZXJcXDogQm9va0N0cmwvKTtcclxuICAgICAgICAgIGV4cGVjdChjb250ZW50KS50b01hdGNoKC9Cb29rIElkXFw6IFNjYXJsZXQvKTtcclxuICAgICAgICB9KTtcclxuICAgICAgPC9maWxlPlxyXG4gICAgPC9leGFtcGxlPlxyXG4gKi9cclxuXHJcblxyXG4vKipcclxuICogQG5nZG9jIGV2ZW50XHJcbiAqIEBuYW1lIG5nVmlldyMkdmlld0NvbnRlbnRMb2FkZWRcclxuICogQGV2ZW50VHlwZSBlbWl0IG9uIHRoZSBjdXJyZW50IG5nVmlldyBzY29wZVxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogRW1pdHRlZCBldmVyeSB0aW1lIHRoZSBuZ1ZpZXcgY29udGVudCBpcyByZWxvYWRlZC5cclxuICovXHJcbm5nVmlld0ZhY3RvcnkuJGluamVjdCA9IFsnJHJvdXRlJywgJyRhbmNob3JTY3JvbGwnLCAnJGFuaW1hdGUnXTtcclxuZnVuY3Rpb24gbmdWaWV3RmFjdG9yeSgkcm91dGUsICRhbmNob3JTY3JvbGwsICRhbmltYXRlKSB7XHJcbiAgcmV0dXJuIHtcclxuICAgIHJlc3RyaWN0OiAnRUNBJyxcclxuICAgIHRlcm1pbmFsOiB0cnVlLFxyXG4gICAgcHJpb3JpdHk6IDQwMCxcclxuICAgIHRyYW5zY2x1ZGU6ICdlbGVtZW50JyxcclxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCAkZWxlbWVudCwgYXR0ciwgY3RybCwgJHRyYW5zY2x1ZGUpIHtcclxuICAgICAgICB2YXIgY3VycmVudFNjb3BlLFxyXG4gICAgICAgICAgICBjdXJyZW50RWxlbWVudCxcclxuICAgICAgICAgICAgcHJldmlvdXNMZWF2ZUFuaW1hdGlvbixcclxuICAgICAgICAgICAgYXV0b1Njcm9sbEV4cCA9IGF0dHIuYXV0b3Njcm9sbCxcclxuICAgICAgICAgICAgb25sb2FkRXhwID0gYXR0ci5vbmxvYWQgfHwgJyc7XHJcblxyXG4gICAgICAgIHNjb3BlLiRvbignJHJvdXRlQ2hhbmdlU3VjY2VzcycsIHVwZGF0ZSk7XHJcbiAgICAgICAgdXBkYXRlKCk7XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGNsZWFudXBMYXN0VmlldygpIHtcclxuICAgICAgICAgIGlmIChwcmV2aW91c0xlYXZlQW5pbWF0aW9uKSB7XHJcbiAgICAgICAgICAgICRhbmltYXRlLmNhbmNlbChwcmV2aW91c0xlYXZlQW5pbWF0aW9uKTtcclxuICAgICAgICAgICAgcHJldmlvdXNMZWF2ZUFuaW1hdGlvbiA9IG51bGw7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgaWYgKGN1cnJlbnRTY29wZSkge1xyXG4gICAgICAgICAgICBjdXJyZW50U2NvcGUuJGRlc3Ryb3koKTtcclxuICAgICAgICAgICAgY3VycmVudFNjb3BlID0gbnVsbDtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGlmIChjdXJyZW50RWxlbWVudCkge1xyXG4gICAgICAgICAgICBwcmV2aW91c0xlYXZlQW5pbWF0aW9uID0gJGFuaW1hdGUubGVhdmUoY3VycmVudEVsZW1lbnQpO1xyXG4gICAgICAgICAgICBwcmV2aW91c0xlYXZlQW5pbWF0aW9uLnRoZW4oZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgcHJldmlvdXNMZWF2ZUFuaW1hdGlvbiA9IG51bGw7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBjdXJyZW50RWxlbWVudCA9IG51bGw7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiB1cGRhdGUoKSB7XHJcbiAgICAgICAgICB2YXIgbG9jYWxzID0gJHJvdXRlLmN1cnJlbnQgJiYgJHJvdXRlLmN1cnJlbnQubG9jYWxzLFxyXG4gICAgICAgICAgICAgIHRlbXBsYXRlID0gbG9jYWxzICYmIGxvY2Fscy4kdGVtcGxhdGU7XHJcblxyXG4gICAgICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKHRlbXBsYXRlKSkge1xyXG4gICAgICAgICAgICB2YXIgbmV3U2NvcGUgPSBzY29wZS4kbmV3KCk7XHJcbiAgICAgICAgICAgIHZhciBjdXJyZW50ID0gJHJvdXRlLmN1cnJlbnQ7XHJcblxyXG4gICAgICAgICAgICAvLyBOb3RlOiBUaGlzIHdpbGwgYWxzbyBsaW5rIGFsbCBjaGlsZHJlbiBvZiBuZy12aWV3IHRoYXQgd2VyZSBjb250YWluZWQgaW4gdGhlIG9yaWdpbmFsXHJcbiAgICAgICAgICAgIC8vIGh0bWwuIElmIHRoYXQgY29udGVudCBjb250YWlucyBjb250cm9sbGVycywgLi4uIHRoZXkgY291bGQgcG9sbHV0ZS9jaGFuZ2UgdGhlIHNjb3BlLlxyXG4gICAgICAgICAgICAvLyBIb3dldmVyLCB1c2luZyBuZy12aWV3IG9uIGFuIGVsZW1lbnQgd2l0aCBhZGRpdGlvbmFsIGNvbnRlbnQgZG9lcyBub3QgbWFrZSBzZW5zZS4uLlxyXG4gICAgICAgICAgICAvLyBOb3RlOiBXZSBjYW4ndCByZW1vdmUgdGhlbSBpbiB0aGUgY2xvbmVBdHRjaEZuIG9mICR0cmFuc2NsdWRlIGFzIHRoYXRcclxuICAgICAgICAgICAgLy8gZnVuY3Rpb24gaXMgY2FsbGVkIGJlZm9yZSBsaW5raW5nIHRoZSBjb250ZW50LCB3aGljaCB3b3VsZCBhcHBseSBjaGlsZFxyXG4gICAgICAgICAgICAvLyBkaXJlY3RpdmVzIHRvIG5vbiBleGlzdGluZyBlbGVtZW50cy5cclxuICAgICAgICAgICAgdmFyIGNsb25lID0gJHRyYW5zY2x1ZGUobmV3U2NvcGUsIGZ1bmN0aW9uKGNsb25lKSB7XHJcbiAgICAgICAgICAgICAgJGFuaW1hdGUuZW50ZXIoY2xvbmUsIG51bGwsIGN1cnJlbnRFbGVtZW50IHx8ICRlbGVtZW50KS50aGVuKGZ1bmN0aW9uIG9uTmdWaWV3RW50ZXIoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoYW5ndWxhci5pc0RlZmluZWQoYXV0b1Njcm9sbEV4cClcclxuICAgICAgICAgICAgICAgICAgJiYgKCFhdXRvU2Nyb2xsRXhwIHx8IHNjb3BlLiRldmFsKGF1dG9TY3JvbGxFeHApKSkge1xyXG4gICAgICAgICAgICAgICAgICAkYW5jaG9yU2Nyb2xsKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgY2xlYW51cExhc3RWaWV3KCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgY3VycmVudEVsZW1lbnQgPSBjbG9uZTtcclxuICAgICAgICAgICAgY3VycmVudFNjb3BlID0gY3VycmVudC5zY29wZSA9IG5ld1Njb3BlO1xyXG4gICAgICAgICAgICBjdXJyZW50U2NvcGUuJGVtaXQoJyR2aWV3Q29udGVudExvYWRlZCcpO1xyXG4gICAgICAgICAgICBjdXJyZW50U2NvcGUuJGV2YWwob25sb2FkRXhwKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNsZWFudXBMYXN0VmlldygpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICB9O1xyXG59XHJcblxyXG4vLyBUaGlzIGRpcmVjdGl2ZSBpcyBjYWxsZWQgZHVyaW5nIHRoZSAkdHJhbnNjbHVkZSBjYWxsIG9mIHRoZSBmaXJzdCBgbmdWaWV3YCBkaXJlY3RpdmUuXHJcbi8vIEl0IHdpbGwgcmVwbGFjZSBhbmQgY29tcGlsZSB0aGUgY29udGVudCBvZiB0aGUgZWxlbWVudCB3aXRoIHRoZSBsb2FkZWQgdGVtcGxhdGUuXHJcbi8vIFdlIG5lZWQgdGhpcyBkaXJlY3RpdmUgc28gdGhhdCB0aGUgZWxlbWVudCBjb250ZW50IGlzIGFscmVhZHkgZmlsbGVkIHdoZW5cclxuLy8gdGhlIGxpbmsgZnVuY3Rpb24gb2YgYW5vdGhlciBkaXJlY3RpdmUgb24gdGhlIHNhbWUgZWxlbWVudCBhcyBuZ1ZpZXdcclxuLy8gaXMgY2FsbGVkLlxyXG5uZ1ZpZXdGaWxsQ29udGVudEZhY3RvcnkuJGluamVjdCA9IFsnJGNvbXBpbGUnLCAnJGNvbnRyb2xsZXInLCAnJHJvdXRlJ107XHJcbmZ1bmN0aW9uIG5nVmlld0ZpbGxDb250ZW50RmFjdG9yeSgkY29tcGlsZSwgJGNvbnRyb2xsZXIsICRyb3V0ZSkge1xyXG4gIHJldHVybiB7XHJcbiAgICByZXN0cmljdDogJ0VDQScsXHJcbiAgICBwcmlvcml0eTogLTQwMCxcclxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCAkZWxlbWVudCkge1xyXG4gICAgICB2YXIgY3VycmVudCA9ICRyb3V0ZS5jdXJyZW50LFxyXG4gICAgICAgICAgbG9jYWxzID0gY3VycmVudC5sb2NhbHM7XHJcblxyXG4gICAgICAkZWxlbWVudC5odG1sKGxvY2Fscy4kdGVtcGxhdGUpO1xyXG5cclxuICAgICAgdmFyIGxpbmsgPSAkY29tcGlsZSgkZWxlbWVudC5jb250ZW50cygpKTtcclxuXHJcbiAgICAgIGlmIChjdXJyZW50LmNvbnRyb2xsZXIpIHtcclxuICAgICAgICBsb2NhbHMuJHNjb3BlID0gc2NvcGU7XHJcbiAgICAgICAgdmFyIGNvbnRyb2xsZXIgPSAkY29udHJvbGxlcihjdXJyZW50LmNvbnRyb2xsZXIsIGxvY2Fscyk7XHJcbiAgICAgICAgaWYgKGN1cnJlbnQuY29udHJvbGxlckFzKSB7XHJcbiAgICAgICAgICBzY29wZVtjdXJyZW50LmNvbnRyb2xsZXJBc10gPSBjb250cm9sbGVyO1xyXG4gICAgICAgIH1cclxuICAgICAgICAkZWxlbWVudC5kYXRhKCckbmdDb250cm9sbGVyQ29udHJvbGxlcicsIGNvbnRyb2xsZXIpO1xyXG4gICAgICAgICRlbGVtZW50LmNoaWxkcmVuKCkuZGF0YSgnJG5nQ29udHJvbGxlckNvbnRyb2xsZXInLCBjb250cm9sbGVyKTtcclxuICAgICAgfVxyXG4gICAgICBzY29wZVtjdXJyZW50LnJlc29sdmVBcyB8fCAnJHJlc29sdmUnXSA9IGxvY2FscztcclxuXHJcbiAgICAgIGxpbmsoc2NvcGUpO1xyXG4gICAgfVxyXG4gIH07XHJcbn1cclxuXHJcblxyXG59KSh3aW5kb3csIHdpbmRvdy5hbmd1bGFyKTtcclxuIiwiLyoqIVxuICogU29ydGFibGVcbiAqIEBhdXRob3JcdFJ1YmFYYSAgIDx0cmFzaEBydWJheGEub3JnPlxuICogQGxpY2Vuc2UgTUlUXG4gKi9cblxuXG4oZnVuY3Rpb24gKGZhY3RvcnkpIHtcblx0XCJ1c2Ugc3RyaWN0XCI7XG5cblx0aWYgKHR5cGVvZiBkZWZpbmUgPT09IFwiZnVuY3Rpb25cIiAmJiBkZWZpbmUuYW1kKSB7XG5cdFx0ZGVmaW5lKGZhY3RvcnkpO1xuXHR9XG5cdGVsc2UgaWYgKHR5cGVvZiBtb2R1bGUgIT0gXCJ1bmRlZmluZWRcIiAmJiB0eXBlb2YgbW9kdWxlLmV4cG9ydHMgIT0gXCJ1bmRlZmluZWRcIikge1xuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuXHR9XG5cdGVsc2UgaWYgKHR5cGVvZiBQYWNrYWdlICE9PSBcInVuZGVmaW5lZFwiKSB7XG5cdFx0U29ydGFibGUgPSBmYWN0b3J5KCk7ICAvLyBleHBvcnQgZm9yIE1ldGVvci5qc1xuXHR9XG5cdGVsc2Uge1xuXHRcdC8qIGpzaGludCBzdWI6dHJ1ZSAqL1xuXHRcdHdpbmRvd1tcIlNvcnRhYmxlXCJdID0gZmFjdG9yeSgpO1xuXHR9XG59KShmdW5jdGlvbiAoKSB7XG5cdFwidXNlIHN0cmljdFwiO1xuXG5cdHZhciBkcmFnRWwsXG5cdFx0cGFyZW50RWwsXG5cdFx0Z2hvc3RFbCxcblx0XHRjbG9uZUVsLFxuXHRcdHJvb3RFbCxcblx0XHRuZXh0RWwsXG5cblx0XHRzY3JvbGxFbCxcblx0XHRzY3JvbGxQYXJlbnRFbCxcblxuXHRcdGxhc3RFbCxcblx0XHRsYXN0Q1NTLFxuXHRcdGxhc3RQYXJlbnRDU1MsXG5cblx0XHRvbGRJbmRleCxcblx0XHRuZXdJbmRleCxcblxuXHRcdGFjdGl2ZUdyb3VwLFxuXHRcdGF1dG9TY3JvbGwgPSB7fSxcblxuXHRcdHRhcEV2dCxcblx0XHR0b3VjaEV2dCxcblxuXHRcdG1vdmVkLFxuXG5cdFx0LyoqIEBjb25zdCAqL1xuXHRcdFJTUEFDRSA9IC9cXHMrL2csXG5cblx0XHRleHBhbmRvID0gJ1NvcnRhYmxlJyArIChuZXcgRGF0ZSkuZ2V0VGltZSgpLFxuXG5cdFx0d2luID0gd2luZG93LFxuXHRcdGRvY3VtZW50ID0gd2luLmRvY3VtZW50LFxuXHRcdHBhcnNlSW50ID0gd2luLnBhcnNlSW50LFxuXG5cdFx0c3VwcG9ydERyYWdnYWJsZSA9ICEhKCdkcmFnZ2FibGUnIGluIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpKSxcblx0XHRzdXBwb3J0Q3NzUG9pbnRlckV2ZW50cyA9IChmdW5jdGlvbiAoZWwpIHtcblx0XHRcdGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgneCcpO1xuXHRcdFx0ZWwuc3R5bGUuY3NzVGV4dCA9ICdwb2ludGVyLWV2ZW50czphdXRvJztcblx0XHRcdHJldHVybiBlbC5zdHlsZS5wb2ludGVyRXZlbnRzID09PSAnYXV0byc7XG5cdFx0fSkoKSxcblxuXHRcdF9zaWxlbnQgPSBmYWxzZSxcblxuXHRcdGFicyA9IE1hdGguYWJzLFxuXHRcdHNsaWNlID0gW10uc2xpY2UsXG5cblx0XHR0b3VjaERyYWdPdmVyTGlzdGVuZXJzID0gW10sXG5cblx0XHRfYXV0b1Njcm9sbCA9IF90aHJvdHRsZShmdW5jdGlvbiAoLyoqRXZlbnQqL2V2dCwgLyoqT2JqZWN0Ki9vcHRpb25zLCAvKipIVE1MRWxlbWVudCovcm9vdEVsKSB7XG5cdFx0XHQvLyBCdWc6IGh0dHBzOi8vYnVnemlsbGEubW96aWxsYS5vcmcvc2hvd19idWcuY2dpP2lkPTUwNTUyMVxuXHRcdFx0aWYgKHJvb3RFbCAmJiBvcHRpb25zLnNjcm9sbCkge1xuXHRcdFx0XHR2YXIgZWwsXG5cdFx0XHRcdFx0cmVjdCxcblx0XHRcdFx0XHRzZW5zID0gb3B0aW9ucy5zY3JvbGxTZW5zaXRpdml0eSxcblx0XHRcdFx0XHRzcGVlZCA9IG9wdGlvbnMuc2Nyb2xsU3BlZWQsXG5cblx0XHRcdFx0XHR4ID0gZXZ0LmNsaWVudFgsXG5cdFx0XHRcdFx0eSA9IGV2dC5jbGllbnRZLFxuXG5cdFx0XHRcdFx0d2luV2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aCxcblx0XHRcdFx0XHR3aW5IZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQsXG5cblx0XHRcdFx0XHR2eCxcblx0XHRcdFx0XHR2eVxuXHRcdFx0XHQ7XG5cblx0XHRcdFx0Ly8gRGVsZWN0IHNjcm9sbEVsXG5cdFx0XHRcdGlmIChzY3JvbGxQYXJlbnRFbCAhPT0gcm9vdEVsKSB7XG5cdFx0XHRcdFx0c2Nyb2xsRWwgPSBvcHRpb25zLnNjcm9sbDtcblx0XHRcdFx0XHRzY3JvbGxQYXJlbnRFbCA9IHJvb3RFbDtcblxuXHRcdFx0XHRcdGlmIChzY3JvbGxFbCA9PT0gdHJ1ZSkge1xuXHRcdFx0XHRcdFx0c2Nyb2xsRWwgPSByb290RWw7XG5cblx0XHRcdFx0XHRcdGRvIHtcblx0XHRcdFx0XHRcdFx0aWYgKChzY3JvbGxFbC5vZmZzZXRXaWR0aCA8IHNjcm9sbEVsLnNjcm9sbFdpZHRoKSB8fFxuXHRcdFx0XHRcdFx0XHRcdChzY3JvbGxFbC5vZmZzZXRIZWlnaHQgPCBzY3JvbGxFbC5zY3JvbGxIZWlnaHQpXG5cdFx0XHRcdFx0XHRcdCkge1xuXHRcdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdC8qIGpzaGludCBib3NzOnRydWUgKi9cblx0XHRcdFx0XHRcdH0gd2hpbGUgKHNjcm9sbEVsID0gc2Nyb2xsRWwucGFyZW50Tm9kZSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKHNjcm9sbEVsKSB7XG5cdFx0XHRcdFx0ZWwgPSBzY3JvbGxFbDtcblx0XHRcdFx0XHRyZWN0ID0gc2Nyb2xsRWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cdFx0XHRcdFx0dnggPSAoYWJzKHJlY3QucmlnaHQgLSB4KSA8PSBzZW5zKSAtIChhYnMocmVjdC5sZWZ0IC0geCkgPD0gc2Vucyk7XG5cdFx0XHRcdFx0dnkgPSAoYWJzKHJlY3QuYm90dG9tIC0geSkgPD0gc2VucykgLSAoYWJzKHJlY3QudG9wIC0geSkgPD0gc2Vucyk7XG5cdFx0XHRcdH1cblxuXG5cdFx0XHRcdGlmICghKHZ4IHx8IHZ5KSkge1xuXHRcdFx0XHRcdHZ4ID0gKHdpbldpZHRoIC0geCA8PSBzZW5zKSAtICh4IDw9IHNlbnMpO1xuXHRcdFx0XHRcdHZ5ID0gKHdpbkhlaWdodCAtIHkgPD0gc2VucykgLSAoeSA8PSBzZW5zKTtcblxuXHRcdFx0XHRcdC8qIGpzaGludCBleHByOnRydWUgKi9cblx0XHRcdFx0XHQodnggfHwgdnkpICYmIChlbCA9IHdpbik7XG5cdFx0XHRcdH1cblxuXG5cdFx0XHRcdGlmIChhdXRvU2Nyb2xsLnZ4ICE9PSB2eCB8fCBhdXRvU2Nyb2xsLnZ5ICE9PSB2eSB8fCBhdXRvU2Nyb2xsLmVsICE9PSBlbCkge1xuXHRcdFx0XHRcdGF1dG9TY3JvbGwuZWwgPSBlbDtcblx0XHRcdFx0XHRhdXRvU2Nyb2xsLnZ4ID0gdng7XG5cdFx0XHRcdFx0YXV0b1Njcm9sbC52eSA9IHZ5O1xuXG5cdFx0XHRcdFx0Y2xlYXJJbnRlcnZhbChhdXRvU2Nyb2xsLnBpZCk7XG5cblx0XHRcdFx0XHRpZiAoZWwpIHtcblx0XHRcdFx0XHRcdGF1dG9TY3JvbGwucGlkID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdFx0XHRpZiAoZWwgPT09IHdpbikge1xuXHRcdFx0XHRcdFx0XHRcdHdpbi5zY3JvbGxUbyh3aW4ucGFnZVhPZmZzZXQgKyB2eCAqIHNwZWVkLCB3aW4ucGFnZVlPZmZzZXQgKyB2eSAqIHNwZWVkKTtcblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHR2eSAmJiAoZWwuc2Nyb2xsVG9wICs9IHZ5ICogc3BlZWQpO1xuXHRcdFx0XHRcdFx0XHRcdHZ4ICYmIChlbC5zY3JvbGxMZWZ0ICs9IHZ4ICogc3BlZWQpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9LCAyNCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSwgMzApLFxuXG5cdFx0X3ByZXBhcmVHcm91cCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG5cdFx0XHR2YXIgZ3JvdXAgPSBvcHRpb25zLmdyb3VwO1xuXG5cdFx0XHRpZiAoIWdyb3VwIHx8IHR5cGVvZiBncm91cCAhPSAnb2JqZWN0Jykge1xuXHRcdFx0XHRncm91cCA9IG9wdGlvbnMuZ3JvdXAgPSB7bmFtZTogZ3JvdXB9O1xuXHRcdFx0fVxuXG5cdFx0XHRbJ3B1bGwnLCAncHV0J10uZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG5cdFx0XHRcdGlmICghKGtleSBpbiBncm91cCkpIHtcblx0XHRcdFx0XHRncm91cFtrZXldID0gdHJ1ZTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cblx0XHRcdG9wdGlvbnMuZ3JvdXBzID0gJyAnICsgZ3JvdXAubmFtZSArIChncm91cC5wdXQuam9pbiA/ICcgJyArIGdyb3VwLnB1dC5qb2luKCcgJykgOiAnJykgKyAnICc7XG5cdFx0fVxuXHQ7XG5cblxuXG5cdC8qKlxuXHQgKiBAY2xhc3MgIFNvcnRhYmxlXG5cdCAqIEBwYXJhbSAge0hUTUxFbGVtZW50fSAgZWxcblx0ICogQHBhcmFtICB7T2JqZWN0fSAgICAgICBbb3B0aW9uc11cblx0ICovXG5cdGZ1bmN0aW9uIFNvcnRhYmxlKGVsLCBvcHRpb25zKSB7XG5cdFx0aWYgKCEoZWwgJiYgZWwubm9kZVR5cGUgJiYgZWwubm9kZVR5cGUgPT09IDEpKSB7XG5cdFx0XHR0aHJvdyAnU29ydGFibGU6IGBlbGAgbXVzdCBiZSBIVE1MRWxlbWVudCwgYW5kIG5vdCAnICsge30udG9TdHJpbmcuY2FsbChlbCk7XG5cdFx0fVxuXG5cdFx0dGhpcy5lbCA9IGVsOyAvLyByb290IGVsZW1lbnRcblx0XHR0aGlzLm9wdGlvbnMgPSBvcHRpb25zID0gX2V4dGVuZCh7fSwgb3B0aW9ucyk7XG5cblxuXHRcdC8vIEV4cG9ydCBpbnN0YW5jZVxuXHRcdGVsW2V4cGFuZG9dID0gdGhpcztcblxuXG5cdFx0Ly8gRGVmYXVsdCBvcHRpb25zXG5cdFx0dmFyIGRlZmF1bHRzID0ge1xuXHRcdFx0Z3JvdXA6IE1hdGgucmFuZG9tKCksXG5cdFx0XHRzb3J0OiB0cnVlLFxuXHRcdFx0ZGlzYWJsZWQ6IGZhbHNlLFxuXHRcdFx0c3RvcmU6IG51bGwsXG5cdFx0XHRoYW5kbGU6IG51bGwsXG5cdFx0XHRzY3JvbGw6IHRydWUsXG5cdFx0XHRzY3JvbGxTZW5zaXRpdml0eTogMzAsXG5cdFx0XHRzY3JvbGxTcGVlZDogMTAsXG5cdFx0XHRkcmFnZ2FibGU6IC9bdW9dbC9pLnRlc3QoZWwubm9kZU5hbWUpID8gJ2xpJyA6ICc+KicsXG5cdFx0XHRnaG9zdENsYXNzOiAnc29ydGFibGUtZ2hvc3QnLFxuXHRcdFx0Y2hvc2VuQ2xhc3M6ICdzb3J0YWJsZS1jaG9zZW4nLFxuXHRcdFx0aWdub3JlOiAnYSwgaW1nJyxcblx0XHRcdGZpbHRlcjogbnVsbCxcblx0XHRcdGFuaW1hdGlvbjogMCxcblx0XHRcdHNldERhdGE6IGZ1bmN0aW9uIChkYXRhVHJhbnNmZXIsIGRyYWdFbCkge1xuXHRcdFx0XHRkYXRhVHJhbnNmZXIuc2V0RGF0YSgnVGV4dCcsIGRyYWdFbC50ZXh0Q29udGVudCk7XG5cdFx0XHR9LFxuXHRcdFx0ZHJvcEJ1YmJsZTogZmFsc2UsXG5cdFx0XHRkcmFnb3ZlckJ1YmJsZTogZmFsc2UsXG5cdFx0XHRkYXRhSWRBdHRyOiAnZGF0YS1pZCcsXG5cdFx0XHRkZWxheTogMCxcblx0XHRcdGZvcmNlRmFsbGJhY2s6IGZhbHNlLFxuXHRcdFx0ZmFsbGJhY2tDbGFzczogJ3NvcnRhYmxlLWZhbGxiYWNrJyxcblx0XHRcdGZhbGxiYWNrT25Cb2R5OiBmYWxzZVxuXHRcdH07XG5cblxuXHRcdC8vIFNldCBkZWZhdWx0IG9wdGlvbnNcblx0XHRmb3IgKHZhciBuYW1lIGluIGRlZmF1bHRzKSB7XG5cdFx0XHQhKG5hbWUgaW4gb3B0aW9ucykgJiYgKG9wdGlvbnNbbmFtZV0gPSBkZWZhdWx0c1tuYW1lXSk7XG5cdFx0fVxuXG5cdFx0X3ByZXBhcmVHcm91cChvcHRpb25zKTtcblxuXHRcdC8vIEJpbmQgYWxsIHByaXZhdGUgbWV0aG9kc1xuXHRcdGZvciAodmFyIGZuIGluIHRoaXMpIHtcblx0XHRcdGlmIChmbi5jaGFyQXQoMCkgPT09ICdfJykge1xuXHRcdFx0XHR0aGlzW2ZuXSA9IHRoaXNbZm5dLmJpbmQodGhpcyk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gU2V0dXAgZHJhZyBtb2RlXG5cdFx0dGhpcy5uYXRpdmVEcmFnZ2FibGUgPSBvcHRpb25zLmZvcmNlRmFsbGJhY2sgPyBmYWxzZSA6IHN1cHBvcnREcmFnZ2FibGU7XG5cblx0XHQvLyBCaW5kIGV2ZW50c1xuXHRcdF9vbihlbCwgJ21vdXNlZG93bicsIHRoaXMuX29uVGFwU3RhcnQpO1xuXHRcdF9vbihlbCwgJ3RvdWNoc3RhcnQnLCB0aGlzLl9vblRhcFN0YXJ0KTtcblxuXHRcdGlmICh0aGlzLm5hdGl2ZURyYWdnYWJsZSkge1xuXHRcdFx0X29uKGVsLCAnZHJhZ292ZXInLCB0aGlzKTtcblx0XHRcdF9vbihlbCwgJ2RyYWdlbnRlcicsIHRoaXMpO1xuXHRcdH1cblxuXHRcdHRvdWNoRHJhZ092ZXJMaXN0ZW5lcnMucHVzaCh0aGlzLl9vbkRyYWdPdmVyKTtcblxuXHRcdC8vIFJlc3RvcmUgc29ydGluZ1xuXHRcdG9wdGlvbnMuc3RvcmUgJiYgdGhpcy5zb3J0KG9wdGlvbnMuc3RvcmUuZ2V0KHRoaXMpKTtcblx0fVxuXG5cblx0U29ydGFibGUucHJvdG90eXBlID0gLyoqIEBsZW5kcyBTb3J0YWJsZS5wcm90b3R5cGUgKi8ge1xuXHRcdGNvbnN0cnVjdG9yOiBTb3J0YWJsZSxcblxuXHRcdF9vblRhcFN0YXJ0OiBmdW5jdGlvbiAoLyoqIEV2ZW50fFRvdWNoRXZlbnQgKi9ldnQpIHtcblx0XHRcdHZhciBfdGhpcyA9IHRoaXMsXG5cdFx0XHRcdGVsID0gdGhpcy5lbCxcblx0XHRcdFx0b3B0aW9ucyA9IHRoaXMub3B0aW9ucyxcblx0XHRcdFx0dHlwZSA9IGV2dC50eXBlLFxuXHRcdFx0XHR0b3VjaCA9IGV2dC50b3VjaGVzICYmIGV2dC50b3VjaGVzWzBdLFxuXHRcdFx0XHR0YXJnZXQgPSAodG91Y2ggfHwgZXZ0KS50YXJnZXQsXG5cdFx0XHRcdG9yaWdpbmFsVGFyZ2V0ID0gdGFyZ2V0LFxuXHRcdFx0XHRmaWx0ZXIgPSBvcHRpb25zLmZpbHRlcjtcblxuXG5cdFx0XHRpZiAodHlwZSA9PT0gJ21vdXNlZG93bicgJiYgZXZ0LmJ1dHRvbiAhPT0gMCB8fCBvcHRpb25zLmRpc2FibGVkKSB7XG5cdFx0XHRcdHJldHVybjsgLy8gb25seSBsZWZ0IGJ1dHRvbiBvciBlbmFibGVkXG5cdFx0XHR9XG5cblx0XHRcdHRhcmdldCA9IF9jbG9zZXN0KHRhcmdldCwgb3B0aW9ucy5kcmFnZ2FibGUsIGVsKTtcblxuXHRcdFx0aWYgKCF0YXJnZXQpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBnZXQgdGhlIGluZGV4IG9mIHRoZSBkcmFnZ2VkIGVsZW1lbnQgd2l0aGluIGl0cyBwYXJlbnRcblx0XHRcdG9sZEluZGV4ID0gX2luZGV4KHRhcmdldCk7XG5cblx0XHRcdC8vIENoZWNrIGZpbHRlclxuXHRcdFx0aWYgKHR5cGVvZiBmaWx0ZXIgPT09ICdmdW5jdGlvbicpIHtcblx0XHRcdFx0aWYgKGZpbHRlci5jYWxsKHRoaXMsIGV2dCwgdGFyZ2V0LCB0aGlzKSkge1xuXHRcdFx0XHRcdF9kaXNwYXRjaEV2ZW50KF90aGlzLCBvcmlnaW5hbFRhcmdldCwgJ2ZpbHRlcicsIHRhcmdldCwgZWwsIG9sZEluZGV4KTtcblx0XHRcdFx0XHRldnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0XHRyZXR1cm47IC8vIGNhbmNlbCBkbmRcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0ZWxzZSBpZiAoZmlsdGVyKSB7XG5cdFx0XHRcdGZpbHRlciA9IGZpbHRlci5zcGxpdCgnLCcpLnNvbWUoZnVuY3Rpb24gKGNyaXRlcmlhKSB7XG5cdFx0XHRcdFx0Y3JpdGVyaWEgPSBfY2xvc2VzdChvcmlnaW5hbFRhcmdldCwgY3JpdGVyaWEudHJpbSgpLCBlbCk7XG5cblx0XHRcdFx0XHRpZiAoY3JpdGVyaWEpIHtcblx0XHRcdFx0XHRcdF9kaXNwYXRjaEV2ZW50KF90aGlzLCBjcml0ZXJpYSwgJ2ZpbHRlcicsIHRhcmdldCwgZWwsIG9sZEluZGV4KTtcblx0XHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cblx0XHRcdFx0aWYgKGZpbHRlcikge1xuXHRcdFx0XHRcdGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHRcdHJldHVybjsgLy8gY2FuY2VsIGRuZFxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblxuXHRcdFx0aWYgKG9wdGlvbnMuaGFuZGxlICYmICFfY2xvc2VzdChvcmlnaW5hbFRhcmdldCwgb3B0aW9ucy5oYW5kbGUsIGVsKSkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblxuXHRcdFx0Ly8gUHJlcGFyZSBgZHJhZ3N0YXJ0YFxuXHRcdFx0dGhpcy5fcHJlcGFyZURyYWdTdGFydChldnQsIHRvdWNoLCB0YXJnZXQpO1xuXHRcdH0sXG5cblx0XHRfcHJlcGFyZURyYWdTdGFydDogZnVuY3Rpb24gKC8qKiBFdmVudCAqL2V2dCwgLyoqIFRvdWNoICovdG91Y2gsIC8qKiBIVE1MRWxlbWVudCAqL3RhcmdldCkge1xuXHRcdFx0dmFyIF90aGlzID0gdGhpcyxcblx0XHRcdFx0ZWwgPSBfdGhpcy5lbCxcblx0XHRcdFx0b3B0aW9ucyA9IF90aGlzLm9wdGlvbnMsXG5cdFx0XHRcdG93bmVyRG9jdW1lbnQgPSBlbC5vd25lckRvY3VtZW50LFxuXHRcdFx0XHRkcmFnU3RhcnRGbjtcblxuXHRcdFx0aWYgKHRhcmdldCAmJiAhZHJhZ0VsICYmICh0YXJnZXQucGFyZW50Tm9kZSA9PT0gZWwpKSB7XG5cdFx0XHRcdHRhcEV2dCA9IGV2dDtcblxuXHRcdFx0XHRyb290RWwgPSBlbDtcblx0XHRcdFx0ZHJhZ0VsID0gdGFyZ2V0O1xuXHRcdFx0XHRwYXJlbnRFbCA9IGRyYWdFbC5wYXJlbnROb2RlO1xuXHRcdFx0XHRuZXh0RWwgPSBkcmFnRWwubmV4dFNpYmxpbmc7XG5cdFx0XHRcdGFjdGl2ZUdyb3VwID0gb3B0aW9ucy5ncm91cDtcblxuXHRcdFx0XHRkcmFnU3RhcnRGbiA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHQvLyBEZWxheWVkIGRyYWcgaGFzIGJlZW4gdHJpZ2dlcmVkXG5cdFx0XHRcdFx0Ly8gd2UgY2FuIHJlLWVuYWJsZSB0aGUgZXZlbnRzOiB0b3VjaG1vdmUvbW91c2Vtb3ZlXG5cdFx0XHRcdFx0X3RoaXMuX2Rpc2FibGVEZWxheWVkRHJhZygpO1xuXG5cdFx0XHRcdFx0Ly8gTWFrZSB0aGUgZWxlbWVudCBkcmFnZ2FibGVcblx0XHRcdFx0XHRkcmFnRWwuZHJhZ2dhYmxlID0gdHJ1ZTtcblxuXHRcdFx0XHRcdC8vIENob3NlbiBpdGVtXG5cdFx0XHRcdFx0X3RvZ2dsZUNsYXNzKGRyYWdFbCwgX3RoaXMub3B0aW9ucy5jaG9zZW5DbGFzcywgdHJ1ZSk7XG5cblx0XHRcdFx0XHQvLyBCaW5kIHRoZSBldmVudHM6IGRyYWdzdGFydC9kcmFnZW5kXG5cdFx0XHRcdFx0X3RoaXMuX3RyaWdnZXJEcmFnU3RhcnQodG91Y2gpO1xuXHRcdFx0XHR9O1xuXG5cdFx0XHRcdC8vIERpc2FibGUgXCJkcmFnZ2FibGVcIlxuXHRcdFx0XHRvcHRpb25zLmlnbm9yZS5zcGxpdCgnLCcpLmZvckVhY2goZnVuY3Rpb24gKGNyaXRlcmlhKSB7XG5cdFx0XHRcdFx0X2ZpbmQoZHJhZ0VsLCBjcml0ZXJpYS50cmltKCksIF9kaXNhYmxlRHJhZ2dhYmxlKTtcblx0XHRcdFx0fSk7XG5cblx0XHRcdFx0X29uKG93bmVyRG9jdW1lbnQsICdtb3VzZXVwJywgX3RoaXMuX29uRHJvcCk7XG5cdFx0XHRcdF9vbihvd25lckRvY3VtZW50LCAndG91Y2hlbmQnLCBfdGhpcy5fb25Ecm9wKTtcblx0XHRcdFx0X29uKG93bmVyRG9jdW1lbnQsICd0b3VjaGNhbmNlbCcsIF90aGlzLl9vbkRyb3ApO1xuXG5cdFx0XHRcdGlmIChvcHRpb25zLmRlbGF5KSB7XG5cdFx0XHRcdFx0Ly8gSWYgdGhlIHVzZXIgbW92ZXMgdGhlIHBvaW50ZXIgb3IgbGV0IGdvIHRoZSBjbGljayBvciB0b3VjaFxuXHRcdFx0XHRcdC8vIGJlZm9yZSB0aGUgZGVsYXkgaGFzIGJlZW4gcmVhY2hlZDpcblx0XHRcdFx0XHQvLyBkaXNhYmxlIHRoZSBkZWxheWVkIGRyYWdcblx0XHRcdFx0XHRfb24ob3duZXJEb2N1bWVudCwgJ21vdXNldXAnLCBfdGhpcy5fZGlzYWJsZURlbGF5ZWREcmFnKTtcblx0XHRcdFx0XHRfb24ob3duZXJEb2N1bWVudCwgJ3RvdWNoZW5kJywgX3RoaXMuX2Rpc2FibGVEZWxheWVkRHJhZyk7XG5cdFx0XHRcdFx0X29uKG93bmVyRG9jdW1lbnQsICd0b3VjaGNhbmNlbCcsIF90aGlzLl9kaXNhYmxlRGVsYXllZERyYWcpO1xuXHRcdFx0XHRcdF9vbihvd25lckRvY3VtZW50LCAnbW91c2Vtb3ZlJywgX3RoaXMuX2Rpc2FibGVEZWxheWVkRHJhZyk7XG5cdFx0XHRcdFx0X29uKG93bmVyRG9jdW1lbnQsICd0b3VjaG1vdmUnLCBfdGhpcy5fZGlzYWJsZURlbGF5ZWREcmFnKTtcblxuXHRcdFx0XHRcdF90aGlzLl9kcmFnU3RhcnRUaW1lciA9IHNldFRpbWVvdXQoZHJhZ1N0YXJ0Rm4sIG9wdGlvbnMuZGVsYXkpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGRyYWdTdGFydEZuKCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0X2Rpc2FibGVEZWxheWVkRHJhZzogZnVuY3Rpb24gKCkge1xuXHRcdFx0dmFyIG93bmVyRG9jdW1lbnQgPSB0aGlzLmVsLm93bmVyRG9jdW1lbnQ7XG5cblx0XHRcdGNsZWFyVGltZW91dCh0aGlzLl9kcmFnU3RhcnRUaW1lcik7XG5cdFx0XHRfb2ZmKG93bmVyRG9jdW1lbnQsICdtb3VzZXVwJywgdGhpcy5fZGlzYWJsZURlbGF5ZWREcmFnKTtcblx0XHRcdF9vZmYob3duZXJEb2N1bWVudCwgJ3RvdWNoZW5kJywgdGhpcy5fZGlzYWJsZURlbGF5ZWREcmFnKTtcblx0XHRcdF9vZmYob3duZXJEb2N1bWVudCwgJ3RvdWNoY2FuY2VsJywgdGhpcy5fZGlzYWJsZURlbGF5ZWREcmFnKTtcblx0XHRcdF9vZmYob3duZXJEb2N1bWVudCwgJ21vdXNlbW92ZScsIHRoaXMuX2Rpc2FibGVEZWxheWVkRHJhZyk7XG5cdFx0XHRfb2ZmKG93bmVyRG9jdW1lbnQsICd0b3VjaG1vdmUnLCB0aGlzLl9kaXNhYmxlRGVsYXllZERyYWcpO1xuXHRcdH0sXG5cblx0XHRfdHJpZ2dlckRyYWdTdGFydDogZnVuY3Rpb24gKC8qKiBUb3VjaCAqL3RvdWNoKSB7XG5cdFx0XHRpZiAodG91Y2gpIHtcblx0XHRcdFx0Ly8gVG91Y2ggZGV2aWNlIHN1cHBvcnRcblx0XHRcdFx0dGFwRXZ0ID0ge1xuXHRcdFx0XHRcdHRhcmdldDogZHJhZ0VsLFxuXHRcdFx0XHRcdGNsaWVudFg6IHRvdWNoLmNsaWVudFgsXG5cdFx0XHRcdFx0Y2xpZW50WTogdG91Y2guY2xpZW50WVxuXHRcdFx0XHR9O1xuXG5cdFx0XHRcdHRoaXMuX29uRHJhZ1N0YXJ0KHRhcEV2dCwgJ3RvdWNoJyk7XG5cdFx0XHR9XG5cdFx0XHRlbHNlIGlmICghdGhpcy5uYXRpdmVEcmFnZ2FibGUpIHtcblx0XHRcdFx0dGhpcy5fb25EcmFnU3RhcnQodGFwRXZ0LCB0cnVlKTtcblx0XHRcdH1cblx0XHRcdGVsc2Uge1xuXHRcdFx0XHRfb24oZHJhZ0VsLCAnZHJhZ2VuZCcsIHRoaXMpO1xuXHRcdFx0XHRfb24ocm9vdEVsLCAnZHJhZ3N0YXJ0JywgdGhpcy5fb25EcmFnU3RhcnQpO1xuXHRcdFx0fVxuXG5cdFx0XHR0cnkge1xuXHRcdFx0XHRpZiAoZG9jdW1lbnQuc2VsZWN0aW9uKSB7XG5cdFx0XHRcdFx0ZG9jdW1lbnQuc2VsZWN0aW9uLmVtcHR5KCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0d2luZG93LmdldFNlbGVjdGlvbigpLnJlbW92ZUFsbFJhbmdlcygpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGNhdGNoIChlcnIpIHtcblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0X2RyYWdTdGFydGVkOiBmdW5jdGlvbiAoKSB7XG5cdFx0XHRpZiAocm9vdEVsICYmIGRyYWdFbCkge1xuXHRcdFx0XHQvLyBBcHBseSBlZmZlY3Rcblx0XHRcdFx0X3RvZ2dsZUNsYXNzKGRyYWdFbCwgdGhpcy5vcHRpb25zLmdob3N0Q2xhc3MsIHRydWUpO1xuXG5cdFx0XHRcdFNvcnRhYmxlLmFjdGl2ZSA9IHRoaXM7XG5cblx0XHRcdFx0Ly8gRHJhZyBzdGFydCBldmVudFxuXHRcdFx0XHRfZGlzcGF0Y2hFdmVudCh0aGlzLCByb290RWwsICdzdGFydCcsIGRyYWdFbCwgcm9vdEVsLCBvbGRJbmRleCk7XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdF9lbXVsYXRlRHJhZ092ZXI6IGZ1bmN0aW9uICgpIHtcblx0XHRcdGlmICh0b3VjaEV2dCkge1xuXHRcdFx0XHRpZiAodGhpcy5fbGFzdFggPT09IHRvdWNoRXZ0LmNsaWVudFggJiYgdGhpcy5fbGFzdFkgPT09IHRvdWNoRXZ0LmNsaWVudFkpIHtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR0aGlzLl9sYXN0WCA9IHRvdWNoRXZ0LmNsaWVudFg7XG5cdFx0XHRcdHRoaXMuX2xhc3RZID0gdG91Y2hFdnQuY2xpZW50WTtcblxuXHRcdFx0XHRpZiAoIXN1cHBvcnRDc3NQb2ludGVyRXZlbnRzKSB7XG5cdFx0XHRcdFx0X2NzcyhnaG9zdEVsLCAnZGlzcGxheScsICdub25lJyk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR2YXIgdGFyZ2V0ID0gZG9jdW1lbnQuZWxlbWVudEZyb21Qb2ludCh0b3VjaEV2dC5jbGllbnRYLCB0b3VjaEV2dC5jbGllbnRZKSxcblx0XHRcdFx0XHRwYXJlbnQgPSB0YXJnZXQsXG5cdFx0XHRcdFx0Z3JvdXBOYW1lID0gJyAnICsgdGhpcy5vcHRpb25zLmdyb3VwLm5hbWUgKyAnJyxcblx0XHRcdFx0XHRpID0gdG91Y2hEcmFnT3Zlckxpc3RlbmVycy5sZW5ndGg7XG5cblx0XHRcdFx0aWYgKHBhcmVudCkge1xuXHRcdFx0XHRcdGRvIHtcblx0XHRcdFx0XHRcdGlmIChwYXJlbnRbZXhwYW5kb10gJiYgcGFyZW50W2V4cGFuZG9dLm9wdGlvbnMuZ3JvdXBzLmluZGV4T2YoZ3JvdXBOYW1lKSA+IC0xKSB7XG5cdFx0XHRcdFx0XHRcdHdoaWxlIChpLS0pIHtcblx0XHRcdFx0XHRcdFx0XHR0b3VjaERyYWdPdmVyTGlzdGVuZXJzW2ldKHtcblx0XHRcdFx0XHRcdFx0XHRcdGNsaWVudFg6IHRvdWNoRXZ0LmNsaWVudFgsXG5cdFx0XHRcdFx0XHRcdFx0XHRjbGllbnRZOiB0b3VjaEV2dC5jbGllbnRZLFxuXHRcdFx0XHRcdFx0XHRcdFx0dGFyZ2V0OiB0YXJnZXQsXG5cdFx0XHRcdFx0XHRcdFx0XHRyb290RWw6IHBhcmVudFxuXHRcdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdHRhcmdldCA9IHBhcmVudDsgLy8gc3RvcmUgbGFzdCBlbGVtZW50XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdC8qIGpzaGludCBib3NzOnRydWUgKi9cblx0XHRcdFx0XHR3aGlsZSAocGFyZW50ID0gcGFyZW50LnBhcmVudE5vZGUpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKCFzdXBwb3J0Q3NzUG9pbnRlckV2ZW50cykge1xuXHRcdFx0XHRcdF9jc3MoZ2hvc3RFbCwgJ2Rpc3BsYXknLCAnJyk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9LFxuXG5cblx0XHRfb25Ub3VjaE1vdmU6IGZ1bmN0aW9uICgvKipUb3VjaEV2ZW50Ki9ldnQpIHtcblx0XHRcdGlmICh0YXBFdnQpIHtcblx0XHRcdFx0Ly8gb25seSBzZXQgdGhlIHN0YXR1cyB0byBkcmFnZ2luZywgd2hlbiB3ZSBhcmUgYWN0dWFsbHkgZHJhZ2dpbmdcblx0XHRcdFx0aWYgKCFTb3J0YWJsZS5hY3RpdmUpIHtcblx0XHRcdFx0XHR0aGlzLl9kcmFnU3RhcnRlZCgpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gYXMgd2VsbCBhcyBjcmVhdGluZyB0aGUgZ2hvc3QgZWxlbWVudCBvbiB0aGUgZG9jdW1lbnQgYm9keVxuXHRcdFx0XHR0aGlzLl9hcHBlbmRHaG9zdCgpO1xuXG5cdFx0XHRcdHZhciB0b3VjaCA9IGV2dC50b3VjaGVzID8gZXZ0LnRvdWNoZXNbMF0gOiBldnQsXG5cdFx0XHRcdFx0ZHggPSB0b3VjaC5jbGllbnRYIC0gdGFwRXZ0LmNsaWVudFgsXG5cdFx0XHRcdFx0ZHkgPSB0b3VjaC5jbGllbnRZIC0gdGFwRXZ0LmNsaWVudFksXG5cdFx0XHRcdFx0dHJhbnNsYXRlM2QgPSBldnQudG91Y2hlcyA/ICd0cmFuc2xhdGUzZCgnICsgZHggKyAncHgsJyArIGR5ICsgJ3B4LDApJyA6ICd0cmFuc2xhdGUoJyArIGR4ICsgJ3B4LCcgKyBkeSArICdweCknO1xuXG5cdFx0XHRcdG1vdmVkID0gdHJ1ZTtcblx0XHRcdFx0dG91Y2hFdnQgPSB0b3VjaDtcblxuXHRcdFx0XHRfY3NzKGdob3N0RWwsICd3ZWJraXRUcmFuc2Zvcm0nLCB0cmFuc2xhdGUzZCk7XG5cdFx0XHRcdF9jc3MoZ2hvc3RFbCwgJ21velRyYW5zZm9ybScsIHRyYW5zbGF0ZTNkKTtcblx0XHRcdFx0X2NzcyhnaG9zdEVsLCAnbXNUcmFuc2Zvcm0nLCB0cmFuc2xhdGUzZCk7XG5cdFx0XHRcdF9jc3MoZ2hvc3RFbCwgJ3RyYW5zZm9ybScsIHRyYW5zbGF0ZTNkKTtcblxuXHRcdFx0XHRldnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0X2FwcGVuZEdob3N0OiBmdW5jdGlvbiAoKSB7XG5cdFx0XHRpZiAoIWdob3N0RWwpIHtcblx0XHRcdFx0dmFyIHJlY3QgPSBkcmFnRWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksXG5cdFx0XHRcdFx0Y3NzID0gX2NzcyhkcmFnRWwpLFxuXHRcdFx0XHRcdG9wdGlvbnMgPSB0aGlzLm9wdGlvbnMsXG5cdFx0XHRcdFx0Z2hvc3RSZWN0O1xuXG5cdFx0XHRcdGdob3N0RWwgPSBkcmFnRWwuY2xvbmVOb2RlKHRydWUpO1xuXG5cdFx0XHRcdF90b2dnbGVDbGFzcyhnaG9zdEVsLCBvcHRpb25zLmdob3N0Q2xhc3MsIGZhbHNlKTtcblx0XHRcdFx0X3RvZ2dsZUNsYXNzKGdob3N0RWwsIG9wdGlvbnMuZmFsbGJhY2tDbGFzcywgdHJ1ZSk7XG5cblx0XHRcdFx0X2NzcyhnaG9zdEVsLCAndG9wJywgcmVjdC50b3AgLSBwYXJzZUludChjc3MubWFyZ2luVG9wLCAxMCkpO1xuXHRcdFx0XHRfY3NzKGdob3N0RWwsICdsZWZ0JywgcmVjdC5sZWZ0IC0gcGFyc2VJbnQoY3NzLm1hcmdpbkxlZnQsIDEwKSk7XG5cdFx0XHRcdF9jc3MoZ2hvc3RFbCwgJ3dpZHRoJywgcmVjdC53aWR0aCk7XG5cdFx0XHRcdF9jc3MoZ2hvc3RFbCwgJ2hlaWdodCcsIHJlY3QuaGVpZ2h0KTtcblx0XHRcdFx0X2NzcyhnaG9zdEVsLCAnb3BhY2l0eScsICcwLjgnKTtcblx0XHRcdFx0X2NzcyhnaG9zdEVsLCAncG9zaXRpb24nLCAnZml4ZWQnKTtcblx0XHRcdFx0X2NzcyhnaG9zdEVsLCAnekluZGV4JywgJzEwMDAwMCcpO1xuXHRcdFx0XHRfY3NzKGdob3N0RWwsICdwb2ludGVyRXZlbnRzJywgJ25vbmUnKTtcblxuXHRcdFx0XHRvcHRpb25zLmZhbGxiYWNrT25Cb2R5ICYmIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZ2hvc3RFbCkgfHwgcm9vdEVsLmFwcGVuZENoaWxkKGdob3N0RWwpO1xuXG5cdFx0XHRcdC8vIEZpeGluZyBkaW1lbnNpb25zLlxuXHRcdFx0XHRnaG9zdFJlY3QgPSBnaG9zdEVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXHRcdFx0XHRfY3NzKGdob3N0RWwsICd3aWR0aCcsIHJlY3Qud2lkdGggKiAyIC0gZ2hvc3RSZWN0LndpZHRoKTtcblx0XHRcdFx0X2NzcyhnaG9zdEVsLCAnaGVpZ2h0JywgcmVjdC5oZWlnaHQgKiAyIC0gZ2hvc3RSZWN0LmhlaWdodCk7XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdF9vbkRyYWdTdGFydDogZnVuY3Rpb24gKC8qKkV2ZW50Ki9ldnQsIC8qKmJvb2xlYW4qL3VzZUZhbGxiYWNrKSB7XG5cdFx0XHR2YXIgZGF0YVRyYW5zZmVyID0gZXZ0LmRhdGFUcmFuc2Zlcixcblx0XHRcdFx0b3B0aW9ucyA9IHRoaXMub3B0aW9ucztcblxuXHRcdFx0dGhpcy5fb2ZmVXBFdmVudHMoKTtcblxuXHRcdFx0aWYgKGFjdGl2ZUdyb3VwLnB1bGwgPT0gJ2Nsb25lJykge1xuXHRcdFx0XHRjbG9uZUVsID0gZHJhZ0VsLmNsb25lTm9kZSh0cnVlKTtcblx0XHRcdFx0X2NzcyhjbG9uZUVsLCAnZGlzcGxheScsICdub25lJyk7XG5cdFx0XHRcdHJvb3RFbC5pbnNlcnRCZWZvcmUoY2xvbmVFbCwgZHJhZ0VsKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKHVzZUZhbGxiYWNrKSB7XG5cblx0XHRcdFx0aWYgKHVzZUZhbGxiYWNrID09PSAndG91Y2gnKSB7XG5cdFx0XHRcdFx0Ly8gQmluZCB0b3VjaCBldmVudHNcblx0XHRcdFx0XHRfb24oZG9jdW1lbnQsICd0b3VjaG1vdmUnLCB0aGlzLl9vblRvdWNoTW92ZSk7XG5cdFx0XHRcdFx0X29uKGRvY3VtZW50LCAndG91Y2hlbmQnLCB0aGlzLl9vbkRyb3ApO1xuXHRcdFx0XHRcdF9vbihkb2N1bWVudCwgJ3RvdWNoY2FuY2VsJywgdGhpcy5fb25Ecm9wKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHQvLyBPbGQgYnJ3b3NlclxuXHRcdFx0XHRcdF9vbihkb2N1bWVudCwgJ21vdXNlbW92ZScsIHRoaXMuX29uVG91Y2hNb3ZlKTtcblx0XHRcdFx0XHRfb24oZG9jdW1lbnQsICdtb3VzZXVwJywgdGhpcy5fb25Ecm9wKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHRoaXMuX2xvb3BJZCA9IHNldEludGVydmFsKHRoaXMuX2VtdWxhdGVEcmFnT3ZlciwgNTApO1xuXHRcdFx0fVxuXHRcdFx0ZWxzZSB7XG5cdFx0XHRcdGlmIChkYXRhVHJhbnNmZXIpIHtcblx0XHRcdFx0XHRkYXRhVHJhbnNmZXIuZWZmZWN0QWxsb3dlZCA9ICdtb3ZlJztcblx0XHRcdFx0XHRvcHRpb25zLnNldERhdGEgJiYgb3B0aW9ucy5zZXREYXRhLmNhbGwodGhpcywgZGF0YVRyYW5zZmVyLCBkcmFnRWwpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0X29uKGRvY3VtZW50LCAnZHJvcCcsIHRoaXMpO1xuXHRcdFx0XHRzZXRUaW1lb3V0KHRoaXMuX2RyYWdTdGFydGVkLCAwKTtcblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0X29uRHJhZ092ZXI6IGZ1bmN0aW9uICgvKipFdmVudCovZXZ0KSB7XG5cdFx0XHR2YXIgZWwgPSB0aGlzLmVsLFxuXHRcdFx0XHR0YXJnZXQsXG5cdFx0XHRcdGRyYWdSZWN0LFxuXHRcdFx0XHRyZXZlcnQsXG5cdFx0XHRcdG9wdGlvbnMgPSB0aGlzLm9wdGlvbnMsXG5cdFx0XHRcdGdyb3VwID0gb3B0aW9ucy5ncm91cCxcblx0XHRcdFx0Z3JvdXBQdXQgPSBncm91cC5wdXQsXG5cdFx0XHRcdGlzT3duZXIgPSAoYWN0aXZlR3JvdXAgPT09IGdyb3VwKSxcblx0XHRcdFx0Y2FuU29ydCA9IG9wdGlvbnMuc29ydDtcblxuXHRcdFx0aWYgKGV2dC5wcmV2ZW50RGVmYXVsdCAhPT0gdm9pZCAwKSB7XG5cdFx0XHRcdGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHQhb3B0aW9ucy5kcmFnb3ZlckJ1YmJsZSAmJiBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdFx0XHR9XG5cblx0XHRcdG1vdmVkID0gdHJ1ZTtcblxuXHRcdFx0aWYgKGFjdGl2ZUdyb3VwICYmICFvcHRpb25zLmRpc2FibGVkICYmXG5cdFx0XHRcdChpc093bmVyXG5cdFx0XHRcdFx0PyBjYW5Tb3J0IHx8IChyZXZlcnQgPSAhcm9vdEVsLmNvbnRhaW5zKGRyYWdFbCkpIC8vIFJldmVydGluZyBpdGVtIGludG8gdGhlIG9yaWdpbmFsIGxpc3Rcblx0XHRcdFx0XHQ6IGFjdGl2ZUdyb3VwLnB1bGwgJiYgZ3JvdXBQdXQgJiYgKFxuXHRcdFx0XHRcdFx0KGFjdGl2ZUdyb3VwLm5hbWUgPT09IGdyb3VwLm5hbWUpIHx8IC8vIGJ5IE5hbWVcblx0XHRcdFx0XHRcdChncm91cFB1dC5pbmRleE9mICYmIH5ncm91cFB1dC5pbmRleE9mKGFjdGl2ZUdyb3VwLm5hbWUpKSAvLyBieSBBcnJheVxuXHRcdFx0XHRcdClcblx0XHRcdFx0KSAmJlxuXHRcdFx0XHQoZXZ0LnJvb3RFbCA9PT0gdm9pZCAwIHx8IGV2dC5yb290RWwgPT09IHRoaXMuZWwpIC8vIHRvdWNoIGZhbGxiYWNrXG5cdFx0XHQpIHtcblx0XHRcdFx0Ly8gU21hcnQgYXV0by1zY3JvbGxpbmdcblx0XHRcdFx0X2F1dG9TY3JvbGwoZXZ0LCBvcHRpb25zLCB0aGlzLmVsKTtcblxuXHRcdFx0XHRpZiAoX3NpbGVudCkge1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHRhcmdldCA9IF9jbG9zZXN0KGV2dC50YXJnZXQsIG9wdGlvbnMuZHJhZ2dhYmxlLCBlbCk7XG5cdFx0XHRcdGRyYWdSZWN0ID0gZHJhZ0VsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG5cdFx0XHRcdGlmIChyZXZlcnQpIHtcblx0XHRcdFx0XHRfY2xvbmVIaWRlKHRydWUpO1xuXG5cdFx0XHRcdFx0aWYgKGNsb25lRWwgfHwgbmV4dEVsKSB7XG5cdFx0XHRcdFx0XHRyb290RWwuaW5zZXJ0QmVmb3JlKGRyYWdFbCwgY2xvbmVFbCB8fCBuZXh0RWwpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRlbHNlIGlmICghY2FuU29ydCkge1xuXHRcdFx0XHRcdFx0cm9vdEVsLmFwcGVuZENoaWxkKGRyYWdFbCk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cblxuXHRcdFx0XHRpZiAoKGVsLmNoaWxkcmVuLmxlbmd0aCA9PT0gMCkgfHwgKGVsLmNoaWxkcmVuWzBdID09PSBnaG9zdEVsKSB8fFxuXHRcdFx0XHRcdChlbCA9PT0gZXZ0LnRhcmdldCkgJiYgKHRhcmdldCA9IF9naG9zdElzTGFzdChlbCwgZXZ0KSlcblx0XHRcdFx0KSB7XG5cblx0XHRcdFx0XHRpZiAodGFyZ2V0KSB7XG5cdFx0XHRcdFx0XHRpZiAodGFyZ2V0LmFuaW1hdGVkKSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0dGFyZ2V0UmVjdCA9IHRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRfY2xvbmVIaWRlKGlzT3duZXIpO1xuXG5cdFx0XHRcdFx0aWYgKF9vbk1vdmUocm9vdEVsLCBlbCwgZHJhZ0VsLCBkcmFnUmVjdCwgdGFyZ2V0LCB0YXJnZXRSZWN0KSAhPT0gZmFsc2UpIHtcblx0XHRcdFx0XHRcdGlmICghZHJhZ0VsLmNvbnRhaW5zKGVsKSkge1xuXHRcdFx0XHRcdFx0XHRlbC5hcHBlbmRDaGlsZChkcmFnRWwpO1xuXHRcdFx0XHRcdFx0XHRwYXJlbnRFbCA9IGVsOyAvLyBhY3R1YWxpemF0aW9uXG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdHRoaXMuX2FuaW1hdGUoZHJhZ1JlY3QsIGRyYWdFbCk7XG5cdFx0XHRcdFx0XHR0YXJnZXQgJiYgdGhpcy5fYW5pbWF0ZSh0YXJnZXRSZWN0LCB0YXJnZXQpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHRlbHNlIGlmICh0YXJnZXQgJiYgIXRhcmdldC5hbmltYXRlZCAmJiB0YXJnZXQgIT09IGRyYWdFbCAmJiAodGFyZ2V0LnBhcmVudE5vZGVbZXhwYW5kb10gIT09IHZvaWQgMCkpIHtcblx0XHRcdFx0XHRpZiAobGFzdEVsICE9PSB0YXJnZXQpIHtcblx0XHRcdFx0XHRcdGxhc3RFbCA9IHRhcmdldDtcblx0XHRcdFx0XHRcdGxhc3RDU1MgPSBfY3NzKHRhcmdldCk7XG5cdFx0XHRcdFx0XHRsYXN0UGFyZW50Q1NTID0gX2Nzcyh0YXJnZXQucGFyZW50Tm9kZSk7XG5cdFx0XHRcdFx0fVxuXG5cblx0XHRcdFx0XHR2YXIgdGFyZ2V0UmVjdCA9IHRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxcblx0XHRcdFx0XHRcdHdpZHRoID0gdGFyZ2V0UmVjdC5yaWdodCAtIHRhcmdldFJlY3QubGVmdCxcblx0XHRcdFx0XHRcdGhlaWdodCA9IHRhcmdldFJlY3QuYm90dG9tIC0gdGFyZ2V0UmVjdC50b3AsXG5cdFx0XHRcdFx0XHRmbG9hdGluZyA9IC9sZWZ0fHJpZ2h0fGlubGluZS8udGVzdChsYXN0Q1NTLmNzc0Zsb2F0ICsgbGFzdENTUy5kaXNwbGF5KVxuXHRcdFx0XHRcdFx0XHR8fCAobGFzdFBhcmVudENTUy5kaXNwbGF5ID09ICdmbGV4JyAmJiBsYXN0UGFyZW50Q1NTWydmbGV4LWRpcmVjdGlvbiddLmluZGV4T2YoJ3JvdycpID09PSAwKSxcblx0XHRcdFx0XHRcdGlzV2lkZSA9ICh0YXJnZXQub2Zmc2V0V2lkdGggPiBkcmFnRWwub2Zmc2V0V2lkdGgpLFxuXHRcdFx0XHRcdFx0aXNMb25nID0gKHRhcmdldC5vZmZzZXRIZWlnaHQgPiBkcmFnRWwub2Zmc2V0SGVpZ2h0KSxcblx0XHRcdFx0XHRcdGhhbGZ3YXkgPSAoZmxvYXRpbmcgPyAoZXZ0LmNsaWVudFggLSB0YXJnZXRSZWN0LmxlZnQpIC8gd2lkdGggOiAoZXZ0LmNsaWVudFkgLSB0YXJnZXRSZWN0LnRvcCkgLyBoZWlnaHQpID4gMC41LFxuXHRcdFx0XHRcdFx0bmV4dFNpYmxpbmcgPSB0YXJnZXQubmV4dEVsZW1lbnRTaWJsaW5nLFxuXHRcdFx0XHRcdFx0bW92ZVZlY3RvciA9IF9vbk1vdmUocm9vdEVsLCBlbCwgZHJhZ0VsLCBkcmFnUmVjdCwgdGFyZ2V0LCB0YXJnZXRSZWN0KSxcblx0XHRcdFx0XHRcdGFmdGVyXG5cdFx0XHRcdFx0O1xuXG5cdFx0XHRcdFx0aWYgKG1vdmVWZWN0b3IgIT09IGZhbHNlKSB7XG5cdFx0XHRcdFx0XHRfc2lsZW50ID0gdHJ1ZTtcblx0XHRcdFx0XHRcdHNldFRpbWVvdXQoX3Vuc2lsZW50LCAzMCk7XG5cblx0XHRcdFx0XHRcdF9jbG9uZUhpZGUoaXNPd25lcik7XG5cblx0XHRcdFx0XHRcdGlmIChtb3ZlVmVjdG9yID09PSAxIHx8IG1vdmVWZWN0b3IgPT09IC0xKSB7XG5cdFx0XHRcdFx0XHRcdGFmdGVyID0gKG1vdmVWZWN0b3IgPT09IDEpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0ZWxzZSBpZiAoZmxvYXRpbmcpIHtcblx0XHRcdFx0XHRcdFx0dmFyIGVsVG9wID0gZHJhZ0VsLm9mZnNldFRvcCxcblx0XHRcdFx0XHRcdFx0XHR0Z1RvcCA9IHRhcmdldC5vZmZzZXRUb3A7XG5cblx0XHRcdFx0XHRcdFx0aWYgKGVsVG9wID09PSB0Z1RvcCkge1xuXHRcdFx0XHRcdFx0XHRcdGFmdGVyID0gKHRhcmdldC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nID09PSBkcmFnRWwpICYmICFpc1dpZGUgfHwgaGFsZndheSAmJiBpc1dpZGU7XG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0YWZ0ZXIgPSB0Z1RvcCA+IGVsVG9wO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRhZnRlciA9IChuZXh0U2libGluZyAhPT0gZHJhZ0VsKSAmJiAhaXNMb25nIHx8IGhhbGZ3YXkgJiYgaXNMb25nO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRpZiAoIWRyYWdFbC5jb250YWlucyhlbCkpIHtcblx0XHRcdFx0XHRcdFx0aWYgKGFmdGVyICYmICFuZXh0U2libGluZykge1xuXHRcdFx0XHRcdFx0XHRcdGVsLmFwcGVuZENoaWxkKGRyYWdFbCk7XG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0dGFyZ2V0LnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGRyYWdFbCwgYWZ0ZXIgPyBuZXh0U2libGluZyA6IHRhcmdldCk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0cGFyZW50RWwgPSBkcmFnRWwucGFyZW50Tm9kZTsgLy8gYWN0dWFsaXphdGlvblxuXG5cdFx0XHRcdFx0XHR0aGlzLl9hbmltYXRlKGRyYWdSZWN0LCBkcmFnRWwpO1xuXHRcdFx0XHRcdFx0dGhpcy5fYW5pbWF0ZSh0YXJnZXRSZWN0LCB0YXJnZXQpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHRfYW5pbWF0ZTogZnVuY3Rpb24gKHByZXZSZWN0LCB0YXJnZXQpIHtcblx0XHRcdHZhciBtcyA9IHRoaXMub3B0aW9ucy5hbmltYXRpb247XG5cblx0XHRcdGlmIChtcykge1xuXHRcdFx0XHR2YXIgY3VycmVudFJlY3QgPSB0YXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cblx0XHRcdFx0X2Nzcyh0YXJnZXQsICd0cmFuc2l0aW9uJywgJ25vbmUnKTtcblx0XHRcdFx0X2Nzcyh0YXJnZXQsICd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlM2QoJ1xuXHRcdFx0XHRcdCsgKHByZXZSZWN0LmxlZnQgLSBjdXJyZW50UmVjdC5sZWZ0KSArICdweCwnXG5cdFx0XHRcdFx0KyAocHJldlJlY3QudG9wIC0gY3VycmVudFJlY3QudG9wKSArICdweCwwKSdcblx0XHRcdFx0KTtcblxuXHRcdFx0XHR0YXJnZXQub2Zmc2V0V2lkdGg7IC8vIHJlcGFpbnRcblxuXHRcdFx0XHRfY3NzKHRhcmdldCwgJ3RyYW5zaXRpb24nLCAnYWxsICcgKyBtcyArICdtcycpO1xuXHRcdFx0XHRfY3NzKHRhcmdldCwgJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUzZCgwLDAsMCknKTtcblxuXHRcdFx0XHRjbGVhclRpbWVvdXQodGFyZ2V0LmFuaW1hdGVkKTtcblx0XHRcdFx0dGFyZ2V0LmFuaW1hdGVkID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0X2Nzcyh0YXJnZXQsICd0cmFuc2l0aW9uJywgJycpO1xuXHRcdFx0XHRcdF9jc3ModGFyZ2V0LCAndHJhbnNmb3JtJywgJycpO1xuXHRcdFx0XHRcdHRhcmdldC5hbmltYXRlZCA9IGZhbHNlO1xuXHRcdFx0XHR9LCBtcyk7XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdF9vZmZVcEV2ZW50czogZnVuY3Rpb24gKCkge1xuXHRcdFx0dmFyIG93bmVyRG9jdW1lbnQgPSB0aGlzLmVsLm93bmVyRG9jdW1lbnQ7XG5cblx0XHRcdF9vZmYoZG9jdW1lbnQsICd0b3VjaG1vdmUnLCB0aGlzLl9vblRvdWNoTW92ZSk7XG5cdFx0XHRfb2ZmKG93bmVyRG9jdW1lbnQsICdtb3VzZXVwJywgdGhpcy5fb25Ecm9wKTtcblx0XHRcdF9vZmYob3duZXJEb2N1bWVudCwgJ3RvdWNoZW5kJywgdGhpcy5fb25Ecm9wKTtcblx0XHRcdF9vZmYob3duZXJEb2N1bWVudCwgJ3RvdWNoY2FuY2VsJywgdGhpcy5fb25Ecm9wKTtcblx0XHR9LFxuXG5cdFx0X29uRHJvcDogZnVuY3Rpb24gKC8qKkV2ZW50Ki9ldnQpIHtcblx0XHRcdHZhciBlbCA9IHRoaXMuZWwsXG5cdFx0XHRcdG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG5cblx0XHRcdGNsZWFySW50ZXJ2YWwodGhpcy5fbG9vcElkKTtcblx0XHRcdGNsZWFySW50ZXJ2YWwoYXV0b1Njcm9sbC5waWQpO1xuXHRcdFx0Y2xlYXJUaW1lb3V0KHRoaXMuX2RyYWdTdGFydFRpbWVyKTtcblxuXHRcdFx0Ly8gVW5iaW5kIGV2ZW50c1xuXHRcdFx0X29mZihkb2N1bWVudCwgJ21vdXNlbW92ZScsIHRoaXMuX29uVG91Y2hNb3ZlKTtcblxuXHRcdFx0aWYgKHRoaXMubmF0aXZlRHJhZ2dhYmxlKSB7XG5cdFx0XHRcdF9vZmYoZG9jdW1lbnQsICdkcm9wJywgdGhpcyk7XG5cdFx0XHRcdF9vZmYoZWwsICdkcmFnc3RhcnQnLCB0aGlzLl9vbkRyYWdTdGFydCk7XG5cdFx0XHR9XG5cblx0XHRcdHRoaXMuX29mZlVwRXZlbnRzKCk7XG5cblx0XHRcdGlmIChldnQpIHtcblx0XHRcdFx0aWYgKG1vdmVkKSB7XG5cdFx0XHRcdFx0ZXZ0LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdFx0IW9wdGlvbnMuZHJvcEJ1YmJsZSAmJiBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRnaG9zdEVsICYmIGdob3N0RWwucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChnaG9zdEVsKTtcblxuXHRcdFx0XHRpZiAoZHJhZ0VsKSB7XG5cdFx0XHRcdFx0aWYgKHRoaXMubmF0aXZlRHJhZ2dhYmxlKSB7XG5cdFx0XHRcdFx0XHRfb2ZmKGRyYWdFbCwgJ2RyYWdlbmQnLCB0aGlzKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRfZGlzYWJsZURyYWdnYWJsZShkcmFnRWwpO1xuXG5cdFx0XHRcdFx0Ly8gUmVtb3ZlIGNsYXNzJ3Ncblx0XHRcdFx0XHRfdG9nZ2xlQ2xhc3MoZHJhZ0VsLCB0aGlzLm9wdGlvbnMuZ2hvc3RDbGFzcywgZmFsc2UpO1xuXHRcdFx0XHRcdF90b2dnbGVDbGFzcyhkcmFnRWwsIHRoaXMub3B0aW9ucy5jaG9zZW5DbGFzcywgZmFsc2UpO1xuXG5cdFx0XHRcdFx0aWYgKHJvb3RFbCAhPT0gcGFyZW50RWwpIHtcblx0XHRcdFx0XHRcdG5ld0luZGV4ID0gX2luZGV4KGRyYWdFbCk7XG5cblx0XHRcdFx0XHRcdGlmIChuZXdJbmRleCA+PSAwKSB7XG5cdFx0XHRcdFx0XHRcdC8vIGRyYWcgZnJvbSBvbmUgbGlzdCBhbmQgZHJvcCBpbnRvIGFub3RoZXJcblx0XHRcdFx0XHRcdFx0X2Rpc3BhdGNoRXZlbnQobnVsbCwgcGFyZW50RWwsICdzb3J0JywgZHJhZ0VsLCByb290RWwsIG9sZEluZGV4LCBuZXdJbmRleCk7XG5cdFx0XHRcdFx0XHRcdF9kaXNwYXRjaEV2ZW50KHRoaXMsIHJvb3RFbCwgJ3NvcnQnLCBkcmFnRWwsIHJvb3RFbCwgb2xkSW5kZXgsIG5ld0luZGV4KTtcblxuXHRcdFx0XHRcdFx0XHQvLyBBZGQgZXZlbnRcblx0XHRcdFx0XHRcdFx0X2Rpc3BhdGNoRXZlbnQobnVsbCwgcGFyZW50RWwsICdhZGQnLCBkcmFnRWwsIHJvb3RFbCwgb2xkSW5kZXgsIG5ld0luZGV4KTtcblxuXHRcdFx0XHRcdFx0XHQvLyBSZW1vdmUgZXZlbnRcblx0XHRcdFx0XHRcdFx0X2Rpc3BhdGNoRXZlbnQodGhpcywgcm9vdEVsLCAncmVtb3ZlJywgZHJhZ0VsLCByb290RWwsIG9sZEluZGV4LCBuZXdJbmRleCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGVsc2Uge1xuXHRcdFx0XHRcdFx0Ly8gUmVtb3ZlIGNsb25lXG5cdFx0XHRcdFx0XHRjbG9uZUVsICYmIGNsb25lRWwucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChjbG9uZUVsKTtcblxuXHRcdFx0XHRcdFx0aWYgKGRyYWdFbC5uZXh0U2libGluZyAhPT0gbmV4dEVsKSB7XG5cdFx0XHRcdFx0XHRcdC8vIEdldCB0aGUgaW5kZXggb2YgdGhlIGRyYWdnZWQgZWxlbWVudCB3aXRoaW4gaXRzIHBhcmVudFxuXHRcdFx0XHRcdFx0XHRuZXdJbmRleCA9IF9pbmRleChkcmFnRWwpO1xuXG5cdFx0XHRcdFx0XHRcdGlmIChuZXdJbmRleCA+PSAwKSB7XG5cdFx0XHRcdFx0XHRcdFx0Ly8gZHJhZyAmIGRyb3Agd2l0aGluIHRoZSBzYW1lIGxpc3Rcblx0XHRcdFx0XHRcdFx0XHRfZGlzcGF0Y2hFdmVudCh0aGlzLCByb290RWwsICd1cGRhdGUnLCBkcmFnRWwsIHJvb3RFbCwgb2xkSW5kZXgsIG5ld0luZGV4KTtcblx0XHRcdFx0XHRcdFx0XHRfZGlzcGF0Y2hFdmVudCh0aGlzLCByb290RWwsICdzb3J0JywgZHJhZ0VsLCByb290RWwsIG9sZEluZGV4LCBuZXdJbmRleCk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRpZiAoU29ydGFibGUuYWN0aXZlKSB7XG5cdFx0XHRcdFx0XHRpZiAobmV3SW5kZXggPT09IG51bGwgfHwgbmV3SW5kZXggPT09IC0xKSB7XG5cdFx0XHRcdFx0XHRcdG5ld0luZGV4ID0gb2xkSW5kZXg7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdF9kaXNwYXRjaEV2ZW50KHRoaXMsIHJvb3RFbCwgJ2VuZCcsIGRyYWdFbCwgcm9vdEVsLCBvbGRJbmRleCwgbmV3SW5kZXgpO1xuXG5cdFx0XHRcdFx0XHQvLyBTYXZlIHNvcnRpbmdcblx0XHRcdFx0XHRcdHRoaXMuc2F2ZSgpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIE51bGxpbmdcblx0XHRcdFx0cm9vdEVsID1cblx0XHRcdFx0ZHJhZ0VsID1cblx0XHRcdFx0cGFyZW50RWwgPVxuXHRcdFx0XHRnaG9zdEVsID1cblx0XHRcdFx0bmV4dEVsID1cblx0XHRcdFx0Y2xvbmVFbCA9XG5cblx0XHRcdFx0c2Nyb2xsRWwgPVxuXHRcdFx0XHRzY3JvbGxQYXJlbnRFbCA9XG5cblx0XHRcdFx0dGFwRXZ0ID1cblx0XHRcdFx0dG91Y2hFdnQgPVxuXG5cdFx0XHRcdG1vdmVkID1cblx0XHRcdFx0bmV3SW5kZXggPVxuXG5cdFx0XHRcdGxhc3RFbCA9XG5cdFx0XHRcdGxhc3RDU1MgPVxuXG5cdFx0XHRcdGFjdGl2ZUdyb3VwID1cblx0XHRcdFx0U29ydGFibGUuYWN0aXZlID0gbnVsbDtcblx0XHRcdH1cblx0XHR9LFxuXG5cblx0XHRoYW5kbGVFdmVudDogZnVuY3Rpb24gKC8qKkV2ZW50Ki9ldnQpIHtcblx0XHRcdHZhciB0eXBlID0gZXZ0LnR5cGU7XG5cblx0XHRcdGlmICh0eXBlID09PSAnZHJhZ292ZXInIHx8IHR5cGUgPT09ICdkcmFnZW50ZXInKSB7XG5cdFx0XHRcdGlmIChkcmFnRWwpIHtcblx0XHRcdFx0XHR0aGlzLl9vbkRyYWdPdmVyKGV2dCk7XG5cdFx0XHRcdFx0X2dsb2JhbERyYWdPdmVyKGV2dCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdGVsc2UgaWYgKHR5cGUgPT09ICdkcm9wJyB8fCB0eXBlID09PSAnZHJhZ2VuZCcpIHtcblx0XHRcdFx0dGhpcy5fb25Ecm9wKGV2dCk7XG5cdFx0XHR9XG5cdFx0fSxcblxuXG5cdFx0LyoqXG5cdFx0ICogU2VyaWFsaXplcyB0aGUgaXRlbSBpbnRvIGFuIGFycmF5IG9mIHN0cmluZy5cblx0XHQgKiBAcmV0dXJucyB7U3RyaW5nW119XG5cdFx0ICovXG5cdFx0dG9BcnJheTogZnVuY3Rpb24gKCkge1xuXHRcdFx0dmFyIG9yZGVyID0gW10sXG5cdFx0XHRcdGVsLFxuXHRcdFx0XHRjaGlsZHJlbiA9IHRoaXMuZWwuY2hpbGRyZW4sXG5cdFx0XHRcdGkgPSAwLFxuXHRcdFx0XHRuID0gY2hpbGRyZW4ubGVuZ3RoLFxuXHRcdFx0XHRvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuXG5cdFx0XHRmb3IgKDsgaSA8IG47IGkrKykge1xuXHRcdFx0XHRlbCA9IGNoaWxkcmVuW2ldO1xuXHRcdFx0XHRpZiAoX2Nsb3Nlc3QoZWwsIG9wdGlvbnMuZHJhZ2dhYmxlLCB0aGlzLmVsKSkge1xuXHRcdFx0XHRcdG9yZGVyLnB1c2goZWwuZ2V0QXR0cmlidXRlKG9wdGlvbnMuZGF0YUlkQXR0cikgfHwgX2dlbmVyYXRlSWQoZWwpKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gb3JkZXI7XG5cdFx0fSxcblxuXG5cdFx0LyoqXG5cdFx0ICogU29ydHMgdGhlIGVsZW1lbnRzIGFjY29yZGluZyB0byB0aGUgYXJyYXkuXG5cdFx0ICogQHBhcmFtICB7U3RyaW5nW119ICBvcmRlciAgb3JkZXIgb2YgdGhlIGl0ZW1zXG5cdFx0ICovXG5cdFx0c29ydDogZnVuY3Rpb24gKG9yZGVyKSB7XG5cdFx0XHR2YXIgaXRlbXMgPSB7fSwgcm9vdEVsID0gdGhpcy5lbDtcblxuXHRcdFx0dGhpcy50b0FycmF5KCkuZm9yRWFjaChmdW5jdGlvbiAoaWQsIGkpIHtcblx0XHRcdFx0dmFyIGVsID0gcm9vdEVsLmNoaWxkcmVuW2ldO1xuXG5cdFx0XHRcdGlmIChfY2xvc2VzdChlbCwgdGhpcy5vcHRpb25zLmRyYWdnYWJsZSwgcm9vdEVsKSkge1xuXHRcdFx0XHRcdGl0ZW1zW2lkXSA9IGVsO1xuXHRcdFx0XHR9XG5cdFx0XHR9LCB0aGlzKTtcblxuXHRcdFx0b3JkZXIuZm9yRWFjaChmdW5jdGlvbiAoaWQpIHtcblx0XHRcdFx0aWYgKGl0ZW1zW2lkXSkge1xuXHRcdFx0XHRcdHJvb3RFbC5yZW1vdmVDaGlsZChpdGVtc1tpZF0pO1xuXHRcdFx0XHRcdHJvb3RFbC5hcHBlbmRDaGlsZChpdGVtc1tpZF0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9LFxuXG5cblx0XHQvKipcblx0XHQgKiBTYXZlIHRoZSBjdXJyZW50IHNvcnRpbmdcblx0XHQgKi9cblx0XHRzYXZlOiBmdW5jdGlvbiAoKSB7XG5cdFx0XHR2YXIgc3RvcmUgPSB0aGlzLm9wdGlvbnMuc3RvcmU7XG5cdFx0XHRzdG9yZSAmJiBzdG9yZS5zZXQodGhpcyk7XG5cdFx0fSxcblxuXG5cdFx0LyoqXG5cdFx0ICogRm9yIGVhY2ggZWxlbWVudCBpbiB0aGUgc2V0LCBnZXQgdGhlIGZpcnN0IGVsZW1lbnQgdGhhdCBtYXRjaGVzIHRoZSBzZWxlY3RvciBieSB0ZXN0aW5nIHRoZSBlbGVtZW50IGl0c2VsZiBhbmQgdHJhdmVyc2luZyB1cCB0aHJvdWdoIGl0cyBhbmNlc3RvcnMgaW4gdGhlIERPTSB0cmVlLlxuXHRcdCAqIEBwYXJhbSAgIHtIVE1MRWxlbWVudH0gIGVsXG5cdFx0ICogQHBhcmFtICAge1N0cmluZ30gICAgICAgW3NlbGVjdG9yXSAgZGVmYXVsdDogYG9wdGlvbnMuZHJhZ2dhYmxlYFxuXHRcdCAqIEByZXR1cm5zIHtIVE1MRWxlbWVudHxudWxsfVxuXHRcdCAqL1xuXHRcdGNsb3Nlc3Q6IGZ1bmN0aW9uIChlbCwgc2VsZWN0b3IpIHtcblx0XHRcdHJldHVybiBfY2xvc2VzdChlbCwgc2VsZWN0b3IgfHwgdGhpcy5vcHRpb25zLmRyYWdnYWJsZSwgdGhpcy5lbCk7XG5cdFx0fSxcblxuXG5cdFx0LyoqXG5cdFx0ICogU2V0L2dldCBvcHRpb25cblx0XHQgKiBAcGFyYW0gICB7c3RyaW5nfSBuYW1lXG5cdFx0ICogQHBhcmFtICAgeyp9ICAgICAgW3ZhbHVlXVxuXHRcdCAqIEByZXR1cm5zIHsqfVxuXHRcdCAqL1xuXHRcdG9wdGlvbjogZnVuY3Rpb24gKG5hbWUsIHZhbHVlKSB7XG5cdFx0XHR2YXIgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcblxuXHRcdFx0aWYgKHZhbHVlID09PSB2b2lkIDApIHtcblx0XHRcdFx0cmV0dXJuIG9wdGlvbnNbbmFtZV07XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRvcHRpb25zW25hbWVdID0gdmFsdWU7XG5cblx0XHRcdFx0aWYgKG5hbWUgPT09ICdncm91cCcpIHtcblx0XHRcdFx0XHRfcHJlcGFyZUdyb3VwKG9wdGlvbnMpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSxcblxuXG5cdFx0LyoqXG5cdFx0ICogRGVzdHJveVxuXHRcdCAqL1xuXHRcdGRlc3Ryb3k6IGZ1bmN0aW9uICgpIHtcblx0XHRcdHZhciBlbCA9IHRoaXMuZWw7XG5cblx0XHRcdGVsW2V4cGFuZG9dID0gbnVsbDtcblxuXHRcdFx0X29mZihlbCwgJ21vdXNlZG93bicsIHRoaXMuX29uVGFwU3RhcnQpO1xuXHRcdFx0X29mZihlbCwgJ3RvdWNoc3RhcnQnLCB0aGlzLl9vblRhcFN0YXJ0KTtcblxuXHRcdFx0aWYgKHRoaXMubmF0aXZlRHJhZ2dhYmxlKSB7XG5cdFx0XHRcdF9vZmYoZWwsICdkcmFnb3ZlcicsIHRoaXMpO1xuXHRcdFx0XHRfb2ZmKGVsLCAnZHJhZ2VudGVyJywgdGhpcyk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFJlbW92ZSBkcmFnZ2FibGUgYXR0cmlidXRlc1xuXHRcdFx0QXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChlbC5xdWVyeVNlbGVjdG9yQWxsKCdbZHJhZ2dhYmxlXScpLCBmdW5jdGlvbiAoZWwpIHtcblx0XHRcdFx0ZWwucmVtb3ZlQXR0cmlidXRlKCdkcmFnZ2FibGUnKTtcblx0XHRcdH0pO1xuXG5cdFx0XHR0b3VjaERyYWdPdmVyTGlzdGVuZXJzLnNwbGljZSh0b3VjaERyYWdPdmVyTGlzdGVuZXJzLmluZGV4T2YodGhpcy5fb25EcmFnT3ZlciksIDEpO1xuXG5cdFx0XHR0aGlzLl9vbkRyb3AoKTtcblxuXHRcdFx0dGhpcy5lbCA9IGVsID0gbnVsbDtcblx0XHR9XG5cdH07XG5cblxuXHRmdW5jdGlvbiBfY2xvbmVIaWRlKHN0YXRlKSB7XG5cdFx0aWYgKGNsb25lRWwgJiYgKGNsb25lRWwuc3RhdGUgIT09IHN0YXRlKSkge1xuXHRcdFx0X2NzcyhjbG9uZUVsLCAnZGlzcGxheScsIHN0YXRlID8gJ25vbmUnIDogJycpO1xuXHRcdFx0IXN0YXRlICYmIGNsb25lRWwuc3RhdGUgJiYgcm9vdEVsLmluc2VydEJlZm9yZShjbG9uZUVsLCBkcmFnRWwpO1xuXHRcdFx0Y2xvbmVFbC5zdGF0ZSA9IHN0YXRlO1xuXHRcdH1cblx0fVxuXG5cblx0ZnVuY3Rpb24gX2Nsb3Nlc3QoLyoqSFRNTEVsZW1lbnQqL2VsLCAvKipTdHJpbmcqL3NlbGVjdG9yLCAvKipIVE1MRWxlbWVudCovY3R4KSB7XG5cdFx0aWYgKGVsKSB7XG5cdFx0XHRjdHggPSBjdHggfHwgZG9jdW1lbnQ7XG5cdFx0XHRzZWxlY3RvciA9IHNlbGVjdG9yLnNwbGl0KCcuJyk7XG5cblx0XHRcdHZhciB0YWcgPSBzZWxlY3Rvci5zaGlmdCgpLnRvVXBwZXJDYXNlKCksXG5cdFx0XHRcdHJlID0gbmV3IFJlZ0V4cCgnXFxcXHMoJyArIHNlbGVjdG9yLmpvaW4oJ3wnKSArICcpKD89XFxcXHMpJywgJ2cnKTtcblxuXHRcdFx0ZG8ge1xuXHRcdFx0XHRpZiAoXG5cdFx0XHRcdFx0KHRhZyA9PT0gJz4qJyAmJiBlbC5wYXJlbnROb2RlID09PSBjdHgpIHx8IChcblx0XHRcdFx0XHRcdCh0YWcgPT09ICcnIHx8IGVsLm5vZGVOYW1lLnRvVXBwZXJDYXNlKCkgPT0gdGFnKSAmJlxuXHRcdFx0XHRcdFx0KCFzZWxlY3Rvci5sZW5ndGggfHwgKCgnICcgKyBlbC5jbGFzc05hbWUgKyAnICcpLm1hdGNoKHJlKSB8fCBbXSkubGVuZ3RoID09IHNlbGVjdG9yLmxlbmd0aClcblx0XHRcdFx0XHQpXG5cdFx0XHRcdCkge1xuXHRcdFx0XHRcdHJldHVybiBlbDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0d2hpbGUgKGVsICE9PSBjdHggJiYgKGVsID0gZWwucGFyZW50Tm9kZSkpO1xuXHRcdH1cblxuXHRcdHJldHVybiBudWxsO1xuXHR9XG5cblxuXHRmdW5jdGlvbiBfZ2xvYmFsRHJhZ092ZXIoLyoqRXZlbnQqL2V2dCkge1xuXHRcdGlmIChldnQuZGF0YVRyYW5zZmVyKSB7XG5cdFx0XHRldnQuZGF0YVRyYW5zZmVyLmRyb3BFZmZlY3QgPSAnbW92ZSc7XG5cdFx0fVxuXHRcdGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuXHR9XG5cblxuXHRmdW5jdGlvbiBfb24oZWwsIGV2ZW50LCBmbikge1xuXHRcdGVsLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIGZuLCBmYWxzZSk7XG5cdH1cblxuXG5cdGZ1bmN0aW9uIF9vZmYoZWwsIGV2ZW50LCBmbikge1xuXHRcdGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnQsIGZuLCBmYWxzZSk7XG5cdH1cblxuXG5cdGZ1bmN0aW9uIF90b2dnbGVDbGFzcyhlbCwgbmFtZSwgc3RhdGUpIHtcblx0XHRpZiAoZWwpIHtcblx0XHRcdGlmIChlbC5jbGFzc0xpc3QpIHtcblx0XHRcdFx0ZWwuY2xhc3NMaXN0W3N0YXRlID8gJ2FkZCcgOiAncmVtb3ZlJ10obmFtZSk7XG5cdFx0XHR9XG5cdFx0XHRlbHNlIHtcblx0XHRcdFx0dmFyIGNsYXNzTmFtZSA9ICgnICcgKyBlbC5jbGFzc05hbWUgKyAnICcpLnJlcGxhY2UoUlNQQUNFLCAnICcpLnJlcGxhY2UoJyAnICsgbmFtZSArICcgJywgJyAnKTtcblx0XHRcdFx0ZWwuY2xhc3NOYW1lID0gKGNsYXNzTmFtZSArIChzdGF0ZSA/ICcgJyArIG5hbWUgOiAnJykpLnJlcGxhY2UoUlNQQUNFLCAnICcpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cblx0ZnVuY3Rpb24gX2NzcyhlbCwgcHJvcCwgdmFsKSB7XG5cdFx0dmFyIHN0eWxlID0gZWwgJiYgZWwuc3R5bGU7XG5cblx0XHRpZiAoc3R5bGUpIHtcblx0XHRcdGlmICh2YWwgPT09IHZvaWQgMCkge1xuXHRcdFx0XHRpZiAoZG9jdW1lbnQuZGVmYXVsdFZpZXcgJiYgZG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZSkge1xuXHRcdFx0XHRcdHZhbCA9IGRvY3VtZW50LmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUoZWwsICcnKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRlbHNlIGlmIChlbC5jdXJyZW50U3R5bGUpIHtcblx0XHRcdFx0XHR2YWwgPSBlbC5jdXJyZW50U3R5bGU7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gcHJvcCA9PT0gdm9pZCAwID8gdmFsIDogdmFsW3Byb3BdO1xuXHRcdFx0fVxuXHRcdFx0ZWxzZSB7XG5cdFx0XHRcdGlmICghKHByb3AgaW4gc3R5bGUpKSB7XG5cdFx0XHRcdFx0cHJvcCA9ICctd2Via2l0LScgKyBwcm9wO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0c3R5bGVbcHJvcF0gPSB2YWwgKyAodHlwZW9mIHZhbCA9PT0gJ3N0cmluZycgPyAnJyA6ICdweCcpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cblx0ZnVuY3Rpb24gX2ZpbmQoY3R4LCB0YWdOYW1lLCBpdGVyYXRvcikge1xuXHRcdGlmIChjdHgpIHtcblx0XHRcdHZhciBsaXN0ID0gY3R4LmdldEVsZW1lbnRzQnlUYWdOYW1lKHRhZ05hbWUpLCBpID0gMCwgbiA9IGxpc3QubGVuZ3RoO1xuXG5cdFx0XHRpZiAoaXRlcmF0b3IpIHtcblx0XHRcdFx0Zm9yICg7IGkgPCBuOyBpKyspIHtcblx0XHRcdFx0XHRpdGVyYXRvcihsaXN0W2ldLCBpKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gbGlzdDtcblx0XHR9XG5cblx0XHRyZXR1cm4gW107XG5cdH1cblxuXG5cblx0ZnVuY3Rpb24gX2Rpc3BhdGNoRXZlbnQoc29ydGFibGUsIHJvb3RFbCwgbmFtZSwgdGFyZ2V0RWwsIGZyb21FbCwgc3RhcnRJbmRleCwgbmV3SW5kZXgpIHtcblx0XHR2YXIgZXZ0ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ0V2ZW50JyksXG5cdFx0XHRvcHRpb25zID0gKHNvcnRhYmxlIHx8IHJvb3RFbFtleHBhbmRvXSkub3B0aW9ucyxcblx0XHRcdG9uTmFtZSA9ICdvbicgKyBuYW1lLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgbmFtZS5zdWJzdHIoMSk7XG5cblx0XHRldnQuaW5pdEV2ZW50KG5hbWUsIHRydWUsIHRydWUpO1xuXG5cdFx0ZXZ0LnRvID0gcm9vdEVsO1xuXHRcdGV2dC5mcm9tID0gZnJvbUVsIHx8IHJvb3RFbDtcblx0XHRldnQuaXRlbSA9IHRhcmdldEVsIHx8IHJvb3RFbDtcblx0XHRldnQuY2xvbmUgPSBjbG9uZUVsO1xuXG5cdFx0ZXZ0Lm9sZEluZGV4ID0gc3RhcnRJbmRleDtcblx0XHRldnQubmV3SW5kZXggPSBuZXdJbmRleDtcblxuXHRcdHJvb3RFbC5kaXNwYXRjaEV2ZW50KGV2dCk7XG5cblx0XHRpZiAob3B0aW9uc1tvbk5hbWVdKSB7XG5cdFx0XHRvcHRpb25zW29uTmFtZV0uY2FsbChzb3J0YWJsZSwgZXZ0KTtcblx0XHR9XG5cdH1cblxuXG5cdGZ1bmN0aW9uIF9vbk1vdmUoZnJvbUVsLCB0b0VsLCBkcmFnRWwsIGRyYWdSZWN0LCB0YXJnZXRFbCwgdGFyZ2V0UmVjdCkge1xuXHRcdHZhciBldnQsXG5cdFx0XHRzb3J0YWJsZSA9IGZyb21FbFtleHBhbmRvXSxcblx0XHRcdG9uTW92ZUZuID0gc29ydGFibGUub3B0aW9ucy5vbk1vdmUsXG5cdFx0XHRyZXRWYWw7XG5cblx0XHRldnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnRXZlbnQnKTtcblx0XHRldnQuaW5pdEV2ZW50KCdtb3ZlJywgdHJ1ZSwgdHJ1ZSk7XG5cblx0XHRldnQudG8gPSB0b0VsO1xuXHRcdGV2dC5mcm9tID0gZnJvbUVsO1xuXHRcdGV2dC5kcmFnZ2VkID0gZHJhZ0VsO1xuXHRcdGV2dC5kcmFnZ2VkUmVjdCA9IGRyYWdSZWN0O1xuXHRcdGV2dC5yZWxhdGVkID0gdGFyZ2V0RWwgfHwgdG9FbDtcblx0XHRldnQucmVsYXRlZFJlY3QgPSB0YXJnZXRSZWN0IHx8IHRvRWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cblx0XHRmcm9tRWwuZGlzcGF0Y2hFdmVudChldnQpO1xuXG5cdFx0aWYgKG9uTW92ZUZuKSB7XG5cdFx0XHRyZXRWYWwgPSBvbk1vdmVGbi5jYWxsKHNvcnRhYmxlLCBldnQpO1xuXHRcdH1cblxuXHRcdHJldHVybiByZXRWYWw7XG5cdH1cblxuXG5cdGZ1bmN0aW9uIF9kaXNhYmxlRHJhZ2dhYmxlKGVsKSB7XG5cdFx0ZWwuZHJhZ2dhYmxlID0gZmFsc2U7XG5cdH1cblxuXG5cdGZ1bmN0aW9uIF91bnNpbGVudCgpIHtcblx0XHRfc2lsZW50ID0gZmFsc2U7XG5cdH1cblxuXG5cdC8qKiBAcmV0dXJucyB7SFRNTEVsZW1lbnR8ZmFsc2V9ICovXG5cdGZ1bmN0aW9uIF9naG9zdElzTGFzdChlbCwgZXZ0KSB7XG5cdFx0dmFyIGxhc3RFbCA9IGVsLmxhc3RFbGVtZW50Q2hpbGQsXG5cdFx0XHRcdHJlY3QgPSBsYXN0RWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cblx0XHRyZXR1cm4gKChldnQuY2xpZW50WSAtIChyZWN0LnRvcCArIHJlY3QuaGVpZ2h0KSA+IDUpIHx8IChldnQuY2xpZW50WCAtIChyZWN0LnJpZ2h0ICsgcmVjdC53aWR0aCkgPiA1KSkgJiYgbGFzdEVsOyAvLyBtaW4gZGVsdGFcblx0fVxuXG5cblx0LyoqXG5cdCAqIEdlbmVyYXRlIGlkXG5cdCAqIEBwYXJhbSAgIHtIVE1MRWxlbWVudH0gZWxcblx0ICogQHJldHVybnMge1N0cmluZ31cblx0ICogQHByaXZhdGVcblx0ICovXG5cdGZ1bmN0aW9uIF9nZW5lcmF0ZUlkKGVsKSB7XG5cdFx0dmFyIHN0ciA9IGVsLnRhZ05hbWUgKyBlbC5jbGFzc05hbWUgKyBlbC5zcmMgKyBlbC5ocmVmICsgZWwudGV4dENvbnRlbnQsXG5cdFx0XHRpID0gc3RyLmxlbmd0aCxcblx0XHRcdHN1bSA9IDA7XG5cblx0XHR3aGlsZSAoaS0tKSB7XG5cdFx0XHRzdW0gKz0gc3RyLmNoYXJDb2RlQXQoaSk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHN1bS50b1N0cmluZygzNik7XG5cdH1cblxuXHQvKipcblx0ICogUmV0dXJucyB0aGUgaW5kZXggb2YgYW4gZWxlbWVudCB3aXRoaW4gaXRzIHBhcmVudFxuXHQgKiBAcGFyYW0gIHtIVE1MRWxlbWVudH0gZWxcblx0ICogQHJldHVybiB7bnVtYmVyfVxuXHQgKi9cblx0ZnVuY3Rpb24gX2luZGV4KGVsKSB7XG5cdFx0dmFyIGluZGV4ID0gMDtcblxuXHRcdGlmICghZWwgfHwgIWVsLnBhcmVudE5vZGUpIHtcblx0XHRcdHJldHVybiAtMTtcblx0XHR9XG5cblx0XHR3aGlsZSAoZWwgJiYgKGVsID0gZWwucHJldmlvdXNFbGVtZW50U2libGluZykpIHtcblx0XHRcdGlmIChlbC5ub2RlTmFtZS50b1VwcGVyQ2FzZSgpICE9PSAnVEVNUExBVEUnKSB7XG5cdFx0XHRcdGluZGV4Kys7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGluZGV4O1xuXHR9XG5cblx0ZnVuY3Rpb24gX3Rocm90dGxlKGNhbGxiYWNrLCBtcykge1xuXHRcdHZhciBhcmdzLCBfdGhpcztcblxuXHRcdHJldHVybiBmdW5jdGlvbiAoKSB7XG5cdFx0XHRpZiAoYXJncyA9PT0gdm9pZCAwKSB7XG5cdFx0XHRcdGFyZ3MgPSBhcmd1bWVudHM7XG5cdFx0XHRcdF90aGlzID0gdGhpcztcblxuXHRcdFx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRpZiAoYXJncy5sZW5ndGggPT09IDEpIHtcblx0XHRcdFx0XHRcdGNhbGxiYWNrLmNhbGwoX3RoaXMsIGFyZ3NbMF0pO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRjYWxsYmFjay5hcHBseShfdGhpcywgYXJncyk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0YXJncyA9IHZvaWQgMDtcblx0XHRcdFx0fSwgbXMpO1xuXHRcdFx0fVxuXHRcdH07XG5cdH1cblxuXHRmdW5jdGlvbiBfZXh0ZW5kKGRzdCwgc3JjKSB7XG5cdFx0aWYgKGRzdCAmJiBzcmMpIHtcblx0XHRcdGZvciAodmFyIGtleSBpbiBzcmMpIHtcblx0XHRcdFx0aWYgKHNyYy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG5cdFx0XHRcdFx0ZHN0W2tleV0gPSBzcmNba2V5XTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBkc3Q7XG5cdH1cblxuXG5cdC8vIEV4cG9ydCB1dGlsc1xuXHRTb3J0YWJsZS51dGlscyA9IHtcblx0XHRvbjogX29uLFxuXHRcdG9mZjogX29mZixcblx0XHRjc3M6IF9jc3MsXG5cdFx0ZmluZDogX2ZpbmQsXG5cdFx0aXM6IGZ1bmN0aW9uIChlbCwgc2VsZWN0b3IpIHtcblx0XHRcdHJldHVybiAhIV9jbG9zZXN0KGVsLCBzZWxlY3RvciwgZWwpO1xuXHRcdH0sXG5cdFx0ZXh0ZW5kOiBfZXh0ZW5kLFxuXHRcdHRocm90dGxlOiBfdGhyb3R0bGUsXG5cdFx0Y2xvc2VzdDogX2Nsb3Nlc3QsXG5cdFx0dG9nZ2xlQ2xhc3M6IF90b2dnbGVDbGFzcyxcblx0XHRpbmRleDogX2luZGV4XG5cdH07XG5cblxuXHQvKipcblx0ICogQ3JlYXRlIHNvcnRhYmxlIGluc3RhbmNlXG5cdCAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9ICBlbFxuXHQgKiBAcGFyYW0ge09iamVjdH0gICAgICBbb3B0aW9uc11cblx0ICovXG5cdFNvcnRhYmxlLmNyZWF0ZSA9IGZ1bmN0aW9uIChlbCwgb3B0aW9ucykge1xuXHRcdHJldHVybiBuZXcgU29ydGFibGUoZWwsIG9wdGlvbnMpO1xuXHR9O1xuXG5cblx0Ly8gRXhwb3J0XG5cdFNvcnRhYmxlLnZlcnNpb24gPSAnMS40LjInO1xuXHRyZXR1cm4gU29ydGFibGU7XG59KTtcbiIsIi8qKlxuICogQGF1dGhvciBSdWJhWGEgPHRyYXNoQHJ1YmF4YS5vcmc+XG4gKiBAbGljZW5jZSBNSVRcbiAqL1xuKGZ1bmN0aW9uIChmYWN0b3J5KSB7XG5cdCd1c2Ugc3RyaWN0JztcblxuXHRpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG5cdFx0ZGVmaW5lKFsnYW5ndWxhcicsICcuL1NvcnRhYmxlJ10sIGZhY3RvcnkpO1xuXHR9XG5cdGVsc2UgaWYgKHR5cGVvZiByZXF1aXJlID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jykge1xuXHRcdHJlcXVpcmUoJ2FuZ3VsYXInKTtcblx0XHRmYWN0b3J5KGFuZ3VsYXIsIHJlcXVpcmUoJy4vU29ydGFibGUnKSk7XG5cdFx0bW9kdWxlLmV4cG9ydHMgPSAnbmctc29ydGFibGUnO1xuXHR9XG5cdGVsc2UgaWYgKHdpbmRvdy5hbmd1bGFyICYmIHdpbmRvdy5Tb3J0YWJsZSkge1xuXHRcdGZhY3RvcnkoYW5ndWxhciwgU29ydGFibGUpO1xuXHR9XG59KShmdW5jdGlvbiAoYW5ndWxhciwgU29ydGFibGUpIHtcblx0J3VzZSBzdHJpY3QnO1xuXG5cblx0LyoqXG5cdCAqIEB0eXBlZGVmICAge09iamVjdH0gICAgICAgIG5nU29ydEV2ZW50XG5cdCAqIEBwcm9wZXJ0eSAgeyp9ICAgICAgICAgICAgIG1vZGVsICAgICAgTGlzdCBpdGVtXG5cdCAqIEBwcm9wZXJ0eSAge09iamVjdHxBcnJheX0gIG1vZGVscyAgICAgTGlzdCBvZiBpdGVtc1xuXHQgKiBAcHJvcGVydHkgIHtudW1iZXJ9ICAgICAgICBvbGRJbmRleCAgIGJlZm9yZSBzb3J0XG5cdCAqIEBwcm9wZXJ0eSAge251bWJlcn0gICAgICAgIG5ld0luZGV4ICAgYWZ0ZXIgc29ydFxuXHQgKi9cblxuXHR2YXIgZXhwYW5kbyA9ICdTb3J0YWJsZTpuZy1zb3J0YWJsZSc7XG5cblx0YW5ndWxhci5tb2R1bGUoJ25nLXNvcnRhYmxlJywgW10pXG5cdFx0LmNvbnN0YW50KCduZ1NvcnRhYmxlVmVyc2lvbicsICcwLjQuMCcpXG5cdFx0LmNvbnN0YW50KCduZ1NvcnRhYmxlQ29uZmlnJywge30pXG5cdFx0LmRpcmVjdGl2ZSgnbmdTb3J0YWJsZScsIFsnJHBhcnNlJywgJ25nU29ydGFibGVDb25maWcnLCBmdW5jdGlvbiAoJHBhcnNlLCBuZ1NvcnRhYmxlQ29uZmlnKSB7XG5cdFx0XHR2YXIgcmVtb3ZlZCxcblx0XHRcdFx0bmV4dFNpYmxpbmc7XG5cblx0XHRcdGZ1bmN0aW9uIGdldE5nUmVwZWF0RXhwcmVzc2lvbihub2RlKSB7XG5cdFx0XHRcdHJldHVybiBub2RlLmdldEF0dHJpYnV0ZSgnbmctcmVwZWF0JykgfHwgbm9kZS5nZXRBdHRyaWJ1dGUoJ2RhdGEtbmctcmVwZWF0JykgfHwgbm9kZS5nZXRBdHRyaWJ1dGUoJ3gtbmctcmVwZWF0Jyk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIEV4cG9ydFxuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0cmVzdHJpY3Q6ICdBQycsXG5cdFx0XHRcdHNjb3BlOiB7IG5nU29ydGFibGU6IFwiPT9cIiB9LFxuXHRcdFx0XHRwcmlvcml0eTogMTAwMSxcblx0XHRcdFx0Y29tcGlsZTogZnVuY3Rpb24gKCRlbGVtZW50LCAkYXR0cikge1xuXG5cdFx0XHRcdFx0dmFyIG5nUmVwZWF0ID0gW10uZmlsdGVyLmNhbGwoJGVsZW1lbnRbMF0uY2hpbGROb2RlcywgZnVuY3Rpb24gKG5vZGUpIHtcblx0XHRcdFx0XHRcdHJldHVybiBub2RlLm5vZGVUeXBlID09PSBOb2RlLkVMRU1FTlRfTk9ERSAmJiBnZXROZ1JlcGVhdEV4cHJlc3Npb24obm9kZSk7XG5cdFx0XHRcdFx0fSlbMF07XG5cblx0XHRcdFx0XHRpZiAoIW5nUmVwZWF0KSB7XG5cdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0dmFyIG1hdGNoID0gZ2V0TmdSZXBlYXRFeHByZXNzaW9uKG5nUmVwZWF0KVxuXHRcdFx0XHRcdFx0Lm1hdGNoKC9eXFxzKihbXFxzXFxTXSs/KVxccytpblxccysoW1xcc1xcU10rPykoPzpcXHMrYXNcXHMrKFtcXHNcXFNdKz8pKT8oPzpcXHMrdHJhY2tcXHMrYnlcXHMrKFtcXHNcXFNdKz8pKT9cXHMqJC8pO1xuXG5cdFx0XHRcdFx0aWYgKCFtYXRjaCkge1xuXHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHZhciByaHMgPSBtYXRjaFsyXTtcblxuXHRcdFx0XHRcdHJldHVybiBmdW5jdGlvbiBwb3N0TGluayhzY29wZSwgJGVsKSB7XG5cdFx0XHRcdFx0XHR2YXIgaXRlbXNFeHByID0gJHBhcnNlKHJocyk7XG5cdFx0XHRcdFx0XHR2YXIgZ2V0U291cmNlID0gZnVuY3Rpb24gZ2V0U291cmNlKCkge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gaXRlbXNFeHByKHNjb3BlLiRwYXJlbnQpIHx8IFtdO1xuXHRcdFx0XHRcdFx0fTtcblxuXG5cdFx0XHRcdFx0XHR2YXIgZWwgPSAkZWxbMF0sXG5cdFx0XHRcdFx0XHRcdG9wdGlvbnMgPSBhbmd1bGFyLmV4dGVuZChzY29wZS5uZ1NvcnRhYmxlIHx8IHt9LCBuZ1NvcnRhYmxlQ29uZmlnKSxcblx0XHRcdFx0XHRcdFx0d2F0Y2hlcnMgPSBbXSxcblx0XHRcdFx0XHRcdFx0b2ZmRGVzdHJveSxcblx0XHRcdFx0XHRcdFx0c29ydGFibGVcblx0XHRcdFx0XHRcdDtcblxuXHRcdFx0XHRcdFx0ZWxbZXhwYW5kb10gPSBnZXRTb3VyY2U7XG5cblx0XHRcdFx0XHRcdGZ1bmN0aW9uIF9lbWl0RXZlbnQoLyoqRXZlbnQqL2V2dCwgLypNaXhlZCovaXRlbSkge1xuXHRcdFx0XHRcdFx0XHR2YXIgbmFtZSA9ICdvbicgKyBldnQudHlwZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIGV2dC50eXBlLnN1YnN0cigxKTtcblx0XHRcdFx0XHRcdFx0dmFyIHNvdXJjZSA9IGdldFNvdXJjZSgpO1xuXG5cdFx0XHRcdFx0XHRcdC8qIGpzaGludCBleHByOnRydWUgKi9cblx0XHRcdFx0XHRcdFx0b3B0aW9uc1tuYW1lXSAmJiBvcHRpb25zW25hbWVdKHtcblx0XHRcdFx0XHRcdFx0XHRtb2RlbDogaXRlbSB8fCBzb3VyY2VbZXZ0Lm5ld0luZGV4XSxcblx0XHRcdFx0XHRcdFx0XHRtb2RlbHM6IHNvdXJjZSxcblx0XHRcdFx0XHRcdFx0XHRvbGRJbmRleDogZXZ0Lm9sZEluZGV4LFxuXHRcdFx0XHRcdFx0XHRcdG5ld0luZGV4OiBldnQubmV3SW5kZXgsXG5cdFx0XHRcdFx0XHRcdFx0b3JpZ2luYWxFdmVudDogZXZ0XG5cdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0fVxuXG5cblx0XHRcdFx0XHRcdGZ1bmN0aW9uIF9zeW5jKC8qKkV2ZW50Ki9ldnQpIHtcblx0XHRcdFx0XHRcdFx0dmFyIGl0ZW1zID0gZ2V0U291cmNlKCk7XG5cblx0XHRcdFx0XHRcdFx0aWYgKCFpdGVtcykge1xuXHRcdFx0XHRcdFx0XHRcdC8vIFdpdGhvdXQgbmctcmVwZWF0XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0dmFyIG9sZEluZGV4ID0gZXZ0Lm9sZEluZGV4LFxuXHRcdFx0XHRcdFx0XHRcdG5ld0luZGV4ID0gZXZ0Lm5ld0luZGV4O1xuXG5cdFx0XHRcdFx0XHRcdGlmIChlbCAhPT0gZXZ0LmZyb20pIHtcblx0XHRcdFx0XHRcdFx0XHR2YXIgcHJldkl0ZW1zID0gZXZ0LmZyb21bZXhwYW5kb10oKTtcblxuXHRcdFx0XHRcdFx0XHRcdHJlbW92ZWQgPSBwcmV2SXRlbXNbb2xkSW5kZXhdO1xuXG5cdFx0XHRcdFx0XHRcdFx0aWYgKGV2dC5jbG9uZSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0cmVtb3ZlZCA9IGFuZ3VsYXIuY29weShyZW1vdmVkKTtcblx0XHRcdFx0XHRcdFx0XHRcdHByZXZJdGVtcy5zcGxpY2UoU29ydGFibGUudXRpbHMuaW5kZXgoZXZ0LmNsb25lLCBzb3J0YWJsZS5vcHRpb25zLmRyYWdnYWJsZSksIDAsIHByZXZJdGVtcy5zcGxpY2Uob2xkSW5kZXgsIDEpWzBdKTtcblx0XHRcdFx0XHRcdFx0XHRcdGV2dC5mcm9tLnJlbW92ZUNoaWxkKGV2dC5jbG9uZSk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdFx0cHJldkl0ZW1zLnNwbGljZShvbGRJbmRleCwgMSk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0aXRlbXMuc3BsaWNlKG5ld0luZGV4LCAwLCByZW1vdmVkKTtcblxuXHRcdFx0XHRcdFx0XHRcdGV2dC5mcm9tLmluc2VydEJlZm9yZShldnQuaXRlbSwgbmV4dFNpYmxpbmcpOyAvLyByZXZlcnQgZWxlbWVudFxuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdGl0ZW1zLnNwbGljZShuZXdJbmRleCwgMCwgaXRlbXMuc3BsaWNlKG9sZEluZGV4LCAxKVswXSk7XG5cblx0XHRcdFx0XHRcdFx0XHQvLyBtb3ZlIG5nLXJlcGVhdCBjb21tZW50IG5vZGUgdG8gcmlnaHQgcG9zaXRpb25cblx0XHRcdFx0XHRcdFx0XHRpZiAobmV4dFNpYmxpbmcubm9kZVR5cGUgPT09IE5vZGUuQ09NTUVOVF9OT0RFKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRldnQuZnJvbS5pbnNlcnRCZWZvcmUobmV4dFNpYmxpbmcsIGV2dC5pdGVtLm5leHRTaWJsaW5nKTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRzY29wZS4kYXBwbHkoKTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0ZnVuY3Rpb24gX2Rlc3Ryb3koKSB7XG5cdFx0XHRcdFx0XHRcdG9mZkRlc3Ryb3koKTtcblxuXHRcdFx0XHRcdFx0XHRhbmd1bGFyLmZvckVhY2god2F0Y2hlcnMsIGZ1bmN0aW9uICgvKiogRnVuY3Rpb24gKi91bndhdGNoKSB7XG5cdFx0XHRcdFx0XHRcdFx0dW53YXRjaCgpO1xuXHRcdFx0XHRcdFx0XHR9KTtcblxuXHRcdFx0XHRcdFx0XHRzb3J0YWJsZS5kZXN0cm95KCk7XG5cblx0XHRcdFx0XHRcdFx0ZWxbZXhwYW5kb10gPSBudWxsO1xuXHRcdFx0XHRcdFx0XHRlbCA9IG51bGw7XG5cdFx0XHRcdFx0XHRcdHdhdGNoZXJzID0gbnVsbDtcblx0XHRcdFx0XHRcdFx0c29ydGFibGUgPSBudWxsO1xuXHRcdFx0XHRcdFx0XHRuZXh0U2libGluZyA9IG51bGw7XG5cdFx0XHRcdFx0XHR9XG5cblxuXHRcdFx0XHRcdFx0Ly8gSW5pdGlhbGl6YXRpb25cblx0XHRcdFx0XHRcdHNvcnRhYmxlID0gU29ydGFibGUuY3JlYXRlKGVsLCBPYmplY3Qua2V5cyhvcHRpb25zKS5yZWR1Y2UoZnVuY3Rpb24gKG9wdHMsIG5hbWUpIHtcblx0XHRcdFx0XHRcdFx0b3B0c1tuYW1lXSA9IG9wdHNbbmFtZV0gfHwgb3B0aW9uc1tuYW1lXTtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIG9wdHM7XG5cdFx0XHRcdFx0XHR9LCB7XG5cdFx0XHRcdFx0XHRcdG9uU3RhcnQ6IGZ1bmN0aW9uICgvKipFdmVudCovZXZ0KSB7XG5cdFx0XHRcdFx0XHRcdFx0bmV4dFNpYmxpbmcgPSBldnQuZnJvbSA9PT0gZXZ0Lml0ZW0ucGFyZW50Tm9kZSA/IGV2dC5pdGVtLm5leHRTaWJsaW5nIDogZXZ0LmNsb25lLm5leHRTaWJsaW5nO1xuXHRcdFx0XHRcdFx0XHRcdF9lbWl0RXZlbnQoZXZ0KTtcblx0XHRcdFx0XHRcdFx0XHRzY29wZS4kYXBwbHkoKTtcblx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0b25FbmQ6IGZ1bmN0aW9uICgvKipFdmVudCovZXZ0KSB7XG5cdFx0XHRcdFx0XHRcdFx0X2VtaXRFdmVudChldnQsIHJlbW92ZWQpO1xuXHRcdFx0XHRcdFx0XHRcdHNjb3BlLiRhcHBseSgpO1xuXHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHRvbkFkZDogZnVuY3Rpb24gKC8qKkV2ZW50Ki9ldnQpIHtcblx0XHRcdFx0XHRcdFx0XHRfc3luYyhldnQpO1xuXHRcdFx0XHRcdFx0XHRcdF9lbWl0RXZlbnQoZXZ0LCByZW1vdmVkKTtcblx0XHRcdFx0XHRcdFx0XHRzY29wZS4kYXBwbHkoKTtcblx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0b25VcGRhdGU6IGZ1bmN0aW9uICgvKipFdmVudCovZXZ0KSB7XG5cdFx0XHRcdFx0XHRcdFx0X3N5bmMoZXZ0KTtcblx0XHRcdFx0XHRcdFx0XHRfZW1pdEV2ZW50KGV2dCk7XG5cdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdG9uUmVtb3ZlOiBmdW5jdGlvbiAoLyoqRXZlbnQqL2V2dCkge1xuXHRcdFx0XHRcdFx0XHRcdF9lbWl0RXZlbnQoZXZ0LCByZW1vdmVkKTtcblx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0b25Tb3J0OiBmdW5jdGlvbiAoLyoqRXZlbnQqL2V2dCkge1xuXHRcdFx0XHRcdFx0XHRcdF9lbWl0RXZlbnQoZXZ0KTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSkpO1xuXG5cdFx0XHRcdFx0XHQvLyBDcmVhdGUgd2F0Y2hlcnMgZm9yIGBvcHRpb25zYFxuXHRcdFx0XHRcdFx0YW5ndWxhci5mb3JFYWNoKFtcblx0XHRcdFx0XHRcdFx0J3NvcnQnLCAnZGlzYWJsZWQnLCAnZHJhZ2dhYmxlJywgJ2hhbmRsZScsICdhbmltYXRpb24nLCAnZ3JvdXAnLCAnZ2hvc3RDbGFzcycsICdmaWx0ZXInLFxuXHRcdFx0XHRcdFx0XHQnb25TdGFydCcsICdvbkVuZCcsICdvbkFkZCcsICdvblVwZGF0ZScsICdvblJlbW92ZScsICdvblNvcnQnLCAnb25Nb3ZlJywgJ29uQ2xvbmUnLCAnc2V0RGF0YSdcblx0XHRcdFx0XHRcdF0sIGZ1bmN0aW9uIChuYW1lKSB7XG5cdFx0XHRcdFx0XHRcdHdhdGNoZXJzLnB1c2goc2NvcGUuJHdhdGNoKCduZ1NvcnRhYmxlLicgKyBuYW1lLCBmdW5jdGlvbiAodmFsdWUpIHtcblx0XHRcdFx0XHRcdFx0XHRpZiAodmFsdWUgIT09IHZvaWQgMCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0b3B0aW9uc1tuYW1lXSA9IHZhbHVlO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoIS9eb25bQS1aXS8udGVzdChuYW1lKSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRzb3J0YWJsZS5vcHRpb24obmFtZSwgdmFsdWUpO1xuXHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fSkpO1xuXHRcdFx0XHRcdFx0fSk7XG5cblx0XHRcdFx0XHRcdG9mZkRlc3Ryb3kgPSBzY29wZS4kb24oJyRkZXN0cm95JywgX2Rlc3Ryb3kpO1xuXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXHRcdH1dKTtcbn0pO1xuIiwiLyoqXG4gKiBTdGF0ZS1iYXNlZCByb3V0aW5nIGZvciBBbmd1bGFySlNcbiAqIEB2ZXJzaW9uIHYwLjMuMlxuICogQGxpbmsgaHR0cDovL2FuZ3VsYXItdWkuZ2l0aHViLmNvbS9cbiAqIEBsaWNlbnNlIE1JVCBMaWNlbnNlLCBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVFxuICovXG5cInVuZGVmaW5lZFwiIT10eXBlb2YgbW9kdWxlJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgZXhwb3J0cyYmbW9kdWxlLmV4cG9ydHM9PT1leHBvcnRzJiYobW9kdWxlLmV4cG9ydHM9XCJ1aS5yb3V0ZXJcIiksZnVuY3Rpb24oYSxiLGMpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGQoYSxiKXtyZXR1cm4gUyhuZXcoUyhmdW5jdGlvbigpe30se3Byb3RvdHlwZTphfSkpLGIpfWZ1bmN0aW9uIGUoYSl7cmV0dXJuIFIoYXJndW1lbnRzLGZ1bmN0aW9uKGIpe2IhPT1hJiZSKGIsZnVuY3Rpb24oYixjKXthLmhhc093blByb3BlcnR5KGMpfHwoYVtjXT1iKX0pfSksYX1mdW5jdGlvbiBmKGEsYil7dmFyIGM9W107Zm9yKHZhciBkIGluIGEucGF0aCl7aWYoYS5wYXRoW2RdIT09Yi5wYXRoW2RdKWJyZWFrO2MucHVzaChhLnBhdGhbZF0pfXJldHVybiBjfWZ1bmN0aW9uIGcoYSl7aWYoT2JqZWN0LmtleXMpcmV0dXJuIE9iamVjdC5rZXlzKGEpO3ZhciBiPVtdO3JldHVybiBSKGEsZnVuY3Rpb24oYSxjKXtiLnB1c2goYyl9KSxifWZ1bmN0aW9uIGgoYSxiKXtpZihBcnJheS5wcm90b3R5cGUuaW5kZXhPZilyZXR1cm4gYS5pbmRleE9mKGIsTnVtYmVyKGFyZ3VtZW50c1syXSl8fDApO3ZhciBjPWEubGVuZ3RoPj4+MCxkPU51bWJlcihhcmd1bWVudHNbMl0pfHwwO2ZvcihkPWQ8MD9NYXRoLmNlaWwoZCk6TWF0aC5mbG9vcihkKSxkPDAmJihkKz1jKTtkPGM7ZCsrKWlmKGQgaW4gYSYmYVtkXT09PWIpcmV0dXJuIGQ7cmV0dXJuLTF9ZnVuY3Rpb24gaShhLGIsYyxkKXt2YXIgZSxpPWYoYyxkKSxqPXt9LGs9W107Zm9yKHZhciBsIGluIGkpaWYoaVtsXSYmaVtsXS5wYXJhbXMmJihlPWcoaVtsXS5wYXJhbXMpLGUubGVuZ3RoKSlmb3IodmFyIG0gaW4gZSloKGssZVttXSk+PTB8fChrLnB1c2goZVttXSksaltlW21dXT1hW2VbbV1dKTtyZXR1cm4gUyh7fSxqLGIpfWZ1bmN0aW9uIGooYSxiLGMpe2lmKCFjKXtjPVtdO2Zvcih2YXIgZCBpbiBhKWMucHVzaChkKX1mb3IodmFyIGU9MDtlPGMubGVuZ3RoO2UrKyl7dmFyIGY9Y1tlXTtpZihhW2ZdIT1iW2ZdKXJldHVybiExfXJldHVybiEwfWZ1bmN0aW9uIGsoYSxiKXt2YXIgYz17fTtyZXR1cm4gUihhLGZ1bmN0aW9uKGEpe2NbYV09YlthXX0pLGN9ZnVuY3Rpb24gbChhKXt2YXIgYj17fSxjPUFycmF5LnByb3RvdHlwZS5jb25jYXQuYXBwbHkoQXJyYXkucHJvdG90eXBlLEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSk7cmV0dXJuIFIoYyxmdW5jdGlvbihjKXtjIGluIGEmJihiW2NdPWFbY10pfSksYn1mdW5jdGlvbiBtKGEpe3ZhciBiPXt9LGM9QXJyYXkucHJvdG90eXBlLmNvbmNhdC5hcHBseShBcnJheS5wcm90b3R5cGUsQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpKTtmb3IodmFyIGQgaW4gYSloKGMsZCk9PS0xJiYoYltkXT1hW2RdKTtyZXR1cm4gYn1mdW5jdGlvbiBuKGEsYil7dmFyIGM9UShhKSxkPWM/W106e307cmV0dXJuIFIoYSxmdW5jdGlvbihhLGUpe2IoYSxlKSYmKGRbYz9kLmxlbmd0aDplXT1hKX0pLGR9ZnVuY3Rpb24gbyhhLGIpe3ZhciBjPVEoYSk/W106e307cmV0dXJuIFIoYSxmdW5jdGlvbihhLGQpe2NbZF09YihhLGQpfSksY31mdW5jdGlvbiBwKGEpe3JldHVybiBhLnRoZW4oYyxmdW5jdGlvbigpe30pJiZhfWZ1bmN0aW9uIHEoYSxiKXt2YXIgZD0xLGY9MixpPXt9LGo9W10saz1pLGw9UyhhLndoZW4oaSkseyQkcHJvbWlzZXM6aSwkJHZhbHVlczppfSk7dGhpcy5zdHVkeT1mdW5jdGlvbihpKXtmdW5jdGlvbiBuKGEsYyl7aWYoc1tjXSE9PWYpe2lmKHIucHVzaChjKSxzW2NdPT09ZCl0aHJvdyByLnNwbGljZSgwLGgocixjKSksbmV3IEVycm9yKFwiQ3ljbGljIGRlcGVuZGVuY3k6IFwiK3Iuam9pbihcIiAtPiBcIikpO2lmKHNbY109ZCxPKGEpKXEucHVzaChjLFtmdW5jdGlvbigpe3JldHVybiBiLmdldChhKX1dLGopO2Vsc2V7dmFyIGU9Yi5hbm5vdGF0ZShhKTtSKGUsZnVuY3Rpb24oYSl7YSE9PWMmJmkuaGFzT3duUHJvcGVydHkoYSkmJm4oaVthXSxhKX0pLHEucHVzaChjLGEsZSl9ci5wb3AoKSxzW2NdPWZ9fWZ1bmN0aW9uIG8oYSl7cmV0dXJuIFAoYSkmJmEudGhlbiYmYS4kJHByb21pc2VzfWlmKCFQKGkpKXRocm93IG5ldyBFcnJvcihcIidpbnZvY2FibGVzJyBtdXN0IGJlIGFuIG9iamVjdFwiKTt2YXIgcD1nKGl8fHt9KSxxPVtdLHI9W10scz17fTtyZXR1cm4gUihpLG4pLGk9cj1zPW51bGwsZnVuY3Rpb24oZCxmLGcpe2Z1bmN0aW9uIGgoKXstLXV8fCh2fHxlKHQsZi4kJHZhbHVlcyksci4kJHZhbHVlcz10LHIuJCRwcm9taXNlcz1yLiQkcHJvbWlzZXN8fCEwLGRlbGV0ZSByLiQkaW5oZXJpdGVkVmFsdWVzLG4ucmVzb2x2ZSh0KSl9ZnVuY3Rpb24gaShhKXtyLiQkZmFpbHVyZT1hLG4ucmVqZWN0KGEpfWZ1bmN0aW9uIGooYyxlLGYpe2Z1bmN0aW9uIGooYSl7bC5yZWplY3QoYSksaShhKX1mdW5jdGlvbiBrKCl7aWYoIU0oci4kJGZhaWx1cmUpKXRyeXtsLnJlc29sdmUoYi5pbnZva2UoZSxnLHQpKSxsLnByb21pc2UudGhlbihmdW5jdGlvbihhKXt0W2NdPWEsaCgpfSxqKX1jYXRjaChhKXtqKGEpfX12YXIgbD1hLmRlZmVyKCksbT0wO1IoZixmdW5jdGlvbihhKXtzLmhhc093blByb3BlcnR5KGEpJiYhZC5oYXNPd25Qcm9wZXJ0eShhKSYmKG0rKyxzW2FdLnRoZW4oZnVuY3Rpb24oYil7dFthXT1iLC0tbXx8aygpfSxqKSl9KSxtfHxrKCksc1tjXT1sLnByb21pc2V9aWYobyhkKSYmZz09PWMmJihnPWYsZj1kLGQ9bnVsbCksZCl7aWYoIVAoZCkpdGhyb3cgbmV3IEVycm9yKFwiJ2xvY2FscycgbXVzdCBiZSBhbiBvYmplY3RcIil9ZWxzZSBkPWs7aWYoZil7aWYoIW8oZikpdGhyb3cgbmV3IEVycm9yKFwiJ3BhcmVudCcgbXVzdCBiZSBhIHByb21pc2UgcmV0dXJuZWQgYnkgJHJlc29sdmUucmVzb2x2ZSgpXCIpfWVsc2UgZj1sO3ZhciBuPWEuZGVmZXIoKSxyPW4ucHJvbWlzZSxzPXIuJCRwcm9taXNlcz17fSx0PVMoe30sZCksdT0xK3EubGVuZ3RoLzMsdj0hMTtpZihNKGYuJCRmYWlsdXJlKSlyZXR1cm4gaShmLiQkZmFpbHVyZSkscjtmLiQkaW5oZXJpdGVkVmFsdWVzJiZlKHQsbShmLiQkaW5oZXJpdGVkVmFsdWVzLHApKSxTKHMsZi4kJHByb21pc2VzKSxmLiQkdmFsdWVzPyh2PWUodCxtKGYuJCR2YWx1ZXMscCkpLHIuJCRpbmhlcml0ZWRWYWx1ZXM9bShmLiQkdmFsdWVzLHApLGgoKSk6KGYuJCRpbmhlcml0ZWRWYWx1ZXMmJihyLiQkaW5oZXJpdGVkVmFsdWVzPW0oZi4kJGluaGVyaXRlZFZhbHVlcyxwKSksZi50aGVuKGgsaSkpO2Zvcih2YXIgdz0wLHg9cS5sZW5ndGg7dzx4O3crPTMpZC5oYXNPd25Qcm9wZXJ0eShxW3ddKT9oKCk6aihxW3ddLHFbdysxXSxxW3crMl0pO3JldHVybiByfX0sdGhpcy5yZXNvbHZlPWZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiB0aGlzLnN0dWR5KGEpKGIsYyxkKX19ZnVuY3Rpb24gcihhLGIsYyl7dGhpcy5mcm9tQ29uZmlnPWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gTShhLnRlbXBsYXRlKT90aGlzLmZyb21TdHJpbmcoYS50ZW1wbGF0ZSxiKTpNKGEudGVtcGxhdGVVcmwpP3RoaXMuZnJvbVVybChhLnRlbXBsYXRlVXJsLGIpOk0oYS50ZW1wbGF0ZVByb3ZpZGVyKT90aGlzLmZyb21Qcm92aWRlcihhLnRlbXBsYXRlUHJvdmlkZXIsYixjKTpudWxsfSx0aGlzLmZyb21TdHJpbmc9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gTihhKT9hKGIpOmF9LHRoaXMuZnJvbVVybD1mdW5jdGlvbihjLGQpe3JldHVybiBOKGMpJiYoYz1jKGQpKSxudWxsPT1jP251bGw6YS5nZXQoYyx7Y2FjaGU6YixoZWFkZXJzOntBY2NlcHQ6XCJ0ZXh0L2h0bWxcIn19KS50aGVuKGZ1bmN0aW9uKGEpe3JldHVybiBhLmRhdGF9KX0sdGhpcy5mcm9tUHJvdmlkZXI9ZnVuY3Rpb24oYSxiLGQpe3JldHVybiBjLmludm9rZShhLG51bGwsZHx8e3BhcmFtczpifSl9fWZ1bmN0aW9uIHMoYSxiLGUpe2Z1bmN0aW9uIGYoYixjLGQsZSl7aWYocS5wdXNoKGIpLG9bYl0pcmV0dXJuIG9bYl07aWYoIS9eXFx3KyhbLS5dK1xcdyspKig/OlxcW1xcXSk/JC8udGVzdChiKSl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHBhcmFtZXRlciBuYW1lICdcIitiK1wiJyBpbiBwYXR0ZXJuICdcIithK1wiJ1wiKTtpZihwW2JdKXRocm93IG5ldyBFcnJvcihcIkR1cGxpY2F0ZSBwYXJhbWV0ZXIgbmFtZSAnXCIrYitcIicgaW4gcGF0dGVybiAnXCIrYStcIidcIik7cmV0dXJuIHBbYl09bmV3IFYuUGFyYW0oYixjLGQsZSkscFtiXX1mdW5jdGlvbiBnKGEsYixjLGQpe3ZhciBlPVtcIlwiLFwiXCJdLGY9YS5yZXBsYWNlKC9bXFxcXFxcW1xcXVxcXiQqKz8uKCl8e31dL2csXCJcXFxcJCZcIik7aWYoIWIpcmV0dXJuIGY7c3dpdGNoKGMpe2Nhc2UhMTplPVtcIihcIixcIilcIisoZD9cIj9cIjpcIlwiKV07YnJlYWs7Y2FzZSEwOmY9Zi5yZXBsYWNlKC9cXC8kLyxcIlwiKSxlPVtcIig/Oi8oXCIsXCIpfC8pP1wiXTticmVhaztkZWZhdWx0OmU9W1wiKFwiK2MrXCJ8XCIsXCIpP1wiXX1yZXR1cm4gZitlWzBdK2IrZVsxXX1mdW5jdGlvbiBoKGUsZil7dmFyIGcsaCxpLGosaztyZXR1cm4gZz1lWzJdfHxlWzNdLGs9Yi5wYXJhbXNbZ10saT1hLnN1YnN0cmluZyhtLGUuaW5kZXgpLGg9Zj9lWzRdOmVbNF18fChcIipcIj09ZVsxXT9cIi4qXCI6bnVsbCksaCYmKGo9Vi50eXBlKGgpfHxkKFYudHlwZShcInN0cmluZ1wiKSx7cGF0dGVybjpuZXcgUmVnRXhwKGgsYi5jYXNlSW5zZW5zaXRpdmU/XCJpXCI6Yyl9KSkse2lkOmcscmVnZXhwOmgsc2VnbWVudDppLHR5cGU6aixjZmc6a319Yj1TKHtwYXJhbXM6e319LFAoYik/Yjp7fSk7dmFyIGksaj0vKFs6Kl0pKFtcXHdcXFtcXF1dKyl8XFx7KFtcXHdcXFtcXF1dKykoPzpcXDpcXHMqKCg/Oltee31cXFxcXSt8XFxcXC58XFx7KD86W157fVxcXFxdK3xcXFxcLikqXFx9KSspKT9cXH0vZyxrPS8oWzpdPykoW1xcd1xcW1xcXS4tXSspfFxceyhbXFx3XFxbXFxdLi1dKykoPzpcXDpcXHMqKCg/Oltee31cXFxcXSt8XFxcXC58XFx7KD86W157fVxcXFxdK3xcXFxcLikqXFx9KSspKT9cXH0vZyxsPVwiXlwiLG09MCxuPXRoaXMuc2VnbWVudHM9W10sbz1lP2UucGFyYW1zOnt9LHA9dGhpcy5wYXJhbXM9ZT9lLnBhcmFtcy4kJG5ldygpOm5ldyBWLlBhcmFtU2V0LHE9W107dGhpcy5zb3VyY2U9YTtmb3IodmFyIHIscyx0OyhpPWouZXhlYyhhKSkmJihyPWgoaSwhMSksIShyLnNlZ21lbnQuaW5kZXhPZihcIj9cIik+PTApKTspcz1mKHIuaWQsci50eXBlLHIuY2ZnLFwicGF0aFwiKSxsKz1nKHIuc2VnbWVudCxzLnR5cGUucGF0dGVybi5zb3VyY2Uscy5zcXVhc2gscy5pc09wdGlvbmFsKSxuLnB1c2goci5zZWdtZW50KSxtPWoubGFzdEluZGV4O3Q9YS5zdWJzdHJpbmcobSk7dmFyIHU9dC5pbmRleE9mKFwiP1wiKTtpZih1Pj0wKXt2YXIgdj10aGlzLnNvdXJjZVNlYXJjaD10LnN1YnN0cmluZyh1KTtpZih0PXQuc3Vic3RyaW5nKDAsdSksdGhpcy5zb3VyY2VQYXRoPWEuc3Vic3RyaW5nKDAsbSt1KSx2Lmxlbmd0aD4wKWZvcihtPTA7aT1rLmV4ZWModik7KXI9aChpLCEwKSxzPWYoci5pZCxyLnR5cGUsci5jZmcsXCJzZWFyY2hcIiksbT1qLmxhc3RJbmRleH1lbHNlIHRoaXMuc291cmNlUGF0aD1hLHRoaXMuc291cmNlU2VhcmNoPVwiXCI7bCs9Zyh0KSsoYi5zdHJpY3Q9PT0hMT9cIi8/XCI6XCJcIikrXCIkXCIsbi5wdXNoKHQpLHRoaXMucmVnZXhwPW5ldyBSZWdFeHAobCxiLmNhc2VJbnNlbnNpdGl2ZT9cImlcIjpjKSx0aGlzLnByZWZpeD1uWzBdLHRoaXMuJCRwYXJhbU5hbWVzPXF9ZnVuY3Rpb24gdChhKXtTKHRoaXMsYSl9ZnVuY3Rpb24gdSgpe2Z1bmN0aW9uIGEoYSl7cmV0dXJuIG51bGwhPWE/YS50b1N0cmluZygpLnJlcGxhY2UoLyh+fFxcLykvZyxmdW5jdGlvbihhKXtyZXR1cm57XCJ+XCI6XCJ+flwiLFwiL1wiOlwifjJGXCJ9W2FdfSk6YX1mdW5jdGlvbiBlKGEpe3JldHVybiBudWxsIT1hP2EudG9TdHJpbmcoKS5yZXBsYWNlKC8ofn58fjJGKS9nLGZ1bmN0aW9uKGEpe3JldHVybntcIn5+XCI6XCJ+XCIsXCJ+MkZcIjpcIi9cIn1bYV19KTphfWZ1bmN0aW9uIGYoKXtyZXR1cm57c3RyaWN0OnAsY2FzZUluc2Vuc2l0aXZlOm19fWZ1bmN0aW9uIGkoYSl7cmV0dXJuIE4oYSl8fFEoYSkmJk4oYVthLmxlbmd0aC0xXSl9ZnVuY3Rpb24gaigpe2Zvcig7dy5sZW5ndGg7KXt2YXIgYT13LnNoaWZ0KCk7aWYoYS5wYXR0ZXJuKXRocm93IG5ldyBFcnJvcihcIllvdSBjYW5ub3Qgb3ZlcnJpZGUgYSB0eXBlJ3MgLnBhdHRlcm4gYXQgcnVudGltZS5cIik7Yi5leHRlbmQoclthLm5hbWVdLGwuaW52b2tlKGEuZGVmKSl9fWZ1bmN0aW9uIGsoYSl7Uyh0aGlzLGF8fHt9KX1WPXRoaXM7dmFyIGwsbT0hMSxwPSEwLHE9ITEscj17fSx2PSEwLHc9W10seD17c3RyaW5nOntlbmNvZGU6YSxkZWNvZGU6ZSxpczpmdW5jdGlvbihhKXtyZXR1cm4gbnVsbD09YXx8IU0oYSl8fFwic3RyaW5nXCI9PXR5cGVvZiBhfSxwYXR0ZXJuOi9bXlxcL10qL30saW50OntlbmNvZGU6YSxkZWNvZGU6ZnVuY3Rpb24oYSl7cmV0dXJuIHBhcnNlSW50KGEsMTApfSxpczpmdW5jdGlvbihhKXtyZXR1cm4gTShhKSYmdGhpcy5kZWNvZGUoYS50b1N0cmluZygpKT09PWF9LHBhdHRlcm46L1xcZCsvfSxib29sOntlbmNvZGU6ZnVuY3Rpb24oYSl7cmV0dXJuIGE/MTowfSxkZWNvZGU6ZnVuY3Rpb24oYSl7cmV0dXJuIDAhPT1wYXJzZUludChhLDEwKX0saXM6ZnVuY3Rpb24oYSl7cmV0dXJuIGE9PT0hMHx8YT09PSExfSxwYXR0ZXJuOi8wfDEvfSxkYXRlOntlbmNvZGU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuaXMoYSk/W2EuZ2V0RnVsbFllYXIoKSwoXCIwXCIrKGEuZ2V0TW9udGgoKSsxKSkuc2xpY2UoLTIpLChcIjBcIithLmdldERhdGUoKSkuc2xpY2UoLTIpXS5qb2luKFwiLVwiKTpjfSxkZWNvZGU6ZnVuY3Rpb24oYSl7aWYodGhpcy5pcyhhKSlyZXR1cm4gYTt2YXIgYj10aGlzLmNhcHR1cmUuZXhlYyhhKTtyZXR1cm4gYj9uZXcgRGF0ZShiWzFdLGJbMl0tMSxiWzNdKTpjfSxpczpmdW5jdGlvbihhKXtyZXR1cm4gYSBpbnN0YW5jZW9mIERhdGUmJiFpc05hTihhLnZhbHVlT2YoKSl9LGVxdWFsczpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmlzKGEpJiZ0aGlzLmlzKGIpJiZhLnRvSVNPU3RyaW5nKCk9PT1iLnRvSVNPU3RyaW5nKCl9LHBhdHRlcm46L1swLTldezR9LSg/OjBbMS05XXwxWzAtMl0pLSg/OjBbMS05XXxbMS0yXVswLTldfDNbMC0xXSkvLGNhcHR1cmU6LyhbMC05XXs0fSktKDBbMS05XXwxWzAtMl0pLSgwWzEtOV18WzEtMl1bMC05XXwzWzAtMV0pL30sanNvbjp7ZW5jb2RlOmIudG9Kc29uLGRlY29kZTpiLmZyb21Kc29uLGlzOmIuaXNPYmplY3QsZXF1YWxzOmIuZXF1YWxzLHBhdHRlcm46L1teXFwvXSovfSxhbnk6e2VuY29kZTpiLmlkZW50aXR5LGRlY29kZTpiLmlkZW50aXR5LGVxdWFsczpiLmVxdWFscyxwYXR0ZXJuOi8uKi99fTt1LiQkZ2V0RGVmYXVsdFZhbHVlPWZ1bmN0aW9uKGEpe2lmKCFpKGEudmFsdWUpKXJldHVybiBhLnZhbHVlO2lmKCFsKXRocm93IG5ldyBFcnJvcihcIkluamVjdGFibGUgZnVuY3Rpb25zIGNhbm5vdCBiZSBjYWxsZWQgYXQgY29uZmlndXJhdGlvbiB0aW1lXCIpO3JldHVybiBsLmludm9rZShhLnZhbHVlKX0sdGhpcy5jYXNlSW5zZW5zaXRpdmU9ZnVuY3Rpb24oYSl7cmV0dXJuIE0oYSkmJihtPWEpLG19LHRoaXMuc3RyaWN0TW9kZT1mdW5jdGlvbihhKXtyZXR1cm4gTShhKSYmKHA9YSkscH0sdGhpcy5kZWZhdWx0U3F1YXNoUG9saWN5PWZ1bmN0aW9uKGEpe2lmKCFNKGEpKXJldHVybiBxO2lmKGEhPT0hMCYmYSE9PSExJiYhTyhhKSl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHNxdWFzaCBwb2xpY3k6IFwiK2ErXCIuIFZhbGlkIHBvbGljaWVzOiBmYWxzZSwgdHJ1ZSwgYXJiaXRyYXJ5LXN0cmluZ1wiKTtyZXR1cm4gcT1hLGF9LHRoaXMuY29tcGlsZT1mdW5jdGlvbihhLGIpe3JldHVybiBuZXcgcyhhLFMoZigpLGIpKX0sdGhpcy5pc01hdGNoZXI9ZnVuY3Rpb24oYSl7aWYoIVAoYSkpcmV0dXJuITE7dmFyIGI9ITA7cmV0dXJuIFIocy5wcm90b3R5cGUsZnVuY3Rpb24oYyxkKXtOKGMpJiYoYj1iJiZNKGFbZF0pJiZOKGFbZF0pKX0pLGJ9LHRoaXMudHlwZT1mdW5jdGlvbihhLGIsYyl7aWYoIU0oYikpcmV0dXJuIHJbYV07aWYoci5oYXNPd25Qcm9wZXJ0eShhKSl0aHJvdyBuZXcgRXJyb3IoXCJBIHR5cGUgbmFtZWQgJ1wiK2ErXCInIGhhcyBhbHJlYWR5IGJlZW4gZGVmaW5lZC5cIik7cmV0dXJuIHJbYV09bmV3IHQoUyh7bmFtZTphfSxiKSksYyYmKHcucHVzaCh7bmFtZTphLGRlZjpjfSksdnx8aigpKSx0aGlzfSxSKHgsZnVuY3Rpb24oYSxiKXtyW2JdPW5ldyB0KFMoe25hbWU6Yn0sYSkpfSkscj1kKHIse30pLHRoaXMuJGdldD1bXCIkaW5qZWN0b3JcIixmdW5jdGlvbihhKXtyZXR1cm4gbD1hLHY9ITEsaigpLFIoeCxmdW5jdGlvbihhLGIpe3JbYl18fChyW2JdPW5ldyB0KGEpKX0pLHRoaXN9XSx0aGlzLlBhcmFtPWZ1bmN0aW9uKGEsZCxlLGYpe2Z1bmN0aW9uIGooYSl7dmFyIGI9UChhKT9nKGEpOltdLGM9aChiLFwidmFsdWVcIik9PT0tMSYmaChiLFwidHlwZVwiKT09PS0xJiZoKGIsXCJzcXVhc2hcIik9PT0tMSYmaChiLFwiYXJyYXlcIik9PT0tMTtyZXR1cm4gYyYmKGE9e3ZhbHVlOmF9KSxhLiQkZm49aShhLnZhbHVlKT9hLnZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIGEudmFsdWV9LGF9ZnVuY3Rpb24gayhjLGQsZSl7aWYoYy50eXBlJiZkKXRocm93IG5ldyBFcnJvcihcIlBhcmFtICdcIithK1wiJyBoYXMgdHdvIHR5cGUgY29uZmlndXJhdGlvbnMuXCIpO3JldHVybiBkP2Q6Yy50eXBlP2IuaXNTdHJpbmcoYy50eXBlKT9yW2MudHlwZV06Yy50eXBlIGluc3RhbmNlb2YgdD9jLnR5cGU6bmV3IHQoYy50eXBlKTpcImNvbmZpZ1wiPT09ZT9yLmFueTpyLnN0cmluZ31mdW5jdGlvbiBtKCl7dmFyIGI9e2FycmF5Olwic2VhcmNoXCI9PT1mJiZcImF1dG9cIn0sYz1hLm1hdGNoKC9cXFtcXF0kLyk/e2FycmF5OiEwfTp7fTtyZXR1cm4gUyhiLGMsZSkuYXJyYXl9ZnVuY3Rpb24gcChhLGIpe3ZhciBjPWEuc3F1YXNoO2lmKCFifHxjPT09ITEpcmV0dXJuITE7aWYoIU0oYyl8fG51bGw9PWMpcmV0dXJuIHE7aWYoYz09PSEwfHxPKGMpKXJldHVybiBjO3Rocm93IG5ldyBFcnJvcihcIkludmFsaWQgc3F1YXNoIHBvbGljeTogJ1wiK2MrXCInLiBWYWxpZCBwb2xpY2llczogZmFsc2UsIHRydWUsIG9yIGFyYml0cmFyeSBzdHJpbmdcIil9ZnVuY3Rpb24gcyhhLGIsZCxlKXt2YXIgZixnLGk9W3tmcm9tOlwiXCIsdG86ZHx8Yj9jOlwiXCJ9LHtmcm9tOm51bGwsdG86ZHx8Yj9jOlwiXCJ9XTtyZXR1cm4gZj1RKGEucmVwbGFjZSk/YS5yZXBsYWNlOltdLE8oZSkmJmYucHVzaCh7ZnJvbTplLHRvOmN9KSxnPW8oZixmdW5jdGlvbihhKXtyZXR1cm4gYS5mcm9tfSksbihpLGZ1bmN0aW9uKGEpe3JldHVybiBoKGcsYS5mcm9tKT09PS0xfSkuY29uY2F0KGYpfWZ1bmN0aW9uIHUoKXtpZighbCl0aHJvdyBuZXcgRXJyb3IoXCJJbmplY3RhYmxlIGZ1bmN0aW9ucyBjYW5ub3QgYmUgY2FsbGVkIGF0IGNvbmZpZ3VyYXRpb24gdGltZVwiKTt2YXIgYT1sLmludm9rZShlLiQkZm4pO2lmKG51bGwhPT1hJiZhIT09YyYmIXgudHlwZS5pcyhhKSl0aHJvdyBuZXcgRXJyb3IoXCJEZWZhdWx0IHZhbHVlIChcIithK1wiKSBmb3IgcGFyYW1ldGVyICdcIit4LmlkK1wiJyBpcyBub3QgYW4gaW5zdGFuY2Ugb2YgVHlwZSAoXCIreC50eXBlLm5hbWUrXCIpXCIpO3JldHVybiBhfWZ1bmN0aW9uIHYoYSl7ZnVuY3Rpb24gYihhKXtyZXR1cm4gZnVuY3Rpb24oYil7cmV0dXJuIGIuZnJvbT09PWF9fWZ1bmN0aW9uIGMoYSl7dmFyIGM9byhuKHgucmVwbGFjZSxiKGEpKSxmdW5jdGlvbihhKXtyZXR1cm4gYS50b30pO3JldHVybiBjLmxlbmd0aD9jWzBdOmF9cmV0dXJuIGE9YyhhKSxNKGEpP3gudHlwZS4kbm9ybWFsaXplKGEpOnUoKX1mdW5jdGlvbiB3KCl7cmV0dXJuXCJ7UGFyYW06XCIrYStcIiBcIitkK1wiIHNxdWFzaDogJ1wiK0ErXCInIG9wdGlvbmFsOiBcIit6K1wifVwifXZhciB4PXRoaXM7ZT1qKGUpLGQ9ayhlLGQsZik7dmFyIHk9bSgpO2Q9eT9kLiRhc0FycmF5KHksXCJzZWFyY2hcIj09PWYpOmQsXCJzdHJpbmdcIiE9PWQubmFtZXx8eXx8XCJwYXRoXCIhPT1mfHxlLnZhbHVlIT09Y3x8KGUudmFsdWU9XCJcIik7dmFyIHo9ZS52YWx1ZSE9PWMsQT1wKGUseiksQj1zKGUseSx6LEEpO1ModGhpcyx7aWQ6YSx0eXBlOmQsbG9jYXRpb246ZixhcnJheTp5LHNxdWFzaDpBLHJlcGxhY2U6Qixpc09wdGlvbmFsOnosdmFsdWU6dixkeW5hbWljOmMsY29uZmlnOmUsdG9TdHJpbmc6d30pfSxrLnByb3RvdHlwZT17JCRuZXc6ZnVuY3Rpb24oKXtyZXR1cm4gZCh0aGlzLFMobmV3IGsseyQkcGFyZW50OnRoaXN9KSl9LCQka2V5czpmdW5jdGlvbigpe2Zvcih2YXIgYT1bXSxiPVtdLGM9dGhpcyxkPWcoay5wcm90b3R5cGUpO2M7KWIucHVzaChjKSxjPWMuJCRwYXJlbnQ7cmV0dXJuIGIucmV2ZXJzZSgpLFIoYixmdW5jdGlvbihiKXtSKGcoYiksZnVuY3Rpb24oYil7aChhLGIpPT09LTEmJmgoZCxiKT09PS0xJiZhLnB1c2goYil9KX0pLGF9LCQkdmFsdWVzOmZ1bmN0aW9uKGEpe3ZhciBiPXt9LGM9dGhpcztyZXR1cm4gUihjLiQka2V5cygpLGZ1bmN0aW9uKGQpe2JbZF09Y1tkXS52YWx1ZShhJiZhW2RdKX0pLGJ9LCQkZXF1YWxzOmZ1bmN0aW9uKGEsYil7dmFyIGM9ITAsZD10aGlzO3JldHVybiBSKGQuJCRrZXlzKCksZnVuY3Rpb24oZSl7dmFyIGY9YSYmYVtlXSxnPWImJmJbZV07ZFtlXS50eXBlLmVxdWFscyhmLGcpfHwoYz0hMSl9KSxjfSwkJHZhbGlkYXRlczpmdW5jdGlvbihhKXt2YXIgZCxlLGYsZyxoLGk9dGhpcy4kJGtleXMoKTtmb3IoZD0wO2Q8aS5sZW5ndGgmJihlPXRoaXNbaVtkXV0sZj1hW2lbZF1dLGYhPT1jJiZudWxsIT09Znx8IWUuaXNPcHRpb25hbCk7ZCsrKXtpZihnPWUudHlwZS4kbm9ybWFsaXplKGYpLCFlLnR5cGUuaXMoZykpcmV0dXJuITE7aWYoaD1lLnR5cGUuZW5jb2RlKGcpLGIuaXNTdHJpbmcoaCkmJiFlLnR5cGUucGF0dGVybi5leGVjKGgpKXJldHVybiExfXJldHVybiEwfSwkJHBhcmVudDpjfSx0aGlzLlBhcmFtU2V0PWt9ZnVuY3Rpb24gdihhLGQpe2Z1bmN0aW9uIGUoYSl7dmFyIGI9L15cXF4oKD86XFxcXFteYS16QS1aMC05XXxbXlxcXFxcXFtcXF1cXF4kKis/LigpfHt9XSspKikvLmV4ZWMoYS5zb3VyY2UpO3JldHVybiBudWxsIT1iP2JbMV0ucmVwbGFjZSgvXFxcXCguKS9nLFwiJDFcIik6XCJcIn1mdW5jdGlvbiBmKGEsYil7cmV0dXJuIGEucmVwbGFjZSgvXFwkKFxcJHxcXGR7MSwyfSkvLGZ1bmN0aW9uKGEsYyl7cmV0dXJuIGJbXCIkXCI9PT1jPzA6TnVtYmVyKGMpXX0pfWZ1bmN0aW9uIGcoYSxiLGMpe2lmKCFjKXJldHVybiExO3ZhciBkPWEuaW52b2tlKGIsYix7JG1hdGNoOmN9KTtyZXR1cm4hTShkKXx8ZH1mdW5jdGlvbiBoKGQsZSxmLGcsaCl7ZnVuY3Rpb24gbShhLGIsYyl7cmV0dXJuXCIvXCI9PT1xP2E6Yj9xLnNsaWNlKDAsLTEpK2E6Yz9xLnNsaWNlKDEpK2E6YX1mdW5jdGlvbiBuKGEpe2Z1bmN0aW9uIGIoYSl7dmFyIGI9YShmLGQpO3JldHVybiEhYiYmKE8oYikmJmQucmVwbGFjZSgpLnVybChiKSwhMCl9aWYoIWF8fCFhLmRlZmF1bHRQcmV2ZW50ZWQpe3AmJmQudXJsKCk9PT1wO3A9Yzt2YXIgZSxnPWoubGVuZ3RoO2ZvcihlPTA7ZTxnO2UrKylpZihiKGpbZV0pKXJldHVybjtrJiZiKGspfX1mdW5jdGlvbiBvKCl7cmV0dXJuIGk9aXx8ZS4kb24oXCIkbG9jYXRpb25DaGFuZ2VTdWNjZXNzXCIsbil9dmFyIHAscT1nLmJhc2VIcmVmKCkscj1kLnVybCgpO3JldHVybiBsfHxvKCkse3N5bmM6ZnVuY3Rpb24oKXtuKCl9LGxpc3RlbjpmdW5jdGlvbigpe3JldHVybiBvKCl9LHVwZGF0ZTpmdW5jdGlvbihhKXtyZXR1cm4gYT92b2lkKHI9ZC51cmwoKSk6dm9pZChkLnVybCgpIT09ciYmKGQudXJsKHIpLGQucmVwbGFjZSgpKSl9LHB1c2g6ZnVuY3Rpb24oYSxiLGUpe3ZhciBmPWEuZm9ybWF0KGJ8fHt9KTtudWxsIT09ZiYmYiYmYltcIiNcIl0mJihmKz1cIiNcIitiW1wiI1wiXSksZC51cmwoZikscD1lJiZlLiQkYXZvaWRSZXN5bmM/ZC51cmwoKTpjLGUmJmUucmVwbGFjZSYmZC5yZXBsYWNlKCl9LGhyZWY6ZnVuY3Rpb24oYyxlLGYpe2lmKCFjLnZhbGlkYXRlcyhlKSlyZXR1cm4gbnVsbDt2YXIgZz1hLmh0bWw1TW9kZSgpO2IuaXNPYmplY3QoZykmJihnPWcuZW5hYmxlZCksZz1nJiZoLmhpc3Rvcnk7dmFyIGk9Yy5mb3JtYXQoZSk7aWYoZj1mfHx7fSxnfHxudWxsPT09aXx8KGk9XCIjXCIrYS5oYXNoUHJlZml4KCkraSksbnVsbCE9PWkmJmUmJmVbXCIjXCJdJiYoaSs9XCIjXCIrZVtcIiNcIl0pLGk9bShpLGcsZi5hYnNvbHV0ZSksIWYuYWJzb2x1dGV8fCFpKXJldHVybiBpO3ZhciBqPSFnJiZpP1wiL1wiOlwiXCIsaz1kLnBvcnQoKTtyZXR1cm4gaz04MD09PWt8fDQ0Mz09PWs/XCJcIjpcIjpcIitrLFtkLnByb3RvY29sKCksXCI6Ly9cIixkLmhvc3QoKSxrLGosaV0uam9pbihcIlwiKX19fXZhciBpLGo9W10saz1udWxsLGw9ITE7dGhpcy5ydWxlPWZ1bmN0aW9uKGEpe2lmKCFOKGEpKXRocm93IG5ldyBFcnJvcihcIidydWxlJyBtdXN0IGJlIGEgZnVuY3Rpb25cIik7cmV0dXJuIGoucHVzaChhKSx0aGlzfSx0aGlzLm90aGVyd2lzZT1mdW5jdGlvbihhKXtpZihPKGEpKXt2YXIgYj1hO2E9ZnVuY3Rpb24oKXtyZXR1cm4gYn19ZWxzZSBpZighTihhKSl0aHJvdyBuZXcgRXJyb3IoXCIncnVsZScgbXVzdCBiZSBhIGZ1bmN0aW9uXCIpO3JldHVybiBrPWEsdGhpc30sdGhpcy53aGVuPWZ1bmN0aW9uKGEsYil7dmFyIGMsaD1PKGIpO2lmKE8oYSkmJihhPWQuY29tcGlsZShhKSksIWgmJiFOKGIpJiYhUShiKSl0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkICdoYW5kbGVyJyBpbiB3aGVuKClcIik7dmFyIGk9e21hdGNoZXI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gaCYmKGM9ZC5jb21waWxlKGIpLGI9W1wiJG1hdGNoXCIsZnVuY3Rpb24oYSl7cmV0dXJuIGMuZm9ybWF0KGEpfV0pLFMoZnVuY3Rpb24oYyxkKXtyZXR1cm4gZyhjLGIsYS5leGVjKGQucGF0aCgpLGQuc2VhcmNoKCkpKX0se3ByZWZpeDpPKGEucHJlZml4KT9hLnByZWZpeDpcIlwifSl9LHJlZ2V4OmZ1bmN0aW9uKGEsYil7aWYoYS5nbG9iYWx8fGEuc3RpY2t5KXRocm93IG5ldyBFcnJvcihcIndoZW4oKSBSZWdFeHAgbXVzdCBub3QgYmUgZ2xvYmFsIG9yIHN0aWNreVwiKTtyZXR1cm4gaCYmKGM9YixiPVtcIiRtYXRjaFwiLGZ1bmN0aW9uKGEpe3JldHVybiBmKGMsYSl9XSksUyhmdW5jdGlvbihjLGQpe3JldHVybiBnKGMsYixhLmV4ZWMoZC5wYXRoKCkpKX0se3ByZWZpeDplKGEpfSl9fSxqPXttYXRjaGVyOmQuaXNNYXRjaGVyKGEpLHJlZ2V4OmEgaW5zdGFuY2VvZiBSZWdFeHB9O2Zvcih2YXIgayBpbiBqKWlmKGpba10pcmV0dXJuIHRoaXMucnVsZShpW2tdKGEsYikpO3Rocm93IG5ldyBFcnJvcihcImludmFsaWQgJ3doYXQnIGluIHdoZW4oKVwiKX0sdGhpcy5kZWZlckludGVyY2VwdD1mdW5jdGlvbihhKXthPT09YyYmKGE9ITApLGw9YX0sdGhpcy4kZ2V0PWgsaC4kaW5qZWN0PVtcIiRsb2NhdGlvblwiLFwiJHJvb3RTY29wZVwiLFwiJGluamVjdG9yXCIsXCIkYnJvd3NlclwiLFwiJHNuaWZmZXJcIl19ZnVuY3Rpb24gdyhhLGUpe2Z1bmN0aW9uIGYoYSl7cmV0dXJuIDA9PT1hLmluZGV4T2YoXCIuXCIpfHwwPT09YS5pbmRleE9mKFwiXlwiKX1mdW5jdGlvbiBtKGEsYil7aWYoIWEpcmV0dXJuIGM7dmFyIGQ9TyhhKSxlPWQ/YTphLm5hbWUsZz1mKGUpO2lmKGcpe2lmKCFiKXRocm93IG5ldyBFcnJvcihcIk5vIHJlZmVyZW5jZSBwb2ludCBnaXZlbiBmb3IgcGF0aCAnXCIrZStcIidcIik7Yj1tKGIpO2Zvcih2YXIgaD1lLnNwbGl0KFwiLlwiKSxpPTAsaj1oLmxlbmd0aCxrPWI7aTxqO2krKylpZihcIlwiIT09aFtpXXx8MCE9PWkpe2lmKFwiXlwiIT09aFtpXSlicmVhaztpZighay5wYXJlbnQpdGhyb3cgbmV3IEVycm9yKFwiUGF0aCAnXCIrZStcIicgbm90IHZhbGlkIGZvciBzdGF0ZSAnXCIrYi5uYW1lK1wiJ1wiKTtrPWsucGFyZW50fWVsc2Ugaz1iO2g9aC5zbGljZShpKS5qb2luKFwiLlwiKSxlPWsubmFtZSsoay5uYW1lJiZoP1wiLlwiOlwiXCIpK2h9dmFyIGw9QVtlXTtyZXR1cm4hbHx8IWQmJihkfHxsIT09YSYmbC5zZWxmIT09YSk/YzpsfWZ1bmN0aW9uIG4oYSxiKXtCW2FdfHwoQlthXT1bXSksQlthXS5wdXNoKGIpfWZ1bmN0aW9uIHEoYSl7Zm9yKHZhciBiPUJbYV18fFtdO2IubGVuZ3RoOylyKGIuc2hpZnQoKSl9ZnVuY3Rpb24gcihiKXtiPWQoYix7c2VsZjpiLHJlc29sdmU6Yi5yZXNvbHZlfHx7fSx0b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiB0aGlzLm5hbWV9fSk7dmFyIGM9Yi5uYW1lO2lmKCFPKGMpfHxjLmluZGV4T2YoXCJAXCIpPj0wKXRocm93IG5ldyBFcnJvcihcIlN0YXRlIG11c3QgaGF2ZSBhIHZhbGlkIG5hbWVcIik7aWYoQS5oYXNPd25Qcm9wZXJ0eShjKSl0aHJvdyBuZXcgRXJyb3IoXCJTdGF0ZSAnXCIrYytcIicgaXMgYWxyZWFkeSBkZWZpbmVkXCIpO3ZhciBlPWMuaW5kZXhPZihcIi5cIikhPT0tMT9jLnN1YnN0cmluZygwLGMubGFzdEluZGV4T2YoXCIuXCIpKTpPKGIucGFyZW50KT9iLnBhcmVudDpQKGIucGFyZW50KSYmTyhiLnBhcmVudC5uYW1lKT9iLnBhcmVudC5uYW1lOlwiXCI7aWYoZSYmIUFbZV0pcmV0dXJuIG4oZSxiLnNlbGYpO2Zvcih2YXIgZiBpbiBEKU4oRFtmXSkmJihiW2ZdPURbZl0oYixELiRkZWxlZ2F0ZXNbZl0pKTtyZXR1cm4gQVtjXT1iLCFiW0NdJiZiLnVybCYmYS53aGVuKGIudXJsLFtcIiRtYXRjaFwiLFwiJHN0YXRlUGFyYW1zXCIsZnVuY3Rpb24oYSxjKXt6LiRjdXJyZW50Lm5hdmlnYWJsZT09YiYmaihhLGMpfHx6LnRyYW5zaXRpb25UbyhiLGEse2luaGVyaXQ6ITAsbG9jYXRpb246ITF9KX1dKSxxKGMpLGJ9ZnVuY3Rpb24gcyhhKXtyZXR1cm4gYS5pbmRleE9mKFwiKlwiKT4tMX1mdW5jdGlvbiB0KGEpe2Zvcih2YXIgYj1hLnNwbGl0KFwiLlwiKSxjPXouJGN1cnJlbnQubmFtZS5zcGxpdChcIi5cIiksZD0wLGU9Yi5sZW5ndGg7ZDxlO2QrKylcIipcIj09PWJbZF0mJihjW2RdPVwiKlwiKTtyZXR1cm5cIioqXCI9PT1iWzBdJiYoYz1jLnNsaWNlKGgoYyxiWzFdKSksYy51bnNoaWZ0KFwiKipcIikpLFwiKipcIj09PWJbYi5sZW5ndGgtMV0mJihjLnNwbGljZShoKGMsYltiLmxlbmd0aC0yXSkrMSxOdW1iZXIuTUFYX1ZBTFVFKSxjLnB1c2goXCIqKlwiKSksYi5sZW5ndGg9PWMubGVuZ3RoJiZjLmpvaW4oXCJcIik9PT1iLmpvaW4oXCJcIil9ZnVuY3Rpb24gdShhLGIpe3JldHVybiBPKGEpJiYhTShiKT9EW2FdOk4oYikmJk8oYSk/KERbYV0mJiFELiRkZWxlZ2F0ZXNbYV0mJihELiRkZWxlZ2F0ZXNbYV09RFthXSksRFthXT1iLHRoaXMpOnRoaXN9ZnVuY3Rpb24gdihhLGIpe3JldHVybiBQKGEpP2I9YTpiLm5hbWU9YSxyKGIpLHRoaXN9ZnVuY3Rpb24gdyhhLGUsZixoLGwsbixxLHIsdSl7ZnVuY3Rpb24gdihiLGMsZCxmKXt2YXIgZz1hLiRicm9hZGNhc3QoXCIkc3RhdGVOb3RGb3VuZFwiLGIsYyxkKTtpZihnLmRlZmF1bHRQcmV2ZW50ZWQpcmV0dXJuIHEudXBkYXRlKCksRjtpZighZy5yZXRyeSlyZXR1cm4gbnVsbDtpZihmLiRyZXRyeSlyZXR1cm4gcS51cGRhdGUoKSxHO3ZhciBoPXoudHJhbnNpdGlvbj1lLndoZW4oZy5yZXRyeSk7cmV0dXJuIGgudGhlbihmdW5jdGlvbigpe3JldHVybiBoIT09ei50cmFuc2l0aW9uPyhhLiRicm9hZGNhc3QoXCIkc3RhdGVDaGFuZ2VDYW5jZWxcIixiLnRvLGIudG9QYXJhbXMsYyxkKSxEKTooYi5vcHRpb25zLiRyZXRyeT0hMCx6LnRyYW5zaXRpb25UbyhiLnRvLGIudG9QYXJhbXMsYi5vcHRpb25zKSl9LGZ1bmN0aW9uKCl7cmV0dXJuIEZ9KSxxLnVwZGF0ZSgpLGh9ZnVuY3Rpb24gdyhhLGMsZCxnLGksail7ZnVuY3Rpb24gbSgpe3ZhciBjPVtdO3JldHVybiBSKGEudmlld3MsZnVuY3Rpb24oZCxlKXt2YXIgZz1kLnJlc29sdmUmJmQucmVzb2x2ZSE9PWEucmVzb2x2ZT9kLnJlc29sdmU6e307Zy4kdGVtcGxhdGU9W2Z1bmN0aW9uKCl7cmV0dXJuIGYubG9hZChlLHt2aWV3OmQsbG9jYWxzOmkuZ2xvYmFscyxwYXJhbXM6bixub3RpZnk6ai5ub3RpZnl9KXx8XCJcIn1dLGMucHVzaChsLnJlc29sdmUoZyxpLmdsb2JhbHMsaS5yZXNvbHZlLGEpLnRoZW4oZnVuY3Rpb24oYyl7aWYoTihkLmNvbnRyb2xsZXJQcm92aWRlcil8fFEoZC5jb250cm9sbGVyUHJvdmlkZXIpKXt2YXIgZj1iLmV4dGVuZCh7fSxnLGkuZ2xvYmFscyk7Yy4kJGNvbnRyb2xsZXI9aC5pbnZva2UoZC5jb250cm9sbGVyUHJvdmlkZXIsbnVsbCxmKX1lbHNlIGMuJCRjb250cm9sbGVyPWQuY29udHJvbGxlcjtjLiQkc3RhdGU9YSxjLiQkY29udHJvbGxlckFzPWQuY29udHJvbGxlckFzLGMuJCRyZXNvbHZlQXM9ZC5yZXNvbHZlQXMsaVtlXT1jfSkpfSksZS5hbGwoYykudGhlbihmdW5jdGlvbigpe3JldHVybiBpLmdsb2JhbHN9KX12YXIgbj1kP2M6ayhhLnBhcmFtcy4kJGtleXMoKSxjKSxvPXskc3RhdGVQYXJhbXM6bn07aS5yZXNvbHZlPWwucmVzb2x2ZShhLnJlc29sdmUsbyxpLnJlc29sdmUsYSk7dmFyIHA9W2kucmVzb2x2ZS50aGVuKGZ1bmN0aW9uKGEpe2kuZ2xvYmFscz1hfSldO3JldHVybiBnJiZwLnB1c2goZyksZS5hbGwocCkudGhlbihtKS50aGVuKGZ1bmN0aW9uKGEpe3JldHVybiBpfSl9dmFyIEI9bmV3IEVycm9yKFwidHJhbnNpdGlvbiBzdXBlcnNlZGVkXCIpLEQ9cChlLnJlamVjdChCKSksRT1wKGUucmVqZWN0KG5ldyBFcnJvcihcInRyYW5zaXRpb24gcHJldmVudGVkXCIpKSksRj1wKGUucmVqZWN0KG5ldyBFcnJvcihcInRyYW5zaXRpb24gYWJvcnRlZFwiKSkpLEc9cChlLnJlamVjdChuZXcgRXJyb3IoXCJ0cmFuc2l0aW9uIGZhaWxlZFwiKSkpO3JldHVybiB5LmxvY2Fscz17cmVzb2x2ZTpudWxsLGdsb2JhbHM6eyRzdGF0ZVBhcmFtczp7fX19LHo9e3BhcmFtczp7fSxjdXJyZW50Onkuc2VsZiwkY3VycmVudDp5LHRyYW5zaXRpb246bnVsbH0sei5yZWxvYWQ9ZnVuY3Rpb24oYSl7cmV0dXJuIHoudHJhbnNpdGlvblRvKHouY3VycmVudCxuLHtyZWxvYWQ6YXx8ITAsaW5oZXJpdDohMSxub3RpZnk6ITB9KX0sei5nbz1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIHoudHJhbnNpdGlvblRvKGEsYixTKHtpbmhlcml0OiEwLHJlbGF0aXZlOnouJGN1cnJlbnR9LGMpKX0sei50cmFuc2l0aW9uVG89ZnVuY3Rpb24oYixjLGYpe2M9Y3x8e30sZj1TKHtsb2NhdGlvbjohMCxpbmhlcml0OiExLHJlbGF0aXZlOm51bGwsbm90aWZ5OiEwLHJlbG9hZDohMSwkcmV0cnk6ITF9LGZ8fHt9KTt2YXIgZyxqPXouJGN1cnJlbnQsbD16LnBhcmFtcyxvPWoucGF0aCxwPW0oYixmLnJlbGF0aXZlKSxyPWNbXCIjXCJdO2lmKCFNKHApKXt2YXIgcz17dG86Yix0b1BhcmFtczpjLG9wdGlvbnM6Zn0sdD12KHMsai5zZWxmLGwsZik7aWYodClyZXR1cm4gdDtpZihiPXMudG8sYz1zLnRvUGFyYW1zLGY9cy5vcHRpb25zLHA9bShiLGYucmVsYXRpdmUpLCFNKHApKXtpZighZi5yZWxhdGl2ZSl0aHJvdyBuZXcgRXJyb3IoXCJObyBzdWNoIHN0YXRlICdcIitiK1wiJ1wiKTt0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZCBub3QgcmVzb2x2ZSAnXCIrYitcIicgZnJvbSBzdGF0ZSAnXCIrZi5yZWxhdGl2ZStcIidcIil9fWlmKHBbQ10pdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IHRyYW5zaXRpb24gdG8gYWJzdHJhY3Qgc3RhdGUgJ1wiK2IrXCInXCIpO2lmKGYuaW5oZXJpdCYmKGM9aShuLGN8fHt9LHouJGN1cnJlbnQscCkpLCFwLnBhcmFtcy4kJHZhbGlkYXRlcyhjKSlyZXR1cm4gRztjPXAucGFyYW1zLiQkdmFsdWVzKGMpLGI9cDt2YXIgdT1iLnBhdGgsQT0wLEY9dVtBXSxIPXkubG9jYWxzLEk9W107aWYoZi5yZWxvYWQpe2lmKE8oZi5yZWxvYWQpfHxQKGYucmVsb2FkKSl7aWYoUChmLnJlbG9hZCkmJiFmLnJlbG9hZC5uYW1lKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgcmVsb2FkIHN0YXRlIG9iamVjdFwiKTt2YXIgSj1mLnJlbG9hZD09PSEwP29bMF06bShmLnJlbG9hZCk7aWYoZi5yZWxvYWQmJiFKKXRocm93IG5ldyBFcnJvcihcIk5vIHN1Y2ggcmVsb2FkIHN0YXRlICdcIisoTyhmLnJlbG9hZCk/Zi5yZWxvYWQ6Zi5yZWxvYWQubmFtZSkrXCInXCIpO2Zvcig7RiYmRj09PW9bQV0mJkYhPT1KOylIPUlbQV09Ri5sb2NhbHMsQSsrLEY9dVtBXX19ZWxzZSBmb3IoO0YmJkY9PT1vW0FdJiZGLm93blBhcmFtcy4kJGVxdWFscyhjLGwpOylIPUlbQV09Ri5sb2NhbHMsQSsrLEY9dVtBXTtpZih4KGIsYyxqLGwsSCxmKSlyZXR1cm4gciYmKGNbXCIjXCJdPXIpLHoucGFyYW1zPWMsVCh6LnBhcmFtcyxuKSxUKGsoYi5wYXJhbXMuJCRrZXlzKCksbiksYi5sb2NhbHMuZ2xvYmFscy4kc3RhdGVQYXJhbXMpLGYubG9jYXRpb24mJmIubmF2aWdhYmxlJiZiLm5hdmlnYWJsZS51cmwmJihxLnB1c2goYi5uYXZpZ2FibGUudXJsLGMseyQkYXZvaWRSZXN5bmM6ITAscmVwbGFjZTpcInJlcGxhY2VcIj09PWYubG9jYXRpb259KSxxLnVwZGF0ZSghMCkpLHoudHJhbnNpdGlvbj1udWxsLGUud2hlbih6LmN1cnJlbnQpO2lmKGM9ayhiLnBhcmFtcy4kJGtleXMoKSxjfHx7fSksciYmKGNbXCIjXCJdPXIpLGYubm90aWZ5JiZhLiRicm9hZGNhc3QoXCIkc3RhdGVDaGFuZ2VTdGFydFwiLGIuc2VsZixjLGouc2VsZixsLGYpLmRlZmF1bHRQcmV2ZW50ZWQpcmV0dXJuIGEuJGJyb2FkY2FzdChcIiRzdGF0ZUNoYW5nZUNhbmNlbFwiLGIuc2VsZixjLGouc2VsZixsKSxudWxsPT16LnRyYW5zaXRpb24mJnEudXBkYXRlKCksRTtmb3IodmFyIEs9ZS53aGVuKEgpLEw9QTtMPHUubGVuZ3RoO0wrKyxGPXVbTF0pSD1JW0xdPWQoSCksSz13KEYsYyxGPT09YixLLEgsZik7dmFyIE49ei50cmFuc2l0aW9uPUsudGhlbihmdW5jdGlvbigpe3ZhciBkLGUsZztpZih6LnRyYW5zaXRpb24hPT1OKXJldHVybiBhLiRicm9hZGNhc3QoXCIkc3RhdGVDaGFuZ2VDYW5jZWxcIixiLnNlbGYsYyxqLnNlbGYsbCksRDtmb3IoZD1vLmxlbmd0aC0xO2Q+PUE7ZC0tKWc9b1tkXSxnLnNlbGYub25FeGl0JiZoLmludm9rZShnLnNlbGYub25FeGl0LGcuc2VsZixnLmxvY2Fscy5nbG9iYWxzKSxnLmxvY2Fscz1udWxsO2ZvcihkPUE7ZDx1Lmxlbmd0aDtkKyspZT11W2RdLGUubG9jYWxzPUlbZF0sZS5zZWxmLm9uRW50ZXImJmguaW52b2tlKGUuc2VsZi5vbkVudGVyLGUuc2VsZixlLmxvY2Fscy5nbG9iYWxzKTtyZXR1cm4gei50cmFuc2l0aW9uIT09Tj8oYS4kYnJvYWRjYXN0KFwiJHN0YXRlQ2hhbmdlQ2FuY2VsXCIsYi5zZWxmLGMsai5zZWxmLGwpLEQpOih6LiRjdXJyZW50PWIsei5jdXJyZW50PWIuc2VsZix6LnBhcmFtcz1jLFQoei5wYXJhbXMsbiksei50cmFuc2l0aW9uPW51bGwsZi5sb2NhdGlvbiYmYi5uYXZpZ2FibGUmJnEucHVzaChiLm5hdmlnYWJsZS51cmwsYi5uYXZpZ2FibGUubG9jYWxzLmdsb2JhbHMuJHN0YXRlUGFyYW1zLHskJGF2b2lkUmVzeW5jOiEwLHJlcGxhY2U6XCJyZXBsYWNlXCI9PT1mLmxvY2F0aW9ufSksZi5ub3RpZnkmJmEuJGJyb2FkY2FzdChcIiRzdGF0ZUNoYW5nZVN1Y2Nlc3NcIixiLnNlbGYsYyxqLnNlbGYsbCkscS51cGRhdGUoITApLHouY3VycmVudCl9KS50aGVuKG51bGwsZnVuY3Rpb24oZCl7cmV0dXJuIGQ9PT1CP0Q6ei50cmFuc2l0aW9uIT09Tj8oYS4kYnJvYWRjYXN0KFwiJHN0YXRlQ2hhbmdlQ2FuY2VsXCIsYi5zZWxmLGMsai5zZWxmLGwpLEQpOih6LnRyYW5zaXRpb249bnVsbCxnPWEuJGJyb2FkY2FzdChcIiRzdGF0ZUNoYW5nZUVycm9yXCIsYi5zZWxmLGMsai5zZWxmLGwsZCksZy5kZWZhdWx0UHJldmVudGVkfHxxLnVwZGF0ZSgpLGUucmVqZWN0KGQpKX0pO3JldHVybiBOfSx6LmlzPWZ1bmN0aW9uKGEsYixkKXtkPVMoe3JlbGF0aXZlOnouJGN1cnJlbnR9LGR8fHt9KTt2YXIgZT1tKGEsZC5yZWxhdGl2ZSk7cmV0dXJuIE0oZSk/ei4kY3VycmVudD09PWUmJighYnx8aihlLnBhcmFtcy4kJHZhbHVlcyhiKSxuKSk6Y30sei5pbmNsdWRlcz1mdW5jdGlvbihhLGIsZCl7aWYoZD1TKHtyZWxhdGl2ZTp6LiRjdXJyZW50fSxkfHx7fSksTyhhKSYmcyhhKSl7aWYoIXQoYSkpcmV0dXJuITE7YT16LiRjdXJyZW50Lm5hbWV9dmFyIGU9bShhLGQucmVsYXRpdmUpO2lmKCFNKGUpKXJldHVybiBjO2lmKCFNKHouJGN1cnJlbnQuaW5jbHVkZXNbZS5uYW1lXSkpcmV0dXJuITE7aWYoIWIpcmV0dXJuITA7Zm9yKHZhciBmPWcoYiksaD0wO2g8Zi5sZW5ndGg7aCsrKXt2YXIgaT1mW2hdLGo9ZS5wYXJhbXNbaV07aWYoaiYmIWoudHlwZS5lcXVhbHMobltpXSxiW2ldKSlyZXR1cm4hMX1yZXR1cm4hMH0sei5ocmVmPWZ1bmN0aW9uKGEsYixkKXtkPVMoe2xvc3N5OiEwLGluaGVyaXQ6ITAsYWJzb2x1dGU6ITEscmVsYXRpdmU6ei4kY3VycmVudH0sZHx8e30pO3ZhciBlPW0oYSxkLnJlbGF0aXZlKTtpZighTShlKSlyZXR1cm4gbnVsbDtkLmluaGVyaXQmJihiPWkobixifHx7fSx6LiRjdXJyZW50LGUpKTt2YXIgZj1lJiZkLmxvc3N5P2UubmF2aWdhYmxlOmU7cmV0dXJuIGYmJmYudXJsIT09YyYmbnVsbCE9PWYudXJsP3EuaHJlZihmLnVybCxrKGUucGFyYW1zLiQka2V5cygpLmNvbmNhdChcIiNcIiksYnx8e30pLHthYnNvbHV0ZTpkLmFic29sdXRlfSk6bnVsbH0sei5nZXQ9ZnVuY3Rpb24oYSxiKXtpZigwPT09YXJndW1lbnRzLmxlbmd0aClyZXR1cm4gbyhnKEEpLGZ1bmN0aW9uKGEpe3JldHVybiBBW2FdLnNlbGZ9KTt2YXIgYz1tKGEsYnx8ei4kY3VycmVudCk7cmV0dXJuIGMmJmMuc2VsZj9jLnNlbGY6bnVsbH0sen1mdW5jdGlvbiB4KGEsYixjLGQsZSxmKXtmdW5jdGlvbiBnKGEsYixjKXtmdW5jdGlvbiBkKGIpe3JldHVyblwic2VhcmNoXCIhPWEucGFyYW1zW2JdLmxvY2F0aW9ufXZhciBlPWEucGFyYW1zLiQka2V5cygpLmZpbHRlcihkKSxmPWwuYXBwbHkoe30sW2EucGFyYW1zXS5jb25jYXQoZSkpLGc9bmV3IFYuUGFyYW1TZXQoZik7cmV0dXJuIGcuJCRlcXVhbHMoYixjKX1pZighZi5yZWxvYWQmJmE9PT1jJiYoZT09PWMubG9jYWxzfHxhLnNlbGYucmVsb2FkT25TZWFyY2g9PT0hMSYmZyhjLGQsYikpKXJldHVybiEwfXZhciB5LHosQT17fSxCPXt9LEM9XCJhYnN0cmFjdFwiLEQ9e3BhcmVudDpmdW5jdGlvbihhKXtpZihNKGEucGFyZW50KSYmYS5wYXJlbnQpcmV0dXJuIG0oYS5wYXJlbnQpO3ZhciBiPS9eKC4rKVxcLlteLl0rJC8uZXhlYyhhLm5hbWUpO3JldHVybiBiP20oYlsxXSk6eX0sZGF0YTpmdW5jdGlvbihhKXtyZXR1cm4gYS5wYXJlbnQmJmEucGFyZW50LmRhdGEmJihhLmRhdGE9YS5zZWxmLmRhdGE9ZChhLnBhcmVudC5kYXRhLGEuZGF0YSkpLGEuZGF0YX0sdXJsOmZ1bmN0aW9uKGEpe3ZhciBiPWEudXJsLGM9e3BhcmFtczphLnBhcmFtc3x8e319O2lmKE8oYikpcmV0dXJuXCJeXCI9PWIuY2hhckF0KDApP2UuY29tcGlsZShiLnN1YnN0cmluZygxKSxjKTooYS5wYXJlbnQubmF2aWdhYmxlfHx5KS51cmwuY29uY2F0KGIsYyk7aWYoIWJ8fGUuaXNNYXRjaGVyKGIpKXJldHVybiBiO3Rocm93IG5ldyBFcnJvcihcIkludmFsaWQgdXJsICdcIitiK1wiJyBpbiBzdGF0ZSAnXCIrYStcIidcIil9LG5hdmlnYWJsZTpmdW5jdGlvbihhKXtyZXR1cm4gYS51cmw/YTphLnBhcmVudD9hLnBhcmVudC5uYXZpZ2FibGU6bnVsbH0sb3duUGFyYW1zOmZ1bmN0aW9uKGEpe3ZhciBiPWEudXJsJiZhLnVybC5wYXJhbXN8fG5ldyBWLlBhcmFtU2V0O3JldHVybiBSKGEucGFyYW1zfHx7fSxmdW5jdGlvbihhLGMpe2JbY118fChiW2NdPW5ldyBWLlBhcmFtKGMsbnVsbCxhLFwiY29uZmlnXCIpKX0pLGJ9LHBhcmFtczpmdW5jdGlvbihhKXt2YXIgYj1sKGEub3duUGFyYW1zLGEub3duUGFyYW1zLiQka2V5cygpKTtyZXR1cm4gYS5wYXJlbnQmJmEucGFyZW50LnBhcmFtcz9TKGEucGFyZW50LnBhcmFtcy4kJG5ldygpLGIpOm5ldyBWLlBhcmFtU2V0fSx2aWV3czpmdW5jdGlvbihhKXt2YXIgYj17fTtyZXR1cm4gUihNKGEudmlld3MpP2Eudmlld3M6e1wiXCI6YX0sZnVuY3Rpb24oYyxkKXtkLmluZGV4T2YoXCJAXCIpPDAmJihkKz1cIkBcIithLnBhcmVudC5uYW1lKSxjLnJlc29sdmVBcz1jLnJlc29sdmVBc3x8YS5yZXNvbHZlQXN8fFwiJHJlc29sdmVcIixiW2RdPWN9KSxifSxwYXRoOmZ1bmN0aW9uKGEpe3JldHVybiBhLnBhcmVudD9hLnBhcmVudC5wYXRoLmNvbmNhdChhKTpbXX0saW5jbHVkZXM6ZnVuY3Rpb24oYSl7dmFyIGI9YS5wYXJlbnQ/Uyh7fSxhLnBhcmVudC5pbmNsdWRlcyk6e307cmV0dXJuIGJbYS5uYW1lXT0hMCxifSwkZGVsZWdhdGVzOnt9fTt5PXIoe25hbWU6XCJcIix1cmw6XCJeXCIsdmlld3M6bnVsbCxhYnN0cmFjdDohMH0pLHkubmF2aWdhYmxlPW51bGwsdGhpcy5kZWNvcmF0b3I9dSx0aGlzLnN0YXRlPXYsdGhpcy4kZ2V0PXcsdy4kaW5qZWN0PVtcIiRyb290U2NvcGVcIixcIiRxXCIsXCIkdmlld1wiLFwiJGluamVjdG9yXCIsXCIkcmVzb2x2ZVwiLFwiJHN0YXRlUGFyYW1zXCIsXCIkdXJsUm91dGVyXCIsXCIkbG9jYXRpb25cIixcIiR1cmxNYXRjaGVyRmFjdG9yeVwiXX1mdW5jdGlvbiB4KCl7ZnVuY3Rpb24gYShhLGIpe3JldHVybntsb2FkOmZ1bmN0aW9uKGEsYyl7dmFyIGQsZT17dGVtcGxhdGU6bnVsbCxjb250cm9sbGVyOm51bGwsdmlldzpudWxsLGxvY2FsczpudWxsLG5vdGlmeTohMCxhc3luYzohMCxwYXJhbXM6e319O3JldHVybiBjPVMoZSxjKSxjLnZpZXcmJihkPWIuZnJvbUNvbmZpZyhjLnZpZXcsYy5wYXJhbXMsYy5sb2NhbHMpKSxkfX19dGhpcy4kZ2V0PWEsYS4kaW5qZWN0PVtcIiRyb290U2NvcGVcIixcIiR0ZW1wbGF0ZUZhY3RvcnlcIl19ZnVuY3Rpb24geSgpe3ZhciBhPSExO3RoaXMudXNlQW5jaG9yU2Nyb2xsPWZ1bmN0aW9uKCl7YT0hMH0sdGhpcy4kZ2V0PVtcIiRhbmNob3JTY3JvbGxcIixcIiR0aW1lb3V0XCIsZnVuY3Rpb24oYixjKXtyZXR1cm4gYT9iOmZ1bmN0aW9uKGEpe3JldHVybiBjKGZ1bmN0aW9uKCl7YVswXS5zY3JvbGxJbnRvVmlldygpfSwwLCExKX19XX1mdW5jdGlvbiB6KGEsYyxkLGUsZil7ZnVuY3Rpb24gZygpe3JldHVybiBjLmhhcz9mdW5jdGlvbihhKXtyZXR1cm4gYy5oYXMoYSk/Yy5nZXQoYSk6bnVsbH06ZnVuY3Rpb24oYSl7dHJ5e3JldHVybiBjLmdldChhKX1jYXRjaChhKXtyZXR1cm4gbnVsbH19fWZ1bmN0aW9uIGgoYSxjKXt2YXIgZD1mdW5jdGlvbigpe3JldHVybntlbnRlcjpmdW5jdGlvbihhLGIsYyl7Yi5hZnRlcihhKSxjKCl9LGxlYXZlOmZ1bmN0aW9uKGEsYil7YS5yZW1vdmUoKSxiKCl9fX07aWYoaylyZXR1cm57ZW50ZXI6ZnVuY3Rpb24oYSxjLGQpe2IudmVyc2lvbi5taW5vcj4yP2suZW50ZXIoYSxudWxsLGMpLnRoZW4oZCk6ay5lbnRlcihhLG51bGwsYyxkKX0sbGVhdmU6ZnVuY3Rpb24oYSxjKXtiLnZlcnNpb24ubWlub3I+Mj9rLmxlYXZlKGEpLnRoZW4oYyk6ay5sZWF2ZShhLGMpfX07aWYoail7dmFyIGU9aiYmaihjLGEpO3JldHVybntlbnRlcjpmdW5jdGlvbihhLGIsYyl7ZS5lbnRlcihhLG51bGwsYiksYygpfSxsZWF2ZTpmdW5jdGlvbihhLGIpe2UubGVhdmUoYSksYigpfX19cmV0dXJuIGQoKX12YXIgaT1nKCksaj1pKFwiJGFuaW1hdG9yXCIpLGs9aShcIiRhbmltYXRlXCIpLGw9e3Jlc3RyaWN0OlwiRUNBXCIsdGVybWluYWw6ITAscHJpb3JpdHk6NDAwLHRyYW5zY2x1ZGU6XCJlbGVtZW50XCIsY29tcGlsZTpmdW5jdGlvbihjLGcsaSl7cmV0dXJuIGZ1bmN0aW9uKGMsZyxqKXtmdW5jdGlvbiBrKCl7aWYobSYmKG0ucmVtb3ZlKCksbT1udWxsKSxvJiYoby4kZGVzdHJveSgpLG89bnVsbCksbil7dmFyIGE9bi5kYXRhKFwiJHVpVmlld0FuaW1cIik7cy5sZWF2ZShuLGZ1bmN0aW9uKCl7YS4kJGFuaW1MZWF2ZS5yZXNvbHZlKCksbT1udWxsfSksbT1uLG49bnVsbH19ZnVuY3Rpb24gbChoKXt2YXIgbCxtPUIoYyxqLGcsZSksdD1tJiZhLiRjdXJyZW50JiZhLiRjdXJyZW50LmxvY2Fsc1ttXTtpZihofHx0IT09cCl7bD1jLiRuZXcoKSxwPWEuJGN1cnJlbnQubG9jYWxzW21dLGwuJGVtaXQoXCIkdmlld0NvbnRlbnRMb2FkaW5nXCIsbSk7dmFyIHU9aShsLGZ1bmN0aW9uKGEpe3ZhciBlPWYuZGVmZXIoKSxoPWYuZGVmZXIoKSxpPXskYW5pbUVudGVyOmUucHJvbWlzZSwkYW5pbUxlYXZlOmgucHJvbWlzZSwkJGFuaW1MZWF2ZTpofTthLmRhdGEoXCIkdWlWaWV3QW5pbVwiLGkpLHMuZW50ZXIoYSxnLGZ1bmN0aW9uKCl7ZS5yZXNvbHZlKCksbyYmby4kZW1pdChcIiR2aWV3Q29udGVudEFuaW1hdGlvbkVuZGVkXCIpLChiLmlzRGVmaW5lZChyKSYmIXJ8fGMuJGV2YWwocikpJiZkKGEpfSksaygpfSk7bj11LG89bCxvLiRlbWl0KFwiJHZpZXdDb250ZW50TG9hZGVkXCIsbSksby4kZXZhbChxKX19dmFyIG0sbixvLHAscT1qLm9ubG9hZHx8XCJcIixyPWouYXV0b3Njcm9sbCxzPWgoaixjKTtnLmluaGVyaXRlZERhdGEoXCIkdWlWaWV3XCIpO2MuJG9uKFwiJHN0YXRlQ2hhbmdlU3VjY2Vzc1wiLGZ1bmN0aW9uKCl7bCghMSl9KSxsKCEwKX19fTtyZXR1cm4gbH1mdW5jdGlvbiBBKGEsYyxkLGUpe3JldHVybntyZXN0cmljdDpcIkVDQVwiLHByaW9yaXR5Oi00MDAsY29tcGlsZTpmdW5jdGlvbihmKXt2YXIgZz1mLmh0bWwoKTtyZXR1cm4gZnVuY3Rpb24oZixoLGkpe3ZhciBqPWQuJGN1cnJlbnQsaz1CKGYsaSxoLGUpLGw9aiYmai5sb2NhbHNba107aWYobCl7aC5kYXRhKFwiJHVpVmlld1wiLHtuYW1lOmssc3RhdGU6bC4kJHN0YXRlfSksaC5odG1sKGwuJHRlbXBsYXRlP2wuJHRlbXBsYXRlOmcpO3ZhciBtPWIuZXh0ZW5kKHt9LGwpO2ZbbC4kJHJlc29sdmVBc109bTt2YXIgbj1hKGguY29udGVudHMoKSk7aWYobC4kJGNvbnRyb2xsZXIpe2wuJHNjb3BlPWYsbC4kZWxlbWVudD1oO3ZhciBvPWMobC4kJGNvbnRyb2xsZXIsbCk7bC4kJGNvbnRyb2xsZXJBcyYmKGZbbC4kJGNvbnRyb2xsZXJBc109byxmW2wuJCRjb250cm9sbGVyQXNdW2wuJCRyZXNvbHZlQXNdPW0pLE4oby4kb25Jbml0KSYmby4kb25Jbml0KCksaC5kYXRhKFwiJG5nQ29udHJvbGxlckNvbnRyb2xsZXJcIixvKSxoLmNoaWxkcmVuKCkuZGF0YShcIiRuZ0NvbnRyb2xsZXJDb250cm9sbGVyXCIsbyl9bihmKX19fX19ZnVuY3Rpb24gQihhLGIsYyxkKXt2YXIgZT1kKGIudWlWaWV3fHxiLm5hbWV8fFwiXCIpKGEpLGY9Yy5pbmhlcml0ZWREYXRhKFwiJHVpVmlld1wiKTtyZXR1cm4gZS5pbmRleE9mKFwiQFwiKT49MD9lOmUrXCJAXCIrKGY/Zi5zdGF0ZS5uYW1lOlwiXCIpfWZ1bmN0aW9uIEMoYSxiKXt2YXIgYyxkPWEubWF0Y2goL15cXHMqKHtbXn1dKn0pXFxzKiQvKTtpZihkJiYoYT1iK1wiKFwiK2RbMV0rXCIpXCIpLGM9YS5yZXBsYWNlKC9cXG4vZyxcIiBcIikubWF0Y2goL14oW14oXSs/KVxccyooXFwoKC4qKVxcKSk/JC8pLCFjfHw0IT09Yy5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBzdGF0ZSByZWYgJ1wiK2ErXCInXCIpO3JldHVybntzdGF0ZTpjWzFdLHBhcmFtRXhwcjpjWzNdfHxudWxsfX1mdW5jdGlvbiBEKGEpe3ZhciBiPWEucGFyZW50KCkuaW5oZXJpdGVkRGF0YShcIiR1aVZpZXdcIik7aWYoYiYmYi5zdGF0ZSYmYi5zdGF0ZS5uYW1lKXJldHVybiBiLnN0YXRlfWZ1bmN0aW9uIEUoYSl7dmFyIGI9XCJbb2JqZWN0IFNWR0FuaW1hdGVkU3RyaW5nXVwiPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGEucHJvcChcImhyZWZcIikpLGM9XCJGT1JNXCI9PT1hWzBdLm5vZGVOYW1lO3JldHVybnthdHRyOmM/XCJhY3Rpb25cIjpiP1wieGxpbms6aHJlZlwiOlwiaHJlZlwiLGlzQW5jaG9yOlwiQVwiPT09YS5wcm9wKFwidGFnTmFtZVwiKS50b1VwcGVyQ2FzZSgpLGNsaWNrYWJsZTohY319ZnVuY3Rpb24gRihhLGIsYyxkLGUpe3JldHVybiBmdW5jdGlvbihmKXt2YXIgZz1mLndoaWNofHxmLmJ1dHRvbixoPWUoKTtpZighKGc+MXx8Zi5jdHJsS2V5fHxmLm1ldGFLZXl8fGYuc2hpZnRLZXl8fGEuYXR0cihcInRhcmdldFwiKSkpe3ZhciBpPWMoZnVuY3Rpb24oKXtiLmdvKGguc3RhdGUsaC5wYXJhbXMsaC5vcHRpb25zKX0pO2YucHJldmVudERlZmF1bHQoKTt2YXIgaj1kLmlzQW5jaG9yJiYhaC5ocmVmPzE6MDtmLnByZXZlbnREZWZhdWx0PWZ1bmN0aW9uKCl7ai0tPD0wJiZjLmNhbmNlbChpKX19fX1mdW5jdGlvbiBHKGEsYil7cmV0dXJue3JlbGF0aXZlOkQoYSl8fGIuJGN1cnJlbnQsaW5oZXJpdDohMH19ZnVuY3Rpb24gSChhLGMpe3JldHVybntyZXN0cmljdDpcIkFcIixyZXF1aXJlOltcIj9edWlTcmVmQWN0aXZlXCIsXCI/XnVpU3JlZkFjdGl2ZUVxXCJdLGxpbms6ZnVuY3Rpb24oZCxlLGYsZyl7dmFyIGgsaT1DKGYudWlTcmVmLGEuY3VycmVudC5uYW1lKSxqPXtzdGF0ZTppLnN0YXRlLGhyZWY6bnVsbCxwYXJhbXM6bnVsbH0saz1FKGUpLGw9Z1sxXXx8Z1swXSxtPW51bGw7ai5vcHRpb25zPVMoRyhlLGEpLGYudWlTcmVmT3B0cz9kLiRldmFsKGYudWlTcmVmT3B0cyk6e30pO3ZhciBuPWZ1bmN0aW9uKGMpe2MmJihqLnBhcmFtcz1iLmNvcHkoYykpLGouaHJlZj1hLmhyZWYoaS5zdGF0ZSxqLnBhcmFtcyxqLm9wdGlvbnMpLG0mJm0oKSxsJiYobT1sLiQkYWRkU3RhdGVJbmZvKGkuc3RhdGUsai5wYXJhbXMpKSxudWxsIT09ai5ocmVmJiZmLiRzZXQoay5hdHRyLGouaHJlZil9O2kucGFyYW1FeHByJiYoZC4kd2F0Y2goaS5wYXJhbUV4cHIsZnVuY3Rpb24oYSl7YSE9PWoucGFyYW1zJiZuKGEpfSwhMCksai5wYXJhbXM9Yi5jb3B5KGQuJGV2YWwoaS5wYXJhbUV4cHIpKSksbigpLGsuY2xpY2thYmxlJiYoaD1GKGUsYSxjLGssZnVuY3Rpb24oKXtyZXR1cm4gan0pLGVbZS5vbj9cIm9uXCI6XCJiaW5kXCJdKFwiY2xpY2tcIixoKSxkLiRvbihcIiRkZXN0cm95XCIsZnVuY3Rpb24oKXtlW2Uub2ZmP1wib2ZmXCI6XCJ1bmJpbmRcIl0oXCJjbGlja1wiLGgpfSkpfX19ZnVuY3Rpb24gSShhLGIpe3JldHVybntyZXN0cmljdDpcIkFcIixyZXF1aXJlOltcIj9edWlTcmVmQWN0aXZlXCIsXCI/XnVpU3JlZkFjdGl2ZUVxXCJdLGxpbms6ZnVuY3Rpb24oYyxkLGUsZil7ZnVuY3Rpb24gZyhiKXttLnN0YXRlPWJbMF0sbS5wYXJhbXM9YlsxXSxtLm9wdGlvbnM9YlsyXSxtLmhyZWY9YS5ocmVmKG0uc3RhdGUsbS5wYXJhbXMsbS5vcHRpb25zKSxuJiZuKCksaiYmKG49ai4kJGFkZFN0YXRlSW5mbyhtLnN0YXRlLG0ucGFyYW1zKSksbS5ocmVmJiZlLiRzZXQoaS5hdHRyLG0uaHJlZil9dmFyIGgsaT1FKGQpLGo9ZlsxXXx8ZlswXSxrPVtlLnVpU3RhdGUsZS51aVN0YXRlUGFyYW1zfHxudWxsLGUudWlTdGF0ZU9wdHN8fG51bGxdLGw9XCJbXCIray5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGF8fFwibnVsbFwifSkuam9pbihcIiwgXCIpK1wiXVwiLG09e3N0YXRlOm51bGwscGFyYW1zOm51bGwsb3B0aW9uczpudWxsLGhyZWY6bnVsbH0sbj1udWxsO2MuJHdhdGNoKGwsZywhMCksZyhjLiRldmFsKGwpKSxpLmNsaWNrYWJsZSYmKGg9RihkLGEsYixpLGZ1bmN0aW9uKCl7cmV0dXJuIG19KSxkW2Qub24/XCJvblwiOlwiYmluZFwiXShcImNsaWNrXCIsaCksYy4kb24oXCIkZGVzdHJveVwiLGZ1bmN0aW9uKCl7ZFtkLm9mZj9cIm9mZlwiOlwidW5iaW5kXCJdKFwiY2xpY2tcIixoKX0pKX19fWZ1bmN0aW9uIEooYSxiLGMpe3JldHVybntyZXN0cmljdDpcIkFcIixjb250cm9sbGVyOltcIiRzY29wZVwiLFwiJGVsZW1lbnRcIixcIiRhdHRyc1wiLFwiJHRpbWVvdXRcIixmdW5jdGlvbihiLGQsZSxmKXtmdW5jdGlvbiBnKGIsYyxlKXt2YXIgZj1hLmdldChiLEQoZCkpLGc9aChiLGMpLGk9e3N0YXRlOmZ8fHtuYW1lOmJ9LHBhcmFtczpjLGhhc2g6Z307cmV0dXJuIHAucHVzaChpKSxxW2ddPWUsZnVuY3Rpb24oKXt2YXIgYT1wLmluZGV4T2YoaSk7YSE9PS0xJiZwLnNwbGljZShhLDEpfX1mdW5jdGlvbiBoKGEsYyl7aWYoIU8oYSkpdGhyb3cgbmV3IEVycm9yKFwic3RhdGUgc2hvdWxkIGJlIGEgc3RyaW5nXCIpO3JldHVybiBQKGMpP2ErVShjKTooYz1iLiRldmFsKGMpLFAoYyk/YStVKGMpOmEpfWZ1bmN0aW9uIGkoKXtmb3IodmFyIGE9MDthPHAubGVuZ3RoO2ErKylsKHBbYV0uc3RhdGUscFthXS5wYXJhbXMpP2ooZCxxW3BbYV0uaGFzaF0pOmsoZCxxW3BbYV0uaGFzaF0pLG0ocFthXS5zdGF0ZSxwW2FdLnBhcmFtcyk/aihkLG4pOmsoZCxuKX1mdW5jdGlvbiBqKGEsYil7ZihmdW5jdGlvbigpe2EuYWRkQ2xhc3MoYil9KX1mdW5jdGlvbiBrKGEsYil7YS5yZW1vdmVDbGFzcyhiKX1mdW5jdGlvbiBsKGIsYyl7cmV0dXJuIGEuaW5jbHVkZXMoYi5uYW1lLGMpfWZ1bmN0aW9uIG0oYixjKXtyZXR1cm4gYS5pcyhiLm5hbWUsYyl9dmFyIG4sbyxwPVtdLHE9e307bj1jKGUudWlTcmVmQWN0aXZlRXF8fFwiXCIsITEpKGIpO3RyeXtvPWIuJGV2YWwoZS51aVNyZWZBY3RpdmUpfWNhdGNoKGEpe31vPW98fGMoZS51aVNyZWZBY3RpdmV8fFwiXCIsITEpKGIpLFAobykmJlIobyxmdW5jdGlvbihjLGQpe2lmKE8oYykpe3ZhciBlPUMoYyxhLmN1cnJlbnQubmFtZSk7ZyhlLnN0YXRlLGIuJGV2YWwoZS5wYXJhbUV4cHIpLGQpfX0pLHRoaXMuJCRhZGRTdGF0ZUluZm89ZnVuY3Rpb24oYSxiKXtpZighKFAobykmJnAubGVuZ3RoPjApKXt2YXIgYz1nKGEsYixvKTtyZXR1cm4gaSgpLGN9fSxiLiRvbihcIiRzdGF0ZUNoYW5nZVN1Y2Nlc3NcIixpKSxpKCl9XX19ZnVuY3Rpb24gSyhhKXt2YXIgYj1mdW5jdGlvbihiLGMpe3JldHVybiBhLmlzKGIsYyl9O3JldHVybiBiLiRzdGF0ZWZ1bD0hMCxifWZ1bmN0aW9uIEwoYSl7dmFyIGI9ZnVuY3Rpb24oYixjLGQpe3JldHVybiBhLmluY2x1ZGVzKGIsYyxkKX07cmV0dXJuIGIuJHN0YXRlZnVsPSEwLGJ9dmFyIE09Yi5pc0RlZmluZWQsTj1iLmlzRnVuY3Rpb24sTz1iLmlzU3RyaW5nLFA9Yi5pc09iamVjdCxRPWIuaXNBcnJheSxSPWIuZm9yRWFjaCxTPWIuZXh0ZW5kLFQ9Yi5jb3B5LFU9Yi50b0pzb247Yi5tb2R1bGUoXCJ1aS5yb3V0ZXIudXRpbFwiLFtcIm5nXCJdKSxiLm1vZHVsZShcInVpLnJvdXRlci5yb3V0ZXJcIixbXCJ1aS5yb3V0ZXIudXRpbFwiXSksYi5tb2R1bGUoXCJ1aS5yb3V0ZXIuc3RhdGVcIixbXCJ1aS5yb3V0ZXIucm91dGVyXCIsXCJ1aS5yb3V0ZXIudXRpbFwiXSksYi5tb2R1bGUoXCJ1aS5yb3V0ZXJcIixbXCJ1aS5yb3V0ZXIuc3RhdGVcIl0pLGIubW9kdWxlKFwidWkucm91dGVyLmNvbXBhdFwiLFtcInVpLnJvdXRlclwiXSkscS4kaW5qZWN0PVtcIiRxXCIsXCIkaW5qZWN0b3JcIl0sYi5tb2R1bGUoXCJ1aS5yb3V0ZXIudXRpbFwiKS5zZXJ2aWNlKFwiJHJlc29sdmVcIixxKSxyLiRpbmplY3Q9W1wiJGh0dHBcIixcIiR0ZW1wbGF0ZUNhY2hlXCIsXCIkaW5qZWN0b3JcIl0sYi5tb2R1bGUoXCJ1aS5yb3V0ZXIudXRpbFwiKS5zZXJ2aWNlKFwiJHRlbXBsYXRlRmFjdG9yeVwiLHIpO3ZhciBWO3MucHJvdG90eXBlLmNvbmNhdD1mdW5jdGlvbihhLGIpe3ZhciBjPXtjYXNlSW5zZW5zaXRpdmU6Vi5jYXNlSW5zZW5zaXRpdmUoKSxzdHJpY3Q6Vi5zdHJpY3RNb2RlKCksc3F1YXNoOlYuZGVmYXVsdFNxdWFzaFBvbGljeSgpfTtyZXR1cm4gbmV3IHModGhpcy5zb3VyY2VQYXRoK2ErdGhpcy5zb3VyY2VTZWFyY2gsUyhjLGIpLHRoaXMpfSxzLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnNvdXJjZX0scy5wcm90b3R5cGUuZXhlYz1mdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGMoYSl7ZnVuY3Rpb24gYihhKXtyZXR1cm4gYS5zcGxpdChcIlwiKS5yZXZlcnNlKCkuam9pbihcIlwiKX1mdW5jdGlvbiBjKGEpe3JldHVybiBhLnJlcGxhY2UoL1xcXFwtL2csXCItXCIpfXZhciBkPWIoYSkuc3BsaXQoLy0oPyFcXFxcKS8pLGU9byhkLGIpO3JldHVybiBvKGUsYykucmV2ZXJzZSgpfXZhciBkPXRoaXMucmVnZXhwLmV4ZWMoYSk7aWYoIWQpcmV0dXJuIG51bGw7Yj1ifHx7fTt2YXIgZSxmLGcsaD10aGlzLnBhcmFtZXRlcnMoKSxpPWgubGVuZ3RoLGo9dGhpcy5zZWdtZW50cy5sZW5ndGgtMSxrPXt9O2lmKGohPT1kLmxlbmd0aC0xKXRocm93IG5ldyBFcnJvcihcIlVuYmFsYW5jZWQgY2FwdHVyZSBncm91cCBpbiByb3V0ZSAnXCIrdGhpcy5zb3VyY2UrXCInXCIpO3ZhciBsLG07Zm9yKGU9MDtlPGo7ZSsrKXtmb3IoZz1oW2VdLGw9dGhpcy5wYXJhbXNbZ10sbT1kW2UrMV0sZj0wO2Y8bC5yZXBsYWNlLmxlbmd0aDtmKyspbC5yZXBsYWNlW2ZdLmZyb209PT1tJiYobT1sLnJlcGxhY2VbZl0udG8pO20mJmwuYXJyYXk9PT0hMCYmKG09YyhtKSksTShtKSYmKG09bC50eXBlLmRlY29kZShtKSksa1tnXT1sLnZhbHVlKG0pfWZvcig7ZTxpO2UrKyl7Zm9yKGc9aFtlXSxrW2ddPXRoaXMucGFyYW1zW2ddLnZhbHVlKGJbZ10pLGw9dGhpcy5wYXJhbXNbZ10sbT1iW2ddLGY9MDtmPGwucmVwbGFjZS5sZW5ndGg7ZisrKWwucmVwbGFjZVtmXS5mcm9tPT09bSYmKG09bC5yZXBsYWNlW2ZdLnRvKTtNKG0pJiYobT1sLnR5cGUuZGVjb2RlKG0pKSxrW2ddPWwudmFsdWUobSl9cmV0dXJuIGt9LHMucHJvdG90eXBlLnBhcmFtZXRlcnM9ZnVuY3Rpb24oYSl7cmV0dXJuIE0oYSk/dGhpcy5wYXJhbXNbYV18fG51bGw6dGhpcy4kJHBhcmFtTmFtZXN9LHMucHJvdG90eXBlLnZhbGlkYXRlcz1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5wYXJhbXMuJCR2YWxpZGF0ZXMoYSl9LHMucHJvdG90eXBlLmZvcm1hdD1mdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEpe3JldHVybiBlbmNvZGVVUklDb21wb25lbnQoYSkucmVwbGFjZSgvLS9nLGZ1bmN0aW9uKGEpe3JldHVyblwiJTVDJVwiK2EuY2hhckNvZGVBdCgwKS50b1N0cmluZygxNikudG9VcHBlckNhc2UoKX0pfWE9YXx8e307dmFyIGM9dGhpcy5zZWdtZW50cyxkPXRoaXMucGFyYW1ldGVycygpLGU9dGhpcy5wYXJhbXM7aWYoIXRoaXMudmFsaWRhdGVzKGEpKXJldHVybiBudWxsO3ZhciBmLGc9ITEsaD1jLmxlbmd0aC0xLGk9ZC5sZW5ndGgsaj1jWzBdO2ZvcihmPTA7ZjxpO2YrKyl7dmFyIGs9ZjxoLGw9ZFtmXSxtPWVbbF0sbj1tLnZhbHVlKGFbbF0pLHA9bS5pc09wdGlvbmFsJiZtLnR5cGUuZXF1YWxzKG0udmFsdWUoKSxuKSxxPSEhcCYmbS5zcXVhc2gscj1tLnR5cGUuZW5jb2RlKG4pO2lmKGspe3ZhciBzPWNbZisxXSx0PWYrMT09PWg7aWYocT09PSExKW51bGwhPXImJihqKz1RKHIpP28ocixiKS5qb2luKFwiLVwiKTplbmNvZGVVUklDb21wb25lbnQocikpLGorPXM7ZWxzZSBpZihxPT09ITApe3ZhciB1PWoubWF0Y2goL1xcLyQvKT8vXFwvPyguKikvOi8oLiopLztqKz1zLm1hdGNoKHUpWzFdfWVsc2UgTyhxKSYmKGorPXErcyk7dCYmbS5zcXVhc2g9PT0hMCYmXCIvXCI9PT1qLnNsaWNlKC0xKSYmKGo9ai5zbGljZSgwLC0xKSl9ZWxzZXtpZihudWxsPT1yfHxwJiZxIT09ITEpY29udGludWU7aWYoUShyKXx8KHI9W3JdKSwwPT09ci5sZW5ndGgpY29udGludWU7cj1vKHIsZW5jb2RlVVJJQ29tcG9uZW50KS5qb2luKFwiJlwiK2wrXCI9XCIpLGorPShnP1wiJlwiOlwiP1wiKSsobCtcIj1cIityKSxnPSEwfX1yZXR1cm4gan0sdC5wcm90b3R5cGUuaXM9ZnVuY3Rpb24oYSxiKXtyZXR1cm4hMH0sdC5wcm90b3R5cGUuZW5jb2RlPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGF9LHQucHJvdG90eXBlLmRlY29kZT1mdW5jdGlvbihhLGIpe3JldHVybiBhfSx0LnByb3RvdHlwZS5lcXVhbHM9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYT09Yn0sdC5wcm90b3R5cGUuJHN1YlBhdHRlcm49ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnBhdHRlcm4udG9TdHJpbmcoKTtyZXR1cm4gYS5zdWJzdHIoMSxhLmxlbmd0aC0yKX0sdC5wcm90b3R5cGUucGF0dGVybj0vLiovLHQucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXCJ7VHlwZTpcIit0aGlzLm5hbWUrXCJ9XCJ9LHQucHJvdG90eXBlLiRub3JtYWxpemU9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuaXMoYSk/YTp0aGlzLmRlY29kZShhKX0sdC5wcm90b3R5cGUuJGFzQXJyYXk9ZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBkKGEsYil7ZnVuY3Rpb24gZChhLGIpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBhW2JdLmFwcGx5KGEsYXJndW1lbnRzKX19ZnVuY3Rpb24gZShhKXtyZXR1cm4gUShhKT9hOk0oYSk/W2FdOltdfWZ1bmN0aW9uIGYoYSl7c3dpdGNoKGEubGVuZ3RoKXtjYXNlIDA6cmV0dXJuIGM7Y2FzZSAxOnJldHVyblwiYXV0b1wiPT09Yj9hWzBdOmE7ZGVmYXVsdDpyZXR1cm4gYX19ZnVuY3Rpb24gZyhhKXtyZXR1cm4hYX1mdW5jdGlvbiBoKGEsYil7cmV0dXJuIGZ1bmN0aW9uKGMpe2lmKFEoYykmJjA9PT1jLmxlbmd0aClyZXR1cm4gYztjPWUoYyk7dmFyIGQ9byhjLGEpO3JldHVybiBiPT09ITA/MD09PW4oZCxnKS5sZW5ndGg6ZihkKX19ZnVuY3Rpb24gaShhKXtyZXR1cm4gZnVuY3Rpb24oYixjKXt2YXIgZD1lKGIpLGY9ZShjKTtpZihkLmxlbmd0aCE9PWYubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgZz0wO2c8ZC5sZW5ndGg7ZysrKWlmKCFhKGRbZ10sZltnXSkpcmV0dXJuITE7cmV0dXJuITB9fXRoaXMuZW5jb2RlPWgoZChhLFwiZW5jb2RlXCIpKSx0aGlzLmRlY29kZT1oKGQoYSxcImRlY29kZVwiKSksdGhpcy5pcz1oKGQoYSxcImlzXCIpLCEwKSx0aGlzLmVxdWFscz1pKGQoYSxcImVxdWFsc1wiKSksdGhpcy5wYXR0ZXJuPWEucGF0dGVybix0aGlzLiRub3JtYWxpemU9aChkKGEsXCIkbm9ybWFsaXplXCIpKSx0aGlzLm5hbWU9YS5uYW1lLHRoaXMuJGFycmF5TW9kZT1ifWlmKCFhKXJldHVybiB0aGlzO2lmKFwiYXV0b1wiPT09YSYmIWIpdGhyb3cgbmV3IEVycm9yKFwiJ2F1dG8nIGFycmF5IG1vZGUgaXMgZm9yIHF1ZXJ5IHBhcmFtZXRlcnMgb25seVwiKTtyZXR1cm4gbmV3IGQodGhpcyxhKTtcbn0sYi5tb2R1bGUoXCJ1aS5yb3V0ZXIudXRpbFwiKS5wcm92aWRlcihcIiR1cmxNYXRjaGVyRmFjdG9yeVwiLHUpLGIubW9kdWxlKFwidWkucm91dGVyLnV0aWxcIikucnVuKFtcIiR1cmxNYXRjaGVyRmFjdG9yeVwiLGZ1bmN0aW9uKGEpe31dKSx2LiRpbmplY3Q9W1wiJGxvY2F0aW9uUHJvdmlkZXJcIixcIiR1cmxNYXRjaGVyRmFjdG9yeVByb3ZpZGVyXCJdLGIubW9kdWxlKFwidWkucm91dGVyLnJvdXRlclwiKS5wcm92aWRlcihcIiR1cmxSb3V0ZXJcIix2KSx3LiRpbmplY3Q9W1wiJHVybFJvdXRlclByb3ZpZGVyXCIsXCIkdXJsTWF0Y2hlckZhY3RvcnlQcm92aWRlclwiXSxiLm1vZHVsZShcInVpLnJvdXRlci5zdGF0ZVwiKS5mYWN0b3J5KFwiJHN0YXRlUGFyYW1zXCIsZnVuY3Rpb24oKXtyZXR1cm57fX0pLmNvbnN0YW50KFwiJHN0YXRlLnJ1bnRpbWVcIix7YXV0b2luamVjdDohMH0pLnByb3ZpZGVyKFwiJHN0YXRlXCIsdykucnVuKFtcIiRpbmplY3RvclwiLGZ1bmN0aW9uKGEpe2EuZ2V0KFwiJHN0YXRlLnJ1bnRpbWVcIikuYXV0b2luamVjdCYmYS5nZXQoXCIkc3RhdGVcIil9XSkseC4kaW5qZWN0PVtdLGIubW9kdWxlKFwidWkucm91dGVyLnN0YXRlXCIpLnByb3ZpZGVyKFwiJHZpZXdcIix4KSxiLm1vZHVsZShcInVpLnJvdXRlci5zdGF0ZVwiKS5wcm92aWRlcihcIiR1aVZpZXdTY3JvbGxcIix5KSx6LiRpbmplY3Q9W1wiJHN0YXRlXCIsXCIkaW5qZWN0b3JcIixcIiR1aVZpZXdTY3JvbGxcIixcIiRpbnRlcnBvbGF0ZVwiLFwiJHFcIl0sQS4kaW5qZWN0PVtcIiRjb21waWxlXCIsXCIkY29udHJvbGxlclwiLFwiJHN0YXRlXCIsXCIkaW50ZXJwb2xhdGVcIl0sYi5tb2R1bGUoXCJ1aS5yb3V0ZXIuc3RhdGVcIikuZGlyZWN0aXZlKFwidWlWaWV3XCIseiksYi5tb2R1bGUoXCJ1aS5yb3V0ZXIuc3RhdGVcIikuZGlyZWN0aXZlKFwidWlWaWV3XCIsQSksSC4kaW5qZWN0PVtcIiRzdGF0ZVwiLFwiJHRpbWVvdXRcIl0sSS4kaW5qZWN0PVtcIiRzdGF0ZVwiLFwiJHRpbWVvdXRcIl0sSi4kaW5qZWN0PVtcIiRzdGF0ZVwiLFwiJHN0YXRlUGFyYW1zXCIsXCIkaW50ZXJwb2xhdGVcIl0sYi5tb2R1bGUoXCJ1aS5yb3V0ZXIuc3RhdGVcIikuZGlyZWN0aXZlKFwidWlTcmVmXCIsSCkuZGlyZWN0aXZlKFwidWlTcmVmQWN0aXZlXCIsSikuZGlyZWN0aXZlKFwidWlTcmVmQWN0aXZlRXFcIixKKS5kaXJlY3RpdmUoXCJ1aVN0YXRlXCIsSSksSy4kaW5qZWN0PVtcIiRzdGF0ZVwiXSxMLiRpbmplY3Q9W1wiJHN0YXRlXCJdLGIubW9kdWxlKFwidWkucm91dGVyLnN0YXRlXCIpLmZpbHRlcihcImlzU3RhdGVcIixLKS5maWx0ZXIoXCJpbmNsdWRlZEJ5U3RhdGVcIixMKX0od2luZG93LHdpbmRvdy5hbmd1bGFyKTsiLCIvKlxuICogYW5ndWxhci1lbGFzdGljIHYyLjUuMVxuICogKGMpIDIwMTQgTW9ub3NwYWNlZCBodHRwOi8vbW9ub3NwYWNlZC5jb21cbiAqIExpY2Vuc2U6IE1JVFxuICovXG5cbmlmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyAmJlxuICAgIHR5cGVvZiBleHBvcnRzICE9PSAndW5kZWZpbmVkJyAmJlxuICAgIG1vZHVsZS5leHBvcnRzID09PSBleHBvcnRzKXtcbiAgbW9kdWxlLmV4cG9ydHMgPSAnbW9ub3NwYWNlZC5lbGFzdGljJztcbn1cblxuYW5ndWxhci5tb2R1bGUoJ21vbm9zcGFjZWQuZWxhc3RpYycsIFtdKVxuXG4gIC5jb25zdGFudCgnbXNkRWxhc3RpY0NvbmZpZycsIHtcbiAgICBhcHBlbmQ6ICcnXG4gIH0pXG5cbiAgLmRpcmVjdGl2ZSgnbXNkRWxhc3RpYycsIFtcbiAgICAnJHRpbWVvdXQnLCAnJHdpbmRvdycsICdtc2RFbGFzdGljQ29uZmlnJyxcbiAgICBmdW5jdGlvbigkdGltZW91dCwgJHdpbmRvdywgY29uZmlnKSB7XG4gICAgICAndXNlIHN0cmljdCc7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHJlcXVpcmU6ICduZ01vZGVsJyxcbiAgICAgICAgcmVzdHJpY3Q6ICdBLCBDJyxcbiAgICAgICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBuZ01vZGVsKSB7XG5cbiAgICAgICAgICAvLyBjYWNoZSBhIHJlZmVyZW5jZSB0byB0aGUgRE9NIGVsZW1lbnRcbiAgICAgICAgICB2YXIgdGEgPSBlbGVtZW50WzBdLFxuICAgICAgICAgICAgICAkdGEgPSBlbGVtZW50O1xuXG4gICAgICAgICAgLy8gZW5zdXJlIHRoZSBlbGVtZW50IGlzIGEgdGV4dGFyZWEsIGFuZCBicm93c2VyIGlzIGNhcGFibGVcbiAgICAgICAgICBpZiAodGEubm9kZU5hbWUgIT09ICdURVhUQVJFQScgfHwgISR3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIHNldCB0aGVzZSBwcm9wZXJ0aWVzIGJlZm9yZSBtZWFzdXJpbmcgZGltZW5zaW9uc1xuICAgICAgICAgICR0YS5jc3Moe1xuICAgICAgICAgICAgJ292ZXJmbG93JzogJ2hpZGRlbicsXG4gICAgICAgICAgICAnb3ZlcmZsb3cteSc6ICdoaWRkZW4nLFxuICAgICAgICAgICAgJ3dvcmQtd3JhcCc6ICdicmVhay13b3JkJ1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgLy8gZm9yY2UgdGV4dCByZWZsb3dcbiAgICAgICAgICB2YXIgdGV4dCA9IHRhLnZhbHVlO1xuICAgICAgICAgIHRhLnZhbHVlID0gJyc7XG4gICAgICAgICAgdGEudmFsdWUgPSB0ZXh0O1xuXG4gICAgICAgICAgdmFyIGFwcGVuZCA9IGF0dHJzLm1zZEVsYXN0aWMgPyBhdHRycy5tc2RFbGFzdGljLnJlcGxhY2UoL1xcXFxuL2csICdcXG4nKSA6IGNvbmZpZy5hcHBlbmQsXG4gICAgICAgICAgICAgICR3aW4gPSBhbmd1bGFyLmVsZW1lbnQoJHdpbmRvdyksXG4gICAgICAgICAgICAgIG1pcnJvckluaXRTdHlsZSA9ICdwb3NpdGlvbjogYWJzb2x1dGU7IHRvcDogLTk5OXB4OyByaWdodDogYXV0bzsgYm90dG9tOiBhdXRvOycgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnbGVmdDogMDsgb3ZlcmZsb3c6IGhpZGRlbjsgLXdlYmtpdC1ib3gtc2l6aW5nOiBjb250ZW50LWJveDsnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJy1tb3otYm94LXNpemluZzogY29udGVudC1ib3g7IGJveC1zaXppbmc6IGNvbnRlbnQtYm94OycgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnbWluLWhlaWdodDogMCAhaW1wb3J0YW50OyBoZWlnaHQ6IDAgIWltcG9ydGFudDsgcGFkZGluZzogMDsnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3dvcmQtd3JhcDogYnJlYWstd29yZDsgYm9yZGVyOiAwOycsXG4gICAgICAgICAgICAgICRtaXJyb3IgPSBhbmd1bGFyLmVsZW1lbnQoJzx0ZXh0YXJlYSBhcmlhLWhpZGRlbj1cInRydWVcIiB0YWJpbmRleD1cIi0xXCIgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3N0eWxlPVwiJyArIG1pcnJvckluaXRTdHlsZSArICdcIi8+JykuZGF0YSgnZWxhc3RpYycsIHRydWUpLFxuICAgICAgICAgICAgICBtaXJyb3IgPSAkbWlycm9yWzBdLFxuICAgICAgICAgICAgICB0YVN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZSh0YSksXG4gICAgICAgICAgICAgIHJlc2l6ZSA9IHRhU3R5bGUuZ2V0UHJvcGVydHlWYWx1ZSgncmVzaXplJyksXG4gICAgICAgICAgICAgIGJvcmRlckJveCA9IHRhU3R5bGUuZ2V0UHJvcGVydHlWYWx1ZSgnYm94LXNpemluZycpID09PSAnYm9yZGVyLWJveCcgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGFTdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKCctbW96LWJveC1zaXppbmcnKSA9PT0gJ2JvcmRlci1ib3gnIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRhU3R5bGUuZ2V0UHJvcGVydHlWYWx1ZSgnLXdlYmtpdC1ib3gtc2l6aW5nJykgPT09ICdib3JkZXItYm94JyxcbiAgICAgICAgICAgICAgYm94T3V0ZXIgPSAhYm9yZGVyQm94ID8ge3dpZHRoOiAwLCBoZWlnaHQ6IDB9IDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiAgcGFyc2VJbnQodGFTdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKCdib3JkZXItcmlnaHQtd2lkdGgnKSwgMTApICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlSW50KHRhU3R5bGUuZ2V0UHJvcGVydHlWYWx1ZSgncGFkZGluZy1yaWdodCcpLCAxMCkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2VJbnQodGFTdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKCdwYWRkaW5nLWxlZnQnKSwgMTApICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlSW50KHRhU3R5bGUuZ2V0UHJvcGVydHlWYWx1ZSgnYm9yZGVyLWxlZnQtd2lkdGgnKSwgMTApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogcGFyc2VJbnQodGFTdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKCdib3JkZXItdG9wLXdpZHRoJyksIDEwKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJzZUludCh0YVN0eWxlLmdldFByb3BlcnR5VmFsdWUoJ3BhZGRpbmctdG9wJyksIDEwKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJzZUludCh0YVN0eWxlLmdldFByb3BlcnR5VmFsdWUoJ3BhZGRpbmctYm90dG9tJyksIDEwKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJzZUludCh0YVN0eWxlLmdldFByb3BlcnR5VmFsdWUoJ2JvcmRlci1ib3R0b20td2lkdGgnKSwgMTApXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIG1pbkhlaWdodFZhbHVlID0gcGFyc2VJbnQodGFTdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKCdtaW4taGVpZ2h0JyksIDEwKSxcbiAgICAgICAgICAgICAgaGVpZ2h0VmFsdWUgPSBwYXJzZUludCh0YVN0eWxlLmdldFByb3BlcnR5VmFsdWUoJ2hlaWdodCcpLCAxMCksXG4gICAgICAgICAgICAgIG1pbkhlaWdodCA9IE1hdGgubWF4KG1pbkhlaWdodFZhbHVlLCBoZWlnaHRWYWx1ZSkgLSBib3hPdXRlci5oZWlnaHQsXG4gICAgICAgICAgICAgIG1heEhlaWdodCA9IHBhcnNlSW50KHRhU3R5bGUuZ2V0UHJvcGVydHlWYWx1ZSgnbWF4LWhlaWdodCcpLCAxMCksXG4gICAgICAgICAgICAgIG1pcnJvcmVkLFxuICAgICAgICAgICAgICBhY3RpdmUsXG4gICAgICAgICAgICAgIGNvcHlTdHlsZSA9IFsnZm9udC1mYW1pbHknLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2ZvbnQtc2l6ZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAnZm9udC13ZWlnaHQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2ZvbnQtc3R5bGUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2xldHRlci1zcGFjaW5nJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICdsaW5lLWhlaWdodCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAndGV4dC10cmFuc2Zvcm0nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3dvcmQtc3BhY2luZycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAndGV4dC1pbmRlbnQnXTtcblxuICAgICAgICAgIC8vIGV4aXQgaWYgZWxhc3RpYyBhbHJlYWR5IGFwcGxpZWQgKG9yIGlzIHRoZSBtaXJyb3IgZWxlbWVudClcbiAgICAgICAgICBpZiAoJHRhLmRhdGEoJ2VsYXN0aWMnKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIE9wZXJhIHJldHVybnMgbWF4LWhlaWdodCBvZiAtMSBpZiBub3Qgc2V0XG4gICAgICAgICAgbWF4SGVpZ2h0ID0gbWF4SGVpZ2h0ICYmIG1heEhlaWdodCA+IDAgPyBtYXhIZWlnaHQgOiA5ZTQ7XG5cbiAgICAgICAgICAvLyBhcHBlbmQgbWlycm9yIHRvIHRoZSBET01cbiAgICAgICAgICBpZiAobWlycm9yLnBhcmVudE5vZGUgIT09IGRvY3VtZW50LmJvZHkpIHtcbiAgICAgICAgICAgIGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudC5ib2R5KS5hcHBlbmQobWlycm9yKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBzZXQgcmVzaXplIGFuZCBhcHBseSBlbGFzdGljXG4gICAgICAgICAgJHRhLmNzcyh7XG4gICAgICAgICAgICAncmVzaXplJzogKHJlc2l6ZSA9PT0gJ25vbmUnIHx8IHJlc2l6ZSA9PT0gJ3ZlcnRpY2FsJykgPyAnbm9uZScgOiAnaG9yaXpvbnRhbCdcbiAgICAgICAgICB9KS5kYXRhKCdlbGFzdGljJywgdHJ1ZSk7XG5cbiAgICAgICAgICAvKlxuICAgICAgICAgICAqIG1ldGhvZHNcbiAgICAgICAgICAgKi9cblxuICAgICAgICAgIGZ1bmN0aW9uIGluaXRNaXJyb3IoKSB7XG4gICAgICAgICAgICB2YXIgbWlycm9yU3R5bGUgPSBtaXJyb3JJbml0U3R5bGU7XG5cbiAgICAgICAgICAgIG1pcnJvcmVkID0gdGE7XG4gICAgICAgICAgICAvLyBjb3B5IHRoZSBlc3NlbnRpYWwgc3R5bGVzIGZyb20gdGhlIHRleHRhcmVhIHRvIHRoZSBtaXJyb3JcbiAgICAgICAgICAgIHRhU3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKHRhKTtcbiAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChjb3B5U3R5bGUsIGZ1bmN0aW9uKHZhbCkge1xuICAgICAgICAgICAgICBtaXJyb3JTdHlsZSArPSB2YWwgKyAnOicgKyB0YVN0eWxlLmdldFByb3BlcnR5VmFsdWUodmFsKSArICc7JztcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgbWlycm9yLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCBtaXJyb3JTdHlsZSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZnVuY3Rpb24gYWRqdXN0KCkge1xuICAgICAgICAgICAgdmFyIHRhSGVpZ2h0LFxuICAgICAgICAgICAgICAgIHRhQ29tcHV0ZWRTdHlsZVdpZHRoLFxuICAgICAgICAgICAgICAgIG1pcnJvckhlaWdodCxcbiAgICAgICAgICAgICAgICB3aWR0aCxcbiAgICAgICAgICAgICAgICBvdmVyZmxvdztcblxuICAgICAgICAgICAgaWYgKG1pcnJvcmVkICE9PSB0YSkge1xuICAgICAgICAgICAgICBpbml0TWlycm9yKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGFjdGl2ZSBmbGFnIHByZXZlbnRzIGFjdGlvbnMgaW4gZnVuY3Rpb24gZnJvbSBjYWxsaW5nIGFkanVzdCBhZ2FpblxuICAgICAgICAgICAgaWYgKCFhY3RpdmUpIHtcbiAgICAgICAgICAgICAgYWN0aXZlID0gdHJ1ZTtcblxuICAgICAgICAgICAgICBtaXJyb3IudmFsdWUgPSB0YS52YWx1ZSArIGFwcGVuZDsgLy8gb3B0aW9uYWwgd2hpdGVzcGFjZSB0byBpbXByb3ZlIGFuaW1hdGlvblxuICAgICAgICAgICAgICBtaXJyb3Iuc3R5bGUub3ZlcmZsb3dZID0gdGEuc3R5bGUub3ZlcmZsb3dZO1xuXG4gICAgICAgICAgICAgIHRhSGVpZ2h0ID0gdGEuc3R5bGUuaGVpZ2h0ID09PSAnJyA/ICdhdXRvJyA6IHBhcnNlSW50KHRhLnN0eWxlLmhlaWdodCwgMTApO1xuXG4gICAgICAgICAgICAgIHRhQ29tcHV0ZWRTdHlsZVdpZHRoID0gZ2V0Q29tcHV0ZWRTdHlsZSh0YSkuZ2V0UHJvcGVydHlWYWx1ZSgnd2lkdGgnKTtcblxuICAgICAgICAgICAgICAvLyBlbnN1cmUgZ2V0Q29tcHV0ZWRTdHlsZSBoYXMgcmV0dXJuZWQgYSByZWFkYWJsZSAndXNlZCB2YWx1ZScgcGl4ZWwgd2lkdGhcbiAgICAgICAgICAgICAgaWYgKHRhQ29tcHV0ZWRTdHlsZVdpZHRoLnN1YnN0cih0YUNvbXB1dGVkU3R5bGVXaWR0aC5sZW5ndGggLSAyLCAyKSA9PT0gJ3B4Jykge1xuICAgICAgICAgICAgICAgIC8vIHVwZGF0ZSBtaXJyb3Igd2lkdGggaW4gY2FzZSB0aGUgdGV4dGFyZWEgd2lkdGggaGFzIGNoYW5nZWRcbiAgICAgICAgICAgICAgICB3aWR0aCA9IHBhcnNlSW50KHRhQ29tcHV0ZWRTdHlsZVdpZHRoLCAxMCkgLSBib3hPdXRlci53aWR0aDtcbiAgICAgICAgICAgICAgICBtaXJyb3Iuc3R5bGUud2lkdGggPSB3aWR0aCArICdweCc7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBtaXJyb3JIZWlnaHQgPSBtaXJyb3Iuc2Nyb2xsSGVpZ2h0O1xuXG4gICAgICAgICAgICAgIGlmIChtaXJyb3JIZWlnaHQgPiBtYXhIZWlnaHQpIHtcbiAgICAgICAgICAgICAgICBtaXJyb3JIZWlnaHQgPSBtYXhIZWlnaHQ7XG4gICAgICAgICAgICAgICAgb3ZlcmZsb3cgPSAnc2Nyb2xsJztcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChtaXJyb3JIZWlnaHQgPCBtaW5IZWlnaHQpIHtcbiAgICAgICAgICAgICAgICBtaXJyb3JIZWlnaHQgPSBtaW5IZWlnaHQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgbWlycm9ySGVpZ2h0ICs9IGJveE91dGVyLmhlaWdodDtcbiAgICAgICAgICAgICAgdGEuc3R5bGUub3ZlcmZsb3dZID0gb3ZlcmZsb3cgfHwgJ2hpZGRlbic7XG5cbiAgICAgICAgICAgICAgaWYgKHRhSGVpZ2h0ICE9PSBtaXJyb3JIZWlnaHQpIHtcbiAgICAgICAgICAgICAgICBzY29wZS4kZW1pdCgnZWxhc3RpYzpyZXNpemUnLCAkdGEsIHRhSGVpZ2h0LCBtaXJyb3JIZWlnaHQpO1xuICAgICAgICAgICAgICAgIHRhLnN0eWxlLmhlaWdodCA9IG1pcnJvckhlaWdodCArICdweCc7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAvLyBzbWFsbCBkZWxheSB0byBwcmV2ZW50IGFuIGluZmluaXRlIGxvb3BcbiAgICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgYWN0aXZlID0gZmFsc2U7XG4gICAgICAgICAgICAgIH0sIDEsIGZhbHNlKTtcblxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGZ1bmN0aW9uIGZvcmNlQWRqdXN0KCkge1xuICAgICAgICAgICAgYWN0aXZlID0gZmFsc2U7XG4gICAgICAgICAgICBhZGp1c3QoKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvKlxuICAgICAgICAgICAqIGluaXRpYWxpc2VcbiAgICAgICAgICAgKi9cblxuICAgICAgICAgIC8vIGxpc3RlblxuICAgICAgICAgIGlmICgnb25wcm9wZXJ0eWNoYW5nZScgaW4gdGEgJiYgJ29uaW5wdXQnIGluIHRhKSB7XG4gICAgICAgICAgICAvLyBJRTlcbiAgICAgICAgICAgIHRhWydvbmlucHV0J10gPSB0YS5vbmtleXVwID0gYWRqdXN0O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0YVsnb25pbnB1dCddID0gYWRqdXN0O1xuICAgICAgICAgIH1cblxuICAgICAgICAgICR3aW4uYmluZCgncmVzaXplJywgZm9yY2VBZGp1c3QpO1xuXG4gICAgICAgICAgc2NvcGUuJHdhdGNoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIG5nTW9kZWwuJG1vZGVsVmFsdWU7XG4gICAgICAgICAgfSwgZnVuY3Rpb24obmV3VmFsdWUpIHtcbiAgICAgICAgICAgIGZvcmNlQWRqdXN0KCk7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBzY29wZS4kb24oJ2VsYXN0aWM6YWRqdXN0JywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpbml0TWlycm9yKCk7XG4gICAgICAgICAgICBmb3JjZUFkanVzdCgpO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgJHRpbWVvdXQoYWRqdXN0LCAwLCBmYWxzZSk7XG5cbiAgICAgICAgICAvKlxuICAgICAgICAgICAqIGRlc3Ryb3lcbiAgICAgICAgICAgKi9cblxuICAgICAgICAgIHNjb3BlLiRvbignJGRlc3Ryb3knLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICRtaXJyb3IucmVtb3ZlKCk7XG4gICAgICAgICAgICAkd2luLnVuYmluZCgncmVzaXplJywgZm9yY2VBZGp1c3QpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgXSk7XG4iLCIvKipcbiAqIEJ1bmNoIG9mIHVzZWZ1bCBmaWx0ZXJzIGZvciBhbmd1bGFySlMod2l0aCBubyBleHRlcm5hbCBkZXBlbmRlbmNpZXMhKVxuICogQHZlcnNpb24gdjAuNS4xMSAtIDIwMTYtMDgtMTYgKiBAbGluayBodHRwczovL2dpdGh1Yi5jb20vYThtL2FuZ3VsYXItZmlsdGVyXG4gKiBAYXV0aG9yIEFyaWVsIE1hc2hyYWtpIDxhcmllbEBtYXNocmFraS5jby5pbD5cbiAqIEBsaWNlbnNlIE1JVCBMaWNlbnNlLCBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVFxuICovIWZ1bmN0aW9uKGEsYixjKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBkKGEpe3JldHVybiBEKGEpP2E6T2JqZWN0LmtleXMoYSkubWFwKGZ1bmN0aW9uKGIpe3JldHVybiBhW2JdfSl9ZnVuY3Rpb24gZShhKXtyZXR1cm4gbnVsbD09PWF9ZnVuY3Rpb24gZihhLGIpe3ZhciBkPU9iamVjdC5rZXlzKGEpO3JldHVybiBkLm1hcChmdW5jdGlvbihkKXtyZXR1cm4gYltkXSE9PWMmJmJbZF09PWFbZF19KS5pbmRleE9mKCExKT09LTF9ZnVuY3Rpb24gZyhhLGIpe2Z1bmN0aW9uIGMoYSxiLGMpe2Zvcih2YXIgZD0wO2IrZDw9YS5sZW5ndGg7KXtpZihhLmNoYXJBdChiK2QpPT1jKXJldHVybiBkO2QrK31yZXR1cm4tMX1mb3IodmFyIGQ9MCxlPTA7ZTw9Yi5sZW5ndGg7ZSsrKXt2YXIgZj1jKGEsZCxiLmNoYXJBdChlKSk7aWYoZj09LTEpcmV0dXJuITE7ZCs9ZisxfXJldHVybiEwfWZ1bmN0aW9uIGgoYSxiLGMpe3ZhciBkPTA7cmV0dXJuIGEuZmlsdGVyKGZ1bmN0aW9uKGEpe3ZhciBlPXgoYyk/ZDxiJiZjKGEpOmQ8YjtyZXR1cm4gZD1lP2QrMTpkLGV9KX1mdW5jdGlvbiBpKGEsYixjKXtyZXR1cm4gYy5yb3VuZChhKmMucG93KDEwLGIpKS9jLnBvdygxMCxiKX1mdW5jdGlvbiBqKGEsYixjKXtiPWJ8fFtdO3ZhciBkPU9iamVjdC5rZXlzKGEpO3JldHVybiBkLmZvckVhY2goZnVuY3Rpb24oZCl7aWYoQyhhW2RdKSYmIUQoYVtkXSkpe3ZhciBlPWM/YytcIi5cIitkOmM7aihhW2RdLGIsZXx8ZCl9ZWxzZXt2YXIgZj1jP2MrXCIuXCIrZDpkO2IucHVzaChmKX19KSxifWZ1bmN0aW9uIGsoYSl7cmV0dXJuIGEmJmEuJGV2YWxBc3luYyYmYS4kd2F0Y2h9ZnVuY3Rpb24gbCgpe3JldHVybiBmdW5jdGlvbihhLGIpe3JldHVybiBhPmJ9fWZ1bmN0aW9uIG0oKXtyZXR1cm4gZnVuY3Rpb24oYSxiKXtyZXR1cm4gYT49Yn19ZnVuY3Rpb24gbigpe3JldHVybiBmdW5jdGlvbihhLGIpe3JldHVybiBhPGJ9fWZ1bmN0aW9uIG8oKXtyZXR1cm4gZnVuY3Rpb24oYSxiKXtyZXR1cm4gYTw9Yn19ZnVuY3Rpb24gcCgpe3JldHVybiBmdW5jdGlvbihhLGIpe3JldHVybiBhPT1ifX1mdW5jdGlvbiBxKCl7cmV0dXJuIGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEhPWJ9fWZ1bmN0aW9uIHIoKXtyZXR1cm4gZnVuY3Rpb24oYSxiKXtyZXR1cm4gYT09PWJ9fWZ1bmN0aW9uIHMoKXtyZXR1cm4gZnVuY3Rpb24oYSxiKXtyZXR1cm4gYSE9PWJ9fWZ1bmN0aW9uIHQoYSl7cmV0dXJuIGZ1bmN0aW9uKGIsYyl7cmV0dXJuIGI9QyhiKT9kKGIpOmIsISghRChiKXx8eShjKSkmJmIuc29tZShmdW5jdGlvbihiKXtyZXR1cm4gQShjKSYmQyhiKXx8eihjKT9hKGMpKGIpOmI9PT1jfSl9fWZ1bmN0aW9uIHUoYSxiKXtyZXR1cm4gYj1ifHwwLGI+PWEubGVuZ3RoP2E6RChhW2JdKT91KGEuc2xpY2UoMCxiKS5jb25jYXQoYVtiXSxhLnNsaWNlKGIrMSkpLGIpOnUoYSxiKzEpfWZ1bmN0aW9uIHYoYSl7cmV0dXJuIGZ1bmN0aW9uKGIsYyl7ZnVuY3Rpb24gZShhLGIpe3JldHVybiF5KGIpJiZhLnNvbWUoZnVuY3Rpb24oYSl7cmV0dXJuIEgoYSxiKX0pfWlmKGI9QyhiKT9kKGIpOmIsIUQoYikpcmV0dXJuIGI7dmFyIGY9W10sZz1hKGMpO3JldHVybiB5KGMpP2IuZmlsdGVyKGZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gYy5pbmRleE9mKGEpPT09Yn0pOmIuZmlsdGVyKGZ1bmN0aW9uKGEpe3ZhciBiPWcoYSk7cmV0dXJuIWUoZixiKSYmKGYucHVzaChiKSwhMCl9KX19ZnVuY3Rpb24gdyhhLGIsYyl7cmV0dXJuIGI/YStjK3coYSwtLWIsYyk6YX12YXIgeD1iLmlzRGVmaW5lZCx5PWIuaXNVbmRlZmluZWQsej1iLmlzRnVuY3Rpb24sQT1iLmlzU3RyaW5nLEI9Yi5pc051bWJlcixDPWIuaXNPYmplY3QsRD1iLmlzQXJyYXksRT1iLmZvckVhY2gsRj1iLmV4dGVuZCxHPWIuY29weSxIPWIuZXF1YWxzO1N0cmluZy5wcm90b3R5cGUuY29udGFpbnN8fChTdHJpbmcucHJvdG90eXBlLmNvbnRhaW5zPWZ1bmN0aW9uKCl7cmV0dXJuIFN0cmluZy5wcm90b3R5cGUuaW5kZXhPZi5hcHBseSh0aGlzLGFyZ3VtZW50cykhPT0tMX0pLGIubW9kdWxlKFwiYThtLmFuZ3VsYXJcIixbXSkuZmlsdGVyKFwiaXNVbmRlZmluZWRcIixmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihhKXtyZXR1cm4gYi5pc1VuZGVmaW5lZChhKX19KS5maWx0ZXIoXCJpc0RlZmluZWRcIixmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihhKXtyZXR1cm4gYi5pc0RlZmluZWQoYSl9fSkuZmlsdGVyKFwiaXNGdW5jdGlvblwiLGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGEpe3JldHVybiBiLmlzRnVuY3Rpb24oYSl9fSkuZmlsdGVyKFwiaXNTdHJpbmdcIixmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihhKXtyZXR1cm4gYi5pc1N0cmluZyhhKX19KS5maWx0ZXIoXCJpc051bWJlclwiLGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGEpe3JldHVybiBiLmlzTnVtYmVyKGEpfX0pLmZpbHRlcihcImlzQXJyYXlcIixmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihhKXtyZXR1cm4gYi5pc0FycmF5KGEpfX0pLmZpbHRlcihcImlzT2JqZWN0XCIsZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oYSl7cmV0dXJuIGIuaXNPYmplY3QoYSl9fSkuZmlsdGVyKFwiaXNFcXVhbFwiLGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGEsYyl7cmV0dXJuIGIuZXF1YWxzKGEsYyl9fSksYi5tb2R1bGUoXCJhOG0uY29uZGl0aW9uc1wiLFtdKS5maWx0ZXIoe2lzR3JlYXRlclRoYW46bCxcIj5cIjpsLGlzR3JlYXRlclRoYW5PckVxdWFsVG86bSxcIj49XCI6bSxpc0xlc3NUaGFuOm4sXCI8XCI6bixpc0xlc3NUaGFuT3JFcXVhbFRvOm8sXCI8PVwiOm8saXNFcXVhbFRvOnAsXCI9PVwiOnAsaXNOb3RFcXVhbFRvOnEsXCIhPVwiOnEsaXNJZGVudGljYWxUbzpyLFwiPT09XCI6cixpc05vdElkZW50aWNhbFRvOnMsXCIhPT1cIjpzfSksYi5tb2R1bGUoXCJhOG0uaXMtbnVsbFwiLFtdKS5maWx0ZXIoXCJpc051bGxcIixmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihhKXtyZXR1cm4gZShhKX19KSxiLm1vZHVsZShcImE4bS5hZnRlci13aGVyZVwiLFtdKS5maWx0ZXIoXCJhZnRlcldoZXJlXCIsZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oYSxiKXtpZihhPUMoYSk/ZChhKTphLCFEKGEpfHx5KGIpKXJldHVybiBhO3ZhciBjPWEubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBmKGIsYSl9KS5pbmRleE9mKCEwKTtyZXR1cm4gYS5zbGljZShjPT09LTE/MDpjKX19KSxiLm1vZHVsZShcImE4bS5hZnRlclwiLFtdKS5maWx0ZXIoXCJhZnRlclwiLGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGEsYil7cmV0dXJuIGE9QyhhKT9kKGEpOmEsRChhKT9hLnNsaWNlKGIpOmF9fSksYi5tb2R1bGUoXCJhOG0uYmVmb3JlLXdoZXJlXCIsW10pLmZpbHRlcihcImJlZm9yZVdoZXJlXCIsZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oYSxiKXtpZihhPUMoYSk/ZChhKTphLCFEKGEpfHx5KGIpKXJldHVybiBhO3ZhciBjPWEubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBmKGIsYSl9KS5pbmRleE9mKCEwKTtyZXR1cm4gYS5zbGljZSgwLGM9PT0tMT9hLmxlbmd0aDorK2MpfX0pLGIubW9kdWxlKFwiYThtLmJlZm9yZVwiLFtdKS5maWx0ZXIoXCJiZWZvcmVcIixmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihhLGIpe3JldHVybiBhPUMoYSk/ZChhKTphLEQoYSk/YS5zbGljZSgwLGI/LS1iOmIpOmF9fSksYi5tb2R1bGUoXCJhOG0uY2h1bmstYnlcIixbXCJhOG0uZmlsdGVyLXdhdGNoZXJcIl0pLmZpbHRlcihcImNodW5rQnlcIixbXCJmaWx0ZXJXYXRjaGVyXCIsZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKGIsYyxkKXtmdW5jdGlvbiBlKGEsYil7Zm9yKHZhciBjPVtdO2EtLTspY1thXT1iO3JldHVybiBjfWZ1bmN0aW9uIGYoYSxiLGMpe3JldHVybiBEKGEpP2EubWFwKGZ1bmN0aW9uKGEsZCxmKXtyZXR1cm4gZCo9YixhPWYuc2xpY2UoZCxkK2IpLCF5KGMpJiZhLmxlbmd0aDxiP2EuY29uY2F0KGUoYi1hLmxlbmd0aCxjKSk6YX0pLnNsaWNlKDAsTWF0aC5jZWlsKGEubGVuZ3RoL2IpKTphfXJldHVybiBhLmlzTWVtb2l6ZWQoXCJjaHVua0J5XCIsYXJndW1lbnRzKXx8YS5tZW1vaXplKFwiY2h1bmtCeVwiLGFyZ3VtZW50cyx0aGlzLGYoYixjLGQpKX19XSksYi5tb2R1bGUoXCJhOG0uY29uY2F0XCIsW10pLmZpbHRlcihcImNvbmNhdFwiLFtmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihhLGIpe2lmKHkoYikpcmV0dXJuIGE7aWYoRChhKSlyZXR1cm4gQyhiKT9hLmNvbmNhdChkKGIpKTphLmNvbmNhdChiKTtpZihDKGEpKXt2YXIgYz1kKGEpO3JldHVybiBDKGIpP2MuY29uY2F0KGQoYikpOmMuY29uY2F0KGIpfXJldHVybiBhfX1dKSxiLm1vZHVsZShcImE4bS5jb250YWluc1wiLFtdKS5maWx0ZXIoe2NvbnRhaW5zOltcIiRwYXJzZVwiLHRdLHNvbWU6W1wiJHBhcnNlXCIsdF19KSxiLm1vZHVsZShcImE4bS5jb3VudC1ieVwiLFtdKS5maWx0ZXIoXCJjb3VudEJ5XCIsW1wiJHBhcnNlXCIsZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKGIsYyl7dmFyIGUsZj17fSxnPWEoYyk7cmV0dXJuIGI9QyhiKT9kKGIpOmIsIUQoYil8fHkoYyk/YjooYi5mb3JFYWNoKGZ1bmN0aW9uKGEpe2U9ZyhhKSxmW2VdfHwoZltlXT0wKSxmW2VdKyt9KSxmKX19XSksYi5tb2R1bGUoXCJhOG0uZGVmYXVsdHNcIixbXSkuZmlsdGVyKFwiZGVmYXVsdHNcIixbXCIkcGFyc2VcIixmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYixjKXtpZihiPUMoYik/ZChiKTpiLCFEKGIpfHwhQyhjKSlyZXR1cm4gYjt2YXIgZT1qKGMpO3JldHVybiBiLmZvckVhY2goZnVuY3Rpb24oYil7ZS5mb3JFYWNoKGZ1bmN0aW9uKGQpe3ZhciBlPWEoZCksZj1lLmFzc2lnbjt5KGUoYikpJiZmKGIsZShjKSl9KX0pLGJ9fV0pLGIubW9kdWxlKFwiYThtLmV2ZXJ5XCIsW10pLmZpbHRlcihcImV2ZXJ5XCIsW1wiJHBhcnNlXCIsZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKGIsYyl7cmV0dXJuIGI9QyhiKT9kKGIpOmIsIShEKGIpJiYheShjKSl8fGIuZXZlcnkoZnVuY3Rpb24oYil7cmV0dXJuIEMoYil8fHooYyk/YShjKShiKTpiPT09Y30pfX1dKSxiLm1vZHVsZShcImE4bS5maWx0ZXItYnlcIixbXSkuZmlsdGVyKFwiZmlsdGVyQnlcIixbXCIkcGFyc2VcIixmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYixlLGYsZyl7dmFyIGg7cmV0dXJuIGY9QShmKXx8QihmKT9TdHJpbmcoZikudG9Mb3dlckNhc2UoKTpjLGI9QyhiKT9kKGIpOmIsIUQoYil8fHkoZik/YjpiLmZpbHRlcihmdW5jdGlvbihiKXtyZXR1cm4gZS5zb21lKGZ1bmN0aW9uKGMpe2lmKH5jLmluZGV4T2YoXCIrXCIpKXt2YXIgZD1jLnJlcGxhY2UoL1xccysvZyxcIlwiKS5zcGxpdChcIitcIik7aD1kLm1hcChmdW5jdGlvbihjKXtyZXR1cm4gYShjKShiKX0pLmpvaW4oXCIgXCIpfWVsc2UgaD1hKGMpKGIpO3JldHVybiEoIUEoaCkmJiFCKGgpKSYmKGg9U3RyaW5nKGgpLnRvTG93ZXJDYXNlKCksZz9oPT09ZjpoLmNvbnRhaW5zKGYpKX0pfSl9fV0pLGIubW9kdWxlKFwiYThtLmZpcnN0XCIsW10pLmZpbHRlcihcImZpcnN0XCIsW1wiJHBhcnNlXCIsZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe3ZhciBlLGYsZztyZXR1cm4gYj1DKGIpP2QoYik6YixEKGIpPyhnPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSxlPUIoZ1swXSk/Z1swXToxLGY9QihnWzBdKT9CKGdbMV0pP2M6Z1sxXTpnWzBdLGcubGVuZ3RoP2goYixlLGY/YShmKTpmKTpiWzBdKTpifX1dKSxiLm1vZHVsZShcImE4bS5mbGF0dGVuXCIsW10pLmZpbHRlcihcImZsYXR0ZW5cIixmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihhLGIpe3JldHVybiBiPWJ8fCExLGE9QyhhKT9kKGEpOmEsRChhKT9iP1tdLmNvbmNhdC5hcHBseShbXSxhKTp1KGEsMCk6YX19KSxiLm1vZHVsZShcImE4bS5mdXp6eS1ieVwiLFtdKS5maWx0ZXIoXCJmdXp6eUJ5XCIsW1wiJHBhcnNlXCIsZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKGIsYyxlLGYpe3ZhciBoLGksaj1mfHwhMTtyZXR1cm4gYj1DKGIpP2QoYik6YiwhRChiKXx8eShjKXx8eShlKT9iOihpPWEoYyksYi5maWx0ZXIoZnVuY3Rpb24oYSl7cmV0dXJuIGg9aShhKSwhIUEoaCkmJihoPWo/aDpoLnRvTG93ZXJDYXNlKCksZT1qP2U6ZS50b0xvd2VyQ2FzZSgpLGcoaCxlKSE9PSExKX0pKX19XSksYi5tb2R1bGUoXCJhOG0uZnV6enlcIixbXSkuZmlsdGVyKFwiZnV6enlcIixmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihhLGIsYyl7ZnVuY3Rpb24gZShhLGIpe3ZhciBjLGQsZT1PYmplY3Qua2V5cyhhKTtyZXR1cm4gMDxlLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gYz1hW2VdLCEhZHx8ISFBKGMpJiYoYz1mP2M6Yy50b0xvd2VyQ2FzZSgpLGQ9ZyhjLGIpIT09ITEpfSkubGVuZ3RofXZhciBmPWN8fCExO3JldHVybiBhPUMoYSk/ZChhKTphLCFEKGEpfHx5KGIpP2E6KGI9Zj9iOmIudG9Mb3dlckNhc2UoKSxhLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4gQShhKT8oYT1mP2E6YS50b0xvd2VyQ2FzZSgpLGcoYSxiKSE9PSExKTohIUMoYSkmJmUoYSxiKX0pKX19KSxiLm1vZHVsZShcImE4bS5ncm91cC1ieVwiLFtcImE4bS5maWx0ZXItd2F0Y2hlclwiXSkuZmlsdGVyKFwiZ3JvdXBCeVwiLFtcIiRwYXJzZVwiLFwiZmlsdGVyV2F0Y2hlclwiLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGZ1bmN0aW9uKGMsZCl7ZnVuY3Rpb24gZShhLGIpe3ZhciBjLGQ9e307cmV0dXJuIEUoYSxmdW5jdGlvbihhKXtjPWIoYSksZFtjXXx8KGRbY109W10pLGRbY10ucHVzaChhKX0pLGR9cmV0dXJuIUMoYyl8fHkoZCk/YzpiLmlzTWVtb2l6ZWQoXCJncm91cEJ5XCIsYXJndW1lbnRzKXx8Yi5tZW1vaXplKFwiZ3JvdXBCeVwiLGFyZ3VtZW50cyx0aGlzLGUoYyxhKGQpKSl9fV0pLGIubW9kdWxlKFwiYThtLmlzLWVtcHR5XCIsW10pLmZpbHRlcihcImlzRW1wdHlcIixmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihhKXtyZXR1cm4gQyhhKT8hZChhKS5sZW5ndGg6IWEubGVuZ3RofX0pLGIubW9kdWxlKFwiYThtLmpvaW5cIixbXSkuZmlsdGVyKFwiam9pblwiLGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGEsYil7cmV0dXJuIHkoYSl8fCFEKGEpP2E6KHkoYikmJihiPVwiIFwiKSxhLmpvaW4oYikpfX0pLGIubW9kdWxlKFwiYThtLmxhc3RcIixbXSkuZmlsdGVyKFwibGFzdFwiLFtcIiRwYXJzZVwiLGZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiKXt2YXIgZSxmLGcsaT1HKGIpO3JldHVybiBpPUMoaSk/ZChpKTppLEQoaSk/KGc9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpLGU9QihnWzBdKT9nWzBdOjEsZj1CKGdbMF0pP0IoZ1sxXSk/YzpnWzFdOmdbMF0sZy5sZW5ndGg/aChpLnJldmVyc2UoKSxlLGY/YShmKTpmKS5yZXZlcnNlKCk6aVtpLmxlbmd0aC0xXSk6aX19XSksYi5tb2R1bGUoXCJhOG0ubWFwXCIsW10pLmZpbHRlcihcIm1hcFwiLFtcIiRwYXJzZVwiLGZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiLGMpe3JldHVybiBiPUMoYik/ZChiKTpiLCFEKGIpfHx5KGMpP2I6Yi5tYXAoZnVuY3Rpb24oYil7cmV0dXJuIGEoYykoYil9KX19XSksYi5tb2R1bGUoXCJhOG0ub21pdFwiLFtdKS5maWx0ZXIoXCJvbWl0XCIsW1wiJHBhcnNlXCIsZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKGIsYyl7cmV0dXJuIGI9QyhiKT9kKGIpOmIsIUQoYil8fHkoYyk/YjpiLmZpbHRlcihmdW5jdGlvbihiKXtyZXR1cm4hYShjKShiKX0pfX1dKSxiLm1vZHVsZShcImE4bS5waWNrXCIsW10pLmZpbHRlcihcInBpY2tcIixbXCIkcGFyc2VcIixmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYixjKXtyZXR1cm4gYj1DKGIpP2QoYik6YiwhRChiKXx8eShjKT9iOmIuZmlsdGVyKGZ1bmN0aW9uKGIpe3JldHVybiBhKGMpKGIpfSl9fV0pLGIubW9kdWxlKFwiYThtLnJhbmdlXCIsW10pLmZpbHRlcihcInJhbmdlXCIsZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oYSxiLGMsZCxlKXtjPWN8fDAsZD1kfHwxO2Zvcih2YXIgZj0wO2Y8cGFyc2VJbnQoYik7ZisrKXt2YXIgZz1jK2YqZDthLnB1c2goeihlKT9lKGcpOmcpfXJldHVybiBhfX0pLGIubW9kdWxlKFwiYThtLnJlbW92ZS13aXRoXCIsW10pLmZpbHRlcihcInJlbW92ZVdpdGhcIixmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihhLGIpe3JldHVybiB5KGIpP2E6KGE9QyhhKT9kKGEpOmEsYS5maWx0ZXIoZnVuY3Rpb24oYSl7cmV0dXJuIWYoYixhKX0pKX19KSxiLm1vZHVsZShcImE4bS5yZW1vdmVcIixbXSkuZmlsdGVyKFwicmVtb3ZlXCIsZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oYSl7YT1DKGEpP2QoYSk6YTt2YXIgYj1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSk7cmV0dXJuIEQoYSk/YS5maWx0ZXIoZnVuY3Rpb24oYSl7cmV0dXJuIWIuc29tZShmdW5jdGlvbihiKXtyZXR1cm4gSChiLGEpfSl9KTphfX0pLGIubW9kdWxlKFwiYThtLnJldmVyc2VcIixbXSkuZmlsdGVyKFwicmV2ZXJzZVwiLFtmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihhKXtyZXR1cm4gYT1DKGEpP2QoYSk6YSxBKGEpP2Euc3BsaXQoXCJcIikucmV2ZXJzZSgpLmpvaW4oXCJcIik6RChhKT9hLnNsaWNlKCkucmV2ZXJzZSgpOmF9fV0pLGIubW9kdWxlKFwiYThtLnNlYXJjaC1maWVsZFwiLFtdKS5maWx0ZXIoXCJzZWFyY2hGaWVsZFwiLFtcIiRwYXJzZVwiLGZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiKXt2YXIgYyxlO2I9QyhiKT9kKGIpOmI7dmFyIGY9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpO3JldHVybiBEKGIpJiZmLmxlbmd0aD9iLm1hcChmdW5jdGlvbihiKXtyZXR1cm4gZT1mLm1hcChmdW5jdGlvbihkKXtyZXR1cm4oYz1hKGQpKShiKX0pLmpvaW4oXCIgXCIpLEYoYix7c2VhcmNoRmllbGQ6ZX0pfSk6Yn19XSksYi5tb2R1bGUoXCJhOG0udG8tYXJyYXlcIixbXSkuZmlsdGVyKFwidG9BcnJheVwiLGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGEsYil7cmV0dXJuIEMoYSk/Yj9PYmplY3Qua2V5cyhhKS5tYXAoZnVuY3Rpb24oYil7cmV0dXJuIEYoYVtiXSx7JGtleTpifSl9KTpkKGEpOmF9fSksYi5tb2R1bGUoXCJhOG0udW5pcXVlXCIsW10pLmZpbHRlcih7dW5pcXVlOltcIiRwYXJzZVwiLHZdLHVuaXE6W1wiJHBhcnNlXCIsdl19KSxiLm1vZHVsZShcImE4bS53aGVyZVwiLFtdKS5maWx0ZXIoXCJ3aGVyZVwiLGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGEsYil7cmV0dXJuIHkoYik/YTooYT1DKGEpP2QoYSk6YSxhLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4gZihiLGEpfSkpfX0pLGIubW9kdWxlKFwiYThtLnhvclwiLFtdKS5maWx0ZXIoXCJ4b3JcIixbXCIkcGFyc2VcIixmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYixjLGUpe2Z1bmN0aW9uIGYoYixjKXt2YXIgZD1hKGUpO3JldHVybiBjLnNvbWUoZnVuY3Rpb24oYSl7cmV0dXJuIGU/SChkKGEpLGQoYikpOkgoYSxiKX0pfXJldHVybiBlPWV8fCExLGI9QyhiKT9kKGIpOmIsYz1DKGMpP2QoYyk6YyxEKGIpJiZEKGMpP2IuY29uY2F0KGMpLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4hKGYoYSxiKSYmZihhLGMpKX0pOmJ9fV0pLGIubW9kdWxlKFwiYThtLm1hdGguYnl0ZUZtdFwiLFtcImE4bS5tYXRoXCJdKS5maWx0ZXIoXCJieXRlRm10XCIsW1wiJG1hdGhcIixmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYixjKXtyZXR1cm4gQihjKSYmaXNGaW5pdGUoYykmJmMlMT09PTAmJmM+PTAmJkIoYikmJmlzRmluaXRlKGIpP2I8MTAyND9pKGIsYyxhKStcIiBCXCI6YjwxMDQ4NTc2P2koYi8xMDI0LGMsYSkrXCIgS0JcIjpiPDEwNzM3NDE4MjQ/aShiLzEwNDg1NzYsYyxhKStcIiBNQlwiOmkoYi8xMDczNzQxODI0LGMsYSkrXCIgR0JcIjpcIk5hTlwifX1dKSxiLm1vZHVsZShcImE4bS5tYXRoLmRlZ3JlZXNcIixbXCJhOG0ubWF0aFwiXSkuZmlsdGVyKFwiZGVncmVlc1wiLFtcIiRtYXRoXCIsZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKGIsYyl7aWYoQihjKSYmaXNGaW5pdGUoYykmJmMlMT09PTAmJmM+PTAmJkIoYikmJmlzRmluaXRlKGIpKXt2YXIgZD0xODAqYi9hLlBJO3JldHVybiBhLnJvdW5kKGQqYS5wb3coMTAsYykpL2EucG93KDEwLGMpfXJldHVyblwiTmFOXCJ9fV0pLGIubW9kdWxlKFwiYThtLm1hdGgua2JGbXRcIixbXCJhOG0ubWF0aFwiXSkuZmlsdGVyKFwia2JGbXRcIixbXCIkbWF0aFwiLGZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiLGMpe3JldHVybiBCKGMpJiZpc0Zpbml0ZShjKSYmYyUxPT09MCYmYz49MCYmQihiKSYmaXNGaW5pdGUoYik/YjwxMDI0P2koYixjLGEpK1wiIEtCXCI6YjwxMDQ4NTc2P2koYi8xMDI0LGMsYSkrXCIgTUJcIjppKGIvMTA0ODU3NixjLGEpK1wiIEdCXCI6XCJOYU5cIn19XSksYi5tb2R1bGUoXCJhOG0ubWF0aFwiLFtdKS5mYWN0b3J5KFwiJG1hdGhcIixbXCIkd2luZG93XCIsZnVuY3Rpb24oYSl7cmV0dXJuIGEuTWF0aH1dKSxiLm1vZHVsZShcImE4bS5tYXRoLm1heFwiLFtcImE4bS5tYXRoXCJdKS5maWx0ZXIoXCJtYXhcIixbXCIkbWF0aFwiLFwiJHBhcnNlXCIsZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBjKGMsZCl7dmFyIGU9Yy5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGIoZCkoYSl9KTtyZXR1cm4gZS5pbmRleE9mKGEubWF4LmFwcGx5KGEsZSkpfXJldHVybiBmdW5jdGlvbihiLGQpe3JldHVybiBEKGIpP3koZCk/YS5tYXguYXBwbHkoYSxiKTpiW2MoYixkKV06Yn19XSksYi5tb2R1bGUoXCJhOG0ubWF0aC5taW5cIixbXCJhOG0ubWF0aFwiXSkuZmlsdGVyKFwibWluXCIsW1wiJG1hdGhcIixcIiRwYXJzZVwiLGZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gYyhjLGQpe3ZhciBlPWMubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBiKGQpKGEpfSk7cmV0dXJuIGUuaW5kZXhPZihhLm1pbi5hcHBseShhLGUpKX1yZXR1cm4gZnVuY3Rpb24oYixkKXtyZXR1cm4gRChiKT95KGQpP2EubWluLmFwcGx5KGEsYik6YltjKGIsZCldOmJ9fV0pLGIubW9kdWxlKFwiYThtLm1hdGgucGVyY2VudFwiLFtcImE4bS5tYXRoXCJdKS5maWx0ZXIoXCJwZXJjZW50XCIsW1wiJG1hdGhcIixcIiR3aW5kb3dcIixmdW5jdGlvbihhLGIpe3JldHVybiBmdW5jdGlvbihjLGQsZSl7dmFyIGY9QShjKT9iLk51bWJlcihjKTpjO3JldHVybiBkPWR8fDEwMCxlPWV8fCExLCFCKGYpfHxiLmlzTmFOKGYpP2M6ZT9hLnJvdW5kKGYvZCoxMDApOmYvZCoxMDB9fV0pLGIubW9kdWxlKFwiYThtLm1hdGgucmFkaWFuc1wiLFtcImE4bS5tYXRoXCJdKS5maWx0ZXIoXCJyYWRpYW5zXCIsW1wiJG1hdGhcIixmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYixjKXtpZihCKGMpJiZpc0Zpbml0ZShjKSYmYyUxPT09MCYmYz49MCYmQihiKSYmaXNGaW5pdGUoYikpe3ZhciBkPTMuMTQxNTkyNjUzNTkqYi8xODA7cmV0dXJuIGEucm91bmQoZCphLnBvdygxMCxjKSkvYS5wb3coMTAsYyl9cmV0dXJuXCJOYU5cIn19XSksYi5tb2R1bGUoXCJhOG0ubWF0aC5yYWRpeFwiLFtdKS5maWx0ZXIoXCJyYWRpeFwiLGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGEsYil7dmFyIGM9L15bMi05XSR8XlsxLTJdXFxkJHxeM1swLTZdJC87cmV0dXJuIEIoYSkmJmMudGVzdChiKT9hLnRvU3RyaW5nKGIpLnRvVXBwZXJDYXNlKCk6YX19KSxiLm1vZHVsZShcImE4bS5tYXRoLnNob3J0Rm10XCIsW1wiYThtLm1hdGhcIl0pLmZpbHRlcihcInNob3J0Rm10XCIsW1wiJG1hdGhcIixmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYixjKXtyZXR1cm4gQihjKSYmaXNGaW5pdGUoYykmJmMlMT09PTAmJmM+PTAmJkIoYikmJmlzRmluaXRlKGIpP2I8MWUzP2I6YjwxZTY/aShiLzFlMyxjLGEpK1wiIEtcIjpiPDFlOT9pKGIvMWU2LGMsYSkrXCIgTVwiOmkoYi8xZTksYyxhKStcIiBCXCI6XCJOYU5cIn19XSksYi5tb2R1bGUoXCJhOG0ubWF0aC5zdW1cIixbXSkuZmlsdGVyKFwic3VtXCIsZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oYSxiKXtyZXR1cm4gRChhKT9hLnJlZHVjZShmdW5jdGlvbihhLGIpe3JldHVybiBhK2J9LGJ8fDApOmF9fSksYi5tb2R1bGUoXCJhOG0uZW5kcy13aXRoXCIsW10pLmZpbHRlcihcImVuZHNXaXRoXCIsZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGU9Y3x8ITE7cmV0dXJuIUEoYSl8fHkoYik/YTooYT1lP2E6YS50b0xvd2VyQ2FzZSgpLGQ9YS5sZW5ndGgtYi5sZW5ndGgsYS5pbmRleE9mKGU/YjpiLnRvTG93ZXJDYXNlKCksZCkhPT0tMSl9fSksYi5tb2R1bGUoXCJhOG0ubGF0aW5pemVcIixbXSkuZmlsdGVyKFwibGF0aW5pemVcIixbZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEpe3JldHVybiBhLnJlcGxhY2UoL1teXFx1MDAwMC1cXHUwMDdFXS9nLGZ1bmN0aW9uKGEpe3JldHVybiBjW2FdfHxhfSl9Zm9yKHZhciBiPVt7YmFzZTpcIkFcIixsZXR0ZXJzOlwiQeKStu+8ocOAw4HDguG6puG6pOG6quG6qMODxIDEguG6sOG6ruG6tOG6ssimx6DDhMee4bqiw4XHuseNyIDIguG6oOG6rOG6tuG4gMSEyLrisa9cIn0se2Jhc2U6XCJBQVwiLGxldHRlcnM6XCLqnLJcIn0se2Jhc2U6XCJBRVwiLGxldHRlcnM6XCLDhse8x6JcIn0se2Jhc2U6XCJBT1wiLGxldHRlcnM6XCLqnLRcIn0se2Jhc2U6XCJBVVwiLGxldHRlcnM6XCLqnLZcIn0se2Jhc2U6XCJBVlwiLGxldHRlcnM6XCLqnLjqnLpcIn0se2Jhc2U6XCJBWVwiLGxldHRlcnM6XCLqnLxcIn0se2Jhc2U6XCJCXCIsbGV0dGVyczpcIkLikrfvvKLhuILhuIThuIbJg8aCxoFcIn0se2Jhc2U6XCJDXCIsbGV0dGVyczpcIkPikrjvvKPEhsSIxIrEjMOH4biIxofIu+qcvlwifSx7YmFzZTpcIkRcIixsZXR0ZXJzOlwiROKSue+8pOG4isSO4biM4biQ4biS4biOxJDGi8aKxonqnblcIn0se2Jhc2U6XCJEWlwiLGxldHRlcnM6XCLHsceEXCJ9LHtiYXNlOlwiRHpcIixsZXR0ZXJzOlwix7LHhVwifSx7YmFzZTpcIkVcIixsZXR0ZXJzOlwiReKSuu+8pcOIw4nDiuG7gOG6vuG7hOG7guG6vMSS4biU4biWxJTElsOL4bq6xJrIhMiG4bq44buGyKjhuJzEmOG4mOG4msaQxo5cIn0se2Jhc2U6XCJGXCIsbGV0dGVyczpcIkbikrvvvKbhuJ7Gkeqdu1wifSx7YmFzZTpcIkdcIixsZXR0ZXJzOlwiR+KSvO+8p8e0xJzhuKDEnsSgx6bEosekxpPqnqDqnb3qnb5cIn0se2Jhc2U6XCJIXCIsbGV0dGVyczpcIkjikr3vvKjEpOG4ouG4psie4bik4bio4biqxKbisafisbXqno1cIn0se2Jhc2U6XCJJXCIsbGV0dGVyczpcIknikr7vvKnDjMONw47EqMSqxKzEsMOP4biu4buIx4/IiMiK4buKxK7huKzGl1wifSx7YmFzZTpcIkpcIixsZXR0ZXJzOlwiSuKSv++8qsS0yYhcIn0se2Jhc2U6XCJLXCIsbGV0dGVyczpcIkvik4DvvKvhuLDHqOG4ssS24bi0xpjisanqnYDqnYLqnYTqnqJcIn0se2Jhc2U6XCJMXCIsbGV0dGVyczpcIkzik4HvvKzEv8S5xL3huLbhuLjEu+G4vOG4usWByL3isaLisaDqnYjqnYbqnoBcIn0se2Jhc2U6XCJMSlwiLGxldHRlcnM6XCLHh1wifSx7YmFzZTpcIkxqXCIsbGV0dGVyczpcIseIXCJ9LHtiYXNlOlwiTVwiLGxldHRlcnM6XCJN4pOC77yt4bi+4bmA4bmC4rGuxpxcIn0se2Jhc2U6XCJOXCIsbGV0dGVyczpcIk7ik4PvvK7HuMWDw5HhuYTFh+G5hsWF4bmK4bmIyKDGneqekOqepFwifSx7YmFzZTpcIk5KXCIsbGV0dGVyczpcIseKXCJ9LHtiYXNlOlwiTmpcIixsZXR0ZXJzOlwix4tcIn0se2Jhc2U6XCJPXCIsbGV0dGVyczpcIk/ik4TvvK/DksOTw5Thu5Lhu5Dhu5bhu5TDleG5jMis4bmOxYzhuZDhuZLFjsiuyLDDlsiq4buOxZDHkciMyI7GoOG7nOG7muG7oOG7nuG7ouG7jOG7mMeqx6zDmMe+xobGn+qdiuqdjFwifSx7YmFzZTpcIk9JXCIsbGV0dGVyczpcIsaiXCJ9LHtiYXNlOlwiT09cIixsZXR0ZXJzOlwi6p2OXCJ9LHtiYXNlOlwiT1VcIixsZXR0ZXJzOlwiyKJcIn0se2Jhc2U6XCJPRVwiLGxldHRlcnM6XCLCjMWSXCJ9LHtiYXNlOlwib2VcIixsZXR0ZXJzOlwiwpzFk1wifSx7YmFzZTpcIlBcIixsZXR0ZXJzOlwiUOKThe+8sOG5lOG5lsak4rGj6p2Q6p2S6p2UXCJ9LHtiYXNlOlwiUVwiLGxldHRlcnM6XCJR4pOG77yx6p2W6p2YyYpcIn0se2Jhc2U6XCJSXCIsbGV0dGVyczpcIlLik4fvvLLFlOG5mMWYyJDIkuG5muG5nMWW4bmeyYzisaTqnZrqnqbqnoJcIn0se2Jhc2U6XCJTXCIsbGV0dGVyczpcIlPik4jvvLPhup7FmuG5pMWc4bmgxaDhuabhuaLhuajImMWe4rG+6p6o6p6EXCJ9LHtiYXNlOlwiVFwiLGxldHRlcnM6XCJU4pOJ77y04bmqxaThuazImsWi4bmw4bmuxabGrMauyL7qnoZcIn0se2Jhc2U6XCJUWlwiLGxldHRlcnM6XCLqnKhcIn0se2Jhc2U6XCJVXCIsbGV0dGVyczpcIlXik4rvvLXDmcOaw5vFqOG5uMWq4bm6xazDnMebx5fHlceZ4bumxa7FsMeTyJTIlsav4buq4buo4buu4bus4buw4buk4bmyxbLhubbhubTJhFwifSx7YmFzZTpcIlZcIixsZXR0ZXJzOlwiVuKTi++8tuG5vOG5vsay6p2eyYVcIn0se2Jhc2U6XCJWWVwiLGxldHRlcnM6XCLqnaBcIn0se2Jhc2U6XCJXXCIsbGV0dGVyczpcIlfik4zvvLfhuoDhuoLFtOG6huG6hOG6iOKxslwifSx7YmFzZTpcIlhcIixsZXR0ZXJzOlwiWOKTje+8uOG6iuG6jFwifSx7YmFzZTpcIllcIixsZXR0ZXJzOlwiWeKTju+8ueG7ssOdxbbhu7jIsuG6jsW44bu24bu0xrPJjuG7vlwifSx7YmFzZTpcIlpcIixsZXR0ZXJzOlwiWuKTj++8usW54bqQxbvFveG6kuG6lMa1yKTisb/isavqnaJcIn0se2Jhc2U6XCJhXCIsbGV0dGVyczpcImHik5DvvYHhuprDoMOhw6LhuqfhuqXhuqvhuqnDo8SBxIPhurHhuq/hurXhurPIp8ehw6THn+G6o8Olx7vHjsiByIPhuqHhuq3hurfhuIHEheKxpcmQXCJ9LHtiYXNlOlwiYWFcIixsZXR0ZXJzOlwi6pyzXCJ9LHtiYXNlOlwiYWVcIixsZXR0ZXJzOlwiw6bHvcejXCJ9LHtiYXNlOlwiYW9cIixsZXR0ZXJzOlwi6py1XCJ9LHtiYXNlOlwiYXVcIixsZXR0ZXJzOlwi6py3XCJ9LHtiYXNlOlwiYXZcIixsZXR0ZXJzOlwi6py56py7XCJ9LHtiYXNlOlwiYXlcIixsZXR0ZXJzOlwi6py9XCJ9LHtiYXNlOlwiYlwiLGxldHRlcnM6XCJi4pOR772C4biD4biF4biHxoDGg8mTXCJ9LHtiYXNlOlwiY1wiLGxldHRlcnM6XCJj4pOS772DxIfEicSLxI3Dp+G4icaIyLzqnL/ihoRcIn0se2Jhc2U6XCJkXCIsbGV0dGVyczpcImTik5PvvYThuIvEj+G4jeG4keG4k+G4j8SRxozJlsmX6p26XCJ9LHtiYXNlOlwiZHpcIixsZXR0ZXJzOlwix7PHhlwifSx7YmFzZTpcImVcIixsZXR0ZXJzOlwiZeKTlO+9hcOow6nDquG7geG6v+G7heG7g+G6vcST4biV4biXxJXEl8Or4bq7xJvIhciH4bq54buHyKnhuJ3EmeG4meG4m8mHyZvHnVwifSx7YmFzZTpcImZcIixsZXR0ZXJzOlwiZuKTle+9huG4n8aS6p28XCJ9LHtiYXNlOlwiZ1wiLGxldHRlcnM6XCJn4pOW772Hx7XEneG4ocSfxKHHp8Sjx6XJoOqeoeG1ueqdv1wifSx7YmFzZTpcImhcIixsZXR0ZXJzOlwiaOKTl++9iMSl4bij4binyJ/huKXhuKnhuKvhupbEp+KxqOKxtsmlXCJ9LHtiYXNlOlwiaHZcIixsZXR0ZXJzOlwixpVcIn0se2Jhc2U6XCJpXCIsbGV0dGVyczpcImnik5jvvYnDrMOtw67EqcSrxK3Dr+G4r+G7iceQyInIi+G7i8Sv4bityajEsVwifSx7YmFzZTpcImpcIixsZXR0ZXJzOlwiauKTme+9isS1x7DJiVwifSx7YmFzZTpcImtcIixsZXR0ZXJzOlwia+KTmu+9i+G4scep4bizxLfhuLXGmeKxquqdgeqdg+qdheqeo1wifSx7YmFzZTpcImxcIixsZXR0ZXJzOlwibOKTm++9jMWAxLrEvuG4t+G4ucS84bi94bi7xb/FgsaayavisaHqnYnqnoHqnYdcIn0se2Jhc2U6XCJsalwiLGxldHRlcnM6XCLHiVwifSx7YmFzZTpcIm1cIixsZXR0ZXJzOlwibeKTnO+9jeG4v+G5geG5g8mxya9cIn0se2Jhc2U6XCJuXCIsbGV0dGVyczpcIm7ik53vvY7HucWEw7HhuYXFiOG5h8WG4bmL4bmJxp7JssWJ6p6R6p6lXCJ9LHtiYXNlOlwibmpcIixsZXR0ZXJzOlwix4xcIn0se2Jhc2U6XCJvXCIsbGV0dGVyczpcIm/ik57vvY/DssOzw7Thu5Phu5Hhu5fhu5XDteG5jcit4bmPxY3huZHhuZPFj8ivyLHDtsir4buPxZHHksiNyI/GoeG7neG7m+G7oeG7n+G7o+G7jeG7mcerx63DuMe/yZTqnYvqnY3JtVwifSx7YmFzZTpcIm9pXCIsbGV0dGVyczpcIsajXCJ9LHtiYXNlOlwib3VcIixsZXR0ZXJzOlwiyKNcIn0se2Jhc2U6XCJvb1wiLGxldHRlcnM6XCLqnY9cIn0se2Jhc2U6XCJwXCIsbGV0dGVyczpcInDik5/vvZDhuZXhuZfGpeG1veqdkeqdk+qdlVwifSx7YmFzZTpcInFcIixsZXR0ZXJzOlwiceKToO+9kcmL6p2X6p2ZXCJ9LHtiYXNlOlwiclwiLGxldHRlcnM6XCJy4pOh772SxZXhuZnFmciRyJPhuZvhuZ3Fl+G5n8mNyb3qnZvqnqfqnoNcIn0se2Jhc2U6XCJzXCIsbGV0dGVyczpcInPik6LvvZPDn8Wb4bmlxZ3huaHFoeG5p+G5o+G5qciZxZ/Iv+qeqeqeheG6m1wifSx7YmFzZTpcInRcIixsZXR0ZXJzOlwidOKTo++9lOG5q+G6l8Wl4bmtyJvFo+G5seG5r8Wnxq3KiOKxpuqeh1wifSx7YmFzZTpcInR6XCIsbGV0dGVyczpcIuqcqVwifSx7YmFzZTpcInVcIixsZXR0ZXJzOlwideKTpO+9lcO5w7rDu8Wp4bm5xavhubvFrcO8x5zHmMeWx5rhu6fFr8Wxx5TIlciXxrDhu6vhu6nhu6/hu63hu7Hhu6XhubPFs+G5t+G5tcqJXCJ9LHtiYXNlOlwidlwiLGxldHRlcnM6XCJ24pOl772W4bm94bm/yovqnZ/KjFwifSx7YmFzZTpcInZ5XCIsbGV0dGVyczpcIuqdoVwifSx7YmFzZTpcIndcIixsZXR0ZXJzOlwid+KTpu+9l+G6geG6g8W14bqH4bqF4bqY4bqJ4rGzXCJ9LHtiYXNlOlwieFwiLGxldHRlcnM6XCJ44pOn772Y4bqL4bqNXCJ9LHtiYXNlOlwieVwiLGxldHRlcnM6XCJ54pOo772Z4buzw73Ft+G7uciz4bqPw7/hu7fhupnhu7XGtMmP4bu/XCJ9LHtiYXNlOlwielwiLGxldHRlcnM6XCJ64pOp772axbrhupHFvMW+4bqT4bqVxrbIpcmA4rGs6p2jXCJ9XSxjPXt9LGQ9MDtkPGIubGVuZ3RoO2QrKylmb3IodmFyIGU9YltkXS5sZXR0ZXJzLnNwbGl0KFwiXCIpLGY9MDtmPGUubGVuZ3RoO2YrKyljW2VbZl1dPWJbZF0uYmFzZTtyZXR1cm4gZnVuY3Rpb24oYil7cmV0dXJuIEEoYik/YShiKTpifX1dKSxiLm1vZHVsZShcImE4bS5sdHJpbVwiLFtdKS5maWx0ZXIoXCJsdHJpbVwiLGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGEsYil7dmFyIGM9Ynx8XCJcXFxcc1wiO3JldHVybiBBKGEpP2EucmVwbGFjZShuZXcgUmVnRXhwKFwiXlwiK2MrXCIrXCIpLFwiXCIpOmF9fSksYi5tb2R1bGUoXCJhOG0ubWF0Y2hcIixbXSkuZmlsdGVyKFwibWF0Y2hcIixmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihhLGIsYyl7dmFyIGQ9bmV3IFJlZ0V4cChiLGMpO3JldHVybiBBKGEpP2EubWF0Y2goZCk6bnVsbH19KSxiLm1vZHVsZShcImE4bS5yZXBlYXRcIixbXSkuZmlsdGVyKFwicmVwZWF0XCIsW2Z1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGEsYixjKXt2YXIgZD1+fmI7cmV0dXJuIEEoYSkmJmQ/dyhhLC0tYixjfHxcIlwiKTphfX1dKSxiLm1vZHVsZShcImE4bS5ydHJpbVwiLFtdKS5maWx0ZXIoXCJydHJpbVwiLGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGEsYil7dmFyIGM9Ynx8XCJcXFxcc1wiO3JldHVybiBBKGEpP2EucmVwbGFjZShuZXcgUmVnRXhwKGMrXCIrJFwiKSxcIlwiKTphfX0pLGIubW9kdWxlKFwiYThtLnNsdWdpZnlcIixbXSkuZmlsdGVyKFwic2x1Z2lmeVwiLFtmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihhLGIpe3ZhciBjPXkoYik/XCItXCI6YjtyZXR1cm4gQShhKT9hLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvXFxzKy9nLGMpOmF9fV0pLGIubW9kdWxlKFwiYThtLnN0YXJ0cy13aXRoXCIsW10pLmZpbHRlcihcInN0YXJ0c1dpdGhcIixmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihhLGIsYyl7dmFyIGQ9Y3x8ITE7cmV0dXJuIUEoYSl8fHkoYik/YTooYT1kP2E6YS50b0xvd2VyQ2FzZSgpLCFhLmluZGV4T2YoZD9iOmIudG9Mb3dlckNhc2UoKSkpfX0pLGIubW9kdWxlKFwiYThtLnN0cmluZ3VsYXJcIixbXSkuZmlsdGVyKFwic3RyaW5ndWxhclwiLGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGEpe3ZhciBiPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKTtyZXR1cm4gYS5yZXBsYWNlKC97KFxcZCspfS9nLGZ1bmN0aW9uKGEsYyl7cmV0dXJuIHkoYltjXSk/YTpiW2NdfSl9fSksYi5tb2R1bGUoXCJhOG0uc3RyaXAtdGFnc1wiLFtdKS5maWx0ZXIoXCJzdHJpcFRhZ3NcIixmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihhKXtyZXR1cm4gQShhKT9hLnJlcGxhY2UoLzxcXFNbXj48XSo+L2csXCJcIik6YX19KSxiLm1vZHVsZShcImE4bS50ZXN0XCIsW10pLmZpbHRlcihcInRlc3RcIixmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihhLGIsYyl7dmFyIGQ9bmV3IFJlZ0V4cChiLGMpO3JldHVybiBBKGEpP2QudGVzdChhKTphfX0pLGIubW9kdWxlKFwiYThtLnRyaW1cIixbXSkuZmlsdGVyKFwidHJpbVwiLGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGEsYil7dmFyIGM9Ynx8XCJcXFxcc1wiO3JldHVybiBBKGEpP2EucmVwbGFjZShuZXcgUmVnRXhwKFwiXlwiK2MrXCIrfFwiK2MrXCIrJFwiLFwiZ1wiKSxcIlwiKTphfX0pLGIubW9kdWxlKFwiYThtLnRydW5jYXRlXCIsW10pLmZpbHRlcihcInRydW5jYXRlXCIsZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oYSxiLGMsZCl7cmV0dXJuIGI9eShiKT9hLmxlbmd0aDpiLGQ9ZHx8ITEsYz1jfHxcIlwiLCFBKGEpfHxhLmxlbmd0aDw9Yj9hOmEuc3Vic3RyaW5nKDAsZD9hLmluZGV4T2YoXCIgXCIsYik9PT0tMT9hLmxlbmd0aDphLmluZGV4T2YoXCIgXCIsYik6YikrY319KSxiLm1vZHVsZShcImE4bS51Y2ZpcnN0XCIsW10pLmZpbHRlcihcInVjZmlyc3RcIixbZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oYSl7cmV0dXJuIEEoYSk/YS5zcGxpdChcIiBcIikubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK2Euc3Vic3RyaW5nKDEpfSkuam9pbihcIiBcIik6YX19XSksYi5tb2R1bGUoXCJhOG0udXJpLWNvbXBvbmVudC1lbmNvZGVcIixbXSkuZmlsdGVyKFwidXJpQ29tcG9uZW50RW5jb2RlXCIsW1wiJHdpbmRvd1wiLGZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiKXtyZXR1cm4gQShiKT9hLmVuY29kZVVSSUNvbXBvbmVudChiKTpifX1dKSxiLm1vZHVsZShcImE4bS51cmktZW5jb2RlXCIsW10pLmZpbHRlcihcInVyaUVuY29kZVwiLFtcIiR3aW5kb3dcIixmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYil7cmV0dXJuIEEoYik/YS5lbmNvZGVVUkkoYik6Yn19XSksYi5tb2R1bGUoXCJhOG0ud3JhcFwiLFtdKS5maWx0ZXIoXCJ3cmFwXCIsZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oYSxiLGMpe3JldHVybiBBKGEpJiZ4KGIpP1tiLGEsY3x8Yl0uam9pbihcIlwiKTphfX0pLGIubW9kdWxlKFwiYThtLmZpbHRlci13YXRjaGVyXCIsW10pLnByb3ZpZGVyKFwiZmlsdGVyV2F0Y2hlclwiLGZ1bmN0aW9uKCl7dGhpcy4kZ2V0PVtcIiR3aW5kb3dcIixcIiRyb290U2NvcGVcIixmdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGMoYixjKXtmdW5jdGlvbiBkKCl7dmFyIGI9W107cmV0dXJuIGZ1bmN0aW9uKGMsZCl7aWYoQyhkKSYmIWUoZCkpe2lmKH5iLmluZGV4T2YoZCkpcmV0dXJuXCJbQ2lyY3VsYXJdXCI7Yi5wdXNoKGQpfXJldHVybiBhPT1kP1wiJFdJTkRPV1wiOmEuZG9jdW1lbnQ9PWQ/XCIkRE9DVU1FTlRcIjprKGQpP1wiJFNDT1BFXCI6ZH19cmV0dXJuW2IsSlNPTi5zdHJpbmdpZnkoYyxkKCkpXS5qb2luKFwiI1wiKS5yZXBsYWNlKC9cIi9nLFwiXCIpfWZ1bmN0aW9uIGQoYSl7dmFyIGI9YS50YXJnZXRTY29wZS4kaWQ7RShsW2JdLGZ1bmN0aW9uKGEpe2RlbGV0ZSBqW2FdfSksZGVsZXRlIGxbYl19ZnVuY3Rpb24gZigpe20oZnVuY3Rpb24oKXtiLiQkcGhhc2V8fChqPXt9KX0sMmUzKX1mdW5jdGlvbiBnKGEsYil7dmFyIGM9YS4kaWQ7cmV0dXJuIHkobFtjXSkmJihhLiRvbihcIiRkZXN0cm95XCIsZCksbFtjXT1bXSksbFtjXS5wdXNoKGIpfWZ1bmN0aW9uIGgoYSxiKXt2YXIgZD1jKGEsYik7cmV0dXJuIGpbZF19ZnVuY3Rpb24gaShhLGIsZCxlKXt2YXIgaD1jKGEsYik7cmV0dXJuIGpbaF09ZSxrKGQpP2coZCxoKTpmKCksZX12YXIgaj17fSxsPXt9LG09YS5zZXRUaW1lb3V0O3JldHVybntpc01lbW9pemVkOmgsbWVtb2l6ZTppfX1dfSksYi5tb2R1bGUoXCJhbmd1bGFyLmZpbHRlclwiLFtcImE4bS51Y2ZpcnN0XCIsXCJhOG0udXJpLWVuY29kZVwiLFwiYThtLnVyaS1jb21wb25lbnQtZW5jb2RlXCIsXCJhOG0uc2x1Z2lmeVwiLFwiYThtLmxhdGluaXplXCIsXCJhOG0uc3RyaXAtdGFnc1wiLFwiYThtLnN0cmluZ3VsYXJcIixcImE4bS50cnVuY2F0ZVwiLFwiYThtLnN0YXJ0cy13aXRoXCIsXCJhOG0uZW5kcy13aXRoXCIsXCJhOG0ud3JhcFwiLFwiYThtLnRyaW1cIixcImE4bS5sdHJpbVwiLFwiYThtLnJ0cmltXCIsXCJhOG0ucmVwZWF0XCIsXCJhOG0udGVzdFwiLFwiYThtLm1hdGNoXCIsXCJhOG0udG8tYXJyYXlcIixcImE4bS5jb25jYXRcIixcImE4bS5jb250YWluc1wiLFwiYThtLnVuaXF1ZVwiLFwiYThtLmlzLWVtcHR5XCIsXCJhOG0uYWZ0ZXJcIixcImE4bS5hZnRlci13aGVyZVwiLFwiYThtLmJlZm9yZVwiLFwiYThtLmJlZm9yZS13aGVyZVwiLFwiYThtLmRlZmF1bHRzXCIsXCJhOG0ud2hlcmVcIixcImE4bS5yZXZlcnNlXCIsXCJhOG0ucmVtb3ZlXCIsXCJhOG0ucmVtb3ZlLXdpdGhcIixcImE4bS5ncm91cC1ieVwiLFwiYThtLmNvdW50LWJ5XCIsXCJhOG0uY2h1bmstYnlcIixcImE4bS5zZWFyY2gtZmllbGRcIixcImE4bS5mdXp6eS1ieVwiLFwiYThtLmZ1enp5XCIsXCJhOG0ub21pdFwiLFwiYThtLnBpY2tcIixcImE4bS5ldmVyeVwiLFwiYThtLmZpbHRlci1ieVwiLFwiYThtLnhvclwiLFwiYThtLm1hcFwiLFwiYThtLmZpcnN0XCIsXCJhOG0ubGFzdFwiLFwiYThtLmZsYXR0ZW5cIixcImE4bS5qb2luXCIsXCJhOG0ucmFuZ2VcIixcImE4bS5tYXRoXCIsXCJhOG0ubWF0aC5tYXhcIixcImE4bS5tYXRoLm1pblwiLFwiYThtLm1hdGgucGVyY2VudFwiLFwiYThtLm1hdGgucmFkaXhcIixcImE4bS5tYXRoLnN1bVwiLFwiYThtLm1hdGguZGVncmVlc1wiLFwiYThtLm1hdGgucmFkaWFuc1wiLFwiYThtLm1hdGguYnl0ZUZtdFwiLFwiYThtLm1hdGgua2JGbXRcIixcImE4bS5tYXRoLnNob3J0Rm10XCIsXCJhOG0uYW5ndWxhclwiLFwiYThtLmNvbmRpdGlvbnNcIixcImE4bS5pcy1udWxsXCIsXCJhOG0uZmlsdGVyLXdhdGNoZXJcIl0pfSh3aW5kb3csd2luZG93LmFuZ3VsYXIpOyJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
