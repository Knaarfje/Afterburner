/*!
 * Chart.js
 * http://chartjs.org/
 * Version: 2.1.3
 *
 * Copyright 2016 Nick Downie
 * Released under the MIT license
 * https://github.com/chartjs/Chart.js/blob/master/LICENSE.md
 */
!function t(e,i,a){function o(n,r){if(!i[n]){if(!e[n]){var h="function"==typeof require&&require;if(!r&&h)return h(n,!0);if(s)return s(n,!0);var l=new Error("Cannot find module '"+n+"'");throw l.code="MODULE_NOT_FOUND",l}var c=i[n]={exports:{}};e[n][0].call(c.exports,function(t){var i=e[n][1][t];return o(i?i:t)},c,c.exports,t,e,i,a)}return i[n].exports}for(var s="function"==typeof require&&require,n=0;n<a.length;n++)o(a[n]);return o}({1:[function(t,e,i){},{}],2:[function(t,e,i){function a(t){if(t){var e=/^#([a-fA-F0-9]{3})$/,i=/^#([a-fA-F0-9]{6})$/,a=/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,o=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,s=/(\w+)/,n=[0,0,0],r=1,h=t.match(e);if(h){h=h[1];for(var l=0;l<n.length;l++)n[l]=parseInt(h[l]+h[l],16)}else if(h=t.match(i)){h=h[1];for(var l=0;l<n.length;l++)n[l]=parseInt(h.slice(2*l,2*l+2),16)}else if(h=t.match(a)){for(var l=0;l<n.length;l++)n[l]=parseInt(h[l+1]);r=parseFloat(h[4])}else if(h=t.match(o)){for(var l=0;l<n.length;l++)n[l]=Math.round(2.55*parseFloat(h[l+1]));r=parseFloat(h[4])}else if(h=t.match(s)){if("transparent"==h[1])return[0,0,0,0];if(n=y[h[1]],!n)return}for(var l=0;l<n.length;l++)n[l]=x(n[l],0,255);return r=r||0==r?x(r,0,1):1,n[3]=r,n}}function o(t){if(t){var e=/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/,i=t.match(e);if(i){var a=parseFloat(i[4]),o=x(parseInt(i[1]),0,360),s=x(parseFloat(i[2]),0,100),n=x(parseFloat(i[3]),0,100),r=x(isNaN(a)?1:a,0,1);return[o,s,n,r]}}}function s(t){if(t){var e=/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/,i=t.match(e);if(i){var a=parseFloat(i[4]),o=x(parseInt(i[1]),0,360),s=x(parseFloat(i[2]),0,100),n=x(parseFloat(i[3]),0,100),r=x(isNaN(a)?1:a,0,1);return[o,s,n,r]}}}function n(t){var e=a(t);return e&&e.slice(0,3)}function r(t){var e=o(t);return e&&e.slice(0,3)}function h(t){var e=a(t);return e?e[3]:(e=o(t))?e[3]:(e=s(t))?e[3]:void 0}function l(t){return"#"+v(t[0])+v(t[1])+v(t[2])}function c(t,e){return 1>e||t[3]&&t[3]<1?d(t,e):"rgb("+t[0]+", "+t[1]+", "+t[2]+")"}function d(t,e){return void 0===e&&(e=void 0!==t[3]?t[3]:1),"rgba("+t[0]+", "+t[1]+", "+t[2]+", "+e+")"}function u(t,e){if(1>e||t[3]&&t[3]<1)return g(t,e);var i=Math.round(t[0]/255*100),a=Math.round(t[1]/255*100),o=Math.round(t[2]/255*100);return"rgb("+i+"%, "+a+"%, "+o+"%)"}function g(t,e){var i=Math.round(t[0]/255*100),a=Math.round(t[1]/255*100),o=Math.round(t[2]/255*100);return"rgba("+i+"%, "+a+"%, "+o+"%, "+(e||t[3]||1)+")"}function f(t,e){return 1>e||t[3]&&t[3]<1?p(t,e):"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)"}function p(t,e){return void 0===e&&(e=void 0!==t[3]?t[3]:1),"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+e+")"}function m(t,e){return void 0===e&&(e=void 0!==t[3]?t[3]:1),"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+(void 0!==e&&1!==e?", "+e:"")+")"}function b(t){return k[t.slice(0,3)]}function x(t,e,i){return Math.min(Math.max(e,t),i)}function v(t){var e=t.toString(16).toUpperCase();return e.length<2?"0"+e:e}var y=t("color-name");e.exports={getRgba:a,getHsla:o,getRgb:n,getHsl:r,getHwb:s,getAlpha:h,hexString:l,rgbString:c,rgbaString:d,percentString:u,percentaString:g,hslString:f,hslaString:p,hwbString:m,keyword:b};var k={};for(var S in y)k[y[S]]=S},{"color-name":6}],3:[function(t,e,i){var a=t("color-convert"),o=t("chartjs-color-string"),s=function(t){if(t instanceof s)return t;if(!(this instanceof s))return new s(t);if(this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1},"string"==typeof t){var e=o.getRgba(t);if(e)this.setValues("rgb",e);else if(e=o.getHsla(t))this.setValues("hsl",e);else{if(!(e=o.getHwb(t)))throw new Error('Unable to parse color from string "'+t+'"');this.setValues("hwb",e)}}else if("object"==typeof t){var e=t;if(void 0!==e.r||void 0!==e.red)this.setValues("rgb",e);else if(void 0!==e.l||void 0!==e.lightness)this.setValues("hsl",e);else if(void 0!==e.v||void 0!==e.value)this.setValues("hsv",e);else if(void 0!==e.w||void 0!==e.whiteness)this.setValues("hwb",e);else{if(void 0===e.c&&void 0===e.cyan)throw new Error("Unable to parse color from object "+JSON.stringify(t));this.setValues("cmyk",e)}}};s.prototype={rgb:function(t){return this.setSpace("rgb",arguments)},hsl:function(t){return this.setSpace("hsl",arguments)},hsv:function(t){return this.setSpace("hsv",arguments)},hwb:function(t){return this.setSpace("hwb",arguments)},cmyk:function(t){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){return 1!==this.values.alpha?this.values.hwb.concat([this.values.alpha]):this.values.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var t=this.values.rgb;return t.concat([this.values.alpha])},hslaArray:function(){var t=this.values.hsl;return t.concat([this.values.alpha])},alpha:function(t){return void 0===t?this.values.alpha:(this.setValues("alpha",t),this)},red:function(t){return this.setChannel("rgb",0,t)},green:function(t){return this.setChannel("rgb",1,t)},blue:function(t){return this.setChannel("rgb",2,t)},hue:function(t){return this.setChannel("hsl",0,t)},saturation:function(t){return this.setChannel("hsl",1,t)},lightness:function(t){return this.setChannel("hsl",2,t)},saturationv:function(t){return this.setChannel("hsv",1,t)},whiteness:function(t){return this.setChannel("hwb",1,t)},blackness:function(t){return this.setChannel("hwb",2,t)},value:function(t){return this.setChannel("hsv",2,t)},cyan:function(t){return this.setChannel("cmyk",0,t)},magenta:function(t){return this.setChannel("cmyk",1,t)},yellow:function(t){return this.setChannel("cmyk",2,t)},black:function(t){return this.setChannel("cmyk",3,t)},hexString:function(){return o.hexString(this.values.rgb)},rgbString:function(){return o.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return o.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return o.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return o.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return o.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return o.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return o.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){return this.values.rgb[0]<<16|this.values.rgb[1]<<8|this.values.rgb[2]},luminosity:function(){for(var t=this.values.rgb,e=[],i=0;i<t.length;i++){var a=t[i]/255;e[i]=.03928>=a?a/12.92:Math.pow((a+.055)/1.055,2.4)}return.2126*e[0]+.7152*e[1]+.0722*e[2]},contrast:function(t){var e=this.luminosity(),i=t.luminosity();return e>i?(e+.05)/(i+.05):(i+.05)/(e+.05)},level:function(t){var e=this.contrast(t);return e>=7.1?"AAA":e>=4.5?"AA":""},dark:function(){var t=this.values.rgb,e=(299*t[0]+587*t[1]+114*t[2])/1e3;return 128>e},light:function(){return!this.dark()},negate:function(){for(var t=[],e=0;3>e;e++)t[e]=255-this.values.rgb[e];return this.setValues("rgb",t),this},lighten:function(t){return this.values.hsl[2]+=this.values.hsl[2]*t,this.setValues("hsl",this.values.hsl),this},darken:function(t){return this.values.hsl[2]-=this.values.hsl[2]*t,this.setValues("hsl",this.values.hsl),this},saturate:function(t){return this.values.hsl[1]+=this.values.hsl[1]*t,this.setValues("hsl",this.values.hsl),this},desaturate:function(t){return this.values.hsl[1]-=this.values.hsl[1]*t,this.setValues("hsl",this.values.hsl),this},whiten:function(t){return this.values.hwb[1]+=this.values.hwb[1]*t,this.setValues("hwb",this.values.hwb),this},blacken:function(t){return this.values.hwb[2]+=this.values.hwb[2]*t,this.setValues("hwb",this.values.hwb),this},greyscale:function(){var t=this.values.rgb,e=.3*t[0]+.59*t[1]+.11*t[2];return this.setValues("rgb",[e,e,e]),this},clearer:function(t){return this.setValues("alpha",this.values.alpha-this.values.alpha*t),this},opaquer:function(t){return this.setValues("alpha",this.values.alpha+this.values.alpha*t),this},rotate:function(t){var e=this.values.hsl[0];return e=(e+t)%360,e=0>e?360+e:e,this.values.hsl[0]=e,this.setValues("hsl",this.values.hsl),this},mix:function(t,e){e=1-(null==e?.5:e);for(var i=2*e-1,a=this.alpha()-t.alpha(),o=((i*a==-1?i:(i+a)/(1+i*a))+1)/2,s=1-o,n=this.rgbArray(),r=t.rgbArray(),h=0;h<n.length;h++)n[h]=n[h]*o+r[h]*s;this.setValues("rgb",n);var l=this.alpha()*e+t.alpha()*(1-e);return this.setValues("alpha",l),this},toJSON:function(){return this.rgb()},clone:function(){return new s(this.rgb())}},s.prototype.getValues=function(t){for(var e={},i=0;i<t.length;i++)e[t.charAt(i)]=this.values[t][i];return 1!=this.values.alpha&&(e.a=this.values.alpha),e},s.prototype.setValues=function(t,e){var i={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]},o={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},s=1;if("alpha"==t)s=e;else if(e.length)this.values[t]=e.slice(0,t.length),s=e[t.length];else if(void 0!==e[t.charAt(0)]){for(var n=0;n<t.length;n++)this.values[t][n]=e[t.charAt(n)];s=e.a}else if(void 0!==e[i[t][0]]){for(var r=i[t],n=0;n<t.length;n++)this.values[t][n]=e[r[n]];s=e.alpha}if(this.values.alpha=Math.max(0,Math.min(1,void 0!==s?s:this.values.alpha)),"alpha"!=t){for(var n=0;n<t.length;n++){var h=Math.max(0,Math.min(o[t][n],this.values[t][n]));this.values[t][n]=Math.round(h)}for(var l in i){l!=t&&(this.values[l]=a[t][l](this.values[t]));for(var n=0;n<l.length;n++){var h=Math.max(0,Math.min(o[l][n],this.values[l][n]));this.values[l][n]=Math.round(h)}}return!0}},s.prototype.setSpace=function(t,e){var i=e[0];return void 0===i?this.getValues(t):("number"==typeof i&&(i=Array.prototype.slice.call(e)),this.setValues(t,i),this)},s.prototype.setChannel=function(t,e,i){return void 0===i?this.values[t][e]:(this.values[t][e]=i,this.setValues(t,this.values[t]),this)},window.Color=e.exports=s},{"chartjs-color-string":2,"color-convert":5}],4:[function(t,e,i){function a(t){var e,i,a,o=t[0]/255,s=t[1]/255,n=t[2]/255,r=Math.min(o,s,n),h=Math.max(o,s,n),l=h-r;return h==r?e=0:o==h?e=(s-n)/l:s==h?e=2+(n-o)/l:n==h&&(e=4+(o-s)/l),e=Math.min(60*e,360),0>e&&(e+=360),a=(r+h)/2,i=h==r?0:.5>=a?l/(h+r):l/(2-h-r),[e,100*i,100*a]}function o(t){var e,i,a,o=t[0],s=t[1],n=t[2],r=Math.min(o,s,n),h=Math.max(o,s,n),l=h-r;return i=0==h?0:l/h*1e3/10,h==r?e=0:o==h?e=(s-n)/l:s==h?e=2+(n-o)/l:n==h&&(e=4+(o-s)/l),e=Math.min(60*e,360),0>e&&(e+=360),a=h/255*1e3/10,[e,i,a]}function s(t){var e=t[0],i=t[1],o=t[2],s=a(t)[0],n=1/255*Math.min(e,Math.min(i,o)),o=1-1/255*Math.max(e,Math.max(i,o));return[s,100*n,100*o]}function n(t){var e,i,a,o,s=t[0]/255,n=t[1]/255,r=t[2]/255;return o=Math.min(1-s,1-n,1-r),e=(1-s-o)/(1-o)||0,i=(1-n-o)/(1-o)||0,a=(1-r-o)/(1-o)||0,[100*e,100*i,100*a,100*o]}function h(t){return G[JSON.stringify(t)]}function l(t){var e=t[0]/255,i=t[1]/255,a=t[2]/255;e=e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92,i=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92,a=a>.04045?Math.pow((a+.055)/1.055,2.4):a/12.92;var o=.4124*e+.3576*i+.1805*a,s=.2126*e+.7152*i+.0722*a,n=.0193*e+.1192*i+.9505*a;return[100*o,100*s,100*n]}function c(t){var e,i,a,o=l(t),s=o[0],n=o[1],r=o[2];return s/=95.047,n/=100,r/=108.883,s=s>.008856?Math.pow(s,1/3):7.787*s+16/116,n=n>.008856?Math.pow(n,1/3):7.787*n+16/116,r=r>.008856?Math.pow(r,1/3):7.787*r+16/116,e=116*n-16,i=500*(s-n),a=200*(n-r),[e,i,a]}function d(t){return B(c(t))}function u(t){var e,i,a,o,s,n=t[0]/360,r=t[1]/100,h=t[2]/100;if(0==r)return s=255*h,[s,s,s];i=.5>h?h*(1+r):h+r-h*r,e=2*h-i,o=[0,0,0];for(var l=0;3>l;l++)a=n+1/3*-(l-1),0>a&&a++,a>1&&a--,s=1>6*a?e+6*(i-e)*a:1>2*a?i:2>3*a?e+(i-e)*(2/3-a)*6:e,o[l]=255*s;return o}function f(t){var e,i,a=t[0],o=t[1]/100,s=t[2]/100;return 0===s?[0,0,0]:(s*=2,o*=1>=s?s:2-s,i=(s+o)/2,e=2*o/(s+o),[a,100*e,100*i])}function p(t){return s(u(t))}function m(t){return n(u(t))}function x(t){return h(u(t))}function v(t){var e=t[0]/60,i=t[1]/100,a=t[2]/100,o=Math.floor(e)%6,s=e-Math.floor(e),n=255*a*(1-i),r=255*a*(1-i*s),h=255*a*(1-i*(1-s)),a=255*a;switch(o){case 0:return[a,h,n];case 1:return[r,a,n];case 2:return[n,a,h];case 3:return[n,r,a];case 4:return[h,n,a];case 5:return[a,n,r]}}function y(t){var e,i,a=t[0],o=t[1]/100,s=t[2]/100;return i=(2-o)*s,e=o*s,e/=1>=i?i:2-i,e=e||0,i/=2,[a,100*e,100*i]}function k(t){return s(v(t))}function S(t){return n(v(t))}function C(t){return h(v(t))}function w(t){var e,i,a,o,s=t[0]/360,n=t[1]/100,h=t[2]/100,l=n+h;switch(l>1&&(n/=l,h/=l),e=Math.floor(6*s),i=1-h,a=6*s-e,0!=(1&e)&&(a=1-a),o=n+a*(i-n),e){default:case 6:case 0:r=i,g=o,b=n;break;case 1:r=o,g=i,b=n;break;case 2:r=n,g=i,b=o;break;case 3:r=n,g=o,b=i;break;case 4:r=o,g=n,b=i;break;case 5:r=i,g=n,b=o}return[255*r,255*g,255*b]}function D(t){return a(w(t))}function M(t){return o(w(t))}function _(t){return n(w(t))}function A(t){return h(w(t))}function I(t){var e,i,a,o=t[0]/100,s=t[1]/100,n=t[2]/100,r=t[3]/100;return e=1-Math.min(1,o*(1-r)+r),i=1-Math.min(1,s*(1-r)+r),a=1-Math.min(1,n*(1-r)+r),[255*e,255*i,255*a]}function F(t){return a(I(t))}function P(t){return o(I(t))}function T(t){return s(I(t))}function V(t){return h(I(t))}function R(t){var e,i,a,o=t[0]/100,s=t[1]/100,n=t[2]/100;return e=3.2406*o+-1.5372*s+n*-.4986,i=o*-.9689+1.8758*s+.0415*n,a=.0557*o+s*-.204+1.057*n,e=e>.0031308?1.055*Math.pow(e,1/2.4)-.055:e=12.92*e,i=i>.0031308?1.055*Math.pow(i,1/2.4)-.055:i=12.92*i,a=a>.0031308?1.055*Math.pow(a,1/2.4)-.055:a=12.92*a,e=Math.min(Math.max(0,e),1),i=Math.min(Math.max(0,i),1),a=Math.min(Math.max(0,a),1),[255*e,255*i,255*a]}function O(t){var e,i,a,o=t[0],s=t[1],n=t[2];return o/=95.047,s/=100,n/=108.883,o=o>.008856?Math.pow(o,1/3):7.787*o+16/116,s=s>.008856?Math.pow(s,1/3):7.787*s+16/116,n=n>.008856?Math.pow(n,1/3):7.787*n+16/116,e=116*s-16,i=500*(o-s),a=200*(s-n),[e,i,a]}function L(t){return B(O(t))}function W(t){var e,i,a,o,s=t[0],n=t[1],r=t[2];return 8>=s?(i=100*s/903.3,o=7.787*(i/100)+16/116):(i=100*Math.pow((s+16)/116,3),o=Math.pow(i/100,1/3)),e=.008856>=e/95.047?e=95.047*(n/500+o-16/116)/7.787:95.047*Math.pow(n/500+o,3),a=.008859>=a/108.883?a=108.883*(o-r/200-16/116)/7.787:108.883*Math.pow(o-r/200,3),[e,i,a]}function B(t){var e,i,a,o=t[0],s=t[1],n=t[2];return e=Math.atan2(n,s),i=360*e/2/Math.PI,0>i&&(i+=360),a=Math.sqrt(s*s+n*n),[o,a,i]}function z(t){return R(W(t))}function H(t){var e,i,a,o=t[0],s=t[1],n=t[2];return a=n/360*2*Math.PI,e=s*Math.cos(a),i=s*Math.sin(a),[o,e,i]}function N(t){return W(H(t))}function E(t){return z(H(t))}function U(t){return X[t]}function j(t){return a(U(t))}function q(t){return o(U(t))}function Y(t){return s(U(t))}function Q(t){return n(U(t))}function J(t){return c(U(t))}function Z(t){return l(U(t))}e.exports={rgb2hsl:a,rgb2hsv:o,rgb2hwb:s,rgb2cmyk:n,rgb2keyword:h,rgb2xyz:l,rgb2lab:c,rgb2lch:d,hsl2rgb:u,hsl2hsv:f,hsl2hwb:p,hsl2cmyk:m,hsl2keyword:x,hsv2rgb:v,hsv2hsl:y,hsv2hwb:k,hsv2cmyk:S,hsv2keyword:C,hwb2rgb:w,hwb2hsl:D,hwb2hsv:M,hwb2cmyk:_,hwb2keyword:A,cmyk2rgb:I,cmyk2hsl:F,cmyk2hsv:P,cmyk2hwb:T,cmyk2keyword:V,keyword2rgb:U,keyword2hsl:j,keyword2hsv:q,keyword2hwb:Y,keyword2cmyk:Q,keyword2lab:J,keyword2xyz:Z,xyz2rgb:R,xyz2lab:O,xyz2lch:L,lab2xyz:W,lab2rgb:z,lab2lch:B,lch2lab:H,lch2xyz:N,lch2rgb:E};var X={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},G={};for(var $ in X)G[JSON.stringify(X[$])]=$},{}],5:[function(t,e,i){var a=t("./conversions"),o=function(){return new l};for(var s in a){o[s+"Raw"]=function(t){return function(e){return"number"==typeof e&&(e=Array.prototype.slice.call(arguments)),a[t](e)}}(s);var n=/(\w+)2(\w+)/.exec(s),r=n[1],h=n[2];o[r]=o[r]||{},o[r][h]=o[s]=function(t){return function(e){"number"==typeof e&&(e=Array.prototype.slice.call(arguments));var i=a[t](e);if("string"==typeof i||void 0===i)return i;for(var o=0;o<i.length;o++)i[o]=Math.round(i[o]);return i}}(s)}var l=function(){this.convs={}};l.prototype.routeSpace=function(t,e){var i=e[0];return void 0===i?this.getValues(t):("number"==typeof i&&(i=Array.prototype.slice.call(e)),this.setValues(t,i))},l.prototype.setValues=function(t,e){return this.space=t,this.convs={},this.convs[t]=e,this},l.prototype.getValues=function(t){var e=this.convs[t];if(!e){var i=this.space,a=this.convs[i];e=o[i][t](a),this.convs[t]=e}return e},["rgb","hsl","hsv","cmyk","keyword"].forEach(function(t){l.prototype[t]=function(e){return this.routeSpace(t,arguments)}}),e.exports=o},{"./conversions":4}],6:[function(t,e,i){e.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},{}],7:[function(t,e,i){var a=t("./core/core.js")();t("./core/core.helpers")(a),t("./core/core.element")(a),t("./core/core.animation")(a),t("./core/core.controller")(a),t("./core/core.datasetController")(a),t("./core/core.layoutService")(a),t("./core/core.legend")(a),t("./core/core.plugin.js")(a),t("./core/core.scale")(a),t("./core/core.scaleService")(a),t("./core/core.title")(a),t("./core/core.tooltip")(a),t("./controllers/controller.bar")(a),t("./controllers/controller.bubble")(a),t("./controllers/controller.doughnut")(a),t("./controllers/controller.line")(a),t("./controllers/controller.polarArea")(a),t("./controllers/controller.radar")(a),t("./scales/scale.category")(a),t("./scales/scale.linear")(a),t("./scales/scale.logarithmic")(a),t("./scales/scale.radialLinear")(a),t("./scales/scale.time")(a),t("./elements/element.arc")(a),t("./elements/element.line")(a),t("./elements/element.point")(a),t("./elements/element.rectangle")(a),t("./charts/Chart.Bar")(a),t("./charts/Chart.Bubble")(a),t("./charts/Chart.Doughnut")(a),t("./charts/Chart.Line")(a),t("./charts/Chart.PolarArea")(a),t("./charts/Chart.Radar")(a),t("./charts/Chart.Scatter")(a),window.Chart=e.exports=a},{"./charts/Chart.Bar":8,"./charts/Chart.Bubble":9,"./charts/Chart.Doughnut":10,"./charts/Chart.Line":11,"./charts/Chart.PolarArea":12,"./charts/Chart.Radar":13,"./charts/Chart.Scatter":14,"./controllers/controller.bar":15,"./controllers/controller.bubble":16,"./controllers/controller.doughnut":17,"./controllers/controller.line":18,"./controllers/controller.polarArea":19,"./controllers/controller.radar":20,"./core/core.animation":21,"./core/core.controller":22,"./core/core.datasetController":23,"./core/core.element":24,"./core/core.helpers":25,"./core/core.js":26,"./core/core.layoutService":27,"./core/core.legend":28,"./core/core.plugin.js":29,"./core/core.scale":30,"./core/core.scaleService":31,"./core/core.title":32,"./core/core.tooltip":33,"./elements/element.arc":34,"./elements/element.line":35,"./elements/element.point":36,"./elements/element.rectangle":37,"./scales/scale.category":38,"./scales/scale.linear":39,"./scales/scale.logarithmic":40,"./scales/scale.radialLinear":41,"./scales/scale.time":42}],8:[function(t,e,i){"use strict";e.exports=function(t){t.Bar=function(e,i){return i.type="bar",new t(e,i)}}},{}],9:[function(t,e,i){"use strict";e.exports=function(t){t.Bubble=function(e,i){return i.type="bubble",new t(e,i)}}},{}],10:[function(t,e,i){"use strict";e.exports=function(t){t.Doughnut=function(e,i){return i.type="doughnut",new t(e,i)}}},{}],11:[function(t,e,i){"use strict";e.exports=function(t){t.Line=function(e,i){return i.type="line",new t(e,i)}}},{}],12:[function(t,e,i){"use strict";e.exports=function(t){t.PolarArea=function(e,i){return i.type="polarArea",new t(e,i)}}},{}],13:[function(t,e,i){"use strict";e.exports=function(t){var e=t.helpers,i={aspectRatio:1};t.Radar=function(a,o){return o.options=e.configMerge(i,o.options),o.type="radar",new t(a,o)}}},{}],14:[function(t,e,i){"use strict";e.exports=function(t){var e={hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-1"}],yAxes:[{type:"linear",position:"left",id:"y-axis-1"}]},tooltips:{callbacks:{title:function(t,e){return""},label:function(t,e){return"("+t.xLabel+", "+t.yLabel+")"}}}};t.defaults.scatter=e,t.controllers.scatter=t.controllers.line,t.Scatter=function(e,i){return i.type="scatter",new t(e,i)}}},{}],15:[function(t,e,i){"use strict";e.exports=function(t){var e=t.helpers;t.defaults.bar={hover:{mode:"label"},scales:{xAxes:[{type:"category",categoryPercentage:.8,barPercentage:.9,gridLines:{offsetGridLines:!0}}],yAxes:[{type:"linear"}]}},t.controllers.bar=t.DatasetController.extend({initialize:function(e,i){t.DatasetController.prototype.initialize.call(this,e,i),this.getMeta().bar=!0},getBarCount:function(){var t=0;return e.each(this.chart.data.datasets,function(e,i){var a=this.chart.getDatasetMeta(i);a.bar&&this.chart.isDatasetVisible(i)&&++t},this),t},addElements:function(){var i=this.getMeta();e.each(this.getDataset().data,function(e,a){i.data[a]=i.data[a]||new t.elements.Rectangle({_chart:this.chart.chart,_datasetIndex:this.index,_index:a})},this)},addElementAndReset:function(e){var i=new t.elements.Rectangle({_chart:this.chart.chart,_datasetIndex:this.index,_index:e}),a=this.getBarCount();this.getMeta().data.splice(e,0,i),this.updateElement(i,e,!0,a)},update:function(t){var i=this.getBarCount();e.each(this.getMeta().data,function(e,a){this.updateElement(e,a,t,i)},this)},updateElement:function(t,i,a,o){var s,n=this.getMeta(),r=this.getScaleForId(n.xAxisID),h=this.getScaleForId(n.yAxisID);s=h.min<0&&h.max<0?h.getPixelForValue(h.max):h.min>0&&h.max>0?h.getPixelForValue(h.min):h.getPixelForValue(0),e.extend(t,{_chart:this.chart.chart,_xScale:r,_yScale:h,_datasetIndex:this.index,_index:i,_model:{x:this.calculateBarX(i,this.index),y:a?s:this.calculateBarY(i,this.index),label:this.chart.data.labels[i],datasetLabel:this.getDataset().label,base:a?s:this.calculateBarBase(this.index,i),width:this.calculateBarWidth(o),backgroundColor:t.custom&&t.custom.backgroundColor?t.custom.backgroundColor:e.getValueAtIndexOrDefault(this.getDataset().backgroundColor,i,this.chart.options.elements.rectangle.backgroundColor),borderSkipped:t.custom&&t.custom.borderSkipped?t.custom.borderSkipped:this.chart.options.elements.rectangle.borderSkipped,borderColor:t.custom&&t.custom.borderColor?t.custom.borderColor:e.getValueAtIndexOrDefault(this.getDataset().borderColor,i,this.chart.options.elements.rectangle.borderColor),borderWidth:t.custom&&t.custom.borderWidth?t.custom.borderWidth:e.getValueAtIndexOrDefault(this.getDataset().borderWidth,i,this.chart.options.elements.rectangle.borderWidth)}}),t.pivot()},calculateBarBase:function(t,e){var i=this.getMeta(),a=(this.getScaleForId(i.xAxisID),this.getScaleForId(i.yAxisID)),o=0;if(a.options.stacked){var s=this.chart.data.datasets[t].data[e];if(0>s)for(var n=0;t>n;n++){var r=this.chart.data.datasets[n],h=this.chart.getDatasetMeta(n);h.bar&&h.yAxisID===a.id&&this.chart.isDatasetVisible(n)&&(o+=r.data[e]<0?r.data[e]:0)}else for(var l=0;t>l;l++){var c=this.chart.data.datasets[l],d=this.chart.getDatasetMeta(l);d.bar&&d.yAxisID===a.id&&this.chart.isDatasetVisible(l)&&(o+=c.data[e]>0?c.data[e]:0)}return a.getPixelForValue(o)}return o=a.getPixelForValue(a.min),a.beginAtZero||a.min<=0&&a.max>=0||a.min>=0&&a.max<=0?o=a.getPixelForValue(0,0):a.min<0&&a.max<0&&(o=a.getPixelForValue(a.max)),o},getRuler:function(){var t=this.getMeta(),e=this.getScaleForId(t.xAxisID),i=(this.getScaleForId(t.yAxisID),this.getBarCount()),a=function(){for(var t=e.getPixelForTick(1)-e.getPixelForTick(0),i=2;i<e.ticks.length;i++)t=Math.min(e.getPixelForTick(i)-e.getPixelForTick(i-1),t);return t}.call(this),o=a*e.options.categoryPercentage,s=(a-a*e.options.categoryPercentage)/2,n=o/i;if(e.ticks.length!==this.chart.data.labels.length){var r=e.ticks.length/this.chart.data.labels.length;n*=r}var h=n*e.options.barPercentage,l=n-n*e.options.barPercentage;return{datasetCount:i,tickWidth:a,categoryWidth:o,categorySpacing:s,fullBarWidth:n,barWidth:h,barSpacing:l}},calculateBarWidth:function(){var t=this.getScaleForId(this.getMeta().xAxisID),e=this.getRuler();return t.options.stacked?e.categoryWidth:e.barWidth},getBarIndex:function(t){var e,i,a=0;for(i=0;t>i;++i)e=this.chart.getDatasetMeta(i),e.bar&&this.chart.isDatasetVisible(i)&&++a;return a},calculateBarX:function(t,e){var i=this.getMeta(),a=(this.getScaleForId(i.yAxisID),this.getScaleForId(i.xAxisID)),o=this.getBarIndex(e),s=this.getRuler(),n=a.getPixelForValue(null,t,e,this.chart.isCombo);return n-=this.chart.isCombo?s.tickWidth/2:0,a.options.stacked?n+s.categoryWidth/2+s.categorySpacing:n+s.barWidth/2+s.categorySpacing+s.barWidth*o+s.barSpacing/2+s.barSpacing*o},calculateBarY:function(t,e){var i=this.getMeta(),a=(this.getScaleForId(i.xAxisID),this.getScaleForId(i.yAxisID)),o=this.getDataset().data[t];if(a.options.stacked){for(var s=0,n=0,r=0;e>r;r++){var h=this.chart.data.datasets[r],l=this.chart.getDatasetMeta(r);l.bar&&l.yAxisID===a.id&&this.chart.isDatasetVisible(r)&&(h.data[t]<0?n+=h.data[t]||0:s+=h.data[t]||0)}return 0>o?a.getPixelForValue(n+o):a.getPixelForValue(s+o)}return a.getPixelForValue(o)},draw:function(t){var i=t||1;e.each(this.getMeta().data,function(t,e){var a=this.getDataset().data[e];null===a||void 0===a||isNaN(a)||t.transition(i).draw()},this)},setHoverStyle:function(t){var i=this.chart.data.datasets[t._datasetIndex],a=t._index;t._model.backgroundColor=t.custom&&t.custom.hoverBackgroundColor?t.custom.hoverBackgroundColor:e.getValueAtIndexOrDefault(i.hoverBackgroundColor,a,e.getHoverColor(t._model.backgroundColor)),
t._model.borderColor=t.custom&&t.custom.hoverBorderColor?t.custom.hoverBorderColor:e.getValueAtIndexOrDefault(i.hoverBorderColor,a,e.getHoverColor(t._model.borderColor)),t._model.borderWidth=t.custom&&t.custom.hoverBorderWidth?t.custom.hoverBorderWidth:e.getValueAtIndexOrDefault(i.hoverBorderWidth,a,t._model.borderWidth)},removeHoverStyle:function(t){var i=(this.chart.data.datasets[t._datasetIndex],t._index);t._model.backgroundColor=t.custom&&t.custom.backgroundColor?t.custom.backgroundColor:e.getValueAtIndexOrDefault(this.getDataset().backgroundColor,i,this.chart.options.elements.rectangle.backgroundColor),t._model.borderColor=t.custom&&t.custom.borderColor?t.custom.borderColor:e.getValueAtIndexOrDefault(this.getDataset().borderColor,i,this.chart.options.elements.rectangle.borderColor),t._model.borderWidth=t.custom&&t.custom.borderWidth?t.custom.borderWidth:e.getValueAtIndexOrDefault(this.getDataset().borderWidth,i,this.chart.options.elements.rectangle.borderWidth)}}),t.defaults.horizontalBar={hover:{mode:"label"},scales:{xAxes:[{type:"linear",position:"bottom"}],yAxes:[{position:"left",type:"category",categoryPercentage:.8,barPercentage:.9,gridLines:{offsetGridLines:!0}}]}},t.controllers.horizontalBar=t.controllers.bar.extend({updateElement:function(t,i,a,o){var s,n=this.getMeta(),r=this.getScaleForId(n.xAxisID),h=this.getScaleForId(n.yAxisID);s=r.min<0&&r.max<0?r.getPixelForValue(r.max):r.min>0&&r.max>0?r.getPixelForValue(r.min):r.getPixelForValue(0),e.extend(t,{_chart:this.chart.chart,_xScale:r,_yScale:h,_datasetIndex:this.index,_index:i,_model:{x:a?s:this.calculateBarX(i,this.index),y:this.calculateBarY(i,this.index),label:this.chart.data.labels[i],datasetLabel:this.getDataset().label,base:a?s:this.calculateBarBase(this.index,i),height:this.calculateBarHeight(o),backgroundColor:t.custom&&t.custom.backgroundColor?t.custom.backgroundColor:e.getValueAtIndexOrDefault(this.getDataset().backgroundColor,i,this.chart.options.elements.rectangle.backgroundColor),borderSkipped:t.custom&&t.custom.borderSkipped?t.custom.borderSkipped:this.chart.options.elements.rectangle.borderSkipped,borderColor:t.custom&&t.custom.borderColor?t.custom.borderColor:e.getValueAtIndexOrDefault(this.getDataset().borderColor,i,this.chart.options.elements.rectangle.borderColor),borderWidth:t.custom&&t.custom.borderWidth?t.custom.borderWidth:e.getValueAtIndexOrDefault(this.getDataset().borderWidth,i,this.chart.options.elements.rectangle.borderWidth)},draw:function(){function t(t){return h[(c+t)%4]}var e=this._chart.ctx,i=this._view,a=i.height/2,o=i.y-a,s=i.y+a,n=i.base-(i.base-i.x),r=i.borderWidth/2;i.borderWidth&&(o+=r,s-=r,n+=r),e.beginPath(),e.fillStyle=i.backgroundColor,e.strokeStyle=i.borderColor,e.lineWidth=i.borderWidth;var h=[[i.base,s],[i.base,o],[n,o],[n,s]],l=["bottom","left","top","right"],c=l.indexOf(i.borderSkipped,0);-1===c&&(c=0),e.moveTo.apply(e,t(0));for(var d=1;4>d;d++)e.lineTo.apply(e,t(d));e.fill(),i.borderWidth&&e.stroke()},inRange:function(t,e){var i=this._view,a=!1;return i&&(a=i.x<i.base?e>=i.y-i.height/2&&e<=i.y+i.height/2&&t>=i.x&&t<=i.base:e>=i.y-i.height/2&&e<=i.y+i.height/2&&t>=i.base&&t<=i.x),a}}),t.pivot()},calculateBarBase:function(t,e){var i=this.getMeta(),a=this.getScaleForId(i.xAxisID),o=(this.getScaleForId(i.yAxisID),0);if(a.options.stacked){var s=this.chart.data.datasets[t].data[e];if(0>s)for(var n=0;t>n;n++){var r=this.chart.data.datasets[n],h=this.chart.getDatasetMeta(n);h.bar&&h.xAxisID===a.id&&this.chart.isDatasetVisible(n)&&(o+=r.data[e]<0?r.data[e]:0)}else for(var l=0;t>l;l++){var c=this.chart.data.datasets[l],d=this.chart.getDatasetMeta(l);d.bar&&d.xAxisID===a.id&&this.chart.isDatasetVisible(l)&&(o+=c.data[e]>0?c.data[e]:0)}return a.getPixelForValue(o)}return o=a.getPixelForValue(a.min),a.beginAtZero||a.min<=0&&a.max>=0||a.min>=0&&a.max<=0?o=a.getPixelForValue(0,0):a.min<0&&a.max<0&&(o=a.getPixelForValue(a.max)),o},getRuler:function(){var t=this.getMeta(),e=(this.getScaleForId(t.xAxisID),this.getScaleForId(t.yAxisID)),i=this.getBarCount(),a=function(){for(var t=e.getPixelForTick(1)-e.getPixelForTick(0),i=2;i<this.getDataset().data.length;i++)t=Math.min(e.getPixelForTick(i)-e.getPixelForTick(i-1),t);return t}.call(this),o=a*e.options.categoryPercentage,s=(a-a*e.options.categoryPercentage)/2,n=o/i;if(e.ticks.length!==this.chart.data.labels.length){var r=e.ticks.length/this.chart.data.labels.length;n*=r}var h=n*e.options.barPercentage,l=n-n*e.options.barPercentage;return{datasetCount:i,tickHeight:a,categoryHeight:o,categorySpacing:s,fullBarHeight:n,barHeight:h,barSpacing:l}},calculateBarHeight:function(){var t=this.getScaleForId(this.getMeta().yAxisID),e=this.getRuler();return t.options.stacked?e.categoryHeight:e.barHeight},calculateBarX:function(t,e){var i=this.getMeta(),a=this.getScaleForId(i.xAxisID),o=(this.getScaleForId(i.yAxisID),this.getDataset().data[t]);if(a.options.stacked){for(var s=0,n=0,r=0;e>r;r++){var h=this.chart.data.datasets[r],l=this.chart.getDatasetMeta(r);l.bar&&l.xAxisID===a.id&&this.chart.isDatasetVisible(r)&&(h.data[t]<0?n+=h.data[t]||0:s+=h.data[t]||0)}return 0>o?a.getPixelForValue(n+o):a.getPixelForValue(s+o)}return a.getPixelForValue(o)},calculateBarY:function(t,e){var i=this.getMeta(),a=this.getScaleForId(i.yAxisID),o=(this.getScaleForId(i.xAxisID),this.getBarIndex(e)),s=this.getRuler(),n=a.getPixelForValue(null,t,e,this.chart.isCombo);return n-=this.chart.isCombo?s.tickHeight/2:0,a.options.stacked?n+s.categoryHeight/2+s.categorySpacing:n+s.barHeight/2+s.categorySpacing+s.barHeight*o+s.barSpacing/2+s.barSpacing*o}})}},{}],16:[function(t,e,i){"use strict";e.exports=function(t){var e=t.helpers;t.defaults.bubble={hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-0"}],yAxes:[{type:"linear",position:"left",id:"y-axis-0"}]},tooltips:{callbacks:{title:function(t,e){return""},label:function(t,e){var i=e.datasets[t.datasetIndex].label||"",a=e.datasets[t.datasetIndex].data[t.index];return i+": ("+a.x+", "+a.y+", "+a.r+")"}}}},t.controllers.bubble=t.DatasetController.extend({addElements:function(){var i=this.getMeta();e.each(this.getDataset().data,function(e,a){i.data[a]=i.data[a]||new t.elements.Point({_chart:this.chart.chart,_datasetIndex:this.index,_index:a})},this)},addElementAndReset:function(e){var i=new t.elements.Point({_chart:this.chart.chart,_datasetIndex:this.index,_index:e});this.getMeta().data.splice(e,0,i),this.updateElement(i,e,!0)},update:function(t){var i,a=this.getMeta(),o=a.data,s=this.getScaleForId(a.yAxisID);this.getScaleForId(a.xAxisID);i=s.min<0&&s.max<0?s.getPixelForValue(s.max):s.min>0&&s.max>0?s.getPixelForValue(s.min):s.getPixelForValue(0),e.each(o,function(e,i){this.updateElement(e,i,t)},this)},updateElement:function(t,i,a){var o,s=this.getMeta(),n=this.getScaleForId(s.yAxisID),r=this.getScaleForId(s.xAxisID);o=n.min<0&&n.max<0?n.getPixelForValue(n.max):n.min>0&&n.max>0?n.getPixelForValue(n.min):n.getPixelForValue(0),e.extend(t,{_chart:this.chart.chart,_xScale:r,_yScale:n,_datasetIndex:this.index,_index:i,_model:{x:a?r.getPixelForDecimal(.5):r.getPixelForValue(this.getDataset().data[i],i,this.index,this.chart.isCombo),y:a?o:n.getPixelForValue(this.getDataset().data[i],i,this.index),radius:a?0:t.custom&&t.custom.radius?t.custom.radius:this.getRadius(this.getDataset().data[i]),backgroundColor:t.custom&&t.custom.backgroundColor?t.custom.backgroundColor:e.getValueAtIndexOrDefault(this.getDataset().backgroundColor,i,this.chart.options.elements.point.backgroundColor),borderColor:t.custom&&t.custom.borderColor?t.custom.borderColor:e.getValueAtIndexOrDefault(this.getDataset().borderColor,i,this.chart.options.elements.point.borderColor),borderWidth:t.custom&&t.custom.borderWidth?t.custom.borderWidth:e.getValueAtIndexOrDefault(this.getDataset().borderWidth,i,this.chart.options.elements.point.borderWidth),hitRadius:t.custom&&t.custom.hitRadius?t.custom.hitRadius:e.getValueAtIndexOrDefault(this.getDataset().hitRadius,i,this.chart.options.elements.point.hitRadius)}}),t._model.skip=t.custom&&t.custom.skip?t.custom.skip:isNaN(t._model.x)||isNaN(t._model.y),t.pivot()},getRadius:function(t){return t.r||this.chart.options.elements.point.radius},draw:function(t){var i=t||1;e.each(this.getMeta().data,function(t,e){t.transition(i),t.draw()})},setHoverStyle:function(t){var i=this.chart.data.datasets[t._datasetIndex],a=t._index;t._model.radius=t.custom&&t.custom.hoverRadius?t.custom.hoverRadius:e.getValueAtIndexOrDefault(i.hoverRadius,a,this.chart.options.elements.point.hoverRadius)+this.getRadius(this.getDataset().data[t._index]),t._model.backgroundColor=t.custom&&t.custom.hoverBackgroundColor?t.custom.hoverBackgroundColor:e.getValueAtIndexOrDefault(i.hoverBackgroundColor,a,e.getHoverColor(t._model.backgroundColor)),t._model.borderColor=t.custom&&t.custom.hoverBorderColor?t.custom.hoverBorderColor:e.getValueAtIndexOrDefault(i.hoverBorderColor,a,e.getHoverColor(t._model.borderColor)),t._model.borderWidth=t.custom&&t.custom.hoverBorderWidth?t.custom.hoverBorderWidth:e.getValueAtIndexOrDefault(i.hoverBorderWidth,a,t._model.borderWidth)},removeHoverStyle:function(t){var i=(this.chart.data.datasets[t._datasetIndex],t._index);t._model.radius=t.custom&&t.custom.radius?t.custom.radius:this.getRadius(this.getDataset().data[t._index]),t._model.backgroundColor=t.custom&&t.custom.backgroundColor?t.custom.backgroundColor:e.getValueAtIndexOrDefault(this.getDataset().backgroundColor,i,this.chart.options.elements.point.backgroundColor),t._model.borderColor=t.custom&&t.custom.borderColor?t.custom.borderColor:e.getValueAtIndexOrDefault(this.getDataset().borderColor,i,this.chart.options.elements.point.borderColor),t._model.borderWidth=t.custom&&t.custom.borderWidth?t.custom.borderWidth:e.getValueAtIndexOrDefault(this.getDataset().borderWidth,i,this.chart.options.elements.point.borderWidth)}})}},{}],17:[function(t,e,i){"use strict";e.exports=function(t){var e=t.helpers;t.defaults.doughnut={animation:{animateRotate:!0,animateScale:!1},aspectRatio:1,hover:{mode:"single"},legendCallback:function(t){var e=[];if(e.push('<ul class="'+t.id+'-legend">'),t.data.datasets.length)for(var i=0;i<t.data.datasets[0].data.length;++i)e.push('<li><span style="background-color:'+t.data.datasets[0].backgroundColor[i]+'"></span>'),t.data.labels[i]&&e.push(t.data.labels[i]),e.push("</li>");return e.push("</ul>"),e.join("")},legend:{labels:{generateLabels:function(t){var i=t.data;return i.labels.length&&i.datasets.length?i.labels.map(function(a,o){var s=t.getDatasetMeta(0),n=i.datasets[0],r=s.data[o],h=r.custom&&r.custom.backgroundColor?r.custom.backgroundColor:e.getValueAtIndexOrDefault(n.backgroundColor,o,this.chart.options.elements.arc.backgroundColor),l=r.custom&&r.custom.borderColor?r.custom.borderColor:e.getValueAtIndexOrDefault(n.borderColor,o,this.chart.options.elements.arc.borderColor),c=r.custom&&r.custom.borderWidth?r.custom.borderWidth:e.getValueAtIndexOrDefault(n.borderWidth,o,this.chart.options.elements.arc.borderWidth);return{text:a,fillStyle:h,strokeStyle:l,lineWidth:c,hidden:isNaN(n.data[o])||s.data[o].hidden,index:o}},this):[]}},onClick:function(t,e){var i,a,o,s=e.index,n=this.chart;for(i=0,a=(n.data.datasets||[]).length;a>i;++i)o=n.getDatasetMeta(i),o.data[s].hidden=!o.data[s].hidden;n.update()}},cutoutPercentage:50,rotation:Math.PI*-.5,circumference:2*Math.PI,tooltips:{callbacks:{title:function(){return""},label:function(t,e){return e.labels[t.index]+": "+e.datasets[t.datasetIndex].data[t.index]}}}},t.defaults.pie=e.clone(t.defaults.doughnut),e.extend(t.defaults.pie,{cutoutPercentage:0}),t.controllers.doughnut=t.controllers.pie=t.DatasetController.extend({linkScales:function(){},addElements:function(){var i=this.getMeta();e.each(this.getDataset().data,function(e,a){i.data[a]=i.data[a]||new t.elements.Arc({_chart:this.chart.chart,_datasetIndex:this.index,_index:a})},this)},addElementAndReset:function(i,a){var o=new t.elements.Arc({_chart:this.chart.chart,_datasetIndex:this.index,_index:i});a&&e.isArray(this.getDataset().backgroundColor)&&this.getDataset().backgroundColor.splice(i,0,a),this.getMeta().data.splice(i,0,o),this.updateElement(o,i,!0)},getRingIndex:function(t){for(var e=0,i=0;t>i;++i)this.chart.isDatasetVisible(i)&&++e;return e},update:function(t){var i=this.chart.chartArea.right-this.chart.chartArea.left-this.chart.options.elements.arc.borderWidth,a=this.chart.chartArea.bottom-this.chart.chartArea.top-this.chart.options.elements.arc.borderWidth,o=Math.min(i,a),s={x:0,y:0};if(this.chart.options.circumference<2*Math.PI){var n=this.chart.options.rotation%(2*Math.PI);n+=2*Math.PI*(n>=Math.PI?-1:n<-Math.PI?1:0);var r=n+this.chart.options.circumference,h={x:Math.cos(n),y:Math.sin(n)},l={x:Math.cos(r),y:Math.sin(r)},c=0>=n&&r>=0||n<=2*Math.PI&&2*Math.PI<=r,d=n<=.5*Math.PI&&.5*Math.PI<=r||n<=2.5*Math.PI&&2.5*Math.PI<=r,u=n<=-Math.PI&&-Math.PI<=r||n<=Math.PI&&Math.PI<=r,g=n<=.5*-Math.PI&&.5*-Math.PI<=r||n<=1.5*Math.PI&&1.5*Math.PI<=r,f=this.chart.options.cutoutPercentage/100,p={x:u?-1:Math.min(h.x*(h.x<0?1:f),l.x*(l.x<0?1:f)),y:g?-1:Math.min(h.y*(h.y<0?1:f),l.y*(l.y<0?1:f))},m={x:c?1:Math.max(h.x*(h.x>0?1:f),l.x*(l.x>0?1:f)),y:d?1:Math.max(h.y*(h.y>0?1:f),l.y*(l.y>0?1:f))},b={width:.5*(m.x-p.x),height:.5*(m.y-p.y)};o=Math.min(i/b.width,a/b.height),s={x:(m.x+p.x)*-.5,y:(m.y+p.y)*-.5}}this.chart.outerRadius=Math.max(o/2,0),this.chart.innerRadius=Math.max(this.chart.options.cutoutPercentage?this.chart.outerRadius/100*this.chart.options.cutoutPercentage:1,0),this.chart.radiusLength=(this.chart.outerRadius-this.chart.innerRadius)/this.chart.getVisibleDatasetCount(),this.chart.offsetX=s.x*this.chart.outerRadius,this.chart.offsetY=s.y*this.chart.outerRadius,this.getMeta().total=this.calculateTotal(),this.outerRadius=this.chart.outerRadius-this.chart.radiusLength*this.getRingIndex(this.index),this.innerRadius=this.outerRadius-this.chart.radiusLength,e.each(this.getMeta().data,function(e,i){this.updateElement(e,i,t)},this)},updateElement:function(t,i,a){var o=(this.chart.chartArea.left+this.chart.chartArea.right)/2,s=(this.chart.chartArea.top+this.chart.chartArea.bottom)/2,n=this.chart.options.rotation,r=this.chart.options.rotation,h=a&&this.chart.options.animation.animateRotate?0:t.hidden?0:this.calculateCircumference(this.getDataset().data[i])*(this.chart.options.circumference/(2*Math.PI)),l=a&&this.chart.options.animation.animateScale?0:this.innerRadius,c=a&&this.chart.options.animation.animateScale?0:this.outerRadius;e.extend(t,{_chart:this.chart.chart,_datasetIndex:this.index,_index:i,_model:{x:o+this.chart.offsetX,y:s+this.chart.offsetY,startAngle:n,endAngle:r,circumference:h,outerRadius:c,innerRadius:l,backgroundColor:t.custom&&t.custom.backgroundColor?t.custom.backgroundColor:e.getValueAtIndexOrDefault(this.getDataset().backgroundColor,i,this.chart.options.elements.arc.backgroundColor),hoverBackgroundColor:t.custom&&t.custom.hoverBackgroundColor?t.custom.hoverBackgroundColor:e.getValueAtIndexOrDefault(this.getDataset().hoverBackgroundColor,i,this.chart.options.elements.arc.hoverBackgroundColor),borderWidth:t.custom&&t.custom.borderWidth?t.custom.borderWidth:e.getValueAtIndexOrDefault(this.getDataset().borderWidth,i,this.chart.options.elements.arc.borderWidth),borderColor:t.custom&&t.custom.borderColor?t.custom.borderColor:e.getValueAtIndexOrDefault(this.getDataset().borderColor,i,this.chart.options.elements.arc.borderColor),label:e.getValueAtIndexOrDefault(this.getDataset().label,i,this.chart.data.labels[i])}}),a&&this.chart.options.animation.animateRotate||(0===i?t._model.startAngle=this.chart.options.rotation:t._model.startAngle=this.getMeta().data[i-1]._model.endAngle,t._model.endAngle=t._model.startAngle+t._model.circumference),t.pivot()},draw:function(t){var i=t||1;e.each(this.getMeta().data,function(t,e){t.transition(i).draw()})},setHoverStyle:function(t){var i=this.chart.data.datasets[t._datasetIndex],a=t._index;t._model.backgroundColor=t.custom&&t.custom.hoverBackgroundColor?t.custom.hoverBackgroundColor:e.getValueAtIndexOrDefault(i.hoverBackgroundColor,a,e.getHoverColor(t._model.backgroundColor)),t._model.borderColor=t.custom&&t.custom.hoverBorderColor?t.custom.hoverBorderColor:e.getValueAtIndexOrDefault(i.hoverBorderColor,a,e.getHoverColor(t._model.borderColor)),t._model.borderWidth=t.custom&&t.custom.hoverBorderWidth?t.custom.hoverBorderWidth:e.getValueAtIndexOrDefault(i.hoverBorderWidth,a,t._model.borderWidth)},removeHoverStyle:function(t){var i=(this.chart.data.datasets[t._datasetIndex],t._index);t._model.backgroundColor=t.custom&&t.custom.backgroundColor?t.custom.backgroundColor:e.getValueAtIndexOrDefault(this.getDataset().backgroundColor,i,this.chart.options.elements.arc.backgroundColor),t._model.borderColor=t.custom&&t.custom.borderColor?t.custom.borderColor:e.getValueAtIndexOrDefault(this.getDataset().borderColor,i,this.chart.options.elements.arc.borderColor),t._model.borderWidth=t.custom&&t.custom.borderWidth?t.custom.borderWidth:e.getValueAtIndexOrDefault(this.getDataset().borderWidth,i,this.chart.options.elements.arc.borderWidth)},calculateTotal:function(){var t,i=this.getDataset(),a=this.getMeta(),o=0;return e.each(a.data,function(e,a){t=i.data[a],isNaN(t)||e.hidden||(o+=Math.abs(t))}),o},calculateCircumference:function(t){var e=this.getMeta().total;return e>0&&!isNaN(t)?2*Math.PI*(t/e):0}})}},{}],18:[function(t,e,i){"use strict";e.exports=function(t){var e=t.helpers;t.defaults.line={showLines:!0,hover:{mode:"label"},scales:{xAxes:[{type:"category",id:"x-axis-0"}],yAxes:[{type:"linear",id:"y-axis-0"}]}},t.controllers.line=t.DatasetController.extend({addElements:function(){var i=this.getMeta();i.dataset=i.dataset||new t.elements.Line({_chart:this.chart.chart,_datasetIndex:this.index,_points:i.data}),e.each(this.getDataset().data,function(e,a){i.data[a]=i.data[a]||new t.elements.Point({_chart:this.chart.chart,_datasetIndex:this.index,_index:a})},this)},addElementAndReset:function(e){var i=new t.elements.Point({_chart:this.chart.chart,_datasetIndex:this.index,_index:e});this.getMeta().data.splice(e,0,i),this.updateElement(i,e,!0),this.chart.options.showLines&&0!==this.chart.options.elements.line.tension&&this.updateBezierControlPoints()},update:function(t){var i,a=this.getMeta(),o=a.dataset,s=a.data,n=this.getScaleForId(a.yAxisID);this.getScaleForId(a.xAxisID);i=n.min<0&&n.max<0?n.getPixelForValue(n.max):n.min>0&&n.max>0?n.getPixelForValue(n.min):n.getPixelForValue(0),this.chart.options.showLines&&(o._scale=n,o._datasetIndex=this.index,o._children=s,void 0!==this.getDataset().tension&&void 0===this.getDataset().lineTension&&(this.getDataset().lineTension=this.getDataset().tension),o._model={tension:o.custom&&o.custom.tension?o.custom.tension:e.getValueOrDefault(this.getDataset().lineTension,this.chart.options.elements.line.tension),backgroundColor:o.custom&&o.custom.backgroundColor?o.custom.backgroundColor:this.getDataset().backgroundColor||this.chart.options.elements.line.backgroundColor,borderWidth:o.custom&&o.custom.borderWidth?o.custom.borderWidth:this.getDataset().borderWidth||this.chart.options.elements.line.borderWidth,borderColor:o.custom&&o.custom.borderColor?o.custom.borderColor:this.getDataset().borderColor||this.chart.options.elements.line.borderColor,borderCapStyle:o.custom&&o.custom.borderCapStyle?o.custom.borderCapStyle:this.getDataset().borderCapStyle||this.chart.options.elements.line.borderCapStyle,borderDash:o.custom&&o.custom.borderDash?o.custom.borderDash:this.getDataset().borderDash||this.chart.options.elements.line.borderDash,borderDashOffset:o.custom&&o.custom.borderDashOffset?o.custom.borderDashOffset:this.getDataset().borderDashOffset||this.chart.options.elements.line.borderDashOffset,borderJoinStyle:o.custom&&o.custom.borderJoinStyle?o.custom.borderJoinStyle:this.getDataset().borderJoinStyle||this.chart.options.elements.line.borderJoinStyle,fill:o.custom&&o.custom.fill?o.custom.fill:void 0!==this.getDataset().fill?this.getDataset().fill:this.chart.options.elements.line.fill,scaleTop:n.top,scaleBottom:n.bottom,scaleZero:i},o.pivot()),e.each(s,function(e,i){this.updateElement(e,i,t)},this),this.chart.options.showLines&&0!==this.chart.options.elements.line.tension&&this.updateBezierControlPoints()},getPointBackgroundColor:function(t,i){var a=this.chart.options.elements.point.backgroundColor,o=this.getDataset();return t.custom&&t.custom.backgroundColor?a=t.custom.backgroundColor:o.pointBackgroundColor?a=e.getValueAtIndexOrDefault(o.pointBackgroundColor,i,a):o.backgroundColor&&(a=o.backgroundColor),a},getPointBorderColor:function(t,i){var a=this.chart.options.elements.point.borderColor,o=this.getDataset();return t.custom&&t.custom.borderColor?a=t.custom.borderColor:o.pointBorderColor?a=e.getValueAtIndexOrDefault(this.getDataset().pointBorderColor,i,a):o.borderColor&&(a=o.borderColor),a},getPointBorderWidth:function(t,i){var a=this.chart.options.elements.point.borderWidth,o=this.getDataset();return t.custom&&void 0!==t.custom.borderWidth?a=t.custom.borderWidth:void 0!==o.pointBorderWidth?a=e.getValueAtIndexOrDefault(o.pointBorderWidth,i,a):void 0!==o.borderWidth&&(a=o.borderWidth),a},updateElement:function(t,i,a){var o,s=this.getMeta(),n=this.getScaleForId(s.yAxisID),r=this.getScaleForId(s.xAxisID);o=n.min<0&&n.max<0?n.getPixelForValue(n.max):n.min>0&&n.max>0?n.getPixelForValue(n.min):n.getPixelForValue(0),t._chart=this.chart.chart,t._xScale=r,t._yScale=n,t._datasetIndex=this.index,t._index=i,void 0!==this.getDataset().radius&&void 0===this.getDataset().pointRadius&&(this.getDataset().pointRadius=this.getDataset().radius),void 0!==this.getDataset().hitRadius&&void 0===this.getDataset().pointHitRadius&&(this.getDataset().pointHitRadius=this.getDataset().hitRadius),t._model={x:r.getPixelForValue(this.getDataset().data[i],i,this.index,this.chart.isCombo),y:a?o:this.calculatePointY(this.getDataset().data[i],i,this.index,this.chart.isCombo),radius:t.custom&&t.custom.radius?t.custom.radius:e.getValueAtIndexOrDefault(this.getDataset().pointRadius,i,this.chart.options.elements.point.radius),pointStyle:t.custom&&t.custom.pointStyle?t.custom.pointStyle:e.getValueAtIndexOrDefault(this.getDataset().pointStyle,i,this.chart.options.elements.point.pointStyle),backgroundColor:this.getPointBackgroundColor(t,i),borderColor:this.getPointBorderColor(t,i),borderWidth:this.getPointBorderWidth(t,i),tension:s.dataset._model?s.dataset._model.tension:0,hitRadius:t.custom&&t.custom.hitRadius?t.custom.hitRadius:e.getValueAtIndexOrDefault(this.getDataset().pointHitRadius,i,this.chart.options.elements.point.hitRadius)},t._model.skip=t.custom&&t.custom.skip?t.custom.skip:isNaN(t._model.x)||isNaN(t._model.y)},calculatePointY:function(t,e,i,a){var o=this.getMeta(),s=(this.getScaleForId(o.xAxisID),this.getScaleForId(o.yAxisID));if(s.options.stacked){for(var n=0,r=0,h=0;i>h;h++){var l=this.chart.data.datasets[h],c=this.chart.getDatasetMeta(h);"line"===c.type&&this.chart.isDatasetVisible(h)&&(l.data[e]<0?r+=l.data[e]||0:n+=l.data[e]||0)}return 0>t?s.getPixelForValue(r+t):s.getPixelForValue(n+t)}return s.getPixelForValue(t)},updateBezierControlPoints:function(){var t=this.getMeta();e.each(t.data,function(i,a){var o=e.splineCurve(e.previousItem(t.data,a)._model,i._model,e.nextItem(t.data,a)._model,t.dataset._model.tension);i._model.controlPointPreviousX=Math.max(Math.min(o.previous.x,this.chart.chartArea.right),this.chart.chartArea.left),i._model.controlPointPreviousY=Math.max(Math.min(o.previous.y,this.chart.chartArea.bottom),this.chart.chartArea.top),i._model.controlPointNextX=Math.max(Math.min(o.next.x,this.chart.chartArea.right),this.chart.chartArea.left),i._model.controlPointNextY=Math.max(Math.min(o.next.y,this.chart.chartArea.bottom),this.chart.chartArea.top),i.pivot()},this)},draw:function(t){var i=this.getMeta(),a=t||1;e.each(i.data,function(t){t.transition(a)}),this.chart.options.showLines&&i.dataset.transition(a).draw(),e.each(i.data,function(t){t.draw()})},setHoverStyle:function(t){var i=this.chart.data.datasets[t._datasetIndex],a=t._index;t._model.radius=t.custom&&t.custom.hoverRadius?t.custom.hoverRadius:e.getValueAtIndexOrDefault(i.pointHoverRadius,a,this.chart.options.elements.point.hoverRadius),t._model.backgroundColor=t.custom&&t.custom.hoverBackgroundColor?t.custom.hoverBackgroundColor:e.getValueAtIndexOrDefault(i.pointHoverBackgroundColor,a,e.getHoverColor(t._model.backgroundColor)),t._model.borderColor=t.custom&&t.custom.hoverBorderColor?t.custom.hoverBorderColor:e.getValueAtIndexOrDefault(i.pointHoverBorderColor,a,e.getHoverColor(t._model.borderColor)),t._model.borderWidth=t.custom&&t.custom.hoverBorderWidth?t.custom.hoverBorderWidth:e.getValueAtIndexOrDefault(i.pointHoverBorderWidth,a,t._model.borderWidth)},removeHoverStyle:function(t){var i=(this.chart.data.datasets[t._datasetIndex],t._index);void 0!==this.getDataset().radius&&void 0===this.getDataset().pointRadius&&(this.getDataset().pointRadius=this.getDataset().radius),t._model.radius=t.custom&&t.custom.radius?t.custom.radius:e.getValueAtIndexOrDefault(this.getDataset().pointRadius,i,this.chart.options.elements.point.radius),t._model.backgroundColor=this.getPointBackgroundColor(t,i),t._model.borderColor=this.getPointBorderColor(t,i),t._model.borderWidth=this.getPointBorderWidth(t,i)}})}},{}],19:[function(t,e,i){"use strict";e.exports=function(t){var e=t.helpers;t.defaults.polarArea={scale:{type:"radialLinear",lineArc:!0},animation:{animateRotate:!0,animateScale:!0},aspectRatio:1,legendCallback:function(t){var e=[];if(e.push('<ul class="'+t.id+'-legend">'),t.data.datasets.length)for(var i=0;i<t.data.datasets[0].data.length;++i)e.push('<li><span style="background-color:'+t.data.datasets[0].backgroundColor[i]+'">'),t.data.labels[i]&&e.push(t.data.labels[i]),e.push("</span></li>");return e.push("</ul>"),e.join("")},legend:{labels:{generateLabels:function(t){var i=t.data;return i.labels.length&&i.datasets.length?i.labels.map(function(a,o){var s=t.getDatasetMeta(0),n=i.datasets[0],r=s.data[o],h=r.custom&&r.custom.backgroundColor?r.custom.backgroundColor:e.getValueAtIndexOrDefault(n.backgroundColor,o,this.chart.options.elements.arc.backgroundColor),l=r.custom&&r.custom.borderColor?r.custom.borderColor:e.getValueAtIndexOrDefault(n.borderColor,o,this.chart.options.elements.arc.borderColor),c=r.custom&&r.custom.borderWidth?r.custom.borderWidth:e.getValueAtIndexOrDefault(n.borderWidth,o,this.chart.options.elements.arc.borderWidth);return{text:a,fillStyle:h,strokeStyle:l,lineWidth:c,hidden:isNaN(n.data[o])||s.data[o].hidden,index:o}},this):[]}},onClick:function(t,e){var i,a,o,s=e.index,n=this.chart;for(i=0,a=(n.data.datasets||[]).length;a>i;++i)o=n.getDatasetMeta(i),o.data[s].hidden=!o.data[s].hidden;n.update()}},tooltips:{callbacks:{title:function(){return""},label:function(t,e){return e.labels[t.index]+": "+t.yLabel}}}},t.controllers.polarArea=t.DatasetController.extend({linkScales:function(){},addElements:function(){var i=this.getMeta();e.each(this.getDataset().data,function(e,a){i.data[a]=i.data[a]||new t.elements.Arc({_chart:this.chart.chart,_datasetIndex:this.index,_index:a})},this)},addElementAndReset:function(e){var i=new t.elements.Arc({_chart:this.chart.chart,_datasetIndex:this.index,_index:e});this.getMeta().data.splice(e,0,i),this.updateElement(i,e,!0)},update:function(t){var i=this.getMeta(),a=Math.min(this.chart.chartArea.right-this.chart.chartArea.left,this.chart.chartArea.bottom-this.chart.chartArea.top);this.chart.outerRadius=Math.max((a-this.chart.options.elements.arc.borderWidth/2)/2,0),this.chart.innerRadius=Math.max(this.chart.options.cutoutPercentage?this.chart.outerRadius/100*this.chart.options.cutoutPercentage:1,0),this.chart.radiusLength=(this.chart.outerRadius-this.chart.innerRadius)/this.chart.getVisibleDatasetCount(),this.outerRadius=this.chart.outerRadius-this.chart.radiusLength*this.index,this.innerRadius=this.outerRadius-this.chart.radiusLength,i.count=this.countVisibleElements(),e.each(i.data,function(e,i){this.updateElement(e,i,t)},this)},updateElement:function(t,i,a){for(var o=this.calculateCircumference(this.getDataset().data[i]),s=(this.chart.chartArea.left+this.chart.chartArea.right)/2,n=(this.chart.chartArea.top+this.chart.chartArea.bottom)/2,r=0,h=this.getMeta(),l=0;i>l;++l)isNaN(this.getDataset().data[l])||h.data[l].hidden||++r;var c=t.hidden?0:this.chart.scale.getDistanceFromCenterForValue(this.getDataset().data[i]),d=-.5*Math.PI+o*r,u=d+(t.hidden?0:o),g={x:s,y:n,innerRadius:0,outerRadius:this.chart.options.animation.animateScale?0:this.chart.scale.getDistanceFromCenterForValue(this.getDataset().data[i]),startAngle:this.chart.options.animation.animateRotate?Math.PI*-.5:d,endAngle:this.chart.options.animation.animateRotate?Math.PI*-.5:u,backgroundColor:t.custom&&t.custom.backgroundColor?t.custom.backgroundColor:e.getValueAtIndexOrDefault(this.getDataset().backgroundColor,i,this.chart.options.elements.arc.backgroundColor),borderWidth:t.custom&&t.custom.borderWidth?t.custom.borderWidth:e.getValueAtIndexOrDefault(this.getDataset().borderWidth,i,this.chart.options.elements.arc.borderWidth),borderColor:t.custom&&t.custom.borderColor?t.custom.borderColor:e.getValueAtIndexOrDefault(this.getDataset().borderColor,i,this.chart.options.elements.arc.borderColor),label:e.getValueAtIndexOrDefault(this.chart.data.labels,i,this.chart.data.labels[i])};e.extend(t,{_chart:this.chart.chart,_datasetIndex:this.index,_index:i,_scale:this.chart.scale,_model:a?g:{x:s,y:n,innerRadius:0,outerRadius:c,startAngle:d,endAngle:u,backgroundColor:t.custom&&t.custom.backgroundColor?t.custom.backgroundColor:e.getValueAtIndexOrDefault(this.getDataset().backgroundColor,i,this.chart.options.elements.arc.backgroundColor),borderWidth:t.custom&&t.custom.borderWidth?t.custom.borderWidth:e.getValueAtIndexOrDefault(this.getDataset().borderWidth,i,this.chart.options.elements.arc.borderWidth),borderColor:t.custom&&t.custom.borderColor?t.custom.borderColor:e.getValueAtIndexOrDefault(this.getDataset().borderColor,i,this.chart.options.elements.arc.borderColor),label:e.getValueAtIndexOrDefault(this.chart.data.labels,i,this.chart.data.labels[i])}}),t.pivot()},draw:function(t){var i=t||1;e.each(this.getMeta().data,function(t,e){t.transition(i).draw()})},setHoverStyle:function(t){var i=this.chart.data.datasets[t._datasetIndex],a=t._index;t._model.backgroundColor=t.custom&&t.custom.hoverBackgroundColor?t.custom.hoverBackgroundColor:e.getValueAtIndexOrDefault(i.hoverBackgroundColor,a,e.getHoverColor(t._model.backgroundColor)),t._model.borderColor=t.custom&&t.custom.hoverBorderColor?t.custom.hoverBorderColor:e.getValueAtIndexOrDefault(i.hoverBorderColor,a,e.getHoverColor(t._model.borderColor)),t._model.borderWidth=t.custom&&t.custom.hoverBorderWidth?t.custom.hoverBorderWidth:e.getValueAtIndexOrDefault(i.hoverBorderWidth,a,t._model.borderWidth)},removeHoverStyle:function(t){var i=(this.chart.data.datasets[t._datasetIndex],t._index);t._model.backgroundColor=t.custom&&t.custom.backgroundColor?t.custom.backgroundColor:e.getValueAtIndexOrDefault(this.getDataset().backgroundColor,i,this.chart.options.elements.arc.backgroundColor),t._model.borderColor=t.custom&&t.custom.borderColor?t.custom.borderColor:e.getValueAtIndexOrDefault(this.getDataset().borderColor,i,this.chart.options.elements.arc.borderColor),t._model.borderWidth=t.custom&&t.custom.borderWidth?t.custom.borderWidth:e.getValueAtIndexOrDefault(this.getDataset().borderWidth,i,this.chart.options.elements.arc.borderWidth)},countVisibleElements:function(){var t=this.getDataset(),i=this.getMeta(),a=0;return e.each(i.data,function(e,i){isNaN(t.data[i])||e.hidden||a++}),a},calculateCircumference:function(t){var e=this.getMeta().count;return e>0&&!isNaN(t)?2*Math.PI/e:0}})}},{}],20:[function(t,e,i){"use strict";e.exports=function(t){var e=t.helpers;t.defaults.radar={scale:{type:"radialLinear"},elements:{line:{tension:0}}},t.controllers.radar=t.DatasetController.extend({linkScales:function(){},addElements:function(){var i=this.getMeta();i.dataset=i.dataset||new t.elements.Line({_chart:this.chart.chart,_datasetIndex:this.index,_points:i.data,_loop:!0
}),e.each(this.getDataset().data,function(e,a){i.data[a]=i.data[a]||new t.elements.Point({_chart:this.chart.chart,_datasetIndex:this.index,_index:a,_model:{x:0,y:0}})},this)},addElementAndReset:function(e){var i=new t.elements.Point({_chart:this.chart.chart,_datasetIndex:this.index,_index:e});this.getMeta().data.splice(e,0,i),this.updateElement(i,e,!0),this.updateBezierControlPoints()},update:function(t){var i,a=this.getMeta(),o=a.dataset,s=a.data,n=this.chart.scale;i=n.min<0&&n.max<0?n.getPointPositionForValue(0,n.max):n.min>0&&n.max>0?n.getPointPositionForValue(0,n.min):n.getPointPositionForValue(0,0),void 0!==this.getDataset().tension&&void 0===this.getDataset().lineTension&&(this.getDataset().lineTension=this.getDataset().tension),e.extend(a.dataset,{_datasetIndex:this.index,_children:s,_model:{tension:o.custom&&o.custom.tension?o.custom.tension:e.getValueOrDefault(this.getDataset().lineTension,this.chart.options.elements.line.tension),backgroundColor:o.custom&&o.custom.backgroundColor?o.custom.backgroundColor:this.getDataset().backgroundColor||this.chart.options.elements.line.backgroundColor,borderWidth:o.custom&&o.custom.borderWidth?o.custom.borderWidth:this.getDataset().borderWidth||this.chart.options.elements.line.borderWidth,borderColor:o.custom&&o.custom.borderColor?o.custom.borderColor:this.getDataset().borderColor||this.chart.options.elements.line.borderColor,fill:o.custom&&o.custom.fill?o.custom.fill:void 0!==this.getDataset().fill?this.getDataset().fill:this.chart.options.elements.line.fill,borderCapStyle:o.custom&&o.custom.borderCapStyle?o.custom.borderCapStyle:this.getDataset().borderCapStyle||this.chart.options.elements.line.borderCapStyle,borderDash:o.custom&&o.custom.borderDash?o.custom.borderDash:this.getDataset().borderDash||this.chart.options.elements.line.borderDash,borderDashOffset:o.custom&&o.custom.borderDashOffset?o.custom.borderDashOffset:this.getDataset().borderDashOffset||this.chart.options.elements.line.borderDashOffset,borderJoinStyle:o.custom&&o.custom.borderJoinStyle?o.custom.borderJoinStyle:this.getDataset().borderJoinStyle||this.chart.options.elements.line.borderJoinStyle,scaleTop:n.top,scaleBottom:n.bottom,scaleZero:i}}),a.dataset.pivot(),e.each(s,function(e,i){this.updateElement(e,i,t)},this),this.updateBezierControlPoints()},updateElement:function(t,i,a){var o=this.chart.scale.getPointPositionForValue(i,this.getDataset().data[i]);e.extend(t,{_datasetIndex:this.index,_index:i,_scale:this.chart.scale,_model:{x:a?this.chart.scale.xCenter:o.x,y:a?this.chart.scale.yCenter:o.y,tension:t.custom&&t.custom.tension?t.custom.tension:e.getValueOrDefault(this.getDataset().tension,this.chart.options.elements.line.tension),radius:t.custom&&t.custom.radius?t.custom.radius:e.getValueAtIndexOrDefault(this.getDataset().pointRadius,i,this.chart.options.elements.point.radius),backgroundColor:t.custom&&t.custom.backgroundColor?t.custom.backgroundColor:e.getValueAtIndexOrDefault(this.getDataset().pointBackgroundColor,i,this.chart.options.elements.point.backgroundColor),borderColor:t.custom&&t.custom.borderColor?t.custom.borderColor:e.getValueAtIndexOrDefault(this.getDataset().pointBorderColor,i,this.chart.options.elements.point.borderColor),borderWidth:t.custom&&t.custom.borderWidth?t.custom.borderWidth:e.getValueAtIndexOrDefault(this.getDataset().pointBorderWidth,i,this.chart.options.elements.point.borderWidth),pointStyle:t.custom&&t.custom.pointStyle?t.custom.pointStyle:e.getValueAtIndexOrDefault(this.getDataset().pointStyle,i,this.chart.options.elements.point.pointStyle),hitRadius:t.custom&&t.custom.hitRadius?t.custom.hitRadius:e.getValueAtIndexOrDefault(this.getDataset().hitRadius,i,this.chart.options.elements.point.hitRadius)}}),t._model.skip=t.custom&&t.custom.skip?t.custom.skip:isNaN(t._model.x)||isNaN(t._model.y)},updateBezierControlPoints:function(){var t=this.getMeta();e.each(t.data,function(i,a){var o=e.splineCurve(e.previousItem(t.data,a,!0)._model,i._model,e.nextItem(t.data,a,!0)._model,i._model.tension);i._model.controlPointPreviousX=Math.max(Math.min(o.previous.x,this.chart.chartArea.right),this.chart.chartArea.left),i._model.controlPointPreviousY=Math.max(Math.min(o.previous.y,this.chart.chartArea.bottom),this.chart.chartArea.top),i._model.controlPointNextX=Math.max(Math.min(o.next.x,this.chart.chartArea.right),this.chart.chartArea.left),i._model.controlPointNextY=Math.max(Math.min(o.next.y,this.chart.chartArea.bottom),this.chart.chartArea.top),i.pivot()},this)},draw:function(t){var i=this.getMeta(),a=t||1;e.each(i.data,function(t,e){t.transition(a)}),i.dataset.transition(a).draw(),e.each(i.data,function(t){t.draw()})},setHoverStyle:function(t){var i=this.chart.data.datasets[t._datasetIndex],a=t._index;t._model.radius=t.custom&&t.custom.hoverRadius?t.custom.hoverRadius:e.getValueAtIndexOrDefault(i.pointHoverRadius,a,this.chart.options.elements.point.hoverRadius),t._model.backgroundColor=t.custom&&t.custom.hoverBackgroundColor?t.custom.hoverBackgroundColor:e.getValueAtIndexOrDefault(i.pointHoverBackgroundColor,a,e.getHoverColor(t._model.backgroundColor)),t._model.borderColor=t.custom&&t.custom.hoverBorderColor?t.custom.hoverBorderColor:e.getValueAtIndexOrDefault(i.pointHoverBorderColor,a,e.getHoverColor(t._model.borderColor)),t._model.borderWidth=t.custom&&t.custom.hoverBorderWidth?t.custom.hoverBorderWidth:e.getValueAtIndexOrDefault(i.pointHoverBorderWidth,a,t._model.borderWidth)},removeHoverStyle:function(t){var i=(this.chart.data.datasets[t._datasetIndex],t._index);t._model.radius=t.custom&&t.custom.radius?t.custom.radius:e.getValueAtIndexOrDefault(this.getDataset().radius,i,this.chart.options.elements.point.radius),t._model.backgroundColor=t.custom&&t.custom.backgroundColor?t.custom.backgroundColor:e.getValueAtIndexOrDefault(this.getDataset().pointBackgroundColor,i,this.chart.options.elements.point.backgroundColor),t._model.borderColor=t.custom&&t.custom.borderColor?t.custom.borderColor:e.getValueAtIndexOrDefault(this.getDataset().pointBorderColor,i,this.chart.options.elements.point.borderColor),t._model.borderWidth=t.custom&&t.custom.borderWidth?t.custom.borderWidth:e.getValueAtIndexOrDefault(this.getDataset().pointBorderWidth,i,this.chart.options.elements.point.borderWidth)}})}},{}],21:[function(t,e,i){"use strict";e.exports=function(t){var e=t.helpers;t.defaults.global.animation={duration:1e3,easing:"easeOutQuart",onProgress:e.noop,onComplete:e.noop},t.Animation=t.Element.extend({currentStep:null,numSteps:60,easing:"",render:null,onAnimationProgress:null,onAnimationComplete:null}),t.animationService={frameDuration:17,animations:[],dropFrames:0,request:null,addAnimation:function(t,e,i,a){a||(t.animating=!0);for(var o=0;o<this.animations.length;++o)if(this.animations[o].chartInstance===t)return void(this.animations[o].animationObject=e);this.animations.push({chartInstance:t,animationObject:e}),1===this.animations.length&&this.requestAnimationFrame()},cancelAnimation:function(t){var i=e.findIndex(this.animations,function(e){return e.chartInstance===t});-1!==i&&(this.animations.splice(i,1),t.animating=!1)},requestAnimationFrame:function(){var t=this;null===t.request&&(t.request=e.requestAnimFrame.call(window,function(){t.request=null,t.startDigest()}))},startDigest:function(){var t=Date.now(),e=0;this.dropFrames>1&&(e=Math.floor(this.dropFrames),this.dropFrames=this.dropFrames%1);for(var i=0;i<this.animations.length;)null===this.animations[i].animationObject.currentStep&&(this.animations[i].animationObject.currentStep=0),this.animations[i].animationObject.currentStep+=1+e,this.animations[i].animationObject.currentStep>this.animations[i].animationObject.numSteps&&(this.animations[i].animationObject.currentStep=this.animations[i].animationObject.numSteps),this.animations[i].animationObject.render(this.animations[i].chartInstance,this.animations[i].animationObject),this.animations[i].animationObject.onAnimationProgress&&this.animations[i].animationObject.onAnimationProgress.call&&this.animations[i].animationObject.onAnimationProgress.call(this.animations[i].chartInstance,this.animations[i]),this.animations[i].animationObject.currentStep===this.animations[i].animationObject.numSteps?(this.animations[i].animationObject.onAnimationComplete&&this.animations[i].animationObject.onAnimationComplete.call&&this.animations[i].animationObject.onAnimationComplete.call(this.animations[i].chartInstance,this.animations[i]),this.animations[i].chartInstance.animating=!1,this.animations.splice(i,1)):++i;var a=Date.now(),o=(a-t)/this.frameDuration;this.dropFrames+=o,this.animations.length>0&&this.requestAnimationFrame()}}}},{}],22:[function(t,e,i){"use strict";e.exports=function(t){var e=t.helpers;t.types={},t.instances={},t.controllers={},t.Controller=function(i){return this.chart=i,this.config=i.config,this.options=this.config.options=e.configMerge(t.defaults.global,t.defaults[this.config.type],this.config.options||{}),this.id=e.uid(),Object.defineProperty(this,"data",{get:function(){return this.config.data}}),t.instances[this.id]=this,this.options.responsive&&this.resize(!0),this.initialize(),this},e.extend(t.Controller.prototype,{initialize:function(){return t.pluginService.notifyPlugins("beforeInit",[this]),this.bindEvents(),this.ensureScalesHaveIDs(),this.buildOrUpdateControllers(),this.buildScales(),this.buildSurroundingItems(),this.updateLayout(),this.resetElements(),this.initToolTip(),this.update(),t.pluginService.notifyPlugins("afterInit",[this]),this},clear:function(){return e.clear(this.chart),this},stop:function(){return t.animationService.cancelAnimation(this),this},resize:function(t){var i=this.chart.canvas,a=e.getMaximumWidth(this.chart.canvas),o=this.options.maintainAspectRatio&&isNaN(this.chart.aspectRatio)===!1&&isFinite(this.chart.aspectRatio)&&0!==this.chart.aspectRatio?a/this.chart.aspectRatio:e.getMaximumHeight(this.chart.canvas),s=this.chart.width!==a||this.chart.height!==o;return s?(i.width=this.chart.width=a,i.height=this.chart.height=o,e.retinaScale(this.chart),t||(this.stop(),this.update(this.options.responsiveAnimationDuration)),this):this},ensureScalesHaveIDs:function(){var t="x-axis-",i="y-axis-";this.options.scales&&(this.options.scales.xAxes&&this.options.scales.xAxes.length&&e.each(this.options.scales.xAxes,function(e,i){e.id=e.id||t+i}),this.options.scales.yAxes&&this.options.scales.yAxes.length&&e.each(this.options.scales.yAxes,function(t,e){t.id=t.id||i+e}))},buildScales:function(){if(this.scales={},this.options.scales&&(this.options.scales.xAxes&&this.options.scales.xAxes.length&&e.each(this.options.scales.xAxes,function(i,a){var o=e.getValueOrDefault(i.type,"category"),s=t.scaleService.getScaleConstructor(o);if(s){var n=new s({ctx:this.chart.ctx,options:i,chart:this,id:i.id});this.scales[n.id]=n}},this),this.options.scales.yAxes&&this.options.scales.yAxes.length&&e.each(this.options.scales.yAxes,function(i,a){var o=e.getValueOrDefault(i.type,"linear"),s=t.scaleService.getScaleConstructor(o);if(s){var n=new s({ctx:this.chart.ctx,options:i,chart:this,id:i.id});this.scales[n.id]=n}},this)),this.options.scale){var i=t.scaleService.getScaleConstructor(this.options.scale.type);if(i){var a=new i({ctx:this.chart.ctx,options:this.options.scale,chart:this});this.scale=a,this.scales.radialScale=a}}t.scaleService.addScalesToLayout(this)},buildSurroundingItems:function(){this.options.title&&(this.titleBlock=new t.Title({ctx:this.chart.ctx,options:this.options.title,chart:this}),t.layoutService.addBox(this,this.titleBlock)),this.options.legend&&(this.legend=new t.Legend({ctx:this.chart.ctx,options:this.options.legend,chart:this}),t.layoutService.addBox(this,this.legend))},updateLayout:function(){t.layoutService.update(this,this.chart.width,this.chart.height)},buildOrUpdateControllers:function(){var i=[],a=[];if(e.each(this.data.datasets,function(e,o){var s=this.getDatasetMeta(o);s.type||(s.type=e.type||this.config.type),i.push(s.type),s.controller?s.controller.updateIndex(o):(s.controller=new t.controllers[s.type](this,o),a.push(s.controller))},this),i.length>1)for(var o=1;o<i.length;o++)if(i[o]!==i[o-1]){this.isCombo=!0;break}return a},resetElements:function(){e.each(this.data.datasets,function(t,e){this.getDatasetMeta(e).controller.reset()},this)},update:function(i,a){t.pluginService.notifyPlugins("beforeUpdate",[this]),this.tooltip._data=this.data;var o=this.buildOrUpdateControllers();e.each(this.data.datasets,function(t,e){this.getDatasetMeta(e).controller.buildOrUpdateElements()},this),t.layoutService.update(this,this.chart.width,this.chart.height),t.pluginService.notifyPlugins("afterScaleUpdate",[this]),e.each(o,function(t){t.reset()}),e.each(this.data.datasets,function(t,e){this.getDatasetMeta(e).controller.update()},this),t.pluginService.notifyPlugins("afterUpdate",[this]),this.render(i,a)},render:function(i,a){if(t.pluginService.notifyPlugins("beforeRender",[this]),this.options.animation&&("undefined"!=typeof i&&0!==i||"undefined"==typeof i&&0!==this.options.animation.duration)){var o=new t.Animation;o.numSteps=(i||this.options.animation.duration)/16.66,o.easing=this.options.animation.easing,o.render=function(t,i){var a=e.easingEffects[i.easing],o=i.currentStep/i.numSteps,s=a(o);t.draw(s,o,i.currentStep)},o.onAnimationProgress=this.options.animation.onProgress,o.onAnimationComplete=this.options.animation.onComplete,t.animationService.addAnimation(this,o,i,a)}else this.draw(),this.options.animation&&this.options.animation.onComplete&&this.options.animation.onComplete.call&&this.options.animation.onComplete.call(this);return this},draw:function(i){var a=i||1;this.clear(),t.pluginService.notifyPlugins("beforeDraw",[this,a]),e.each(this.boxes,function(t){t.draw(this.chartArea)},this),this.scale&&this.scale.draw(),this.chart.ctx.save(),this.chart.ctx.beginPath(),this.chart.ctx.rect(this.chartArea.left,this.chartArea.top,this.chartArea.right-this.chartArea.left,this.chartArea.bottom-this.chartArea.top),this.chart.ctx.clip(),e.each(this.data.datasets,function(t,e){this.isDatasetVisible(e)&&this.getDatasetMeta(e).controller.draw(i)},this,!0),this.chart.ctx.restore(),this.tooltip.transition(a).draw(),t.pluginService.notifyPlugins("afterDraw",[this,a])},getElementAtEvent:function(t){var i=e.getRelativePosition(t,this.chart),a=[];return e.each(this.data.datasets,function(t,o){if(this.isDatasetVisible(o)){var s=this.getDatasetMeta(o);e.each(s.data,function(t,e){return t.inRange(i.x,i.y)?(a.push(t),a):void 0})}},this),a},getElementsAtEvent:function(t){var i=e.getRelativePosition(t,this.chart),a=[],o=function(){if(this.data.datasets)for(var t=0;t<this.data.datasets.length;t++){var e=this.getDatasetMeta(t);if(this.isDatasetVisible(t))for(var a=0;a<e.data.length;a++)if(e.data[a].inRange(i.x,i.y))return e.data[a]}}.call(this);return o?(e.each(this.data.datasets,function(t,e){if(this.isDatasetVisible(e)){var i=this.getDatasetMeta(e);a.push(i.data[o._index])}},this),a):a},getDatasetAtEvent:function(t){var e=this.getElementAtEvent(t);return e.length>0&&(e=this.getDatasetMeta(e[0]._datasetIndex).data),e},getDatasetMeta:function(t){var e=this.data.datasets[t];e._meta||(e._meta={});var i=e._meta[this.id];return i||(i=e._meta[this.id]={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null}),i},getVisibleDatasetCount:function(){for(var t=0,e=0,i=this.data.datasets.length;i>e;++e)this.isDatasetVisible(e)&&t++;return t},isDatasetVisible:function(t){var e=this.getDatasetMeta(t);return"boolean"==typeof e.hidden?!e.hidden:!this.data.datasets[t].hidden},generateLegend:function(){return this.options.legendCallback(this)},destroy:function(){this.clear(),e.unbindEvents(this,this.events),e.removeResizeListener(this.chart.canvas.parentNode);var i=this.chart.canvas;i.width=this.chart.width,i.height=this.chart.height,void 0!==this.chart.originalDevicePixelRatio&&this.chart.ctx.scale(1/this.chart.originalDevicePixelRatio,1/this.chart.originalDevicePixelRatio),i.style.width=this.chart.originalCanvasStyleWidth,i.style.height=this.chart.originalCanvasStyleHeight,t.pluginService.notifyPlugins("destroy",[this]),delete t.instances[this.id]},toBase64Image:function(){return this.chart.canvas.toDataURL.apply(this.chart.canvas,arguments)},initToolTip:function(){this.tooltip=new t.Tooltip({_chart:this.chart,_chartInstance:this,_data:this.data,_options:this.options},this)},bindEvents:function(){e.bindEvents(this,this.options.events,function(t){this.eventHandler(t)})},eventHandler:function(t){if(this.lastActive=this.lastActive||[],this.lastTooltipActive=this.lastTooltipActive||[],"mouseout"===t.type)this.active=[],this.tooltipActive=[];else{var i=this,a=function(e){switch(e){case"single":return i.getElementAtEvent(t);case"label":return i.getElementsAtEvent(t);case"dataset":return i.getDatasetAtEvent(t);default:return t}};this.active=a(this.options.hover.mode),this.tooltipActive=a(this.options.tooltips.mode)}if(this.options.hover.onHover&&this.options.hover.onHover.call(this,this.active),("mouseup"===t.type||"click"===t.type)&&(this.options.onClick&&this.options.onClick.call(this,t,this.active),this.legend&&this.legend.handleEvent&&this.legend.handleEvent(t)),this.lastActive.length)switch(this.options.hover.mode){case"single":this.getDatasetMeta(this.lastActive[0]._datasetIndex).controller.removeHoverStyle(this.lastActive[0],this.lastActive[0]._datasetIndex,this.lastActive[0]._index);break;case"label":case"dataset":for(var o=0;o<this.lastActive.length;o++)this.lastActive[o]&&this.getDatasetMeta(this.lastActive[o]._datasetIndex).controller.removeHoverStyle(this.lastActive[o],this.lastActive[o]._datasetIndex,this.lastActive[o]._index)}if(this.active.length&&this.options.hover.mode)switch(this.options.hover.mode){case"single":this.getDatasetMeta(this.active[0]._datasetIndex).controller.setHoverStyle(this.active[0]);break;case"label":case"dataset":for(var s=0;s<this.active.length;s++)this.active[s]&&this.getDatasetMeta(this.active[s]._datasetIndex).controller.setHoverStyle(this.active[s])}if((this.options.tooltips.enabled||this.options.tooltips.custom)&&(this.tooltip.initialize(),this.tooltip._active=this.tooltipActive,this.tooltip.update(!0)),this.tooltip.pivot(),!this.animating){var n;e.each(this.active,function(t,e){t!==this.lastActive[e]&&(n=!0)},this),e.each(this.tooltipActive,function(t,e){t!==this.lastTooltipActive[e]&&(n=!0)},this),(this.lastActive.length!==this.active.length||this.lastTooltipActive.length!==this.tooltipActive.length||n)&&(this.stop(),(this.options.tooltips.enabled||this.options.tooltips.custom)&&this.tooltip.update(!0),this.render(this.options.hover.animationDuration,!0))}return this.lastActive=this.active,this.lastTooltipActive=this.tooltipActive,this}})}},{}],23:[function(t,e,i){"use strict";e.exports=function(t){var e=t.helpers,i=e.noop;t.DatasetController=function(t,e){this.initialize.call(this,t,e)},e.extend(t.DatasetController.prototype,{initialize:function(t,e){this.chart=t,this.index=e,this.linkScales(),this.addElements()},updateIndex:function(t){this.index=t},linkScales:function(){var t=this.getMeta(),e=this.getDataset();null===t.xAxisID&&(t.xAxisID=e.xAxisID||this.chart.options.scales.xAxes[0].id),null===t.yAxisID&&(t.yAxisID=e.yAxisID||this.chart.options.scales.yAxes[0].id)},getDataset:function(){return this.chart.data.datasets[this.index]},getMeta:function(){return this.chart.getDatasetMeta(this.index)},getScaleForId:function(t){return this.chart.scales[t]},reset:function(){this.update(!0)},buildOrUpdateElements:function(){var t=this.getMeta(),e=t.data,i=this.getDataset().data.length,a=e.length;if(a>i)e.splice(i,a-i);else if(i>a)for(var o=a;i>o;++o)this.addElementAndReset(o)},addElements:i,addElementAndReset:i,draw:i,removeHoverStyle:i,setHoverStyle:i,update:i}),t.DatasetController.extend=e.inherits}},{}],24:[function(t,e,i){"use strict";e.exports=function(t){var e=t.helpers;t.elements={},t.Element=function(t){e.extend(this,t),this.initialize.apply(this,arguments)},e.extend(t.Element.prototype,{initialize:function(){this.hidden=!1},pivot:function(){return this._view||(this._view=e.clone(this._model)),this._start=e.clone(this._view),this},transition:function(t){return this._view||(this._view=e.clone(this._model)),1===t?(this._view=this._model,this._start=null,this):(this._start||this.pivot(),e.each(this._model,function(i,a){if("_"!==a[0]&&this._model.hasOwnProperty(a))if(this._view.hasOwnProperty(a))if(i===this._view[a]);else if("string"==typeof i)try{var o=e.color(this._start[a]).mix(e.color(this._model[a]),t);this._view[a]=o.rgbString()}catch(s){this._view[a]=i}else if("number"==typeof i){var n=void 0!==this._start[a]&&isNaN(this._start[a])===!1?this._start[a]:0;this._view[a]=(this._model[a]-n)*t+n}else this._view[a]=i;else"number"!=typeof i||isNaN(this._view[a])?this._view[a]=i:this._view[a]=i*t;else;},this),this)},tooltipPosition:function(){return{x:this._model.x,y:this._model.y}},hasValue:function(){return e.isNumber(this._model.x)&&e.isNumber(this._model.y)}}),t.Element.extend=e.inherits}},{}],25:[function(t,e,i){"use strict";var a=t("chartjs-color");e.exports=function(t){function e(t,e,i){var a;return"string"==typeof t?(a=parseInt(t,10),-1!=t.indexOf("%")&&(a=a/100*e.parentNode[i])):a=t,a}function i(t,i,a){var o,s=document.defaultView.getComputedStyle(t)[i],n=document.defaultView.getComputedStyle(t.parentNode)[i],r=null!==s&&"none"!==s,h=null!==n&&"none"!==n;return(r||h)&&(o=Math.min(r?e(s,t,a):Number.POSITIVE_INFINITY,h?e(n,t.parentNode,a):Number.POSITIVE_INFINITY)),o}var o=t.helpers={};o.each=function(t,e,i,a){var s,n;if(o.isArray(t))if(n=t.length,a)for(s=n-1;s>=0;s--)e.call(i,t[s],s);else for(s=0;n>s;s++)e.call(i,t[s],s);else if("object"==typeof t){var r=Object.keys(t);for(n=r.length,s=0;n>s;s++)e.call(i,t[r[s]],r[s])}},o.clone=function(t){var e={};return o.each(t,function(i,a){t.hasOwnProperty(a)&&(o.isArray(i)?e[a]=i.slice(0):"object"==typeof i&&null!==i?e[a]=o.clone(i):e[a]=i)}),e},o.extend=function(t){for(var e=arguments.length,i=[],a=1;e>a;a++)i.push(arguments[a]);return o.each(i,function(e){o.each(e,function(i,a){e.hasOwnProperty(a)&&(t[a]=i)})}),t},o.configMerge=function(e){var i=o.clone(e);return o.each(Array.prototype.slice.call(arguments,1),function(e){o.each(e,function(a,s){if(e.hasOwnProperty(s))if("scales"===s)i[s]=o.scaleMerge(i.hasOwnProperty(s)?i[s]:{},a);else if("scale"===s)i[s]=o.configMerge(i.hasOwnProperty(s)?i[s]:{},t.scaleService.getScaleDefaults(a.type),a);else if(i.hasOwnProperty(s)&&o.isArray(i[s])&&o.isArray(a)){var n=i[s];o.each(a,function(t,e){e<n.length?"object"==typeof n[e]&&null!==n[e]&&"object"==typeof t&&null!==t?n[e]=o.configMerge(n[e],t):n[e]=t:n.push(t)})}else i.hasOwnProperty(s)&&"object"==typeof i[s]&&null!==i[s]&&"object"==typeof a?i[s]=o.configMerge(i[s],a):i[s]=a})}),i},o.extendDeep=function(t){function e(t){return o.each(arguments,function(i){i!==t&&o.each(i,function(i,a){t[a]&&t[a].constructor&&t[a].constructor===Object?e(t[a],i):t[a]=i})}),t}return e.apply(this,arguments)},o.scaleMerge=function(e,i){var a=o.clone(e);return o.each(i,function(e,s){i.hasOwnProperty(s)&&("xAxes"===s||"yAxes"===s?a.hasOwnProperty(s)?o.each(e,function(e,i){var n=o.getValueOrDefault(e.type,"xAxes"===s?"category":"linear"),r=t.scaleService.getScaleDefaults(n);i>=a[s].length||!a[s][i].type?a[s].push(o.configMerge(r,e)):e.type&&e.type!==a[s][i].type?a[s][i]=o.configMerge(a[s][i],r,e):a[s][i]=o.configMerge(a[s][i],e)}):(a[s]=[],o.each(e,function(e){var i=o.getValueOrDefault(e.type,"xAxes"===s?"category":"linear");a[s].push(o.configMerge(t.scaleService.getScaleDefaults(i),e))})):a.hasOwnProperty(s)&&"object"==typeof a[s]&&null!==a[s]&&"object"==typeof e?a[s]=o.configMerge(a[s],e):a[s]=e)}),a},o.getValueAtIndexOrDefault=function(t,e,i){return void 0===t||null===t?i:o.isArray(t)?e<t.length?t[e]:i:t},o.getValueOrDefault=function(t,e){return void 0===t?e:t},o.indexOf=function(t,e){if(Array.prototype.indexOf)return t.indexOf(e);for(var i=0;i<t.length;i++)if(t[i]===e)return i;return-1},o.where=function(t,e){var i=[];return o.each(t,function(t){e(t)&&i.push(t)}),i},o.findIndex=function(t,e,i){var a=-1;if(Array.prototype.findIndex)a=t.findIndex(e,i);else for(var o=0;o<t.length;++o)if(i=void 0!==i?i:t,e.call(i,t[o],o,t)){a=o;break}return a},o.findNextWhere=function(t,e,i){(void 0===i||null===i)&&(i=-1);for(var a=i+1;a<t.length;a++){var o=t[a];if(e(o))return o}},o.findPreviousWhere=function(t,e,i){(void 0===i||null===i)&&(i=t.length);for(var a=i-1;a>=0;a--){var o=t[a];if(e(o))return o}},o.inherits=function(t){var e=this,i=t&&t.hasOwnProperty("constructor")?t.constructor:function(){return e.apply(this,arguments)},a=function(){this.constructor=i};return a.prototype=e.prototype,i.prototype=new a,i.extend=o.inherits,t&&o.extend(i.prototype,t),i.__super__=e.prototype,i},o.noop=function(){},o.uid=function(){var t=0;return function(){return t++}}(),o.warn=function(t){console&&"function"==typeof console.warn&&console.warn(t)},o.isNumber=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},o.almostEquals=function(t,e,i){return Math.abs(t-e)<i},o.max=function(t){return t.reduce(function(t,e){return isNaN(e)?t:Math.max(t,e)},Number.NEGATIVE_INFINITY)},o.min=function(t){return t.reduce(function(t,e){return isNaN(e)?t:Math.min(t,e)},Number.POSITIVE_INFINITY)},o.sign=function(t){return Math.sign?Math.sign(t):(t=+t,0===t||isNaN(t)?t:t>0?1:-1)},o.log10=function(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10},o.toRadians=function(t){return t*(Math.PI/180)},o.toDegrees=function(t){return t*(180/Math.PI)},o.getAngleFromPoint=function(t,e){var i=e.x-t.x,a=e.y-t.y,o=Math.sqrt(i*i+a*a),s=Math.atan2(a,i);return s<-.5*Math.PI&&(s+=2*Math.PI),{angle:s,distance:o}},o.aliasPixel=function(t){return t%2===0?0:.5},o.splineCurve=function(t,e,i,a){var o=t.skip?e:t,s=e,n=i.skip?e:i,r=Math.sqrt(Math.pow(s.x-o.x,2)+Math.pow(s.y-o.y,2)),h=Math.sqrt(Math.pow(n.x-s.x,2)+Math.pow(n.y-s.y,2)),l=r/(r+h),c=h/(r+h);l=isNaN(l)?0:l,c=isNaN(c)?0:c;var d=a*l,u=a*c;return{previous:{x:s.x-d*(n.x-o.x),y:s.y-d*(n.y-o.y)},next:{x:s.x+u*(n.x-o.x),y:s.y+u*(n.y-o.y)}}},o.nextItem=function(t,e,i){return i?e>=t.length-1?t[0]:t[e+1]:e>=t.length-1?t[t.length-1]:t[e+1]},o.previousItem=function(t,e,i){return i?0>=e?t[t.length-1]:t[e-1]:0>=e?t[0]:t[e-1]},o.niceNum=function(t,e){var i,a=Math.floor(o.log10(t)),s=t/Math.pow(10,a);return i=e?1.5>s?1:3>s?2:7>s?5:10:1>=s?1:2>=s?2:5>=s?5:10,i*Math.pow(10,a)};var s=o.easingEffects={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return-1*t*(t-2)},easeInOutQuad:function(t){return(t/=.5)<1?.5*t*t:-0.5*(--t*(t-2)-1)},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return 1*((t=t/1-1)*t*t+1)},easeInOutCubic:function(t){return(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return-1*((t=t/1-1)*t*t*t-1)},easeInOutQuart:function(t){return(t/=.5)<1?.5*t*t*t*t:-0.5*((t-=2)*t*t*t-2)},easeInQuint:function(t){return 1*(t/=1)*t*t*t*t},easeOutQuint:function(t){return 1*((t=t/1-1)*t*t*t*t+1)},easeInOutQuint:function(t){return(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},easeInSine:function(t){return-1*Math.cos(t/1*(Math.PI/2))+1},easeOutSine:function(t){return 1*Math.sin(t/1*(Math.PI/2))},easeInOutSine:function(t){return-0.5*(Math.cos(Math.PI*t/1)-1)},easeInExpo:function(t){return 0===t?1:1*Math.pow(2,10*(t/1-1))},easeOutExpo:function(t){return 1===t?1:1*(-Math.pow(2,-10*t/1)+1)},easeInOutExpo:function(t){return 0===t?0:1===t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(-Math.pow(2,-10*--t)+2)},easeInCirc:function(t){return t>=1?t:-1*(Math.sqrt(1-(t/=1)*t)-1)},easeOutCirc:function(t){return 1*Math.sqrt(1-(t=t/1-1)*t)},easeInOutCirc:function(t){return(t/=.5)<1?-0.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},easeInElastic:function(t){var e=1.70158,i=0,a=1;return 0===t?0:1===(t/=1)?1:(i||(i=.3),a<Math.abs(1)?(a=1,e=i/4):e=i/(2*Math.PI)*Math.asin(1/a),-(a*Math.pow(2,10*(t-=1))*Math.sin((1*t-e)*(2*Math.PI)/i)))},easeOutElastic:function(t){var e=1.70158,i=0,a=1;return 0===t?0:1===(t/=1)?1:(i||(i=.3),a<Math.abs(1)?(a=1,e=i/4):e=i/(2*Math.PI)*Math.asin(1/a),a*Math.pow(2,-10*t)*Math.sin((1*t-e)*(2*Math.PI)/i)+1)},easeInOutElastic:function(t){var e=1.70158,i=0,a=1;return 0===t?0:2===(t/=.5)?1:(i||(i=1*(.3*1.5)),a<Math.abs(1)?(a=1,e=i/4):e=i/(2*Math.PI)*Math.asin(1/a),1>t?-.5*(a*Math.pow(2,10*(t-=1))*Math.sin((1*t-e)*(2*Math.PI)/i)):a*Math.pow(2,-10*(t-=1))*Math.sin((1*t-e)*(2*Math.PI)/i)*.5+1)},easeInBack:function(t){var e=1.70158;return 1*(t/=1)*t*((e+1)*t-e)},easeOutBack:function(t){var e=1.70158;return 1*((t=t/1-1)*t*((e+1)*t+e)+1)},easeInOutBack:function(t){var e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:function(t){return 1-s.easeOutBounce(1-t)},easeOutBounce:function(t){return(t/=1)<1/2.75?1*(7.5625*t*t):2/2.75>t?1*(7.5625*(t-=1.5/2.75)*t+.75):2.5/2.75>t?1*(7.5625*(t-=2.25/2.75)*t+.9375):1*(7.5625*(t-=2.625/2.75)*t+.984375)},easeInOutBounce:function(t){return.5>t?.5*s.easeInBounce(2*t):.5*s.easeOutBounce(2*t-1)+.5}};o.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return window.setTimeout(t,1e3/60)}}(),o.cancelAnimFrame=function(){return window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||function(t){return window.clearTimeout(t,1e3/60)}}(),o.getRelativePosition=function(t,e){var i,a,s=t.originalEvent||t,n=t.currentTarget||t.srcElement,r=n.getBoundingClientRect();s.touches&&s.touches.length>0?(i=s.touches[0].clientX,a=s.touches[0].clientY):(i=s.clientX,a=s.clientY);var h=parseFloat(o.getStyle(n,"padding-left")),l=parseFloat(o.getStyle(n,"padding-top")),c=parseFloat(o.getStyle(n,"padding-right")),d=parseFloat(o.getStyle(n,"padding-bottom")),u=r.right-r.left-h-c,g=r.bottom-r.top-l-d;return i=Math.round((i-r.left-h)/u*n.width/e.currentDevicePixelRatio),a=Math.round((a-r.top-l)/g*n.height/e.currentDevicePixelRatio),{x:i,y:a}},o.addEvent=function(t,e,i){t.addEventListener?t.addEventListener(e,i):t.attachEvent?t.attachEvent("on"+e,i):t["on"+e]=i},o.removeEvent=function(t,e,i){t.removeEventListener?t.removeEventListener(e,i,!1):t.detachEvent?t.detachEvent("on"+e,i):t["on"+e]=o.noop},o.bindEvents=function(t,e,i){t.events||(t.events={}),o.each(e,function(e){t.events[e]=function(){i.apply(t,arguments)},o.addEvent(t.chart.canvas,e,t.events[e])})},o.unbindEvents=function(t,e){o.each(e,function(e,i){o.removeEvent(t.chart.canvas,i,e)})},o.getConstraintWidth=function(t){return i(t,"max-width","clientWidth")},o.getConstraintHeight=function(t){return i(t,"max-height","clientHeight")},o.getMaximumWidth=function(t){var e=t.parentNode,i=parseInt(o.getStyle(e,"padding-left"))+parseInt(o.getStyle(e,"padding-right")),a=e.clientWidth-i,s=o.getConstraintWidth(t);return void 0!==s&&(a=Math.min(a,s)),a},o.getMaximumHeight=function(t){var e=t.parentNode,i=parseInt(o.getStyle(e,"padding-top"))+parseInt(o.getStyle(e,"padding-bottom")),a=e.clientHeight-i,s=o.getConstraintHeight(t);return void 0!==s&&(a=Math.min(a,s)),a},o.getStyle=function(t,e){return t.currentStyle?t.currentStyle[e]:document.defaultView.getComputedStyle(t,null).getPropertyValue(e)},o.retinaScale=function(t){var e=t.ctx,i=t.canvas.width,a=t.canvas.height,o=t.currentDevicePixelRatio=window.devicePixelRatio||1;1!==o&&(e.canvas.height=a*o,e.canvas.width=i*o,e.scale(o,o),t.originalDevicePixelRatio=t.originalDevicePixelRatio||o),e.canvas.style.width=i+"px",e.canvas.style.height=a+"px"},o.clear=function(t){t.ctx.clearRect(0,0,t.width,t.height)},o.fontString=function(t,e,i){return e+" "+t+"px "+i},o.longestText=function(t,e,i,a){a=a||{},a.data=a.data||{},a.garbageCollect=a.garbageCollect||[],a.font!==e&&(a.data={},a.garbageCollect=[],a.font=e),t.font=e;var s=0;o.each(i,function(e){if(void 0!==e&&null!==e){var i=a.data[e];i||(i=a.data[e]=t.measureText(e).width,a.garbageCollect.push(e)),
i>s&&(s=i)}});var n=a.garbageCollect.length/2;if(n>i.length){for(var r=0;n>r;r++)delete a.data[a.garbageCollect[r]];a.garbageCollect.splice(0,n)}return s},o.drawRoundedRectangle=function(t,e,i,a,o,s){t.beginPath(),t.moveTo(e+s,i),t.lineTo(e+a-s,i),t.quadraticCurveTo(e+a,i,e+a,i+s),t.lineTo(e+a,i+o-s),t.quadraticCurveTo(e+a,i+o,e+a-s,i+o),t.lineTo(e+s,i+o),t.quadraticCurveTo(e,i+o,e,i+o-s),t.lineTo(e,i+s),t.quadraticCurveTo(e,i,e+s,i),t.closePath()},o.color=function(e){return a?a(e instanceof CanvasGradient?t.defaults.global.defaultColor:e):(console.log("Color.js not found!"),e)},o.addResizeListener=function(t,e){var i=document.createElement("iframe"),a="chartjs-hidden-iframe";i.classlist?i.classlist.add(a):i.setAttribute("class",a),i.style.width="100%",i.style.display="block",i.style.border=0,i.style.height=0,i.style.margin=0,i.style.position="absolute",i.style.left=0,i.style.right=0,i.style.top=0,i.style.bottom=0,t.insertBefore(i,t.firstChild),(i.contentWindow||i).onresize=function(){e&&e()}},o.removeResizeListener=function(t){var e=t.querySelector(".chartjs-hidden-iframe");e&&e.parentNode.removeChild(e)},o.isArray=function(t){return Array.isArray?Array.isArray(t):"[object Array]"===Object.prototype.toString.call(t)},o.pushAllIfDefined=function(t,e){"undefined"!=typeof t&&(o.isArray(t)?e.push.apply(e,t):e.push(t))},o.callCallback=function(t,e,i){t&&"function"==typeof t.call&&t.apply(i,e)},o.getHoverColor=function(t){return t instanceof CanvasPattern?t:o.color(t).saturate(.5).darken(.1).rgbString()}}},{"chartjs-color":3}],26:[function(t,e,i){"use strict";e.exports=function(){var t=function(e,i){this.config=i,e.length&&e[0].getContext&&(e=e[0]),e.getContext&&(e=e.getContext("2d")),this.ctx=e,this.canvas=e.canvas,this.width=e.canvas.width||parseInt(t.helpers.getStyle(e.canvas,"width"))||t.helpers.getMaximumWidth(e.canvas),this.height=e.canvas.height||parseInt(t.helpers.getStyle(e.canvas,"height"))||t.helpers.getMaximumHeight(e.canvas),this.aspectRatio=this.width/this.height,(isNaN(this.aspectRatio)||isFinite(this.aspectRatio)===!1)&&(this.aspectRatio=void 0!==i.aspectRatio?i.aspectRatio:2),this.originalCanvasStyleWidth=e.canvas.style.width,this.originalCanvasStyleHeight=e.canvas.style.height,t.helpers.retinaScale(this),i&&(this.controller=new t.Controller(this));var a=this;return t.helpers.addResizeListener(e.canvas.parentNode,function(){a.controller&&a.controller.config.options.responsive&&a.controller.resize()}),this.controller?this.controller:this};return t.defaults={global:{responsive:!0,responsiveAnimationDuration:0,maintainAspectRatio:!0,events:["mousemove","mouseout","click","touchstart","touchmove"],hover:{onHover:null,mode:"single",animationDuration:400},onClick:null,defaultColor:"rgba(0,0,0,0.1)",defaultFontColor:"#666",defaultFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",defaultFontSize:12,defaultFontStyle:"normal",showLines:!0,elements:{},legendCallback:function(t){var e=[];e.push('<ul class="'+t.id+'-legend">');for(var i=0;i<t.data.datasets.length;i++)e.push('<li><span style="background-color:'+t.data.datasets[i].backgroundColor+'"></span>'),t.data.datasets[i].label&&e.push(t.data.datasets[i].label),e.push("</li>");return e.push("</ul>"),e.join("")}}},t}},{}],27:[function(t,e,i){"use strict";e.exports=function(t){var e=t.helpers;t.layoutService={defaults:{},addBox:function(t,e){t.boxes||(t.boxes=[]),t.boxes.push(e)},removeBox:function(t,e){t.boxes&&t.boxes.splice(t.boxes.indexOf(e),1)},update:function(t,i,a){function o(t){var e,i=t.isHorizontal();i?(e=t.update(t.options.fullWidth?p:k,y),S-=e.height):(e=t.update(v,x),k-=e.width),C.push({horizontal:i,minSize:e,box:t})}function s(t){var i=e.findNextWhere(C,function(e){return e.box===t});if(i)if(t.isHorizontal()){var a={left:w,right:D,top:0,bottom:0};t.update(t.options.fullWidth?p:k,m/2,a)}else t.update(i.minSize.width,S)}function n(t){var i=e.findNextWhere(C,function(e){return e.box===t}),a={left:0,right:0,top:M,bottom:_};i&&t.update(i.minSize.width,S,a)}function r(t){t.isHorizontal()?(t.left=t.options.fullWidth?h:w,t.right=t.options.fullWidth?i-h:w+k,t.top=P,t.bottom=P+t.height,P=t.bottom):(t.left=F,t.right=F+t.width,t.top=M,t.bottom=M+S,F=t.right)}if(t){var h=0,l=0,c=e.where(t.boxes,function(t){return"left"===t.options.position}),d=e.where(t.boxes,function(t){return"right"===t.options.position}),u=e.where(t.boxes,function(t){return"top"===t.options.position}),g=e.where(t.boxes,function(t){return"bottom"===t.options.position}),f=e.where(t.boxes,function(t){return"chartArea"===t.options.position});u.sort(function(t,e){return(e.options.fullWidth?1:0)-(t.options.fullWidth?1:0)}),g.sort(function(t,e){return(t.options.fullWidth?1:0)-(e.options.fullWidth?1:0)});var p=i-2*h,m=a-2*l,b=p/2,x=m/2,v=(i-b)/(c.length+d.length),y=(a-x)/(u.length+g.length),k=p,S=m,C=[];e.each(c.concat(d,u,g),o);var w=h,D=h,M=l,_=l;e.each(c.concat(d),s),e.each(c,function(t){w+=t.width}),e.each(d,function(t){D+=t.width}),e.each(u.concat(g),s),e.each(u,function(t){M+=t.height}),e.each(g,function(t){_+=t.height}),e.each(c.concat(d),n),w=h,D=h,M=l,_=l,e.each(c,function(t){w+=t.width}),e.each(d,function(t){D+=t.width}),e.each(u,function(t){M+=t.height}),e.each(g,function(t){_+=t.height});var A=a-M-_,I=i-w-D;(I!==k||A!==S)&&(e.each(c,function(t){t.height=A}),e.each(d,function(t){t.height=A}),e.each(u,function(t){t.options.fullWidth||(t.width=I)}),e.each(g,function(t){t.options.fullWidth||(t.width=I)}),S=A,k=I);var F=h,P=l;e.each(c.concat(u),r),F+=k,P+=S,e.each(d,r),e.each(g,r),t.chartArea={left:w,top:M,right:w+k,bottom:M+S},e.each(f,function(e){e.left=t.chartArea.left,e.top=t.chartArea.top,e.right=t.chartArea.right,e.bottom=t.chartArea.bottom,e.update(k,S)})}}}}},{}],28:[function(t,e,i){"use strict";e.exports=function(t){var e=t.helpers,i=e.noop;t.defaults.global.legend={display:!0,position:"top",fullWidth:!0,reverse:!1,onClick:function(t,e){var i=e.datasetIndex,a=this.chart,o=a.getDatasetMeta(i);o.hidden=null===o.hidden?!a.data.datasets[i].hidden:null,a.update()},labels:{boxWidth:40,padding:10,generateLabels:function(t){var i=t.data;return e.isArray(i.datasets)?i.datasets.map(function(e,i){return{text:e.label,fillStyle:e.backgroundColor,hidden:!t.isDatasetVisible(i),lineCap:e.borderCapStyle,lineDash:e.borderDash,lineDashOffset:e.borderDashOffset,lineJoin:e.borderJoinStyle,lineWidth:e.borderWidth,strokeStyle:e.borderColor,datasetIndex:i}},this):[]}}},t.Legend=t.Element.extend({initialize:function(t){e.extend(this,t),this.legendHitBoxes=[],this.doughnutMode=!1},beforeUpdate:i,update:function(t,e,i){return this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this.margins=i,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this.beforeBuildLabels(),this.buildLabels(),this.afterBuildLabels(),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate(),this.minSize},afterUpdate:i,beforeSetDimensions:i,setDimensions:function(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0,this.minSize={width:0,height:0}},afterSetDimensions:i,beforeBuildLabels:i,buildLabels:function(){this.legendItems=this.options.labels.generateLabels.call(this,this.chart),this.options.reverse&&this.legendItems.reverse()},afterBuildLabels:i,beforeFit:i,fit:function(){var i=this.options,a=i.labels,o=i.display,s=this.ctx,n=t.defaults.global,r=e.getValueOrDefault,h=r(a.fontSize,n.defaultFontSize),l=r(a.fontStyle,n.defaultFontStyle),c=r(a.fontFamily,n.defaultFontFamily),d=e.fontString(h,l,c),u=this.legendHitBoxes=[],g=this.minSize,f=this.isHorizontal();if(f?(g.width=this.maxWidth,g.height=o?10:0):(g.width=o?10:0,g.height=this.maxHeight),o&&f){var p=this.lineWidths=[0],m=this.legendItems.length?h+a.padding:0;s.textAlign="left",s.textBaseline="top",s.font=d,e.each(this.legendItems,function(t,e){var i=a.boxWidth+h/2+s.measureText(t.text).width;p[p.length-1]+i+a.padding>=this.width&&(m+=h+a.padding,p[p.length]=this.left),u[e]={left:0,top:0,width:i,height:h},p[p.length-1]+=i+a.padding},this),g.height+=m}this.width=g.width,this.height=g.height},afterFit:i,isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},draw:function(){var i=this.options,a=i.labels,o=t.defaults.global,s=o.elements.line,n=this.width,r=this.lineWidths;if(i.display){var h=this.ctx,l={x:this.left+(n-r[0])/2,y:this.top+a.padding,line:0},c=e.getValueOrDefault,d=c(a.fontColor,o.defaultFontColor),u=c(a.fontSize,o.defaultFontSize),g=c(a.fontStyle,o.defaultFontStyle),f=c(a.fontFamily,o.defaultFontFamily),p=e.fontString(u,g,f);if(this.isHorizontal()){h.textAlign="left",h.textBaseline="top",h.lineWidth=.5,h.strokeStyle=d,h.fillStyle=d,h.font=p;var m=a.boxWidth,b=this.legendHitBoxes;e.each(this.legendItems,function(t,e){var i=h.measureText(t.text).width,d=m+u/2+i,g=l.x,f=l.y;g+d>=n&&(f=l.y+=u+a.padding,l.line++,g=l.x=this.left+(n-r[l.line])/2),h.save(),h.fillStyle=c(t.fillStyle,o.defaultColor),h.lineCap=c(t.lineCap,s.borderCapStyle),h.lineDashOffset=c(t.lineDashOffset,s.borderDashOffset),h.lineJoin=c(t.lineJoin,s.borderJoinStyle),h.lineWidth=c(t.lineWidth,s.borderWidth),h.strokeStyle=c(t.strokeStyle,o.defaultColor),h.setLineDash&&h.setLineDash(c(t.lineDash,s.borderDash)),h.strokeRect(g,f,m,u),h.fillRect(g,f,m,u),h.restore(),b[e].left=g,b[e].top=f,h.fillText(t.text,m+u/2+g,f),t.hidden&&(h.beginPath(),h.lineWidth=2,h.moveTo(m+u/2+g,f+u/2),h.lineTo(m+u/2+g+i,f+u/2),h.stroke()),l.x+=d+a.padding},this)}}},handleEvent:function(t){var i=e.getRelativePosition(t,this.chart.chart),a=i.x,o=i.y,s=this.options;if(a>=this.left&&a<=this.right&&o>=this.top&&o<=this.bottom)for(var n=this.legendHitBoxes,r=0;r<n.length;++r){var h=n[r];if(a>=h.left&&a<=h.left+h.width&&o>=h.top&&o<=h.top+h.height){s.onClick&&s.onClick.call(this,t,this.legendItems[r]);break}}}})}},{}],29:[function(t,e,i){"use strict";e.exports=function(t){var e=t.helpers;t.plugins=[],t.pluginService={register:function(e){var i=t.plugins;-1===i.indexOf(e)&&i.push(e)},remove:function(e){var i=t.plugins,a=i.indexOf(e);-1!==a&&i.splice(a,1)},notifyPlugins:function(i,a,o){e.each(t.plugins,function(t){t[i]&&"function"==typeof t[i]&&t[i].apply(o,a)},o)}};var i=e.noop;t.PluginBase=t.Element.extend({beforeInit:i,afterInit:i,beforeUpdate:i,afterUpdate:i,beforeDraw:i,afterDraw:i,destroy:i})}},{}],30:[function(t,e,i){"use strict";e.exports=function(t){var e=t.helpers;t.defaults.scale={display:!0,position:"left",gridLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickMarkLength:10,zeroLineWidth:1,zeroLineColor:"rgba(0,0,0,0.25)",offsetGridLines:!1},scaleLabel:{labelString:"",display:!1},ticks:{beginAtZero:!1,minRotation:0,maxRotation:50,mirror:!1,padding:10,reverse:!1,display:!0,autoSkip:!0,autoSkipPadding:0,labelOffset:0,callback:function(t){return""+t}}},t.Scale=t.Element.extend({beforeUpdate:function(){e.callCallback(this.options.beforeUpdate,[this])},update:function(t,i,a){return this.beforeUpdate(),this.maxWidth=t,this.maxHeight=i,this.margins=e.extend({left:0,right:0,top:0,bottom:0},a),this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this.beforeBuildTicks(),this.buildTicks(),this.afterBuildTicks(),this.beforeTickToLabelConversion(),this.convertTicksToLabels(),this.afterTickToLabelConversion(),this.beforeCalculateTickRotation(),this.calculateTickRotation(),this.afterCalculateTickRotation(),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate(),this.minSize},afterUpdate:function(){e.callCallback(this.options.afterUpdate,[this])},beforeSetDimensions:function(){e.callCallback(this.options.beforeSetDimensions,[this])},setDimensions:function(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0},afterSetDimensions:function(){e.callCallback(this.options.afterSetDimensions,[this])},beforeDataLimits:function(){e.callCallback(this.options.beforeDataLimits,[this])},determineDataLimits:e.noop,afterDataLimits:function(){e.callCallback(this.options.afterDataLimits,[this])},beforeBuildTicks:function(){e.callCallback(this.options.beforeBuildTicks,[this])},buildTicks:e.noop,afterBuildTicks:function(){e.callCallback(this.options.afterBuildTicks,[this])},beforeTickToLabelConversion:function(){e.callCallback(this.options.beforeTickToLabelConversion,[this])},convertTicksToLabels:function(){this.ticks=this.ticks.map(function(t,e,i){return this.options.ticks.userCallback?this.options.ticks.userCallback(t,e,i):this.options.ticks.callback(t,e,i)},this)},afterTickToLabelConversion:function(){e.callCallback(this.options.afterTickToLabelConversion,[this])},beforeCalculateTickRotation:function(){e.callCallback(this.options.beforeCalculateTickRotation,[this])},calculateTickRotation:function(){var i=e.getValueOrDefault(this.options.ticks.fontSize,t.defaults.global.defaultFontSize),a=e.getValueOrDefault(this.options.ticks.fontStyle,t.defaults.global.defaultFontStyle),o=e.getValueOrDefault(this.options.ticks.fontFamily,t.defaults.global.defaultFontFamily),s=e.fontString(i,a,o);this.ctx.font=s;var n,r=this.ctx.measureText(this.ticks[0]).width,h=this.ctx.measureText(this.ticks[this.ticks.length-1]).width;if(this.labelRotation=this.options.ticks.minRotation||0,this.paddingRight=0,this.paddingLeft=0,this.options.display&&this.isHorizontal()){this.paddingRight=h/2+3,this.paddingLeft=r/2+3,this.longestTextCache||(this.longestTextCache={});for(var l,c,d=e.longestText(this.ctx,s,this.ticks,this.longestTextCache),u=d,g=this.getPixelForTick(1)-this.getPixelForTick(0)-6;u>g&&this.labelRotation<this.options.ticks.maxRotation;){if(l=Math.cos(e.toRadians(this.labelRotation)),c=Math.sin(e.toRadians(this.labelRotation)),n=l*r,n+i/2>this.yLabelWidth&&(this.paddingLeft=n+i/2),this.paddingRight=i/2,c*d>this.maxHeight){this.labelRotation--;break}this.labelRotation++,u=l*d}}this.margins&&(this.paddingLeft=Math.max(this.paddingLeft-this.margins.left,0),this.paddingRight=Math.max(this.paddingRight-this.margins.right,0))},afterCalculateTickRotation:function(){e.callCallback(this.options.afterCalculateTickRotation,[this])},beforeFit:function(){e.callCallback(this.options.beforeFit,[this])},fit:function(){var i=this.minSize={width:0,height:0},a=this.options,o=a.ticks,s=a.scaleLabel,n=t.defaults.global,r=a.display,h=this.isHorizontal(),l=e.getValueOrDefault(o.fontSize,n.defaultFontSize),c=e.getValueOrDefault(o.fontStyle,n.defaultFontStyle),d=e.getValueOrDefault(o.fontFamily,n.defaultFontFamily),u=e.fontString(l,c,d),g=e.getValueOrDefault(s.fontSize,n.defaultFontSize),f=e.getValueOrDefault(s.fontStyle,n.defaultFontStyle),p=e.getValueOrDefault(s.fontFamily,n.defaultFontFamily),m=(e.fontString(g,f,p),a.gridLines.tickMarkLength);if(h?i.width=this.isFullWidth()?this.maxWidth-this.margins.left-this.margins.right:this.maxWidth:i.width=r?m:0,h?i.height=r?m:0:i.height=this.maxHeight,s.display&&r&&(h?i.height+=1.5*g:i.width+=1.5*g),o.display&&r){this.longestTextCache||(this.longestTextCache={});var b=e.longestText(this.ctx,u,this.ticks,this.longestTextCache);if(h){this.longestLabelWidth=b;var x=Math.sin(e.toRadians(this.labelRotation))*this.longestLabelWidth+1.5*l;i.height=Math.min(this.maxHeight,i.height+x),this.ctx.font=u;var v=this.ctx.measureText(this.ticks[0]).width,y=this.ctx.measureText(this.ticks[this.ticks.length-1]).width,k=Math.cos(e.toRadians(this.labelRotation)),S=Math.sin(e.toRadians(this.labelRotation));this.paddingLeft=0!==this.labelRotation?k*v+3:v/2+3,this.paddingRight=0!==this.labelRotation?S*(l/2)+3:y/2+3}else{var C=this.maxWidth-i.width,w=o.mirror;w?b=0:b+=this.options.ticks.padding,C>b?i.width+=b:i.width=this.maxWidth,this.paddingTop=l/2,this.paddingBottom=l/2}}this.margins&&(this.paddingLeft=Math.max(this.paddingLeft-this.margins.left,0),this.paddingTop=Math.max(this.paddingTop-this.margins.top,0),this.paddingRight=Math.max(this.paddingRight-this.margins.right,0),this.paddingBottom=Math.max(this.paddingBottom-this.margins.bottom,0)),this.width=i.width,this.height=i.height},afterFit:function(){e.callCallback(this.options.afterFit,[this])},isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},isFullWidth:function(){return this.options.fullWidth},getRightValue:function i(t){return null===t||"undefined"==typeof t?NaN:"number"==typeof t&&isNaN(t)?NaN:"object"==typeof t?t instanceof Date?t:i(this.isHorizontal()?t.x:t.y):t},getLabelForIndex:e.noop,getPixelForValue:e.noop,getValueForPixel:e.noop,getPixelForTick:function(t,e){if(this.isHorizontal()){var i=this.width-(this.paddingLeft+this.paddingRight),a=i/Math.max(this.ticks.length-(this.options.gridLines.offsetGridLines?0:1),1),o=a*t+this.paddingLeft;e&&(o+=a/2);var s=this.left+Math.round(o);return s+=this.isFullWidth()?this.margins.left:0}var n=this.height-(this.paddingTop+this.paddingBottom);return this.top+t*(n/(this.ticks.length-1))},getPixelForDecimal:function(t){if(this.isHorizontal()){var e=this.width-(this.paddingLeft+this.paddingRight),i=e*t+this.paddingLeft,a=this.left+Math.round(i);return a+=this.isFullWidth()?this.margins.left:0}return this.top+t*this.height},draw:function(i){if(this.options.display){var a,o,s,n,r,h=0!==this.labelRotation,l=this.options.ticks.autoSkip;this.options.ticks.maxTicksLimit&&(r=this.options.ticks.maxTicksLimit);var c=e.getValueOrDefault(this.options.ticks.fontColor,t.defaults.global.defaultFontColor),d=e.getValueOrDefault(this.options.ticks.fontSize,t.defaults.global.defaultFontSize),u=e.getValueOrDefault(this.options.ticks.fontStyle,t.defaults.global.defaultFontStyle),g=e.getValueOrDefault(this.options.ticks.fontFamily,t.defaults.global.defaultFontFamily),f=e.fontString(d,u,g),p=this.options.gridLines.tickMarkLength,m=e.getValueOrDefault(this.options.scaleLabel.fontColor,t.defaults.global.defaultFontColor),b=e.getValueOrDefault(this.options.scaleLabel.fontSize,t.defaults.global.defaultFontSize),x=e.getValueOrDefault(this.options.scaleLabel.fontStyle,t.defaults.global.defaultFontStyle),v=e.getValueOrDefault(this.options.scaleLabel.fontFamily,t.defaults.global.defaultFontFamily),y=e.fontString(b,x,v),k=Math.cos(e.toRadians(this.labelRotation)),S=(Math.sin(e.toRadians(this.labelRotation)),this.longestLabelWidth*k);if(this.ctx.fillStyle=c,this.isHorizontal()){a=!0;var C="bottom"===this.options.position?this.top:this.bottom-p,w="bottom"===this.options.position?this.top+p:this.bottom;if(o=!1,(S/2+this.options.ticks.autoSkipPadding)*this.ticks.length>this.width-(this.paddingLeft+this.paddingRight)&&(o=1+Math.floor((S/2+this.options.ticks.autoSkipPadding)*this.ticks.length/(this.width-(this.paddingLeft+this.paddingRight)))),r&&this.ticks.length>r)for(;!o||this.ticks.length/(o||1)>r;)o||(o=1),o+=1;l||(o=!1),e.each(this.ticks,function(t,s){var n=this.ticks.length===s+1,r=o>1&&s%o>0||s%o===0&&s+o>this.ticks.length;if((!r||n)&&void 0!==t&&null!==t){var l=this.getPixelForTick(s),c=this.getPixelForTick(s,this.options.gridLines.offsetGridLines);this.options.gridLines.display&&(s===("undefined"!=typeof this.zeroLineIndex?this.zeroLineIndex:0)?(this.ctx.lineWidth=this.options.gridLines.zeroLineWidth,this.ctx.strokeStyle=this.options.gridLines.zeroLineColor,a=!0):a&&(this.ctx.lineWidth=this.options.gridLines.lineWidth,this.ctx.strokeStyle=this.options.gridLines.color,a=!1),l+=e.aliasPixel(this.ctx.lineWidth),this.ctx.beginPath(),this.options.gridLines.drawTicks&&(this.ctx.moveTo(l,C),this.ctx.lineTo(l,w)),this.options.gridLines.drawOnChartArea&&(this.ctx.moveTo(l,i.top),this.ctx.lineTo(l,i.bottom)),this.ctx.stroke()),this.options.ticks.display&&(this.ctx.save(),this.ctx.translate(c+this.options.ticks.labelOffset,h?this.top+12:"top"===this.options.position?this.bottom-p:this.top+p),this.ctx.rotate(-1*e.toRadians(this.labelRotation)),this.ctx.font=f,this.ctx.textAlign=h?"right":"center",this.ctx.textBaseline=h?"middle":"top"===this.options.position?"bottom":"top",this.ctx.fillText(t,0,0),this.ctx.restore())}},this),this.options.scaleLabel.display&&(this.ctx.textAlign="center",this.ctx.textBaseline="middle",this.ctx.fillStyle=m,this.ctx.font=y,s=this.left+(this.right-this.left)/2,n="bottom"===this.options.position?this.bottom-b/2:this.top+b/2,this.ctx.fillText(this.options.scaleLabel.labelString,s,n))}else{a=!0;var D="right"===this.options.position?this.left:this.right-5,M="right"===this.options.position?this.left+5:this.right;if(e.each(this.ticks,function(t,o){if(void 0!==t&&null!==t){var s=this.getPixelForTick(o);if(this.options.gridLines.display&&(o===("undefined"!=typeof this.zeroLineIndex?this.zeroLineIndex:0)?(this.ctx.lineWidth=this.options.gridLines.zeroLineWidth,this.ctx.strokeStyle=this.options.gridLines.zeroLineColor,a=!0):a&&(this.ctx.lineWidth=this.options.gridLines.lineWidth,this.ctx.strokeStyle=this.options.gridLines.color,a=!1),s+=e.aliasPixel(this.ctx.lineWidth),this.ctx.beginPath(),this.options.gridLines.drawTicks&&(this.ctx.moveTo(D,s),this.ctx.lineTo(M,s)),this.options.gridLines.drawOnChartArea&&(this.ctx.moveTo(i.left,s),this.ctx.lineTo(i.right,s)),this.ctx.stroke()),this.options.ticks.display){var n,r=this.getPixelForTick(o,this.options.gridLines.offsetGridLines);this.ctx.save(),"left"===this.options.position?this.options.ticks.mirror?(n=this.right+this.options.ticks.padding,this.ctx.textAlign="left"):(n=this.right-this.options.ticks.padding,this.ctx.textAlign="right"):this.options.ticks.mirror?(n=this.left-this.options.ticks.padding,this.ctx.textAlign="right"):(n=this.left+this.options.ticks.padding,this.ctx.textAlign="left"),this.ctx.translate(n,r+this.options.ticks.labelOffset),this.ctx.rotate(-1*e.toRadians(this.labelRotation)),this.ctx.font=f,this.ctx.textBaseline="middle",this.ctx.fillText(t,0,0),this.ctx.restore()}}},this),this.options.scaleLabel.display){s="left"===this.options.position?this.left+b/2:this.right-b/2,n=this.top+(this.bottom-this.top)/2;var _="left"===this.options.position?-.5*Math.PI:.5*Math.PI;this.ctx.save(),this.ctx.translate(s,n),this.ctx.rotate(_),this.ctx.textAlign="center",this.ctx.fillStyle=m,this.ctx.font=y,this.ctx.textBaseline="middle",this.ctx.fillText(this.options.scaleLabel.labelString,0,0),this.ctx.restore()}}this.ctx.lineWidth=this.options.gridLines.lineWidth,this.ctx.strokeStyle=this.options.gridLines.color;var A=this.left,I=this.right,F=this.top,P=this.bottom;this.isHorizontal()?(F=P="top"===this.options.position?this.bottom:this.top,F+=e.aliasPixel(this.ctx.lineWidth),P+=e.aliasPixel(this.ctx.lineWidth)):(A=I="left"===this.options.position?this.right:this.left,A+=e.aliasPixel(this.ctx.lineWidth),I+=e.aliasPixel(this.ctx.lineWidth)),this.ctx.beginPath(),this.ctx.moveTo(A,F),this.ctx.lineTo(I,P),this.ctx.stroke()}}})}},{}],31:[function(t,e,i){"use strict";e.exports=function(t){var e=t.helpers;t.scaleService={constructors:{},defaults:{},registerScaleType:function(t,i,a){this.constructors[t]=i,this.defaults[t]=e.clone(a)},getScaleConstructor:function(t){return this.constructors.hasOwnProperty(t)?this.constructors[t]:void 0},getScaleDefaults:function(i){return this.defaults.hasOwnProperty(i)?e.scaleMerge(t.defaults.scale,this.defaults[i]):{}},updateScaleDefaults:function(t,i){var a=this.defaults;a.hasOwnProperty(t)&&(a[t]=e.extend(a[t],i))},addScalesToLayout:function(i){e.each(i.scales,function(e){t.layoutService.addBox(i,e)})}}}},{}],32:[function(t,e,i){"use strict";e.exports=function(t){var e=t.helpers;t.defaults.global.title={display:!1,position:"top",fullWidth:!0,fontStyle:"bold",padding:10,text:""};var i=e.noop;t.Title=t.Element.extend({initialize:function(i){e.extend(this,i),this.options=e.configMerge(t.defaults.global.title,i.options),this.legendHitBoxes=[]},beforeUpdate:i,update:function(t,e,i){return this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this.margins=i,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this.beforeBuildLabels(),this.buildLabels(),this.afterBuildLabels(),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate(),this.minSize},afterUpdate:i,beforeSetDimensions:i,setDimensions:function(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0,this.minSize={width:0,height:0}},afterSetDimensions:i,beforeBuildLabels:i,buildLabels:i,afterBuildLabels:i,beforeFit:i,fit:function(){var i=(this.ctx,e.getValueOrDefault),a=this.options,o=t.defaults.global,s=a.display,n=i(a.fontSize,o.defaultFontSize),r=this.minSize;this.isHorizontal()?(r.width=this.maxWidth,r.height=s?n+2*a.padding:0):(r.width=s?n+2*a.padding:0,r.height=this.maxHeight),this.width=r.width,this.height=r.height},afterFit:i,isHorizontal:function(){var t=this.options.position;return"top"===t||"bottom"===t},draw:function(){var i=this.ctx,a=e.getValueOrDefault,o=this.options,s=t.defaults.global;if(o.display){var n,r,h=a(o.fontSize,s.defaultFontSize),l=a(o.fontStyle,s.defaultFontStyle),c=a(o.fontFamily,s.defaultFontFamily),d=e.fontString(h,l,c),u=0;i.fillStyle=a(o.fontColor,s.defaultFontColor),i.font=d,this.isHorizontal()?(n=this.left+(this.right-this.left)/2,r=this.top+(this.bottom-this.top)/2):(n="left"===o.position?this.left+h/2:this.right-h/2,r=this.top+(this.bottom-this.top)/2,u=Math.PI*("left"===o.position?-.5:.5)),i.save(),i.translate(n,r),i.rotate(u),i.textAlign="center",i.textBaseline="middle",i.fillText(o.text,0,0),i.restore()}}})}},{}],33:[function(t,e,i){"use strict";e.exports=function(t){function e(t,e){return e&&(i.isArray(e)?t=t.concat(e):t.push(e)),t}var i=t.helpers;t.defaults.global.tooltips={enabled:!0,custom:null,mode:"single",backgroundColor:"rgba(0,0,0,0.8)",titleFontStyle:"bold",titleSpacing:2,titleMarginBottom:6,titleColor:"#fff",titleAlign:"left",bodySpacing:2,bodyColor:"#fff",bodyAlign:"left",footerFontStyle:"bold",footerSpacing:2,footerMarginTop:6,footerColor:"#fff",footerAlign:"left",yPadding:6,xPadding:6,yAlign:"center",xAlign:"center",caretSize:5,cornerRadius:6,multiKeyBackground:"#fff",callbacks:{beforeTitle:i.noop,title:function(t,e){var i="";return t.length>0&&(t[0].xLabel?i=t[0].xLabel:e.labels.length>0&&t[0].index<e.labels.length&&(i=e.labels[t[0].index])),i},afterTitle:i.noop,beforeBody:i.noop,beforeLabel:i.noop,label:function(t,e){var i=e.datasets[t.datasetIndex].label||"";return i+": "+t.yLabel},afterLabel:i.noop,afterBody:i.noop,beforeFooter:i.noop,footer:i.noop,afterFooter:i.noop}},t.Tooltip=t.Element.extend({initialize:function(){var e=this._options;i.extend(this,{_model:{xPadding:e.tooltips.xPadding,yPadding:e.tooltips.yPadding,xAlign:e.tooltips.yAlign,yAlign:e.tooltips.xAlign,bodyColor:e.tooltips.bodyColor,_bodyFontFamily:i.getValueOrDefault(e.tooltips.bodyFontFamily,t.defaults.global.defaultFontFamily),_bodyFontStyle:i.getValueOrDefault(e.tooltips.bodyFontStyle,t.defaults.global.defaultFontStyle),_bodyAlign:e.tooltips.bodyAlign,bodyFontSize:i.getValueOrDefault(e.tooltips.bodyFontSize,t.defaults.global.defaultFontSize),bodySpacing:e.tooltips.bodySpacing,titleColor:e.tooltips.titleColor,_titleFontFamily:i.getValueOrDefault(e.tooltips.titleFontFamily,t.defaults.global.defaultFontFamily),_titleFontStyle:i.getValueOrDefault(e.tooltips.titleFontStyle,t.defaults.global.defaultFontStyle),titleFontSize:i.getValueOrDefault(e.tooltips.titleFontSize,t.defaults.global.defaultFontSize),_titleAlign:e.tooltips.titleAlign,titleSpacing:e.tooltips.titleSpacing,titleMarginBottom:e.tooltips.titleMarginBottom,footerColor:e.tooltips.footerColor,_footerFontFamily:i.getValueOrDefault(e.tooltips.footerFontFamily,t.defaults.global.defaultFontFamily),_footerFontStyle:i.getValueOrDefault(e.tooltips.footerFontStyle,t.defaults.global.defaultFontStyle),footerFontSize:i.getValueOrDefault(e.tooltips.footerFontSize,t.defaults.global.defaultFontSize),_footerAlign:e.tooltips.footerAlign,footerSpacing:e.tooltips.footerSpacing,footerMarginTop:e.tooltips.footerMarginTop,caretSize:e.tooltips.caretSize,cornerRadius:e.tooltips.cornerRadius,backgroundColor:e.tooltips.backgroundColor,opacity:0,legendColorBackground:e.tooltips.multiKeyBackground}})},getTitle:function(){var t=this._options.tooltips.callbacks.beforeTitle.apply(this,arguments),i=this._options.tooltips.callbacks.title.apply(this,arguments),a=this._options.tooltips.callbacks.afterTitle.apply(this,arguments),o=[];return o=e(o,t),o=e(o,i),o=e(o,a)},getBeforeBody:function(){var t=this._options.tooltips.callbacks.beforeBody.apply(this,arguments);return i.isArray(t)?t:void 0!==t?[t]:[]},getBody:function(t,e){var a=[];return i.each(t,function(t){i.pushAllIfDefined(this._options.tooltips.callbacks.beforeLabel.call(this,t,e),a),i.pushAllIfDefined(this._options.tooltips.callbacks.label.call(this,t,e),a),i.pushAllIfDefined(this._options.tooltips.callbacks.afterLabel.call(this,t,e),a)},this),a},getAfterBody:function(){var t=this._options.tooltips.callbacks.afterBody.apply(this,arguments);return i.isArray(t)?t:void 0!==t?[t]:[]},getFooter:function(){var t=this._options.tooltips.callbacks.beforeFooter.apply(this,arguments),i=this._options.tooltips.callbacks.footer.apply(this,arguments),a=this._options.tooltips.callbacks.afterFooter.apply(this,arguments),o=[];return o=e(o,t),o=e(o,i),o=e(o,a)},getAveragePosition:function(t){if(!t.length)return!1;var e=[],a=[];i.each(t,function(t){if(t){var i=t.tooltipPosition();e.push(i.x),a.push(i.y)}});for(var o=0,s=0,n=0;n<e.length;n++)o+=e[n],s+=a[n];return{x:Math.round(o/e.length),y:Math.round(s/e.length)}},update:function(t){if(this._active.length){this._model.opacity=1;var e,a=this._active[0],o=[],s=[];if("single"===this._options.tooltips.mode){var n=a._yScale||a._scale;s.push({xLabel:a._xScale?a._xScale.getLabelForIndex(a._index,a._datasetIndex):"",yLabel:n?n.getLabelForIndex(a._index,a._datasetIndex):"",index:a._index,datasetIndex:a._datasetIndex}),e=this.getAveragePosition(this._active)}else i.each(this._data.datasets,function(t,e){if(this._chartInstance.isDatasetVisible(e)){var i=this._chartInstance.getDatasetMeta(e),o=i.data[a._index];if(o){var n=a._yScale||a._scale;s.push({xLabel:o._xScale?o._xScale.getLabelForIndex(o._index,o._datasetIndex):"",yLabel:n?n.getLabelForIndex(o._index,o._datasetIndex):"",index:a._index,datasetIndex:e})}}},this),i.each(this._active,function(t){t&&o.push({borderColor:t._view.borderColor,backgroundColor:t._view.backgroundColor})},null),e=this.getAveragePosition(this._active);i.extend(this._model,{title:this.getTitle(s,this._data),beforeBody:this.getBeforeBody(s,this._data),body:this.getBody(s,this._data),afterBody:this.getAfterBody(s,this._data),footer:this.getFooter(s,this._data)}),i.extend(this._model,{x:Math.round(e.x),y:Math.round(e.y),caretPadding:i.getValueOrDefault(e.padding,2),labelColors:o});var r=this.getTooltipSize(this._model);this.determineAlignment(r),i.extend(this._model,this.getBackgroundPoint(this._model,r))}else this._model.opacity=0;return t&&this._options.tooltips.custom&&this._options.tooltips.custom.call(this,this._model),this},getTooltipSize:function(t){var e=this._chart.ctx,a={height:2*t.yPadding,width:0},o=t.body.length+t.beforeBody.length+t.afterBody.length;return a.height+=t.title.length*t.titleFontSize,a.height+=(t.title.length-1)*t.titleSpacing,a.height+=t.title.length?t.titleMarginBottom:0,a.height+=o*t.bodyFontSize,a.height+=o?(o-1)*t.bodySpacing:0,a.height+=t.footer.length?t.footerMarginTop:0,a.height+=t.footer.length*t.footerFontSize,a.height+=t.footer.length?(t.footer.length-1)*t.footerSpacing:0,e.font=i.fontString(t.titleFontSize,t._titleFontStyle,t._titleFontFamily),i.each(t.title,function(t){a.width=Math.max(a.width,e.measureText(t).width)}),e.font=i.fontString(t.bodyFontSize,t._bodyFontStyle,t._bodyFontFamily),i.each(t.beforeBody.concat(t.afterBody),function(t){a.width=Math.max(a.width,e.measureText(t).width);
}),i.each(t.body,function(i){a.width=Math.max(a.width,e.measureText(i).width+("single"!==this._options.tooltips.mode?t.bodyFontSize+2:0))},this),e.font=i.fontString(t.footerFontSize,t._footerFontStyle,t._footerFontFamily),i.each(t.footer,function(t){a.width=Math.max(a.width,e.measureText(t).width)}),a.width+=2*t.xPadding,a},determineAlignment:function(t){this._model.y<t.height?this._model.yAlign="top":this._model.y>this._chart.height-t.height&&(this._model.yAlign="bottom");var e,i,a,o,s,n=this,r=(this._chartInstance.chartArea.left+this._chartInstance.chartArea.right)/2,h=(this._chartInstance.chartArea.top+this._chartInstance.chartArea.bottom)/2;"center"===this._model.yAlign?(e=function(t){return r>=t},i=function(t){return t>r}):(e=function(e){return e<=t.width/2},i=function(e){return e>=n._chart.width-t.width/2}),a=function(e){return e+t.width>n._chart.width},o=function(e){return e-t.width<0},s=function(t){return h>=t?"top":"bottom"},e(this._model.x)?(this._model.xAlign="left",a(this._model.x)&&(this._model.xAlign="center",this._model.yAlign=s(this._model.y))):i(this._model.x)&&(this._model.xAlign="right",o(this._model.x)&&(this._model.xAlign="center",this._model.yAlign=s(this._model.y)))},getBackgroundPoint:function(t,e){var i={x:t.x,y:t.y};return"right"===t.xAlign?i.x-=e.width:"center"===t.xAlign&&(i.x-=e.width/2),"top"===t.yAlign?i.y+=t.caretPadding+t.caretSize:"bottom"===t.yAlign?i.y-=e.height+t.caretPadding+t.caretSize:i.y-=e.height/2,"center"===t.yAlign?"left"===t.xAlign?i.x+=t.caretPadding+t.caretSize:"right"===t.xAlign&&(i.x-=t.caretPadding+t.caretSize):"left"===t.xAlign?i.x-=t.cornerRadius+t.caretPadding:"right"===t.xAlign&&(i.x+=t.cornerRadius+t.caretPadding),i},drawCaret:function(t,e,a,o){var s,n,r,h,l,c,d=this._view,u=this._chart.ctx;"center"===d.yAlign?("left"===d.xAlign?(s=t.x,n=s-d.caretSize,r=s):(s=t.x+e.width,n=s+d.caretSize,r=s),l=t.y+e.height/2,h=l-d.caretSize,c=l+d.caretSize):("left"===d.xAlign?(s=t.x+d.cornerRadius,n=s+d.caretSize,r=n+d.caretSize):"right"===d.xAlign?(s=t.x+e.width-d.cornerRadius,n=s-d.caretSize,r=n-d.caretSize):(n=t.x+e.width/2,s=n-d.caretSize,r=n+d.caretSize),"top"===d.yAlign?(h=t.y,l=h-d.caretSize,c=h):(h=t.y+e.height,l=h+d.caretSize,c=h));var g=i.color(d.backgroundColor);u.fillStyle=g.alpha(a*g.alpha()).rgbString(),u.beginPath(),u.moveTo(s,h),u.lineTo(n,l),u.lineTo(r,c),u.closePath(),u.fill()},drawTitle:function(t,e,a,o){if(e.title.length){a.textAlign=e._titleAlign,a.textBaseline="top";var s=i.color(e.titleColor);a.fillStyle=s.alpha(o*s.alpha()).rgbString(),a.font=i.fontString(e.titleFontSize,e._titleFontStyle,e._titleFontFamily),i.each(e.title,function(i,o){a.fillText(i,t.x,t.y),t.y+=e.titleFontSize+e.titleSpacing,o+1===e.title.length&&(t.y+=e.titleMarginBottom-e.titleSpacing)})}},drawBody:function(t,e,a,o){a.textAlign=e._bodyAlign,a.textBaseline="top";var s=i.color(e.bodyColor);a.fillStyle=s.alpha(o*s.alpha()).rgbString(),a.font=i.fontString(e.bodyFontSize,e._bodyFontStyle,e._bodyFontFamily),i.each(e.beforeBody,function(i){a.fillText(i,t.x,t.y),t.y+=e.bodyFontSize+e.bodySpacing}),i.each(e.body,function(s,n){"single"!==this._options.tooltips.mode&&(a.fillStyle=i.color(e.legendColorBackground).alpha(o).rgbaString(),a.fillRect(t.x,t.y,e.bodyFontSize,e.bodyFontSize),a.strokeStyle=i.color(e.labelColors[n].borderColor).alpha(o).rgbaString(),a.strokeRect(t.x,t.y,e.bodyFontSize,e.bodyFontSize),a.fillStyle=i.color(e.labelColors[n].backgroundColor).alpha(o).rgbaString(),a.fillRect(t.x+1,t.y+1,e.bodyFontSize-2,e.bodyFontSize-2),a.fillStyle=i.color(e.bodyColor).alpha(o).rgbaString()),a.fillText(s,t.x+("single"!==this._options.tooltips.mode?e.bodyFontSize+2:0),t.y),t.y+=e.bodyFontSize+e.bodySpacing},this),i.each(e.afterBody,function(i){a.fillText(i,t.x,t.y),t.y+=e.bodyFontSize}),t.y-=e.bodySpacing},drawFooter:function(t,e,a,o){if(e.footer.length){t.y+=e.footerMarginTop,a.textAlign=e._footerAlign,a.textBaseline="top";var s=i.color(e.footerColor);a.fillStyle=s.alpha(o*s.alpha()).rgbString(),a.font=i.fontString(e.footerFontSize,e._footerFontStyle,e._footerFontFamily),i.each(e.footer,function(i){a.fillText(i,t.x,t.y),t.y+=e.footerFontSize+e.footerSpacing})}},draw:function(){var t=this._chart.ctx,e=this._view;if(0!==e.opacity){var a=e.caretPadding,o=this.getTooltipSize(e),s={x:e.x,y:e.y},n=Math.abs(e.opacity<.001)?0:e.opacity;if(this._options.tooltips.enabled){var r=i.color(e.backgroundColor);t.fillStyle=r.alpha(n*r.alpha()).rgbString(),i.drawRoundedRectangle(t,s.x,s.y,o.width,o.height,e.cornerRadius),t.fill(),this.drawCaret(s,o,n,a),s.x+=e.xPadding,s.y+=e.yPadding,this.drawTitle(s,e,t,n),this.drawBody(s,e,t,n),this.drawFooter(s,e,t,n)}}}})}},{}],34:[function(t,e,i){"use strict";e.exports=function(t,e){var i=t.helpers,a=t.defaults.global;a.elements.arc={backgroundColor:a.defaultColor,borderColor:"#fff",borderWidth:2},t.elements.Arc=t.Element.extend({inLabelRange:function(t){var e=this._view;return e?Math.pow(t-e.x,2)<Math.pow(e.radius+e.hoverRadius,2):!1},inRange:function(t,e){var a=this._view;if(a){for(var o=i.getAngleFromPoint(a,{x:t,y:e}),s=o.angle,n=o.distance,r=a.startAngle,h=a.endAngle;r>h;)h+=2*Math.PI;for(;s>h;)s-=2*Math.PI;for(;r>s;)s+=2*Math.PI;var l=s>=r&&h>=s,c=n>=a.innerRadius&&n<=a.outerRadius;return l&&c}return!1},tooltipPosition:function(){var t=this._view,e=t.startAngle+(t.endAngle-t.startAngle)/2,i=(t.outerRadius-t.innerRadius)/2+t.innerRadius;return{x:t.x+Math.cos(e)*i,y:t.y+Math.sin(e)*i}},draw:function(){var t=this._chart.ctx,e=this._view,i=e.startAngle,a=e.endAngle;t.beginPath(),t.arc(e.x,e.y,e.outerRadius,i,a),t.arc(e.x,e.y,e.innerRadius,a,i,!0),t.closePath(),t.strokeStyle=e.borderColor,t.lineWidth=e.borderWidth,t.fillStyle=e.backgroundColor,t.fill(),t.lineJoin="bevel",e.borderWidth&&t.stroke()}})}},{}],35:[function(t,e,i){"use strict";e.exports=function(t){var e=t.helpers;t.defaults.global.elements.line={tension:.4,backgroundColor:t.defaults.global.defaultColor,borderWidth:3,borderColor:t.defaults.global.defaultColor,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",fill:!0},t.elements.Line=t.Element.extend({lineToNextPoint:function(t,e,i,a,o){var s=this._chart.ctx;e._view.skip?a.call(this,t,e,i):t._view.skip?o.call(this,t,e,i):0===e._view.tension?s.lineTo(e._view.x,e._view.y):s.bezierCurveTo(t._view.controlPointNextX,t._view.controlPointNextY,e._view.controlPointPreviousX,e._view.controlPointPreviousY,e._view.x,e._view.y)},draw:function(){function i(t){n._view.skip||r._view.skip?t&&s.lineTo(a._view.scaleZero.x,a._view.scaleZero.y):s.bezierCurveTo(r._view.controlPointNextX,r._view.controlPointNextY,n._view.controlPointPreviousX,n._view.controlPointPreviousY,n._view.x,n._view.y)}var a=this,o=this._view,s=this._chart.ctx,n=this._children[0],r=this._children[this._children.length-1];s.save(),this._children.length>0&&o.fill&&(s.beginPath(),e.each(this._children,function(t,i){var a=e.previousItem(this._children,i),n=e.nextItem(this._children,i);0===i?(this._loop?s.moveTo(o.scaleZero.x,o.scaleZero.y):s.moveTo(t._view.x,o.scaleZero),t._view.skip?this._loop||s.moveTo(n._view.x,this._view.scaleZero):s.lineTo(t._view.x,t._view.y)):this.lineToNextPoint(a,t,n,function(t,e,i){this._loop?s.lineTo(this._view.scaleZero.x,this._view.scaleZero.y):(s.lineTo(t._view.x,this._view.scaleZero),s.moveTo(i._view.x,this._view.scaleZero))},function(t,e){s.lineTo(e._view.x,e._view.y)})},this),this._loop?i(!0):(s.lineTo(this._children[this._children.length-1]._view.x,o.scaleZero),s.lineTo(this._children[0]._view.x,o.scaleZero)),s.fillStyle=o.backgroundColor||t.defaults.global.defaultColor,s.closePath(),s.fill()),s.lineCap=o.borderCapStyle||t.defaults.global.elements.line.borderCapStyle,s.setLineDash&&s.setLineDash(o.borderDash||t.defaults.global.elements.line.borderDash),s.lineDashOffset=o.borderDashOffset||t.defaults.global.elements.line.borderDashOffset,s.lineJoin=o.borderJoinStyle||t.defaults.global.elements.line.borderJoinStyle,s.lineWidth=o.borderWidth||t.defaults.global.elements.line.borderWidth,s.strokeStyle=o.borderColor||t.defaults.global.defaultColor,s.beginPath(),e.each(this._children,function(t,i){var a=e.previousItem(this._children,i),o=e.nextItem(this._children,i);0===i?s.moveTo(t._view.x,t._view.y):this.lineToNextPoint(a,t,o,function(t,e,i){s.moveTo(i._view.x,i._view.y)},function(t,e){s.moveTo(e._view.x,e._view.y)})},this),this._loop&&this._children.length>0&&i(),s.stroke(),s.restore()}})}},{}],36:[function(t,e,i){"use strict";e.exports=function(t){var e=t.helpers,i=t.defaults.global;i.elements.point={radius:3,pointStyle:"circle",backgroundColor:i.defaultColor,borderWidth:1,borderColor:i.defaultColor,hitRadius:1,hoverRadius:4,hoverBorderWidth:1},t.elements.Point=t.Element.extend({inRange:function(t,e){var i=this._view;return i?Math.pow(t-i.x,2)+Math.pow(e-i.y,2)<Math.pow(i.hitRadius+i.radius,2):!1},inLabelRange:function(t){var e=this._view;return e?Math.pow(t-e.x,2)<Math.pow(e.radius+e.hitRadius,2):!1},tooltipPosition:function(){var t=this._view;return{x:t.x,y:t.y,padding:t.radius+t.borderWidth}},draw:function(){var i=this._view,a=i.x,o=i.y,s=this._chart.ctx;if(!i.skip){var n=i.pointStyle;if("object"==typeof n&&("[object HTMLImageElement]"===n.toString()||"[object HTMLCanvasElement]"===n.toString()))return void s.drawImage(n,a-n.width/2,o-n.height/2);if(!isNaN(i.radius)&&i.radius>0){s.strokeStyle=i.borderColor||t.defaults.global.defaultColor,s.lineWidth=e.getValueOrDefault(i.borderWidth,t.defaults.global.elements.point.borderWidth),s.fillStyle=i.backgroundColor||t.defaults.global.defaultColor;var r,h,l=i.radius;switch(n){default:s.beginPath(),s.arc(a,o,l,0,2*Math.PI),s.closePath(),s.fill();break;case"triangle":s.beginPath();var c=3*l/Math.sqrt(3),d=c*Math.sqrt(3)/2;s.moveTo(a-c/2,o+d/3),s.lineTo(a+c/2,o+d/3),s.lineTo(a,o-2*d/3),s.closePath(),s.fill();break;case"rect":s.fillRect(a-1/Math.SQRT2*l,o-1/Math.SQRT2*l,2/Math.SQRT2*l,2/Math.SQRT2*l),s.strokeRect(a-1/Math.SQRT2*l,o-1/Math.SQRT2*l,2/Math.SQRT2*l,2/Math.SQRT2*l);break;case"rectRot":s.translate(a,o),s.rotate(Math.PI/4),s.fillRect(-1/Math.SQRT2*l,-1/Math.SQRT2*l,2/Math.SQRT2*l,2/Math.SQRT2*l),s.strokeRect(-1/Math.SQRT2*l,-1/Math.SQRT2*l,2/Math.SQRT2*l,2/Math.SQRT2*l),s.setTransform(1,0,0,1,0,0);break;case"cross":s.beginPath(),s.moveTo(a,o+l),s.lineTo(a,o-l),s.moveTo(a-l,o),s.lineTo(a+l,o),s.closePath();break;case"crossRot":s.beginPath(),r=Math.cos(Math.PI/4)*l,h=Math.sin(Math.PI/4)*l,s.moveTo(a-r,o-h),s.lineTo(a+r,o+h),s.moveTo(a-r,o+h),s.lineTo(a+r,o-h),s.closePath();break;case"star":s.beginPath(),s.moveTo(a,o+l),s.lineTo(a,o-l),s.moveTo(a-l,o),s.lineTo(a+l,o),r=Math.cos(Math.PI/4)*l,h=Math.sin(Math.PI/4)*l,s.moveTo(a-r,o-h),s.lineTo(a+r,o+h),s.moveTo(a-r,o+h),s.lineTo(a+r,o-h),s.closePath();break;case"line":s.beginPath(),s.moveTo(a-l,o),s.lineTo(a+l,o),s.closePath();break;case"dash":s.beginPath(),s.moveTo(a,o),s.lineTo(a+l,o),s.closePath()}s.stroke()}}}})}},{}],37:[function(t,e,i){"use strict";e.exports=function(t){var e=(t.helpers,t.defaults.global);e.elements.rectangle={backgroundColor:e.defaultColor,borderWidth:0,borderColor:e.defaultColor,borderSkipped:"bottom"},t.elements.Rectangle=t.Element.extend({draw:function(){function t(t){return h[(c+t)%4]}var e=this._chart.ctx,i=this._view,a=i.width/2,o=i.x-a,s=i.x+a,n=i.base-(i.base-i.y),r=i.borderWidth/2;i.borderWidth&&(o+=r,s-=r,n+=r),e.beginPath(),e.fillStyle=i.backgroundColor,e.strokeStyle=i.borderColor,e.lineWidth=i.borderWidth;var h=[[o,i.base],[o,n],[s,n],[s,i.base]],l=["bottom","left","top","right"],c=l.indexOf(i.borderSkipped,0);-1===c&&(c=0),e.moveTo.apply(e,t(0));for(var d=1;4>d;d++)e.lineTo.apply(e,t(d));e.fill(),i.borderWidth&&e.stroke()},height:function(){var t=this._view;return t.base-t.y},inRange:function(t,e){var i=this._view;return i?i.y<i.base?t>=i.x-i.width/2&&t<=i.x+i.width/2&&e>=i.y&&e<=i.base:t>=i.x-i.width/2&&t<=i.x+i.width/2&&e>=i.base&&e<=i.y:!1},inLabelRange:function(t){var e=this._view;return e?t>=e.x-e.width/2&&t<=e.x+e.width/2:!1},tooltipPosition:function(){var t=this._view;return{x:t.x,y:t.y}}})}},{}],38:[function(t,e,i){"use strict";e.exports=function(t){var e=t.helpers,i={position:"bottom"},a=t.Scale.extend({determineDataLimits:function(){this.minIndex=0,this.maxIndex=this.chart.data.labels.length-1;var t;void 0!==this.options.ticks.min&&(t=e.indexOf(this.chart.data.labels,this.options.ticks.min),this.minIndex=-1!==t?t:this.minIndex),void 0!==this.options.ticks.max&&(t=e.indexOf(this.chart.data.labels,this.options.ticks.max),this.maxIndex=-1!==t?t:this.maxIndex),this.min=this.chart.data.labels[this.minIndex],this.max=this.chart.data.labels[this.maxIndex]},buildTicks:function(t){this.ticks=0===this.minIndex&&this.maxIndex===this.chart.data.labels.length-1?this.chart.data.labels:this.chart.data.labels.slice(this.minIndex,this.maxIndex+1)},getLabelForIndex:function(t,e){return this.ticks[t]},getPixelForValue:function(t,e,i,a){var o=Math.max(this.maxIndex+1-this.minIndex-(this.options.gridLines.offsetGridLines?0:1),1);if(this.isHorizontal()){var s=this.width-(this.paddingLeft+this.paddingRight),n=s/o,r=n*(e-this.minIndex)+this.paddingLeft;return this.options.gridLines.offsetGridLines&&a&&(r+=n/2),this.left+Math.round(r)}var h=this.height-(this.paddingTop+this.paddingBottom),l=h/o,c=l*(e-this.minIndex)+this.paddingTop;return this.options.gridLines.offsetGridLines&&a&&(c+=l/2),this.top+Math.round(c)},getPixelForTick:function(t,e){return this.getPixelForValue(this.ticks[t],t+this.minIndex,null,e)},getValueForPixel:function(t){var e,i=Math.max(this.ticks.length-(this.options.gridLines.offsetGridLines?0:1),1),a=this.isHorizontal(),o=a?this.width-(this.paddingLeft+this.paddingRight):this.height-(this.paddingTop+this.paddingBottom),s=o/i;return this.options.gridLines.offsetGridLines&&(t-=s/2),t-=a?this.paddingLeft:this.paddingTop,e=0>=t?0:Math.round(t/s)}});t.scaleService.registerScaleType("category",a,i)}},{}],39:[function(t,e,i){"use strict";e.exports=function(t){var e=t.helpers,i={position:"left",ticks:{callback:function(t,i,a){var o=a.length>3?a[2]-a[1]:a[1]-a[0];Math.abs(o)>1&&t!==Math.floor(t)&&(o=t-Math.floor(t));var s=e.log10(Math.abs(o)),n="";if(0!==t){var r=-1*Math.floor(s);r=Math.max(Math.min(r,20),0),n=t.toFixed(r)}else n="0";return n}}},a=t.Scale.extend({determineDataLimits:function(){if(this.min=null,this.max=null,this.options.stacked){var t={},i=!1,a=!1;e.each(this.chart.data.datasets,function(o,s){var n=this.chart.getDatasetMeta(s);void 0===t[n.type]&&(t[n.type]={positiveValues:[],negativeValues:[]});var r=t[n.type].positiveValues,h=t[n.type].negativeValues;this.chart.isDatasetVisible(s)&&(this.isHorizontal()?n.xAxisID===this.id:n.yAxisID===this.id)&&e.each(o.data,function(t,e){var o=+this.getRightValue(t);isNaN(o)||n.data[e].hidden||(r[e]=r[e]||0,h[e]=h[e]||0,this.options.relativePoints?r[e]=100:0>o?(a=!0,h[e]+=o):(i=!0,r[e]+=o))},this)},this),e.each(t,function(t){var i=t.positiveValues.concat(t.negativeValues),a=e.min(i),o=e.max(i);this.min=null===this.min?a:Math.min(this.min,a),this.max=null===this.max?o:Math.max(this.max,o)},this)}else e.each(this.chart.data.datasets,function(t,i){var a=this.chart.getDatasetMeta(i);this.chart.isDatasetVisible(i)&&(this.isHorizontal()?a.xAxisID===this.id:a.yAxisID===this.id)&&e.each(t.data,function(t,e){var i=+this.getRightValue(t);isNaN(i)||a.data[e].hidden||(null===this.min?this.min=i:i<this.min&&(this.min=i),null===this.max?this.max=i:i>this.max&&(this.max=i))},this)},this);if(this.options.ticks.beginAtZero){var o=e.sign(this.min),s=e.sign(this.max);0>o&&0>s?this.max=0:o>0&&s>0&&(this.min=0)}void 0!==this.options.ticks.min?this.min=this.options.ticks.min:void 0!==this.options.ticks.suggestedMin&&(this.min=Math.min(this.min,this.options.ticks.suggestedMin)),void 0!==this.options.ticks.max?this.max=this.options.ticks.max:void 0!==this.options.ticks.suggestedMax&&(this.max=Math.max(this.max,this.options.ticks.suggestedMax)),this.min===this.max&&(this.max++,this.options.ticks.beginAtZero||this.min--)},buildTicks:function(){this.ticks=[];var i;if(this.isHorizontal())i=Math.min(this.options.ticks.maxTicksLimit?this.options.ticks.maxTicksLimit:11,Math.ceil(this.width/50));else{var a=e.getValueOrDefault(this.options.ticks.fontSize,t.defaults.global.defaultFontSize);i=Math.min(this.options.ticks.maxTicksLimit?this.options.ticks.maxTicksLimit:11,Math.ceil(this.height/(2*a)))}i=Math.max(2,i);var o,s=this.options.ticks.fixedStepSize&&this.options.ticks.fixedStepSize>0||this.options.ticks.stepSize&&this.options.ticks.stepSize>0;if(s)o=e.getValueOrDefault(this.options.ticks.fixedStepSize,this.options.ticks.stepSize);else{var n=e.niceNum(this.max-this.min,!1);o=e.niceNum(n/(i-1),!0)}var r=Math.floor(this.min/o)*o,h=Math.ceil(this.max/o)*o,l=(h-r)/o;l=e.almostEquals(l,Math.round(l),o/1e3)?Math.round(l):Math.ceil(l),this.ticks.push(void 0!==this.options.ticks.min?this.options.ticks.min:r);for(var c=1;l>c;++c)this.ticks.push(r+c*o);this.ticks.push(void 0!==this.options.ticks.max?this.options.ticks.max:h),("left"===this.options.position||"right"===this.options.position)&&this.ticks.reverse(),this.max=e.max(this.ticks),this.min=e.min(this.ticks),this.options.ticks.reverse?(this.ticks.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max)},getLabelForIndex:function(t,e){return+this.getRightValue(this.chart.data.datasets[e].data[t])},convertTicksToLabels:function(){this.ticksAsNumbers=this.ticks.slice(),this.zeroLineIndex=this.ticks.indexOf(0),t.Scale.prototype.convertTicksToLabels.call(this)},getPixelForValue:function(t,e,i,a){var o,s=+this.getRightValue(t),n=this.end-this.start;if(this.isHorizontal()){var r=this.width-(this.paddingLeft+this.paddingRight);return o=this.left+r/n*(s-this.start),Math.round(o+this.paddingLeft)}var h=this.height-(this.paddingTop+this.paddingBottom);return o=this.bottom-this.paddingBottom-h/n*(s-this.start),Math.round(o)},getValueForPixel:function(t){var e;if(this.isHorizontal()){var i=this.width-(this.paddingLeft+this.paddingRight);e=(t-this.left-this.paddingLeft)/i}else{var a=this.height-(this.paddingTop+this.paddingBottom);e=(this.bottom-this.paddingBottom-t)/a}return this.start+(this.end-this.start)*e},getPixelForTick:function(t,e){return this.getPixelForValue(this.ticksAsNumbers[t],null,null,e)}});t.scaleService.registerScaleType("linear",a,i)}},{}],40:[function(t,e,i){"use strict";e.exports=function(t){var e=t.helpers,i={position:"left",ticks:{callback:function(e,i,a){var o=e/Math.pow(10,Math.floor(t.helpers.log10(e)));return 1===o||2===o||5===o||0===i||i===a.length-1?e.toExponential():""}}},a=t.Scale.extend({determineDataLimits:function(){if(this.min=null,this.max=null,this.options.stacked){var t={};e.each(this.chart.data.datasets,function(i,a){var o=this.chart.getDatasetMeta(a);this.chart.isDatasetVisible(a)&&(this.isHorizontal()?o.xAxisID===this.id:o.yAxisID===this.id)&&(void 0===t[o.type]&&(t[o.type]=[]),e.each(i.data,function(e,i){var a=t[o.type],s=+this.getRightValue(e);isNaN(s)||o.data[i].hidden||(a[i]=a[i]||0,this.options.relativePoints?a[i]=100:a[i]+=s)},this))},this),e.each(t,function(t){var i=e.min(t),a=e.max(t);this.min=null===this.min?i:Math.min(this.min,i),this.max=null===this.max?a:Math.max(this.max,a)},this)}else e.each(this.chart.data.datasets,function(t,i){var a=this.chart.getDatasetMeta(i);this.chart.isDatasetVisible(i)&&(this.isHorizontal()?a.xAxisID===this.id:a.yAxisID===this.id)&&e.each(t.data,function(t,e){var i=+this.getRightValue(t);isNaN(i)||a.data[e].hidden||(null===this.min?this.min=i:i<this.min&&(this.min=i),null===this.max?this.max=i:i>this.max&&(this.max=i))},this)},this);this.min=void 0!==this.options.ticks.min?this.options.ticks.min:this.min,this.max=void 0!==this.options.ticks.max?this.options.ticks.max:this.max,this.min===this.max&&(0!==this.min&&null!==this.min?(this.min=Math.pow(10,Math.floor(e.log10(this.min))-1),this.max=Math.pow(10,Math.floor(e.log10(this.max))+1)):(this.min=1,this.max=10))},buildTicks:function(){this.ticks=[];for(var t=void 0!==this.options.ticks.min?this.options.ticks.min:Math.pow(10,Math.floor(e.log10(this.min)));t<this.max;){this.ticks.push(t);var i=Math.floor(e.log10(t)),a=Math.floor(t/Math.pow(10,i))+1;10===a&&(a=1,++i),t=a*Math.pow(10,i)}var o=void 0!==this.options.ticks.max?this.options.ticks.max:t;this.ticks.push(o),("left"===this.options.position||"right"===this.options.position)&&this.ticks.reverse(),this.max=e.max(this.ticks),this.min=e.min(this.ticks),this.options.ticks.reverse?(this.ticks.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max)},convertTicksToLabels:function(){this.tickValues=this.ticks.slice(),t.Scale.prototype.convertTicksToLabels.call(this)},getLabelForIndex:function(t,e){return+this.getRightValue(this.chart.data.datasets[e].data[t])},getPixelForTick:function(t,e){return this.getPixelForValue(this.tickValues[t],null,null,e)},getPixelForValue:function(t,i,a,o){var s,n=+this.getRightValue(t),r=e.log10(this.end)-e.log10(this.start);if(this.isHorizontal())if(0===n)s=this.left+this.paddingLeft;else{var h=this.width-(this.paddingLeft+this.paddingRight);s=this.left+h/r*(e.log10(n)-e.log10(this.start)),s+=this.paddingLeft}else if(0===n)s=this.top+this.paddingTop;else{var l=this.height-(this.paddingTop+this.paddingBottom);s=this.bottom-this.paddingBottom-l/r*(e.log10(n)-e.log10(this.start))}return s},getValueForPixel:function(t){var i,a=e.log10(this.end)-e.log10(this.start);if(this.isHorizontal()){var o=this.width-(this.paddingLeft+this.paddingRight);i=this.start*Math.pow(10,(t-this.left-this.paddingLeft)*a/o)}else{var s=this.height-(this.paddingTop+this.paddingBottom);i=Math.pow(10,(this.bottom-this.paddingBottom-t)*a/s)/this.start}return i}});t.scaleService.registerScaleType("logarithmic",a,i)}},{}],41:[function(t,e,i){"use strict";e.exports=function(t){var e=t.helpers,i={display:!0,animate:!0,lineArc:!1,position:"chartArea",angleLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1},ticks:{showLabelBackdrop:!0,backdropColor:"rgba(255,255,255,0.75)",backdropPaddingY:2,backdropPaddingX:2},pointLabels:{fontSize:10,callback:function(t){return t}}},a=t.Scale.extend({getValueCount:function(){return this.chart.data.labels.length},setDimensions:function(){this.width=this.maxWidth,this.height=this.maxHeight,this.xCenter=Math.round(this.width/2),this.yCenter=Math.round(this.height/2);var i=e.min([this.height,this.width]),a=e.getValueOrDefault(this.options.ticks.fontSize,t.defaults.global.defaultFontSize);this.drawingArea=this.options.display?i/2-(a/2+this.options.ticks.backdropPaddingY):i/2},determineDataLimits:function(){if(this.min=null,this.max=null,e.each(this.chart.data.datasets,function(t,i){if(this.chart.isDatasetVisible(i)){var a=this.chart.getDatasetMeta(i);e.each(t.data,function(t,e){var i=+this.getRightValue(t);isNaN(i)||a.data[e].hidden||(null===this.min?this.min=i:i<this.min&&(this.min=i),null===this.max?this.max=i:i>this.max&&(this.max=i))},this)}},this),this.options.ticks.beginAtZero){var t=e.sign(this.min),i=e.sign(this.max);0>t&&0>i?this.max=0:t>0&&i>0&&(this.min=0)}void 0!==this.options.ticks.min?this.min=this.options.ticks.min:void 0!==this.options.ticks.suggestedMin&&(this.min=Math.min(this.min,this.options.ticks.suggestedMin)),void 0!==this.options.ticks.max?this.max=this.options.ticks.max:void 0!==this.options.ticks.suggestedMax&&(this.max=Math.max(this.max,this.options.ticks.suggestedMax)),this.min===this.max&&(this.min--,this.max++)},buildTicks:function(){this.ticks=[];var i=e.getValueOrDefault(this.options.ticks.fontSize,t.defaults.global.defaultFontSize),a=Math.min(this.options.ticks.maxTicksLimit?this.options.ticks.maxTicksLimit:11,Math.ceil(this.drawingArea/(1.5*i)));a=Math.max(2,a);var o=e.niceNum(this.max-this.min,!1),s=e.niceNum(o/(a-1),!0),n=Math.floor(this.min/s)*s,r=Math.ceil(this.max/s)*s,h=Math.ceil((r-n)/s);this.ticks.push(void 0!==this.options.ticks.min?this.options.ticks.min:n);for(var l=1;h>l;++l)this.ticks.push(n+l*s);this.ticks.push(void 0!==this.options.ticks.max?this.options.ticks.max:r),this.max=e.max(this.ticks),this.min=e.min(this.ticks),this.options.ticks.reverse?(this.ticks.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),this.zeroLineIndex=this.ticks.indexOf(0)},convertTicksToLabels:function(){t.Scale.prototype.convertTicksToLabels.call(this),this.pointLabels=this.chart.data.labels.map(this.options.pointLabels.callback,this)},getLabelForIndex:function(t,e){return+this.getRightValue(this.chart.data.datasets[e].data[t])},fit:function(){var i,a,o,s,n,r,h,l,c,d,u,g,f=e.getValueOrDefault(this.options.pointLabels.fontSize,t.defaults.global.defaultFontSize),p=e.getValueOrDefault(this.options.pointLabels.fontStyle,t.defaults.global.defaultFontStyle),m=e.getValueOrDefault(this.options.pointLabels.fontFamily,t.defaults.global.defaultFontFamily),b=e.fontString(f,p,m),x=e.min([this.height/2-f-5,this.width/2]),v=this.width,y=0;for(this.ctx.font=b,a=0;a<this.getValueCount();a++)i=this.getPointPosition(a,x),o=this.ctx.measureText(this.pointLabels[a]?this.pointLabels[a]:"").width+5,0===a||a===this.getValueCount()/2?(s=o/2,i.x+s>v&&(v=i.x+s,n=a),i.x-s<y&&(y=i.x-s,h=a)):a<this.getValueCount()/2?i.x+o>v&&(v=i.x+o,n=a):a>this.getValueCount()/2&&i.x-o<y&&(y=i.x-o,h=a);c=y,d=Math.ceil(v-this.width),r=this.getIndexAngle(n),l=this.getIndexAngle(h),u=d/Math.sin(r+Math.PI/2),g=c/Math.sin(l+Math.PI/2),u=e.isNumber(u)?u:0,g=e.isNumber(g)?g:0,this.drawingArea=Math.round(x-(g+u)/2),this.setCenterPoint(g,u)},setCenterPoint:function(t,e){var i=this.width-e-this.drawingArea,a=t+this.drawingArea;this.xCenter=Math.round((a+i)/2+this.left),this.yCenter=Math.round(this.height/2+this.top)},getIndexAngle:function(t){var e=2*Math.PI/this.getValueCount();return t*e-Math.PI/2},getDistanceFromCenterForValue:function(t){if(null===t)return 0;var e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e},getPointPosition:function(t,e){var i=this.getIndexAngle(t);return{x:Math.round(Math.cos(i)*e)+this.xCenter,y:Math.round(Math.sin(i)*e)+this.yCenter}},getPointPositionForValue:function(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))},draw:function(){if(this.options.display){var i=this.ctx;if(e.each(this.ticks,function(a,o){if(o>0||this.options.reverse){var s=this.getDistanceFromCenterForValue(this.ticks[o]),n=this.yCenter-s;if(this.options.gridLines.display)if(i.strokeStyle=this.options.gridLines.color,i.lineWidth=this.options.gridLines.lineWidth,this.options.lineArc)i.beginPath(),i.arc(this.xCenter,this.yCenter,s,0,2*Math.PI),i.closePath(),i.stroke();else{i.beginPath();for(var r=0;r<this.getValueCount();r++){var h=this.getPointPosition(r,this.getDistanceFromCenterForValue(this.ticks[o]));0===r?i.moveTo(h.x,h.y):i.lineTo(h.x,h.y)}i.closePath(),i.stroke()}if(this.options.ticks.display){var l=e.getValueOrDefault(this.options.ticks.fontColor,t.defaults.global.defaultFontColor),c=e.getValueOrDefault(this.options.ticks.fontSize,t.defaults.global.defaultFontSize),d=e.getValueOrDefault(this.options.ticks.fontStyle,t.defaults.global.defaultFontStyle),u=e.getValueOrDefault(this.options.ticks.fontFamily,t.defaults.global.defaultFontFamily),g=e.fontString(c,d,u);if(i.font=g,this.options.ticks.showLabelBackdrop){var f=i.measureText(a).width;i.fillStyle=this.options.ticks.backdropColor,i.fillRect(this.xCenter-f/2-this.options.ticks.backdropPaddingX,n-c/2-this.options.ticks.backdropPaddingY,f+2*this.options.ticks.backdropPaddingX,c+2*this.options.ticks.backdropPaddingY)}i.textAlign="center",i.textBaseline="middle",i.fillStyle=l,i.fillText(a,this.xCenter,n)}}},this),!this.options.lineArc){i.lineWidth=this.options.angleLines.lineWidth,i.strokeStyle=this.options.angleLines.color;for(var a=this.getValueCount()-1;a>=0;a--){if(this.options.angleLines.display){var o=this.getPointPosition(a,this.getDistanceFromCenterForValue(this.options.reverse?this.min:this.max));i.beginPath(),i.moveTo(this.xCenter,this.yCenter),i.lineTo(o.x,o.y),i.stroke(),i.closePath()}var s=this.getPointPosition(a,this.getDistanceFromCenterForValue(this.options.reverse?this.min:this.max)+5),n=e.getValueOrDefault(this.options.pointLabels.fontColor,t.defaults.global.defaultFontColor),r=e.getValueOrDefault(this.options.pointLabels.fontSize,t.defaults.global.defaultFontSize),h=e.getValueOrDefault(this.options.pointLabels.fontStyle,t.defaults.global.defaultFontStyle),l=e.getValueOrDefault(this.options.pointLabels.fontFamily,t.defaults.global.defaultFontFamily),c=e.fontString(r,h,l);i.font=c,i.fillStyle=n;var d=this.pointLabels.length,u=this.pointLabels.length/2,g=u/2,f=g>a||a>d-g,p=a===g||a===d-g;0===a?i.textAlign="center":a===u?i.textAlign="center":u>a?i.textAlign="left":i.textAlign="right",p?i.textBaseline="middle":f?i.textBaseline="bottom":i.textBaseline="top",i.fillText(this.pointLabels[a]?this.pointLabels[a]:"",s.x,s.y)}}}}});t.scaleService.registerScaleType("radialLinear",a,i)}},{}],42:[function(t,e,i){"use strict";var a=t("moment");a="function"==typeof a?a:window.moment,e.exports=function(t){var e=t.helpers,i={units:[{name:"millisecond",steps:[1,2,5,10,20,50,100,250,500]},{name:"second",steps:[1,2,5,10,30]},{name:"minute",steps:[1,2,5,10,30]},{name:"hour",steps:[1,2,3,6,12]},{name:"day",steps:[1,2,5]},{name:"week",maxStep:4},{name:"month",maxStep:3},{name:"quarter",maxStep:4},{name:"year",maxStep:!1}]},o={position:"bottom",time:{parser:!1,format:!1,unit:!1,round:!1,displayFormat:!1,isoWeekday:!1,displayFormats:{millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm:ss a",hour:"MMM D, hA",day:"ll",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"}},ticks:{autoSkip:!1}},s=t.Scale.extend({initialize:function(){if(!a)throw new Error("Chart.js - Moment.js could not be found! You must include it before Chart.js to use the time scale. Download at https://momentjs.com");t.Scale.prototype.initialize.call(this)},getLabelMoment:function(t,e){return this.labelMoments[t][e]},getMomentStartOf:function(t){return"week"===this.options.time.unit&&this.options.time.isoWeekday!==!1?t.clone().startOf("isoWeek").isoWeekday(this.options.time.isoWeekday):t.clone().startOf(this.tickUnit)},determineDataLimits:function(){this.labelMoments=[];var t=[];this.chart.data.labels&&this.chart.data.labels.length>0?(e.each(this.chart.data.labels,function(e,i){var a=this.parseTime(e);a.isValid()&&(this.options.time.round&&a.startOf(this.options.time.round),t.push(a))},this),this.firstTick=a.min.call(this,t),this.lastTick=a.max.call(this,t)):(this.firstTick=null,this.lastTick=null),e.each(this.chart.data.datasets,function(i,o){var s=[],n=this.chart.isDatasetVisible(o);"object"==typeof i.data[0]?e.each(i.data,function(t,e){var i=this.parseTime(this.getRightValue(t));i.isValid()&&(this.options.time.round&&i.startOf(this.options.time.round),s.push(i),n&&(this.firstTick=null!==this.firstTick?a.min(this.firstTick,i):i,this.lastTick=null!==this.lastTick?a.max(this.lastTick,i):i))},this):s=t,this.labelMoments.push(s)},this),this.options.time.min&&(this.firstTick=this.parseTime(this.options.time.min)),this.options.time.max&&(this.lastTick=this.parseTime(this.options.time.max)),this.firstTick=(this.firstTick||a()).clone(),this.lastTick=(this.lastTick||a()).clone()},buildTicks:function(a){this.ctx.save();var o=e.getValueOrDefault(this.options.ticks.fontSize,t.defaults.global.defaultFontSize),s=e.getValueOrDefault(this.options.ticks.fontStyle,t.defaults.global.defaultFontStyle),n=e.getValueOrDefault(this.options.ticks.fontFamily,t.defaults.global.defaultFontFamily),r=e.fontString(o,s,n);if(this.ctx.font=r,this.ticks=[],this.unitScale=1,this.scaleSizeInUnits=0,this.options.time.unit)this.tickUnit=this.options.time.unit||"day",this.displayFormat=this.options.time.displayFormats[this.tickUnit],this.scaleSizeInUnits=this.lastTick.diff(this.firstTick,this.tickUnit,!0),this.unitScale=e.getValueOrDefault(this.options.time.unitStepSize,1);else{var h=this.isHorizontal()?this.width-(this.paddingLeft+this.paddingRight):this.height-(this.paddingTop+this.paddingBottom),l=this.tickFormatFunction(this.firstTick,0,[]),c=this.ctx.measureText(l).width,d=Math.cos(e.toRadians(this.options.ticks.maxRotation)),u=Math.sin(e.toRadians(this.options.ticks.maxRotation));
c=c*d+o*u;var g=h/c;this.tickUnit="millisecond",this.scaleSizeInUnits=this.lastTick.diff(this.firstTick,this.tickUnit,!0),this.displayFormat=this.options.time.displayFormats[this.tickUnit];for(var f=0,p=i.units[f];f<i.units.length;){if(this.unitScale=1,e.isArray(p.steps)&&Math.ceil(this.scaleSizeInUnits/g)<e.max(p.steps)){for(var m=0;m<p.steps.length;++m)if(p.steps[m]>=Math.ceil(this.scaleSizeInUnits/g)){this.unitScale=e.getValueOrDefault(this.options.time.unitStepSize,p.steps[m]);break}break}if(p.maxStep===!1||Math.ceil(this.scaleSizeInUnits/g)<p.maxStep){this.unitScale=e.getValueOrDefault(this.options.time.unitStepSize,Math.ceil(this.scaleSizeInUnits/g));break}++f,p=i.units[f],this.tickUnit=p.name;var b=this.firstTick.diff(this.getMomentStartOf(this.firstTick),this.tickUnit,!0),x=this.getMomentStartOf(this.lastTick.clone().add(1,this.tickUnit)).diff(this.lastTick,this.tickUnit,!0);this.scaleSizeInUnits=this.lastTick.diff(this.firstTick,this.tickUnit,!0)+b+x,this.displayFormat=this.options.time.displayFormats[p.name]}}var v;if(this.options.time.min?v=this.getMomentStartOf(this.firstTick):(this.firstTick=this.getMomentStartOf(this.firstTick),v=this.firstTick),!this.options.time.max){var y=this.getMomentStartOf(this.lastTick);0!==y.diff(this.lastTick,this.tickUnit,!0)&&(this.lastTick=this.getMomentStartOf(this.lastTick.add(1,this.tickUnit)))}this.smallestLabelSeparation=this.width,e.each(this.chart.data.datasets,function(t,e){for(var i=1;i<this.labelMoments[e].length;i++)this.smallestLabelSeparation=Math.min(this.smallestLabelSeparation,this.labelMoments[e][i].diff(this.labelMoments[e][i-1],this.tickUnit,!0))},this),this.options.time.displayFormat&&(this.displayFormat=this.options.time.displayFormat),this.ticks.push(this.firstTick.clone());for(var k=1;k<=this.scaleSizeInUnits;++k){var S=v.clone().add(k,this.tickUnit);if(this.options.time.max&&S.diff(this.lastTick,this.tickUnit,!0)>=0)break;k%this.unitScale===0&&this.ticks.push(S)}var C=this.ticks[this.ticks.length-1].diff(this.lastTick,this.tickUnit);(0!==C||0===this.scaleSizeInUnits)&&(this.options.time.max?(this.ticks.push(this.lastTick.clone()),this.scaleSizeInUnits=this.lastTick.diff(this.ticks[0],this.tickUnit,!0)):(this.ticks.push(this.lastTick.clone()),this.scaleSizeInUnits=this.lastTick.diff(this.firstTick,this.tickUnit,!0))),this.ctx.restore()},getLabelForIndex:function(t,e){var i=this.chart.data.labels&&t<this.chart.data.labels.length?this.chart.data.labels[t]:"";return"object"==typeof this.chart.data.datasets[e].data[0]&&(i=this.getRightValue(this.chart.data.datasets[e].data[t])),this.options.time.tooltipFormat&&(i=this.parseTime(i).format(this.options.time.tooltipFormat)),i},tickFormatFunction:function(t,i,a){var o=t.format(this.displayFormat),s=this.options.ticks,n=e.getValueOrDefault(s.callback,s.userCallback);return n?n(o,i,a):o},convertTicksToLabels:function(){this.tickMoments=this.ticks,this.ticks=this.ticks.map(this.tickFormatFunction,this)},getPixelForValue:function(t,e,i,a){var o=t&&t.isValid&&t.isValid()?t:this.getLabelMoment(i,e);if(o){var s=o.diff(this.firstTick,this.tickUnit,!0),n=s/this.scaleSizeInUnits;if(this.isHorizontal()){var r=this.width-(this.paddingLeft+this.paddingRight),h=(r/Math.max(this.ticks.length-1,1),r*n+this.paddingLeft);return this.left+Math.round(h)}var l=this.height-(this.paddingTop+this.paddingBottom),c=(l/Math.max(this.ticks.length-1,1),l*n+this.paddingTop);return this.top+Math.round(c)}},getPixelForTick:function(t,e){return this.getPixelForValue(this.tickMoments[t],null,null,e)},getValueForPixel:function(t){var e=this.isHorizontal()?this.width-(this.paddingLeft+this.paddingRight):this.height-(this.paddingTop+this.paddingBottom),i=(t-(this.isHorizontal()?this.left+this.paddingLeft:this.top+this.paddingTop))/e;return i*=this.scaleSizeInUnits,this.firstTick.clone().add(a.duration(i,this.tickUnit).asSeconds(),"seconds")},parseTime:function(t){return"string"==typeof this.options.time.parser?a(t,this.options.time.parser):"function"==typeof this.options.time.parser?this.options.time.parser(t):"function"==typeof t.getMonth||"number"==typeof t?a(t):t.isValid&&t.isValid()?t:"string"!=typeof this.options.time.format&&this.options.time.format.call?(console.warn("options.time.format is deprecated and replaced by options.time.parser. See http://nnnick.github.io/Chart.js/docs-v2/#scales-time-scale"),this.options.time.format(t)):a(t,this.options.time.format)}});t.scaleService.registerScaleType("time",s,o)}},{moment:1}]},{},[7]);
/*
 AngularJS v1.5.6
 (c) 2010-2016 Google, Inc. http://angularjs.org
 License: MIT
*/
(function(x,n){'use strict';function s(f,k){var e=!1,a=!1;this.ngClickOverrideEnabled=function(b){return n.isDefined(b)?(b&&!a&&(a=!0,t.$$moduleName="ngTouch",k.directive("ngClick",t),f.decorator("ngClickDirective",["$delegate",function(a){if(e)a.shift();else for(var b=a.length-1;0<=b;){if("ngTouch"===a[b].$$moduleName){a.splice(b,1);break}b--}return a}])),e=b,this):e};this.$get=function(){return{ngClickOverrideEnabled:function(){return e}}}}function v(f,k,e){p.directive(f,["$parse","$swipe",function(a,
b){return function(l,u,g){function h(c){if(!d)return!1;var a=Math.abs(c.y-d.y);c=(c.x-d.x)*k;return r&&75>a&&0<c&&30<c&&.3>a/c}var m=a(g[f]),d,r,c=["touch"];n.isDefined(g.ngSwipeDisableMouse)||c.push("mouse");b.bind(u,{start:function(c,a){d=c;r=!0},cancel:function(c){r=!1},end:function(c,d){h(c)&&l.$apply(function(){u.triggerHandler(e);m(l,{$event:d})})}},c)}}])}var p=n.module("ngTouch",[]);p.provider("$touch",s);s.$inject=["$provide","$compileProvider"];p.factory("$swipe",[function(){function f(a){a=
a.originalEvent||a;var b=a.touches&&a.touches.length?a.touches:[a];a=a.changedTouches&&a.changedTouches[0]||b[0];return{x:a.clientX,y:a.clientY}}function k(a,b){var l=[];n.forEach(a,function(a){(a=e[a][b])&&l.push(a)});return l.join(" ")}var e={mouse:{start:"mousedown",move:"mousemove",end:"mouseup"},touch:{start:"touchstart",move:"touchmove",end:"touchend",cancel:"touchcancel"}};return{bind:function(a,b,l){var e,g,h,m,d=!1;l=l||["mouse","touch"];a.on(k(l,"start"),function(c){h=f(c);d=!0;g=e=0;m=
h;b.start&&b.start(h,c)});var r=k(l,"cancel");if(r)a.on(r,function(c){d=!1;b.cancel&&b.cancel(c)});a.on(k(l,"move"),function(c){if(d&&h){var a=f(c);e+=Math.abs(a.x-m.x);g+=Math.abs(a.y-m.y);m=a;10>e&&10>g||(g>e?(d=!1,b.cancel&&b.cancel(c)):(c.preventDefault(),b.move&&b.move(a,c)))}});a.on(k(l,"end"),function(c){d&&(d=!1,b.end&&b.end(f(c),c))})}}}]);var t=["$parse","$timeout","$rootElement",function(f,k,e){function a(a,d,b){for(var c=0;c<a.length;c+=2){var g=a[c+1],e=b;if(25>Math.abs(a[c]-d)&&25>Math.abs(g-
e))return a.splice(c,c+2),!0}return!1}function b(b){if(!(2500<Date.now()-u)){var d=b.touches&&b.touches.length?b.touches:[b],e=d[0].clientX,d=d[0].clientY;if(!(1>e&&1>d||h&&h[0]===e&&h[1]===d)){h&&(h=null);var c=b.target;"label"===n.lowercase(c.nodeName||c[0]&&c[0].nodeName)&&(h=[e,d]);a(g,e,d)||(b.stopPropagation(),b.preventDefault(),b.target&&b.target.blur&&b.target.blur())}}}function l(a){a=a.touches&&a.touches.length?a.touches:[a];var b=a[0].clientX,e=a[0].clientY;g.push(b,e);k(function(){for(var a=
0;a<g.length;a+=2)if(g[a]==b&&g[a+1]==e){g.splice(a,a+2);break}},2500,!1)}var u,g,h;return function(h,d,k){var c=f(k.ngClick),w=!1,q,p,s,t;d.on("touchstart",function(a){w=!0;q=a.target?a.target:a.srcElement;3==q.nodeType&&(q=q.parentNode);d.addClass("ng-click-active");p=Date.now();a=a.originalEvent||a;a=(a.touches&&a.touches.length?a.touches:[a])[0];s=a.clientX;t=a.clientY});d.on("touchcancel",function(a){w=!1;d.removeClass("ng-click-active")});d.on("touchend",function(c){var h=Date.now()-p,f=c.originalEvent||
c,m=(f.changedTouches&&f.changedTouches.length?f.changedTouches:f.touches&&f.touches.length?f.touches:[f])[0],f=m.clientX,m=m.clientY,v=Math.sqrt(Math.pow(f-s,2)+Math.pow(m-t,2));w&&750>h&&12>v&&(g||(e[0].addEventListener("click",b,!0),e[0].addEventListener("touchstart",l,!0),g=[]),u=Date.now(),a(g,f,m),q&&q.blur(),n.isDefined(k.disabled)&&!1!==k.disabled||d.triggerHandler("click",[c]));w=!1;d.removeClass("ng-click-active")});d.onclick=function(a){};d.on("click",function(a,b){h.$apply(function(){c(h,
{$event:b||a})})});d.on("mousedown",function(a){d.addClass("ng-click-active")});d.on("mousemove mouseup",function(a){d.removeClass("ng-click-active")})}}];v("ngSwipeLeft",-1,"swipeleft");v("ngSwipeRight",1,"swiperight")})(window,window.angular);
//# sourceMappingURL=angular-touch.min.js.map

/**!
 * Sortable
 * @author	RubaXa   <trash@rubaxa.org>
 * @license MIT
 */


(function (factory) {
	"use strict";

	if (typeof define === "function" && define.amd) {
		define(factory);
	}
	else if (typeof module != "undefined" && typeof module.exports != "undefined") {
		module.exports = factory();
	}
	else if (typeof Package !== "undefined") {
		Sortable = factory();  // export for Meteor.js
	}
	else {
		/* jshint sub:true */
		window["Sortable"] = factory();
	}
})(function () {
	"use strict";

	var dragEl,
		parentEl,
		ghostEl,
		cloneEl,
		rootEl,
		nextEl,

		scrollEl,
		scrollParentEl,

		lastEl,
		lastCSS,
		lastParentCSS,

		oldIndex,
		newIndex,

		activeGroup,
		autoScroll = {},

		tapEvt,
		touchEvt,

		moved,

		/** @const */
		RSPACE = /\s+/g,

		expando = 'Sortable' + (new Date).getTime(),

		win = window,
		document = win.document,
		parseInt = win.parseInt,

		supportDraggable = !!('draggable' in document.createElement('div')),
		supportCssPointerEvents = (function (el) {
			el = document.createElement('x');
			el.style.cssText = 'pointer-events:auto';
			return el.style.pointerEvents === 'auto';
		})(),

		_silent = false,

		abs = Math.abs,
		slice = [].slice,

		touchDragOverListeners = [],

		_autoScroll = _throttle(function (/**Event*/evt, /**Object*/options, /**HTMLElement*/rootEl) {
			// Bug: https://bugzilla.mozilla.org/show_bug.cgi?id=505521
			if (rootEl && options.scroll) {
				var el,
					rect,
					sens = options.scrollSensitivity,
					speed = options.scrollSpeed,

					x = evt.clientX,
					y = evt.clientY,

					winWidth = window.innerWidth,
					winHeight = window.innerHeight,

					vx,
					vy
				;

				// Delect scrollEl
				if (scrollParentEl !== rootEl) {
					scrollEl = options.scroll;
					scrollParentEl = rootEl;

					if (scrollEl === true) {
						scrollEl = rootEl;

						do {
							if ((scrollEl.offsetWidth < scrollEl.scrollWidth) ||
								(scrollEl.offsetHeight < scrollEl.scrollHeight)
							) {
								break;
							}
							/* jshint boss:true */
						} while (scrollEl = scrollEl.parentNode);
					}
				}

				if (scrollEl) {
					el = scrollEl;
					rect = scrollEl.getBoundingClientRect();
					vx = (abs(rect.right - x) <= sens) - (abs(rect.left - x) <= sens);
					vy = (abs(rect.bottom - y) <= sens) - (abs(rect.top - y) <= sens);
				}


				if (!(vx || vy)) {
					vx = (winWidth - x <= sens) - (x <= sens);
					vy = (winHeight - y <= sens) - (y <= sens);

					/* jshint expr:true */
					(vx || vy) && (el = win);
				}


				if (autoScroll.vx !== vx || autoScroll.vy !== vy || autoScroll.el !== el) {
					autoScroll.el = el;
					autoScroll.vx = vx;
					autoScroll.vy = vy;

					clearInterval(autoScroll.pid);

					if (el) {
						autoScroll.pid = setInterval(function () {
							if (el === win) {
								win.scrollTo(win.pageXOffset + vx * speed, win.pageYOffset + vy * speed);
							} else {
								vy && (el.scrollTop += vy * speed);
								vx && (el.scrollLeft += vx * speed);
							}
						}, 24);
					}
				}
			}
		}, 30),

		_prepareGroup = function (options) {
			var group = options.group;

			if (!group || typeof group != 'object') {
				group = options.group = {name: group};
			}

			['pull', 'put'].forEach(function (key) {
				if (!(key in group)) {
					group[key] = true;
				}
			});

			options.groups = ' ' + group.name + (group.put.join ? ' ' + group.put.join(' ') : '') + ' ';
		}
	;



	/**
	 * @class  Sortable
	 * @param  {HTMLElement}  el
	 * @param  {Object}       [options]
	 */
	function Sortable(el, options) {
		if (!(el && el.nodeType && el.nodeType === 1)) {
			throw 'Sortable: `el` must be HTMLElement, and not ' + {}.toString.call(el);
		}

		this.el = el; // root element
		this.options = options = _extend({}, options);


		// Export instance
		el[expando] = this;


		// Default options
		var defaults = {
			group: Math.random(),
			sort: true,
			disabled: false,
			store: null,
			handle: null,
			scroll: true,
			scrollSensitivity: 30,
			scrollSpeed: 10,
			draggable: /[uo]l/i.test(el.nodeName) ? 'li' : '>*',
			ghostClass: 'sortable-ghost',
			chosenClass: 'sortable-chosen',
			ignore: 'a, img',
			filter: null,
			animation: 0,
			setData: function (dataTransfer, dragEl) {
				dataTransfer.setData('Text', dragEl.textContent);
			},
			dropBubble: false,
			dragoverBubble: false,
			dataIdAttr: 'data-id',
			delay: 0,
			forceFallback: false,
			fallbackClass: 'sortable-fallback',
			fallbackOnBody: false
		};


		// Set default options
		for (var name in defaults) {
			!(name in options) && (options[name] = defaults[name]);
		}

		_prepareGroup(options);

		// Bind all private methods
		for (var fn in this) {
			if (fn.charAt(0) === '_') {
				this[fn] = this[fn].bind(this);
			}
		}

		// Setup drag mode
		this.nativeDraggable = options.forceFallback ? false : supportDraggable;

		// Bind events
		_on(el, 'mousedown', this._onTapStart);
		_on(el, 'touchstart', this._onTapStart);

		if (this.nativeDraggable) {
			_on(el, 'dragover', this);
			_on(el, 'dragenter', this);
		}

		touchDragOverListeners.push(this._onDragOver);

		// Restore sorting
		options.store && this.sort(options.store.get(this));
	}


	Sortable.prototype = /** @lends Sortable.prototype */ {
		constructor: Sortable,

		_onTapStart: function (/** Event|TouchEvent */evt) {
			var _this = this,
				el = this.el,
				options = this.options,
				type = evt.type,
				touch = evt.touches && evt.touches[0],
				target = (touch || evt).target,
				originalTarget = target,
				filter = options.filter;


			if (type === 'mousedown' && evt.button !== 0 || options.disabled) {
				return; // only left button or enabled
			}

			target = _closest(target, options.draggable, el);

			if (!target) {
				return;
			}

			// get the index of the dragged element within its parent
			oldIndex = _index(target);

			// Check filter
			if (typeof filter === 'function') {
				if (filter.call(this, evt, target, this)) {
					_dispatchEvent(_this, originalTarget, 'filter', target, el, oldIndex);
					evt.preventDefault();
					return; // cancel dnd
				}
			}
			else if (filter) {
				filter = filter.split(',').some(function (criteria) {
					criteria = _closest(originalTarget, criteria.trim(), el);

					if (criteria) {
						_dispatchEvent(_this, criteria, 'filter', target, el, oldIndex);
						return true;
					}
				});

				if (filter) {
					evt.preventDefault();
					return; // cancel dnd
				}
			}


			if (options.handle && !_closest(originalTarget, options.handle, el)) {
				return;
			}


			// Prepare `dragstart`
			this._prepareDragStart(evt, touch, target);
		},

		_prepareDragStart: function (/** Event */evt, /** Touch */touch, /** HTMLElement */target) {
			var _this = this,
				el = _this.el,
				options = _this.options,
				ownerDocument = el.ownerDocument,
				dragStartFn;

			if (target && !dragEl && (target.parentNode === el)) {
				tapEvt = evt;

				rootEl = el;
				dragEl = target;
				parentEl = dragEl.parentNode;
				nextEl = dragEl.nextSibling;
				activeGroup = options.group;

				dragStartFn = function () {
					// Delayed drag has been triggered
					// we can re-enable the events: touchmove/mousemove
					_this._disableDelayedDrag();

					// Make the element draggable
					dragEl.draggable = true;

					// Chosen item
					_toggleClass(dragEl, _this.options.chosenClass, true);

					// Bind the events: dragstart/dragend
					_this._triggerDragStart(touch);
				};

				// Disable "draggable"
				options.ignore.split(',').forEach(function (criteria) {
					_find(dragEl, criteria.trim(), _disableDraggable);
				});

				_on(ownerDocument, 'mouseup', _this._onDrop);
				_on(ownerDocument, 'touchend', _this._onDrop);
				_on(ownerDocument, 'touchcancel', _this._onDrop);

				if (options.delay) {
					// If the user moves the pointer or let go the click or touch
					// before the delay has been reached:
					// disable the delayed drag
					_on(ownerDocument, 'mouseup', _this._disableDelayedDrag);
					_on(ownerDocument, 'touchend', _this._disableDelayedDrag);
					_on(ownerDocument, 'touchcancel', _this._disableDelayedDrag);
					_on(ownerDocument, 'mousemove', _this._disableDelayedDrag);
					_on(ownerDocument, 'touchmove', _this._disableDelayedDrag);

					_this._dragStartTimer = setTimeout(dragStartFn, options.delay);
				} else {
					dragStartFn();
				}
			}
		},

		_disableDelayedDrag: function () {
			var ownerDocument = this.el.ownerDocument;

			clearTimeout(this._dragStartTimer);
			_off(ownerDocument, 'mouseup', this._disableDelayedDrag);
			_off(ownerDocument, 'touchend', this._disableDelayedDrag);
			_off(ownerDocument, 'touchcancel', this._disableDelayedDrag);
			_off(ownerDocument, 'mousemove', this._disableDelayedDrag);
			_off(ownerDocument, 'touchmove', this._disableDelayedDrag);
		},

		_triggerDragStart: function (/** Touch */touch) {
			if (touch) {
				// Touch device support
				tapEvt = {
					target: dragEl,
					clientX: touch.clientX,
					clientY: touch.clientY
				};

				this._onDragStart(tapEvt, 'touch');
			}
			else if (!this.nativeDraggable) {
				this._onDragStart(tapEvt, true);
			}
			else {
				_on(dragEl, 'dragend', this);
				_on(rootEl, 'dragstart', this._onDragStart);
			}

			try {
				if (document.selection) {
					document.selection.empty();
				} else {
					window.getSelection().removeAllRanges();
				}
			} catch (err) {
			}
		},

		_dragStarted: function () {
			if (rootEl && dragEl) {
				// Apply effect
				_toggleClass(dragEl, this.options.ghostClass, true);

				Sortable.active = this;

				// Drag start event
				_dispatchEvent(this, rootEl, 'start', dragEl, rootEl, oldIndex);
			}
		},

		_emulateDragOver: function () {
			if (touchEvt) {
				if (this._lastX === touchEvt.clientX && this._lastY === touchEvt.clientY) {
					return;
				}

				this._lastX = touchEvt.clientX;
				this._lastY = touchEvt.clientY;

				if (!supportCssPointerEvents) {
					_css(ghostEl, 'display', 'none');
				}

				var target = document.elementFromPoint(touchEvt.clientX, touchEvt.clientY),
					parent = target,
					groupName = ' ' + this.options.group.name + '',
					i = touchDragOverListeners.length;

				if (parent) {
					do {
						if (parent[expando] && parent[expando].options.groups.indexOf(groupName) > -1) {
							while (i--) {
								touchDragOverListeners[i]({
									clientX: touchEvt.clientX,
									clientY: touchEvt.clientY,
									target: target,
									rootEl: parent
								});
							}

							break;
						}

						target = parent; // store last element
					}
					/* jshint boss:true */
					while (parent = parent.parentNode);
				}

				if (!supportCssPointerEvents) {
					_css(ghostEl, 'display', '');
				}
			}
		},


		_onTouchMove: function (/**TouchEvent*/evt) {
			if (tapEvt) {
				// only set the status to dragging, when we are actually dragging
				if (!Sortable.active) {
					this._dragStarted();
				}

				// as well as creating the ghost element on the document body
				this._appendGhost();

				var touch = evt.touches ? evt.touches[0] : evt,
					dx = touch.clientX - tapEvt.clientX,
					dy = touch.clientY - tapEvt.clientY,
					translate3d = evt.touches ? 'translate3d(' + dx + 'px,' + dy + 'px,0)' : 'translate(' + dx + 'px,' + dy + 'px)';

				moved = true;
				touchEvt = touch;

				_css(ghostEl, 'webkitTransform', translate3d);
				_css(ghostEl, 'mozTransform', translate3d);
				_css(ghostEl, 'msTransform', translate3d);
				_css(ghostEl, 'transform', translate3d);

				evt.preventDefault();
			}
		},

		_appendGhost: function () {
			if (!ghostEl) {
				var rect = dragEl.getBoundingClientRect(),
					css = _css(dragEl),
					options = this.options,
					ghostRect;

				ghostEl = dragEl.cloneNode(true);

				_toggleClass(ghostEl, options.ghostClass, false);
				_toggleClass(ghostEl, options.fallbackClass, true);

				_css(ghostEl, 'top', rect.top - parseInt(css.marginTop, 10));
				_css(ghostEl, 'left', rect.left - parseInt(css.marginLeft, 10));
				_css(ghostEl, 'width', rect.width);
				_css(ghostEl, 'height', rect.height);
				_css(ghostEl, 'opacity', '0.8');
				_css(ghostEl, 'position', 'fixed');
				_css(ghostEl, 'zIndex', '100000');
				_css(ghostEl, 'pointerEvents', 'none');

				options.fallbackOnBody && document.body.appendChild(ghostEl) || rootEl.appendChild(ghostEl);

				// Fixing dimensions.
				ghostRect = ghostEl.getBoundingClientRect();
				_css(ghostEl, 'width', rect.width * 2 - ghostRect.width);
				_css(ghostEl, 'height', rect.height * 2 - ghostRect.height);
			}
		},

		_onDragStart: function (/**Event*/evt, /**boolean*/useFallback) {
			var dataTransfer = evt.dataTransfer,
				options = this.options;

			this._offUpEvents();

			if (activeGroup.pull == 'clone') {
				cloneEl = dragEl.cloneNode(true);
				_css(cloneEl, 'display', 'none');
				rootEl.insertBefore(cloneEl, dragEl);
			}

			if (useFallback) {

				if (useFallback === 'touch') {
					// Bind touch events
					_on(document, 'touchmove', this._onTouchMove);
					_on(document, 'touchend', this._onDrop);
					_on(document, 'touchcancel', this._onDrop);
				} else {
					// Old brwoser
					_on(document, 'mousemove', this._onTouchMove);
					_on(document, 'mouseup', this._onDrop);
				}

				this._loopId = setInterval(this._emulateDragOver, 50);
			}
			else {
				if (dataTransfer) {
					dataTransfer.effectAllowed = 'move';
					options.setData && options.setData.call(this, dataTransfer, dragEl);
				}

				_on(document, 'drop', this);
				setTimeout(this._dragStarted, 0);
			}
		},

		_onDragOver: function (/**Event*/evt) {
			var el = this.el,
				target,
				dragRect,
				revert,
				options = this.options,
				group = options.group,
				groupPut = group.put,
				isOwner = (activeGroup === group),
				canSort = options.sort;

			if (evt.preventDefault !== void 0) {
				evt.preventDefault();
				!options.dragoverBubble && evt.stopPropagation();
			}

			moved = true;

			if (activeGroup && !options.disabled &&
				(isOwner
					? canSort || (revert = !rootEl.contains(dragEl)) // Reverting item into the original list
					: activeGroup.pull && groupPut && (
						(activeGroup.name === group.name) || // by Name
						(groupPut.indexOf && ~groupPut.indexOf(activeGroup.name)) // by Array
					)
				) &&
				(evt.rootEl === void 0 || evt.rootEl === this.el) // touch fallback
			) {
				// Smart auto-scrolling
				_autoScroll(evt, options, this.el);

				if (_silent) {
					return;
				}

				target = _closest(evt.target, options.draggable, el);
				dragRect = dragEl.getBoundingClientRect();

				if (revert) {
					_cloneHide(true);

					if (cloneEl || nextEl) {
						rootEl.insertBefore(dragEl, cloneEl || nextEl);
					}
					else if (!canSort) {
						rootEl.appendChild(dragEl);
					}

					return;
				}


				if ((el.children.length === 0) || (el.children[0] === ghostEl) ||
					(el === evt.target) && (target = _ghostIsLast(el, evt))
				) {

					if (target) {
						if (target.animated) {
							return;
						}

						targetRect = target.getBoundingClientRect();
					}

					_cloneHide(isOwner);

					if (_onMove(rootEl, el, dragEl, dragRect, target, targetRect) !== false) {
						if (!dragEl.contains(el)) {
							el.appendChild(dragEl);
							parentEl = el; // actualization
						}

						this._animate(dragRect, dragEl);
						target && this._animate(targetRect, target);
					}
				}
				else if (target && !target.animated && target !== dragEl && (target.parentNode[expando] !== void 0)) {
					if (lastEl !== target) {
						lastEl = target;
						lastCSS = _css(target);
						lastParentCSS = _css(target.parentNode);
					}


					var targetRect = target.getBoundingClientRect(),
						width = targetRect.right - targetRect.left,
						height = targetRect.bottom - targetRect.top,
						floating = /left|right|inline/.test(lastCSS.cssFloat + lastCSS.display)
							|| (lastParentCSS.display == 'flex' && lastParentCSS['flex-direction'].indexOf('row') === 0),
						isWide = (target.offsetWidth > dragEl.offsetWidth),
						isLong = (target.offsetHeight > dragEl.offsetHeight),
						halfway = (floating ? (evt.clientX - targetRect.left) / width : (evt.clientY - targetRect.top) / height) > 0.5,
						nextSibling = target.nextElementSibling,
						moveVector = _onMove(rootEl, el, dragEl, dragRect, target, targetRect),
						after
					;

					if (moveVector !== false) {
						_silent = true;
						setTimeout(_unsilent, 30);

						_cloneHide(isOwner);

						if (moveVector === 1 || moveVector === -1) {
							after = (moveVector === 1);
						}
						else if (floating) {
							var elTop = dragEl.offsetTop,
								tgTop = target.offsetTop;

							if (elTop === tgTop) {
								after = (target.previousElementSibling === dragEl) && !isWide || halfway && isWide;
							} else {
								after = tgTop > elTop;
							}
						} else {
							after = (nextSibling !== dragEl) && !isLong || halfway && isLong;
						}

						if (!dragEl.contains(el)) {
							if (after && !nextSibling) {
								el.appendChild(dragEl);
							} else {
								target.parentNode.insertBefore(dragEl, after ? nextSibling : target);
							}
						}

						parentEl = dragEl.parentNode; // actualization

						this._animate(dragRect, dragEl);
						this._animate(targetRect, target);
					}
				}
			}
		},

		_animate: function (prevRect, target) {
			var ms = this.options.animation;

			if (ms) {
				var currentRect = target.getBoundingClientRect();

				_css(target, 'transition', 'none');
				_css(target, 'transform', 'translate3d('
					+ (prevRect.left - currentRect.left) + 'px,'
					+ (prevRect.top - currentRect.top) + 'px,0)'
				);

				target.offsetWidth; // repaint

				_css(target, 'transition', 'all ' + ms + 'ms');
				_css(target, 'transform', 'translate3d(0,0,0)');

				clearTimeout(target.animated);
				target.animated = setTimeout(function () {
					_css(target, 'transition', '');
					_css(target, 'transform', '');
					target.animated = false;
				}, ms);
			}
		},

		_offUpEvents: function () {
			var ownerDocument = this.el.ownerDocument;

			_off(document, 'touchmove', this._onTouchMove);
			_off(ownerDocument, 'mouseup', this._onDrop);
			_off(ownerDocument, 'touchend', this._onDrop);
			_off(ownerDocument, 'touchcancel', this._onDrop);
		},

		_onDrop: function (/**Event*/evt) {
			var el = this.el,
				options = this.options;

			clearInterval(this._loopId);
			clearInterval(autoScroll.pid);
			clearTimeout(this._dragStartTimer);

			// Unbind events
			_off(document, 'mousemove', this._onTouchMove);

			if (this.nativeDraggable) {
				_off(document, 'drop', this);
				_off(el, 'dragstart', this._onDragStart);
			}

			this._offUpEvents();

			if (evt) {
				if (moved) {
					evt.preventDefault();
					!options.dropBubble && evt.stopPropagation();
				}

				ghostEl && ghostEl.parentNode.removeChild(ghostEl);

				if (dragEl) {
					if (this.nativeDraggable) {
						_off(dragEl, 'dragend', this);
					}

					_disableDraggable(dragEl);

					// Remove class's
					_toggleClass(dragEl, this.options.ghostClass, false);
					_toggleClass(dragEl, this.options.chosenClass, false);

					if (rootEl !== parentEl) {
						newIndex = _index(dragEl);

						if (newIndex >= 0) {
							// drag from one list and drop into another
							_dispatchEvent(null, parentEl, 'sort', dragEl, rootEl, oldIndex, newIndex);
							_dispatchEvent(this, rootEl, 'sort', dragEl, rootEl, oldIndex, newIndex);

							// Add event
							_dispatchEvent(null, parentEl, 'add', dragEl, rootEl, oldIndex, newIndex);

							// Remove event
							_dispatchEvent(this, rootEl, 'remove', dragEl, rootEl, oldIndex, newIndex);
						}
					}
					else {
						// Remove clone
						cloneEl && cloneEl.parentNode.removeChild(cloneEl);

						if (dragEl.nextSibling !== nextEl) {
							// Get the index of the dragged element within its parent
							newIndex = _index(dragEl);

							if (newIndex >= 0) {
								// drag & drop within the same list
								_dispatchEvent(this, rootEl, 'update', dragEl, rootEl, oldIndex, newIndex);
								_dispatchEvent(this, rootEl, 'sort', dragEl, rootEl, oldIndex, newIndex);
							}
						}
					}

					if (Sortable.active) {
						if (newIndex === null || newIndex === -1) {
							newIndex = oldIndex;
						}

						_dispatchEvent(this, rootEl, 'end', dragEl, rootEl, oldIndex, newIndex);

						// Save sorting
						this.save();
					}
				}

				// Nulling
				rootEl =
				dragEl =
				parentEl =
				ghostEl =
				nextEl =
				cloneEl =

				scrollEl =
				scrollParentEl =

				tapEvt =
				touchEvt =

				moved =
				newIndex =

				lastEl =
				lastCSS =

				activeGroup =
				Sortable.active = null;
			}
		},


		handleEvent: function (/**Event*/evt) {
			var type = evt.type;

			if (type === 'dragover' || type === 'dragenter') {
				if (dragEl) {
					this._onDragOver(evt);
					_globalDragOver(evt);
				}
			}
			else if (type === 'drop' || type === 'dragend') {
				this._onDrop(evt);
			}
		},


		/**
		 * Serializes the item into an array of string.
		 * @returns {String[]}
		 */
		toArray: function () {
			var order = [],
				el,
				children = this.el.children,
				i = 0,
				n = children.length,
				options = this.options;

			for (; i < n; i++) {
				el = children[i];
				if (_closest(el, options.draggable, this.el)) {
					order.push(el.getAttribute(options.dataIdAttr) || _generateId(el));
				}
			}

			return order;
		},


		/**
		 * Sorts the elements according to the array.
		 * @param  {String[]}  order  order of the items
		 */
		sort: function (order) {
			var items = {}, rootEl = this.el;

			this.toArray().forEach(function (id, i) {
				var el = rootEl.children[i];

				if (_closest(el, this.options.draggable, rootEl)) {
					items[id] = el;
				}
			}, this);

			order.forEach(function (id) {
				if (items[id]) {
					rootEl.removeChild(items[id]);
					rootEl.appendChild(items[id]);
				}
			});
		},


		/**
		 * Save the current sorting
		 */
		save: function () {
			var store = this.options.store;
			store && store.set(this);
		},


		/**
		 * For each element in the set, get the first element that matches the selector by testing the element itself and traversing up through its ancestors in the DOM tree.
		 * @param   {HTMLElement}  el
		 * @param   {String}       [selector]  default: `options.draggable`
		 * @returns {HTMLElement|null}
		 */
		closest: function (el, selector) {
			return _closest(el, selector || this.options.draggable, this.el);
		},


		/**
		 * Set/get option
		 * @param   {string} name
		 * @param   {*}      [value]
		 * @returns {*}
		 */
		option: function (name, value) {
			var options = this.options;

			if (value === void 0) {
				return options[name];
			} else {
				options[name] = value;

				if (name === 'group') {
					_prepareGroup(options);
				}
			}
		},


		/**
		 * Destroy
		 */
		destroy: function () {
			var el = this.el;

			el[expando] = null;

			_off(el, 'mousedown', this._onTapStart);
			_off(el, 'touchstart', this._onTapStart);

			if (this.nativeDraggable) {
				_off(el, 'dragover', this);
				_off(el, 'dragenter', this);
			}

			// Remove draggable attributes
			Array.prototype.forEach.call(el.querySelectorAll('[draggable]'), function (el) {
				el.removeAttribute('draggable');
			});

			touchDragOverListeners.splice(touchDragOverListeners.indexOf(this._onDragOver), 1);

			this._onDrop();

			this.el = el = null;
		}
	};


	function _cloneHide(state) {
		if (cloneEl && (cloneEl.state !== state)) {
			_css(cloneEl, 'display', state ? 'none' : '');
			!state && cloneEl.state && rootEl.insertBefore(cloneEl, dragEl);
			cloneEl.state = state;
		}
	}


	function _closest(/**HTMLElement*/el, /**String*/selector, /**HTMLElement*/ctx) {
		if (el) {
			ctx = ctx || document;
			selector = selector.split('.');

			var tag = selector.shift().toUpperCase(),
				re = new RegExp('\\s(' + selector.join('|') + ')(?=\\s)', 'g');

			do {
				if (
					(tag === '>*' && el.parentNode === ctx) || (
						(tag === '' || el.nodeName.toUpperCase() == tag) &&
						(!selector.length || ((' ' + el.className + ' ').match(re) || []).length == selector.length)
					)
				) {
					return el;
				}
			}
			while (el !== ctx && (el = el.parentNode));
		}

		return null;
	}


	function _globalDragOver(/**Event*/evt) {
		if (evt.dataTransfer) {
			evt.dataTransfer.dropEffect = 'move';
		}
		evt.preventDefault();
	}


	function _on(el, event, fn) {
		el.addEventListener(event, fn, false);
	}


	function _off(el, event, fn) {
		el.removeEventListener(event, fn, false);
	}


	function _toggleClass(el, name, state) {
		if (el) {
			if (el.classList) {
				el.classList[state ? 'add' : 'remove'](name);
			}
			else {
				var className = (' ' + el.className + ' ').replace(RSPACE, ' ').replace(' ' + name + ' ', ' ');
				el.className = (className + (state ? ' ' + name : '')).replace(RSPACE, ' ');
			}
		}
	}


	function _css(el, prop, val) {
		var style = el && el.style;

		if (style) {
			if (val === void 0) {
				if (document.defaultView && document.defaultView.getComputedStyle) {
					val = document.defaultView.getComputedStyle(el, '');
				}
				else if (el.currentStyle) {
					val = el.currentStyle;
				}

				return prop === void 0 ? val : val[prop];
			}
			else {
				if (!(prop in style)) {
					prop = '-webkit-' + prop;
				}

				style[prop] = val + (typeof val === 'string' ? '' : 'px');
			}
		}
	}


	function _find(ctx, tagName, iterator) {
		if (ctx) {
			var list = ctx.getElementsByTagName(tagName), i = 0, n = list.length;

			if (iterator) {
				for (; i < n; i++) {
					iterator(list[i], i);
				}
			}

			return list;
		}

		return [];
	}



	function _dispatchEvent(sortable, rootEl, name, targetEl, fromEl, startIndex, newIndex) {
		var evt = document.createEvent('Event'),
			options = (sortable || rootEl[expando]).options,
			onName = 'on' + name.charAt(0).toUpperCase() + name.substr(1);

		evt.initEvent(name, true, true);

		evt.to = rootEl;
		evt.from = fromEl || rootEl;
		evt.item = targetEl || rootEl;
		evt.clone = cloneEl;

		evt.oldIndex = startIndex;
		evt.newIndex = newIndex;

		rootEl.dispatchEvent(evt);

		if (options[onName]) {
			options[onName].call(sortable, evt);
		}
	}


	function _onMove(fromEl, toEl, dragEl, dragRect, targetEl, targetRect) {
		var evt,
			sortable = fromEl[expando],
			onMoveFn = sortable.options.onMove,
			retVal;

		evt = document.createEvent('Event');
		evt.initEvent('move', true, true);

		evt.to = toEl;
		evt.from = fromEl;
		evt.dragged = dragEl;
		evt.draggedRect = dragRect;
		evt.related = targetEl || toEl;
		evt.relatedRect = targetRect || toEl.getBoundingClientRect();

		fromEl.dispatchEvent(evt);

		if (onMoveFn) {
			retVal = onMoveFn.call(sortable, evt);
		}

		return retVal;
	}


	function _disableDraggable(el) {
		el.draggable = false;
	}


	function _unsilent() {
		_silent = false;
	}


	/** @returns {HTMLElement|false} */
	function _ghostIsLast(el, evt) {
		var lastEl = el.lastElementChild,
				rect = lastEl.getBoundingClientRect();

		return ((evt.clientY - (rect.top + rect.height) > 5) || (evt.clientX - (rect.right + rect.width) > 5)) && lastEl; // min delta
	}


	/**
	 * Generate id
	 * @param   {HTMLElement} el
	 * @returns {String}
	 * @private
	 */
	function _generateId(el) {
		var str = el.tagName + el.className + el.src + el.href + el.textContent,
			i = str.length,
			sum = 0;

		while (i--) {
			sum += str.charCodeAt(i);
		}

		return sum.toString(36);
	}

	/**
	 * Returns the index of an element within its parent
	 * @param  {HTMLElement} el
	 * @return {number}
	 */
	function _index(el) {
		var index = 0;

		if (!el || !el.parentNode) {
			return -1;
		}

		while (el && (el = el.previousElementSibling)) {
			if (el.nodeName.toUpperCase() !== 'TEMPLATE') {
				index++;
			}
		}

		return index;
	}

	function _throttle(callback, ms) {
		var args, _this;

		return function () {
			if (args === void 0) {
				args = arguments;
				_this = this;

				setTimeout(function () {
					if (args.length === 1) {
						callback.call(_this, args[0]);
					} else {
						callback.apply(_this, args);
					}

					args = void 0;
				}, ms);
			}
		};
	}

	function _extend(dst, src) {
		if (dst && src) {
			for (var key in src) {
				if (src.hasOwnProperty(key)) {
					dst[key] = src[key];
				}
			}
		}

		return dst;
	}


	// Export utils
	Sortable.utils = {
		on: _on,
		off: _off,
		css: _css,
		find: _find,
		is: function (el, selector) {
			return !!_closest(el, selector, el);
		},
		extend: _extend,
		throttle: _throttle,
		closest: _closest,
		toggleClass: _toggleClass,
		index: _index
	};


	/**
	 * Create sortable instance
	 * @param {HTMLElement}  el
	 * @param {Object}      [options]
	 */
	Sortable.create = function (el, options) {
		return new Sortable(el, options);
	};


	// Export
	Sortable.version = '1.4.2';
	return Sortable;
});

/**
 * @author RubaXa <trash@rubaxa.org>
 * @licence MIT
 */
(function (factory) {
	'use strict';

	if (typeof define === 'function' && define.amd) {
		define(['angular', './Sortable'], factory);
	}
	else if (typeof require === 'function' && typeof exports === 'object' && typeof module === 'object') {
		require('angular');
		factory(angular, require('./Sortable'));
		module.exports = 'ng-sortable';
	}
	else if (window.angular && window.Sortable) {
		factory(angular, Sortable);
	}
})(function (angular, Sortable) {
	'use strict';


	/**
	 * @typedef   {Object}        ngSortEvent
	 * @property  {*}             model      List item
	 * @property  {Object|Array}  models     List of items
	 * @property  {number}        oldIndex   before sort
	 * @property  {number}        newIndex   after sort
	 */

	var expando = 'Sortable:ng-sortable';

	angular.module('ng-sortable', [])
		.constant('ngSortableVersion', '0.4.0')
		.constant('ngSortableConfig', {})
		.directive('ngSortable', ['$parse', 'ngSortableConfig', function ($parse, ngSortableConfig) {
			var removed,
				nextSibling,
				getSourceFactory = function getSourceFactory(el, scope) {
					var ngRepeat = [].filter.call(el.childNodes, function (node) {
						return (
								(node.nodeType === 8) &&
								(node.nodeValue.indexOf('ngRepeat:') !== -1)
							);
					})[0];

					if (!ngRepeat) {
						// Without ng-repeat
						return function () {
							return null;
						};
					}

					// tests: http://jsbin.com/kosubutilo/1/edit?js,output
					ngRepeat = ngRepeat.nodeValue.match(/ngRepeat:\s*(?:\(.*?,\s*)?([^\s)]+)[\s)]+in\s+([^\s|]+)/);

					var itemsExpr = $parse(ngRepeat[2]);

					return function () {
						return itemsExpr(scope.$parent) || [];
					};
				};


			// Export
			return {
				restrict: 'AC',
				scope: { ngSortable: "=?" },
				link: function (scope, $el) {
					var el = $el[0],
						options = angular.extend(scope.ngSortable || {}, ngSortableConfig),
						watchers = [],
						getSource = getSourceFactory(el, scope),
						sortable
					;

					el[expando] = getSource;

					function _emitEvent(/**Event*/evt, /*Mixed*/item) {
						var name = 'on' + evt.type.charAt(0).toUpperCase() + evt.type.substr(1);
						var source = getSource();

						/* jshint expr:true */
						options[name] && options[name]({
							model: item || source[evt.newIndex],
							models: source,
							oldIndex: evt.oldIndex,
							newIndex: evt.newIndex
						});
					}


					function _sync(/**Event*/evt) {
						var items = getSource();

						if (!items) {
							// Without ng-repeat
							return;
						}

						var oldIndex = evt.oldIndex,
							newIndex = evt.newIndex;

						if (el !== evt.from) {
							var prevItems = evt.from[expando]();

							removed = prevItems[oldIndex];

							if (evt.clone) {
								removed = angular.copy(removed);
								prevItems.splice(Sortable.utils.index(evt.clone), 0, prevItems.splice(oldIndex, 1)[0]);
								evt.from.removeChild(evt.clone);
							}
							else {
								prevItems.splice(oldIndex, 1);
							}

							items.splice(newIndex, 0, removed);

							evt.from.insertBefore(evt.item, nextSibling); // revert element
						}
						else {
							items.splice(newIndex, 0, items.splice(oldIndex, 1)[0]);
						}

						scope.$apply();
					}


					sortable = Sortable.create(el, Object.keys(options).reduce(function (opts, name) {
						opts[name] = opts[name] || options[name];
						return opts;
					}, {
						onStart: function (/**Event*/evt) {
							nextSibling = evt.item.nextSibling;
							_emitEvent(evt);
							scope.$apply();
						},
						onEnd: function (/**Event*/evt) {
							_emitEvent(evt, removed);
							scope.$apply();
						},
						onAdd: function (/**Event*/evt) {
							_sync(evt);
							_emitEvent(evt, removed);
							scope.$apply();
						},
						onUpdate: function (/**Event*/evt) {
							_sync(evt);
							_emitEvent(evt);
						},
						onRemove: function (/**Event*/evt) {
							_emitEvent(evt, removed);
						},
						onSort: function (/**Event*/evt) {
							_emitEvent(evt);
						}
					}));

					$el.on('$destroy', function () {
						angular.forEach(watchers, function (/** Function */unwatch) {
							unwatch();
						});

						sortable.destroy();

						el[expando] = null;
						el = null;
						watchers = null;
						sortable = null;
						nextSibling = null;
					});

					angular.forEach([
						'sort', 'disabled', 'draggable', 'handle', 'animation', 'group', 'ghostClass', 'filter',
						'onStart', 'onEnd', 'onAdd', 'onUpdate', 'onRemove', 'onSort'
					], function (name) {
						watchers.push(scope.$watch('ngSortable.' + name, function (value) {
							if (value !== void 0) {
								options[name] = value;

								if (!/^on[A-Z]/.test(name)) {
									sortable.option(name, value);
								}
							}
						}));
					});
				}
			};
		}]);
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkNoYXJ0Lm1pbi5qcyIsImFuZ3VsYXItdG91Y2gubWluLmpzIiwic29ydGFibGUuanMiLCJuZy1zb3J0YWJsZS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNkQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNkQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDanVDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoidmVuZG9yLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyohXG4gKiBDaGFydC5qc1xuICogaHR0cDovL2NoYXJ0anMub3JnL1xuICogVmVyc2lvbjogMi4xLjNcbiAqXG4gKiBDb3B5cmlnaHQgMjAxNiBOaWNrIERvd25pZVxuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlXG4gKiBodHRwczovL2dpdGh1Yi5jb20vY2hhcnRqcy9DaGFydC5qcy9ibG9iL21hc3Rlci9MSUNFTlNFLm1kXG4gKi9cbiFmdW5jdGlvbiB0KGUsaSxhKXtmdW5jdGlvbiBvKG4scil7aWYoIWlbbl0pe2lmKCFlW25dKXt2YXIgaD1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFyJiZoKXJldHVybiBoKG4sITApO2lmKHMpcmV0dXJuIHMobiwhMCk7dmFyIGw9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIituK1wiJ1wiKTt0aHJvdyBsLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsbH12YXIgYz1pW25dPXtleHBvcnRzOnt9fTtlW25dWzBdLmNhbGwoYy5leHBvcnRzLGZ1bmN0aW9uKHQpe3ZhciBpPWVbbl1bMV1bdF07cmV0dXJuIG8oaT9pOnQpfSxjLGMuZXhwb3J0cyx0LGUsaSxhKX1yZXR1cm4gaVtuXS5leHBvcnRzfWZvcih2YXIgcz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLG49MDtuPGEubGVuZ3RoO24rKylvKGFbbl0pO3JldHVybiBvfSh7MTpbZnVuY3Rpb24odCxlLGkpe30se31dLDI6W2Z1bmN0aW9uKHQsZSxpKXtmdW5jdGlvbiBhKHQpe2lmKHQpe3ZhciBlPS9eIyhbYS1mQS1GMC05XXszfSkkLyxpPS9eIyhbYS1mQS1GMC05XXs2fSkkLyxhPS9ecmdiYT9cXChcXHMqKFsrLV0/XFxkKylcXHMqLFxccyooWystXT9cXGQrKVxccyosXFxzKihbKy1dP1xcZCspXFxzKig/OixcXHMqKFsrLV0/W1xcZFxcLl0rKVxccyopP1xcKSQvLG89L15yZ2JhP1xcKFxccyooWystXT9bXFxkXFwuXSspXFwlXFxzKixcXHMqKFsrLV0/W1xcZFxcLl0rKVxcJVxccyosXFxzKihbKy1dP1tcXGRcXC5dKylcXCVcXHMqKD86LFxccyooWystXT9bXFxkXFwuXSspXFxzKik/XFwpJC8scz0vKFxcdyspLyxuPVswLDAsMF0scj0xLGg9dC5tYXRjaChlKTtpZihoKXtoPWhbMV07Zm9yKHZhciBsPTA7bDxuLmxlbmd0aDtsKyspbltsXT1wYXJzZUludChoW2xdK2hbbF0sMTYpfWVsc2UgaWYoaD10Lm1hdGNoKGkpKXtoPWhbMV07Zm9yKHZhciBsPTA7bDxuLmxlbmd0aDtsKyspbltsXT1wYXJzZUludChoLnNsaWNlKDIqbCwyKmwrMiksMTYpfWVsc2UgaWYoaD10Lm1hdGNoKGEpKXtmb3IodmFyIGw9MDtsPG4ubGVuZ3RoO2wrKyluW2xdPXBhcnNlSW50KGhbbCsxXSk7cj1wYXJzZUZsb2F0KGhbNF0pfWVsc2UgaWYoaD10Lm1hdGNoKG8pKXtmb3IodmFyIGw9MDtsPG4ubGVuZ3RoO2wrKyluW2xdPU1hdGgucm91bmQoMi41NSpwYXJzZUZsb2F0KGhbbCsxXSkpO3I9cGFyc2VGbG9hdChoWzRdKX1lbHNlIGlmKGg9dC5tYXRjaChzKSl7aWYoXCJ0cmFuc3BhcmVudFwiPT1oWzFdKXJldHVyblswLDAsMCwwXTtpZihuPXlbaFsxXV0sIW4pcmV0dXJufWZvcih2YXIgbD0wO2w8bi5sZW5ndGg7bCsrKW5bbF09eChuW2xdLDAsMjU1KTtyZXR1cm4gcj1yfHwwPT1yP3gociwwLDEpOjEsblszXT1yLG59fWZ1bmN0aW9uIG8odCl7aWYodCl7dmFyIGU9L15oc2xhP1xcKFxccyooWystXT9cXGQrKSg/OmRlZyk/XFxzKixcXHMqKFsrLV0/W1xcZFxcLl0rKSVcXHMqLFxccyooWystXT9bXFxkXFwuXSspJVxccyooPzosXFxzKihbKy1dP1tcXGRcXC5dKylcXHMqKT9cXCkvLGk9dC5tYXRjaChlKTtpZihpKXt2YXIgYT1wYXJzZUZsb2F0KGlbNF0pLG89eChwYXJzZUludChpWzFdKSwwLDM2MCkscz14KHBhcnNlRmxvYXQoaVsyXSksMCwxMDApLG49eChwYXJzZUZsb2F0KGlbM10pLDAsMTAwKSxyPXgoaXNOYU4oYSk/MTphLDAsMSk7cmV0dXJuW28scyxuLHJdfX19ZnVuY3Rpb24gcyh0KXtpZih0KXt2YXIgZT0vXmh3YlxcKFxccyooWystXT9cXGQrKSg/OmRlZyk/XFxzKixcXHMqKFsrLV0/W1xcZFxcLl0rKSVcXHMqLFxccyooWystXT9bXFxkXFwuXSspJVxccyooPzosXFxzKihbKy1dP1tcXGRcXC5dKylcXHMqKT9cXCkvLGk9dC5tYXRjaChlKTtpZihpKXt2YXIgYT1wYXJzZUZsb2F0KGlbNF0pLG89eChwYXJzZUludChpWzFdKSwwLDM2MCkscz14KHBhcnNlRmxvYXQoaVsyXSksMCwxMDApLG49eChwYXJzZUZsb2F0KGlbM10pLDAsMTAwKSxyPXgoaXNOYU4oYSk/MTphLDAsMSk7cmV0dXJuW28scyxuLHJdfX19ZnVuY3Rpb24gbih0KXt2YXIgZT1hKHQpO3JldHVybiBlJiZlLnNsaWNlKDAsMyl9ZnVuY3Rpb24gcih0KXt2YXIgZT1vKHQpO3JldHVybiBlJiZlLnNsaWNlKDAsMyl9ZnVuY3Rpb24gaCh0KXt2YXIgZT1hKHQpO3JldHVybiBlP2VbM106KGU9byh0KSk/ZVszXTooZT1zKHQpKT9lWzNdOnZvaWQgMH1mdW5jdGlvbiBsKHQpe3JldHVyblwiI1wiK3YodFswXSkrdih0WzFdKSt2KHRbMl0pfWZ1bmN0aW9uIGModCxlKXtyZXR1cm4gMT5lfHx0WzNdJiZ0WzNdPDE/ZCh0LGUpOlwicmdiKFwiK3RbMF0rXCIsIFwiK3RbMV0rXCIsIFwiK3RbMl0rXCIpXCJ9ZnVuY3Rpb24gZCh0LGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT12b2lkIDAhPT10WzNdP3RbM106MSksXCJyZ2JhKFwiK3RbMF0rXCIsIFwiK3RbMV0rXCIsIFwiK3RbMl0rXCIsIFwiK2UrXCIpXCJ9ZnVuY3Rpb24gdSh0LGUpe2lmKDE+ZXx8dFszXSYmdFszXTwxKXJldHVybiBnKHQsZSk7dmFyIGk9TWF0aC5yb3VuZCh0WzBdLzI1NSoxMDApLGE9TWF0aC5yb3VuZCh0WzFdLzI1NSoxMDApLG89TWF0aC5yb3VuZCh0WzJdLzI1NSoxMDApO3JldHVyblwicmdiKFwiK2krXCIlLCBcIithK1wiJSwgXCIrbytcIiUpXCJ9ZnVuY3Rpb24gZyh0LGUpe3ZhciBpPU1hdGgucm91bmQodFswXS8yNTUqMTAwKSxhPU1hdGgucm91bmQodFsxXS8yNTUqMTAwKSxvPU1hdGgucm91bmQodFsyXS8yNTUqMTAwKTtyZXR1cm5cInJnYmEoXCIraStcIiUsIFwiK2ErXCIlLCBcIitvK1wiJSwgXCIrKGV8fHRbM118fDEpK1wiKVwifWZ1bmN0aW9uIGYodCxlKXtyZXR1cm4gMT5lfHx0WzNdJiZ0WzNdPDE/cCh0LGUpOlwiaHNsKFwiK3RbMF0rXCIsIFwiK3RbMV0rXCIlLCBcIit0WzJdK1wiJSlcIn1mdW5jdGlvbiBwKHQsZSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPXZvaWQgMCE9PXRbM10/dFszXToxKSxcImhzbGEoXCIrdFswXStcIiwgXCIrdFsxXStcIiUsIFwiK3RbMl0rXCIlLCBcIitlK1wiKVwifWZ1bmN0aW9uIG0odCxlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9dm9pZCAwIT09dFszXT90WzNdOjEpLFwiaHdiKFwiK3RbMF0rXCIsIFwiK3RbMV0rXCIlLCBcIit0WzJdK1wiJVwiKyh2b2lkIDAhPT1lJiYxIT09ZT9cIiwgXCIrZTpcIlwiKStcIilcIn1mdW5jdGlvbiBiKHQpe3JldHVybiBrW3Quc2xpY2UoMCwzKV19ZnVuY3Rpb24geCh0LGUsaSl7cmV0dXJuIE1hdGgubWluKE1hdGgubWF4KGUsdCksaSl9ZnVuY3Rpb24gdih0KXt2YXIgZT10LnRvU3RyaW5nKDE2KS50b1VwcGVyQ2FzZSgpO3JldHVybiBlLmxlbmd0aDwyP1wiMFwiK2U6ZX12YXIgeT10KFwiY29sb3ItbmFtZVwiKTtlLmV4cG9ydHM9e2dldFJnYmE6YSxnZXRIc2xhOm8sZ2V0UmdiOm4sZ2V0SHNsOnIsZ2V0SHdiOnMsZ2V0QWxwaGE6aCxoZXhTdHJpbmc6bCxyZ2JTdHJpbmc6YyxyZ2JhU3RyaW5nOmQscGVyY2VudFN0cmluZzp1LHBlcmNlbnRhU3RyaW5nOmcsaHNsU3RyaW5nOmYsaHNsYVN0cmluZzpwLGh3YlN0cmluZzptLGtleXdvcmQ6Yn07dmFyIGs9e307Zm9yKHZhciBTIGluIHkpa1t5W1NdXT1TfSx7XCJjb2xvci1uYW1lXCI6Nn1dLDM6W2Z1bmN0aW9uKHQsZSxpKXt2YXIgYT10KFwiY29sb3ItY29udmVydFwiKSxvPXQoXCJjaGFydGpzLWNvbG9yLXN0cmluZ1wiKSxzPWZ1bmN0aW9uKHQpe2lmKHQgaW5zdGFuY2VvZiBzKXJldHVybiB0O2lmKCEodGhpcyBpbnN0YW5jZW9mIHMpKXJldHVybiBuZXcgcyh0KTtpZih0aGlzLnZhbHVlcz17cmdiOlswLDAsMF0saHNsOlswLDAsMF0saHN2OlswLDAsMF0saHdiOlswLDAsMF0sY215azpbMCwwLDAsMF0sYWxwaGE6MX0sXCJzdHJpbmdcIj09dHlwZW9mIHQpe3ZhciBlPW8uZ2V0UmdiYSh0KTtpZihlKXRoaXMuc2V0VmFsdWVzKFwicmdiXCIsZSk7ZWxzZSBpZihlPW8uZ2V0SHNsYSh0KSl0aGlzLnNldFZhbHVlcyhcImhzbFwiLGUpO2Vsc2V7aWYoIShlPW8uZ2V0SHdiKHQpKSl0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBwYXJzZSBjb2xvciBmcm9tIHN0cmluZyBcIicrdCsnXCInKTt0aGlzLnNldFZhbHVlcyhcImh3YlwiLGUpfX1lbHNlIGlmKFwib2JqZWN0XCI9PXR5cGVvZiB0KXt2YXIgZT10O2lmKHZvaWQgMCE9PWUucnx8dm9pZCAwIT09ZS5yZWQpdGhpcy5zZXRWYWx1ZXMoXCJyZ2JcIixlKTtlbHNlIGlmKHZvaWQgMCE9PWUubHx8dm9pZCAwIT09ZS5saWdodG5lc3MpdGhpcy5zZXRWYWx1ZXMoXCJoc2xcIixlKTtlbHNlIGlmKHZvaWQgMCE9PWUudnx8dm9pZCAwIT09ZS52YWx1ZSl0aGlzLnNldFZhbHVlcyhcImhzdlwiLGUpO2Vsc2UgaWYodm9pZCAwIT09ZS53fHx2b2lkIDAhPT1lLndoaXRlbmVzcyl0aGlzLnNldFZhbHVlcyhcImh3YlwiLGUpO2Vsc2V7aWYodm9pZCAwPT09ZS5jJiZ2b2lkIDA9PT1lLmN5YW4pdGhyb3cgbmV3IEVycm9yKFwiVW5hYmxlIHRvIHBhcnNlIGNvbG9yIGZyb20gb2JqZWN0IFwiK0pTT04uc3RyaW5naWZ5KHQpKTt0aGlzLnNldFZhbHVlcyhcImNteWtcIixlKX19fTtzLnByb3RvdHlwZT17cmdiOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnNldFNwYWNlKFwicmdiXCIsYXJndW1lbnRzKX0saHNsOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnNldFNwYWNlKFwiaHNsXCIsYXJndW1lbnRzKX0saHN2OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnNldFNwYWNlKFwiaHN2XCIsYXJndW1lbnRzKX0saHdiOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnNldFNwYWNlKFwiaHdiXCIsYXJndW1lbnRzKX0sY215azpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zZXRTcGFjZShcImNteWtcIixhcmd1bWVudHMpfSxyZ2JBcnJheTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnZhbHVlcy5yZ2J9LGhzbEFycmF5OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmFsdWVzLmhzbH0saHN2QXJyYXk6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52YWx1ZXMuaHN2fSxod2JBcnJheTpmdW5jdGlvbigpe3JldHVybiAxIT09dGhpcy52YWx1ZXMuYWxwaGE/dGhpcy52YWx1ZXMuaHdiLmNvbmNhdChbdGhpcy52YWx1ZXMuYWxwaGFdKTp0aGlzLnZhbHVlcy5od2J9LGNteWtBcnJheTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnZhbHVlcy5jbXlrfSxyZ2JhQXJyYXk6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnZhbHVlcy5yZ2I7cmV0dXJuIHQuY29uY2F0KFt0aGlzLnZhbHVlcy5hbHBoYV0pfSxoc2xhQXJyYXk6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnZhbHVlcy5oc2w7cmV0dXJuIHQuY29uY2F0KFt0aGlzLnZhbHVlcy5hbHBoYV0pfSxhbHBoYTpmdW5jdGlvbih0KXtyZXR1cm4gdm9pZCAwPT09dD90aGlzLnZhbHVlcy5hbHBoYToodGhpcy5zZXRWYWx1ZXMoXCJhbHBoYVwiLHQpLHRoaXMpfSxyZWQ6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc2V0Q2hhbm5lbChcInJnYlwiLDAsdCl9LGdyZWVuOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnNldENoYW5uZWwoXCJyZ2JcIiwxLHQpfSxibHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnNldENoYW5uZWwoXCJyZ2JcIiwyLHQpfSxodWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc2V0Q2hhbm5lbChcImhzbFwiLDAsdCl9LHNhdHVyYXRpb246ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc2V0Q2hhbm5lbChcImhzbFwiLDEsdCl9LGxpZ2h0bmVzczpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zZXRDaGFubmVsKFwiaHNsXCIsMix0KX0sc2F0dXJhdGlvbnY6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc2V0Q2hhbm5lbChcImhzdlwiLDEsdCl9LHdoaXRlbmVzczpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zZXRDaGFubmVsKFwiaHdiXCIsMSx0KX0sYmxhY2tuZXNzOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnNldENoYW5uZWwoXCJod2JcIiwyLHQpfSx2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zZXRDaGFubmVsKFwiaHN2XCIsMix0KX0sY3lhbjpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zZXRDaGFubmVsKFwiY215a1wiLDAsdCl9LG1hZ2VudGE6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc2V0Q2hhbm5lbChcImNteWtcIiwxLHQpfSx5ZWxsb3c6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc2V0Q2hhbm5lbChcImNteWtcIiwyLHQpfSxibGFjazpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zZXRDaGFubmVsKFwiY215a1wiLDMsdCl9LGhleFN0cmluZzpmdW5jdGlvbigpe3JldHVybiBvLmhleFN0cmluZyh0aGlzLnZhbHVlcy5yZ2IpfSxyZ2JTdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gby5yZ2JTdHJpbmcodGhpcy52YWx1ZXMucmdiLHRoaXMudmFsdWVzLmFscGhhKX0scmdiYVN0cmluZzpmdW5jdGlvbigpe3JldHVybiBvLnJnYmFTdHJpbmcodGhpcy52YWx1ZXMucmdiLHRoaXMudmFsdWVzLmFscGhhKX0scGVyY2VudFN0cmluZzpmdW5jdGlvbigpe3JldHVybiBvLnBlcmNlbnRTdHJpbmcodGhpcy52YWx1ZXMucmdiLHRoaXMudmFsdWVzLmFscGhhKX0saHNsU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIG8uaHNsU3RyaW5nKHRoaXMudmFsdWVzLmhzbCx0aGlzLnZhbHVlcy5hbHBoYSl9LGhzbGFTdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gby5oc2xhU3RyaW5nKHRoaXMudmFsdWVzLmhzbCx0aGlzLnZhbHVlcy5hbHBoYSl9LGh3YlN0cmluZzpmdW5jdGlvbigpe3JldHVybiBvLmh3YlN0cmluZyh0aGlzLnZhbHVlcy5od2IsdGhpcy52YWx1ZXMuYWxwaGEpfSxrZXl3b3JkOmZ1bmN0aW9uKCl7cmV0dXJuIG8ua2V5d29yZCh0aGlzLnZhbHVlcy5yZ2IsdGhpcy52YWx1ZXMuYWxwaGEpfSxyZ2JOdW1iZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52YWx1ZXMucmdiWzBdPDwxNnx0aGlzLnZhbHVlcy5yZ2JbMV08PDh8dGhpcy52YWx1ZXMucmdiWzJdfSxsdW1pbm9zaXR5OmZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMudmFsdWVzLnJnYixlPVtdLGk9MDtpPHQubGVuZ3RoO2krKyl7dmFyIGE9dFtpXS8yNTU7ZVtpXT0uMDM5Mjg+PWE/YS8xMi45MjpNYXRoLnBvdygoYSsuMDU1KS8xLjA1NSwyLjQpfXJldHVybi4yMTI2KmVbMF0rLjcxNTIqZVsxXSsuMDcyMiplWzJdfSxjb250cmFzdDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmx1bWlub3NpdHkoKSxpPXQubHVtaW5vc2l0eSgpO3JldHVybiBlPmk/KGUrLjA1KS8oaSsuMDUpOihpKy4wNSkvKGUrLjA1KX0sbGV2ZWw6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5jb250cmFzdCh0KTtyZXR1cm4gZT49Ny4xP1wiQUFBXCI6ZT49NC41P1wiQUFcIjpcIlwifSxkYXJrOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy52YWx1ZXMucmdiLGU9KDI5OSp0WzBdKzU4Nyp0WzFdKzExNCp0WzJdKS8xZTM7cmV0dXJuIDEyOD5lfSxsaWdodDpmdW5jdGlvbigpe3JldHVybiF0aGlzLmRhcmsoKX0sbmVnYXRlOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PVtdLGU9MDszPmU7ZSsrKXRbZV09MjU1LXRoaXMudmFsdWVzLnJnYltlXTtyZXR1cm4gdGhpcy5zZXRWYWx1ZXMoXCJyZ2JcIix0KSx0aGlzfSxsaWdodGVuOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnZhbHVlcy5oc2xbMl0rPXRoaXMudmFsdWVzLmhzbFsyXSp0LHRoaXMuc2V0VmFsdWVzKFwiaHNsXCIsdGhpcy52YWx1ZXMuaHNsKSx0aGlzfSxkYXJrZW46ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudmFsdWVzLmhzbFsyXS09dGhpcy52YWx1ZXMuaHNsWzJdKnQsdGhpcy5zZXRWYWx1ZXMoXCJoc2xcIix0aGlzLnZhbHVlcy5oc2wpLHRoaXN9LHNhdHVyYXRlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnZhbHVlcy5oc2xbMV0rPXRoaXMudmFsdWVzLmhzbFsxXSp0LHRoaXMuc2V0VmFsdWVzKFwiaHNsXCIsdGhpcy52YWx1ZXMuaHNsKSx0aGlzfSxkZXNhdHVyYXRlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnZhbHVlcy5oc2xbMV0tPXRoaXMudmFsdWVzLmhzbFsxXSp0LHRoaXMuc2V0VmFsdWVzKFwiaHNsXCIsdGhpcy52YWx1ZXMuaHNsKSx0aGlzfSx3aGl0ZW46ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudmFsdWVzLmh3YlsxXSs9dGhpcy52YWx1ZXMuaHdiWzFdKnQsdGhpcy5zZXRWYWx1ZXMoXCJod2JcIix0aGlzLnZhbHVlcy5od2IpLHRoaXN9LGJsYWNrZW46ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudmFsdWVzLmh3YlsyXSs9dGhpcy52YWx1ZXMuaHdiWzJdKnQsdGhpcy5zZXRWYWx1ZXMoXCJod2JcIix0aGlzLnZhbHVlcy5od2IpLHRoaXN9LGdyZXlzY2FsZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMudmFsdWVzLnJnYixlPS4zKnRbMF0rLjU5KnRbMV0rLjExKnRbMl07cmV0dXJuIHRoaXMuc2V0VmFsdWVzKFwicmdiXCIsW2UsZSxlXSksdGhpc30sY2xlYXJlcjpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zZXRWYWx1ZXMoXCJhbHBoYVwiLHRoaXMudmFsdWVzLmFscGhhLXRoaXMudmFsdWVzLmFscGhhKnQpLHRoaXN9LG9wYXF1ZXI6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc2V0VmFsdWVzKFwiYWxwaGFcIix0aGlzLnZhbHVlcy5hbHBoYSt0aGlzLnZhbHVlcy5hbHBoYSp0KSx0aGlzfSxyb3RhdGU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy52YWx1ZXMuaHNsWzBdO3JldHVybiBlPShlK3QpJTM2MCxlPTA+ZT8zNjArZTplLHRoaXMudmFsdWVzLmhzbFswXT1lLHRoaXMuc2V0VmFsdWVzKFwiaHNsXCIsdGhpcy52YWx1ZXMuaHNsKSx0aGlzfSxtaXg6ZnVuY3Rpb24odCxlKXtlPTEtKG51bGw9PWU/LjU6ZSk7Zm9yKHZhciBpPTIqZS0xLGE9dGhpcy5hbHBoYSgpLXQuYWxwaGEoKSxvPSgoaSphPT0tMT9pOihpK2EpLygxK2kqYSkpKzEpLzIscz0xLW8sbj10aGlzLnJnYkFycmF5KCkscj10LnJnYkFycmF5KCksaD0wO2g8bi5sZW5ndGg7aCsrKW5baF09bltoXSpvK3JbaF0qczt0aGlzLnNldFZhbHVlcyhcInJnYlwiLG4pO3ZhciBsPXRoaXMuYWxwaGEoKSplK3QuYWxwaGEoKSooMS1lKTtyZXR1cm4gdGhpcy5zZXRWYWx1ZXMoXCJhbHBoYVwiLGwpLHRoaXN9LHRvSlNPTjpmdW5jdGlvbigpe3JldHVybiB0aGlzLnJnYigpfSxjbG9uZTpmdW5jdGlvbigpe3JldHVybiBuZXcgcyh0aGlzLnJnYigpKX19LHMucHJvdG90eXBlLmdldFZhbHVlcz1mdW5jdGlvbih0KXtmb3IodmFyIGU9e30saT0wO2k8dC5sZW5ndGg7aSsrKWVbdC5jaGFyQXQoaSldPXRoaXMudmFsdWVzW3RdW2ldO3JldHVybiAxIT10aGlzLnZhbHVlcy5hbHBoYSYmKGUuYT10aGlzLnZhbHVlcy5hbHBoYSksZX0scy5wcm90b3R5cGUuc2V0VmFsdWVzPWZ1bmN0aW9uKHQsZSl7dmFyIGk9e3JnYjpbXCJyZWRcIixcImdyZWVuXCIsXCJibHVlXCJdLGhzbDpbXCJodWVcIixcInNhdHVyYXRpb25cIixcImxpZ2h0bmVzc1wiXSxoc3Y6W1wiaHVlXCIsXCJzYXR1cmF0aW9uXCIsXCJ2YWx1ZVwiXSxod2I6W1wiaHVlXCIsXCJ3aGl0ZW5lc3NcIixcImJsYWNrbmVzc1wiXSxjbXlrOltcImN5YW5cIixcIm1hZ2VudGFcIixcInllbGxvd1wiLFwiYmxhY2tcIl19LG89e3JnYjpbMjU1LDI1NSwyNTVdLGhzbDpbMzYwLDEwMCwxMDBdLGhzdjpbMzYwLDEwMCwxMDBdLGh3YjpbMzYwLDEwMCwxMDBdLGNteWs6WzEwMCwxMDAsMTAwLDEwMF19LHM9MTtpZihcImFscGhhXCI9PXQpcz1lO2Vsc2UgaWYoZS5sZW5ndGgpdGhpcy52YWx1ZXNbdF09ZS5zbGljZSgwLHQubGVuZ3RoKSxzPWVbdC5sZW5ndGhdO2Vsc2UgaWYodm9pZCAwIT09ZVt0LmNoYXJBdCgwKV0pe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXRoaXMudmFsdWVzW3RdW25dPWVbdC5jaGFyQXQobildO3M9ZS5hfWVsc2UgaWYodm9pZCAwIT09ZVtpW3RdWzBdXSl7Zm9yKHZhciByPWlbdF0sbj0wO248dC5sZW5ndGg7bisrKXRoaXMudmFsdWVzW3RdW25dPWVbcltuXV07cz1lLmFscGhhfWlmKHRoaXMudmFsdWVzLmFscGhhPU1hdGgubWF4KDAsTWF0aC5taW4oMSx2b2lkIDAhPT1zP3M6dGhpcy52YWx1ZXMuYWxwaGEpKSxcImFscGhhXCIhPXQpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgaD1NYXRoLm1heCgwLE1hdGgubWluKG9bdF1bbl0sdGhpcy52YWx1ZXNbdF1bbl0pKTt0aGlzLnZhbHVlc1t0XVtuXT1NYXRoLnJvdW5kKGgpfWZvcih2YXIgbCBpbiBpKXtsIT10JiYodGhpcy52YWx1ZXNbbF09YVt0XVtsXSh0aGlzLnZhbHVlc1t0XSkpO2Zvcih2YXIgbj0wO248bC5sZW5ndGg7bisrKXt2YXIgaD1NYXRoLm1heCgwLE1hdGgubWluKG9bbF1bbl0sdGhpcy52YWx1ZXNbbF1bbl0pKTt0aGlzLnZhbHVlc1tsXVtuXT1NYXRoLnJvdW5kKGgpfX1yZXR1cm4hMH19LHMucHJvdG90eXBlLnNldFNwYWNlPWZ1bmN0aW9uKHQsZSl7dmFyIGk9ZVswXTtyZXR1cm4gdm9pZCAwPT09aT90aGlzLmdldFZhbHVlcyh0KTooXCJudW1iZXJcIj09dHlwZW9mIGkmJihpPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGUpKSx0aGlzLnNldFZhbHVlcyh0LGkpLHRoaXMpfSxzLnByb3RvdHlwZS5zZXRDaGFubmVsPWZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gdm9pZCAwPT09aT90aGlzLnZhbHVlc1t0XVtlXToodGhpcy52YWx1ZXNbdF1bZV09aSx0aGlzLnNldFZhbHVlcyh0LHRoaXMudmFsdWVzW3RdKSx0aGlzKX0sd2luZG93LkNvbG9yPWUuZXhwb3J0cz1zfSx7XCJjaGFydGpzLWNvbG9yLXN0cmluZ1wiOjIsXCJjb2xvci1jb252ZXJ0XCI6NX1dLDQ6W2Z1bmN0aW9uKHQsZSxpKXtmdW5jdGlvbiBhKHQpe3ZhciBlLGksYSxvPXRbMF0vMjU1LHM9dFsxXS8yNTUsbj10WzJdLzI1NSxyPU1hdGgubWluKG8scyxuKSxoPU1hdGgubWF4KG8scyxuKSxsPWgtcjtyZXR1cm4gaD09cj9lPTA6bz09aD9lPShzLW4pL2w6cz09aD9lPTIrKG4tbykvbDpuPT1oJiYoZT00KyhvLXMpL2wpLGU9TWF0aC5taW4oNjAqZSwzNjApLDA+ZSYmKGUrPTM2MCksYT0ocitoKS8yLGk9aD09cj8wOi41Pj1hP2wvKGgrcik6bC8oMi1oLXIpLFtlLDEwMCppLDEwMCphXX1mdW5jdGlvbiBvKHQpe3ZhciBlLGksYSxvPXRbMF0scz10WzFdLG49dFsyXSxyPU1hdGgubWluKG8scyxuKSxoPU1hdGgubWF4KG8scyxuKSxsPWgtcjtyZXR1cm4gaT0wPT1oPzA6bC9oKjFlMy8xMCxoPT1yP2U9MDpvPT1oP2U9KHMtbikvbDpzPT1oP2U9Misobi1vKS9sOm49PWgmJihlPTQrKG8tcykvbCksZT1NYXRoLm1pbig2MCplLDM2MCksMD5lJiYoZSs9MzYwKSxhPWgvMjU1KjFlMy8xMCxbZSxpLGFdfWZ1bmN0aW9uIHModCl7dmFyIGU9dFswXSxpPXRbMV0sbz10WzJdLHM9YSh0KVswXSxuPTEvMjU1Kk1hdGgubWluKGUsTWF0aC5taW4oaSxvKSksbz0xLTEvMjU1Kk1hdGgubWF4KGUsTWF0aC5tYXgoaSxvKSk7cmV0dXJuW3MsMTAwKm4sMTAwKm9dfWZ1bmN0aW9uIG4odCl7dmFyIGUsaSxhLG8scz10WzBdLzI1NSxuPXRbMV0vMjU1LHI9dFsyXS8yNTU7cmV0dXJuIG89TWF0aC5taW4oMS1zLDEtbiwxLXIpLGU9KDEtcy1vKS8oMS1vKXx8MCxpPSgxLW4tbykvKDEtbyl8fDAsYT0oMS1yLW8pLygxLW8pfHwwLFsxMDAqZSwxMDAqaSwxMDAqYSwxMDAqb119ZnVuY3Rpb24gaCh0KXtyZXR1cm4gR1tKU09OLnN0cmluZ2lmeSh0KV19ZnVuY3Rpb24gbCh0KXt2YXIgZT10WzBdLzI1NSxpPXRbMV0vMjU1LGE9dFsyXS8yNTU7ZT1lPi4wNDA0NT9NYXRoLnBvdygoZSsuMDU1KS8xLjA1NSwyLjQpOmUvMTIuOTIsaT1pPi4wNDA0NT9NYXRoLnBvdygoaSsuMDU1KS8xLjA1NSwyLjQpOmkvMTIuOTIsYT1hPi4wNDA0NT9NYXRoLnBvdygoYSsuMDU1KS8xLjA1NSwyLjQpOmEvMTIuOTI7dmFyIG89LjQxMjQqZSsuMzU3NippKy4xODA1KmEscz0uMjEyNiplKy43MTUyKmkrLjA3MjIqYSxuPS4wMTkzKmUrLjExOTIqaSsuOTUwNSphO3JldHVyblsxMDAqbywxMDAqcywxMDAqbl19ZnVuY3Rpb24gYyh0KXt2YXIgZSxpLGEsbz1sKHQpLHM9b1swXSxuPW9bMV0scj1vWzJdO3JldHVybiBzLz05NS4wNDcsbi89MTAwLHIvPTEwOC44ODMscz1zPi4wMDg4NTY/TWF0aC5wb3cocywxLzMpOjcuNzg3KnMrMTYvMTE2LG49bj4uMDA4ODU2P01hdGgucG93KG4sMS8zKTo3Ljc4NypuKzE2LzExNixyPXI+LjAwODg1Nj9NYXRoLnBvdyhyLDEvMyk6Ny43ODcqcisxNi8xMTYsZT0xMTYqbi0xNixpPTUwMCoocy1uKSxhPTIwMCoobi1yKSxbZSxpLGFdfWZ1bmN0aW9uIGQodCl7cmV0dXJuIEIoYyh0KSl9ZnVuY3Rpb24gdSh0KXt2YXIgZSxpLGEsbyxzLG49dFswXS8zNjAscj10WzFdLzEwMCxoPXRbMl0vMTAwO2lmKDA9PXIpcmV0dXJuIHM9MjU1KmgsW3MscyxzXTtpPS41Pmg/aCooMStyKTpoK3ItaCpyLGU9MipoLWksbz1bMCwwLDBdO2Zvcih2YXIgbD0wOzM+bDtsKyspYT1uKzEvMyotKGwtMSksMD5hJiZhKyssYT4xJiZhLS0scz0xPjYqYT9lKzYqKGktZSkqYToxPjIqYT9pOjI+MyphP2UrKGktZSkqKDIvMy1hKSo2OmUsb1tsXT0yNTUqcztyZXR1cm4gb31mdW5jdGlvbiBmKHQpe3ZhciBlLGksYT10WzBdLG89dFsxXS8xMDAscz10WzJdLzEwMDtyZXR1cm4gMD09PXM/WzAsMCwwXToocyo9MixvKj0xPj1zP3M6Mi1zLGk9KHMrbykvMixlPTIqby8ocytvKSxbYSwxMDAqZSwxMDAqaV0pfWZ1bmN0aW9uIHAodCl7cmV0dXJuIHModSh0KSl9ZnVuY3Rpb24gbSh0KXtyZXR1cm4gbih1KHQpKX1mdW5jdGlvbiB4KHQpe3JldHVybiBoKHUodCkpfWZ1bmN0aW9uIHYodCl7dmFyIGU9dFswXS82MCxpPXRbMV0vMTAwLGE9dFsyXS8xMDAsbz1NYXRoLmZsb29yKGUpJTYscz1lLU1hdGguZmxvb3IoZSksbj0yNTUqYSooMS1pKSxyPTI1NSphKigxLWkqcyksaD0yNTUqYSooMS1pKigxLXMpKSxhPTI1NSphO3N3aXRjaChvKXtjYXNlIDA6cmV0dXJuW2EsaCxuXTtjYXNlIDE6cmV0dXJuW3IsYSxuXTtjYXNlIDI6cmV0dXJuW24sYSxoXTtjYXNlIDM6cmV0dXJuW24scixhXTtjYXNlIDQ6cmV0dXJuW2gsbixhXTtjYXNlIDU6cmV0dXJuW2EsbixyXX19ZnVuY3Rpb24geSh0KXt2YXIgZSxpLGE9dFswXSxvPXRbMV0vMTAwLHM9dFsyXS8xMDA7cmV0dXJuIGk9KDItbykqcyxlPW8qcyxlLz0xPj1pP2k6Mi1pLGU9ZXx8MCxpLz0yLFthLDEwMCplLDEwMCppXX1mdW5jdGlvbiBrKHQpe3JldHVybiBzKHYodCkpfWZ1bmN0aW9uIFModCl7cmV0dXJuIG4odih0KSl9ZnVuY3Rpb24gQyh0KXtyZXR1cm4gaCh2KHQpKX1mdW5jdGlvbiB3KHQpe3ZhciBlLGksYSxvLHM9dFswXS8zNjAsbj10WzFdLzEwMCxoPXRbMl0vMTAwLGw9bitoO3N3aXRjaChsPjEmJihuLz1sLGgvPWwpLGU9TWF0aC5mbG9vcig2KnMpLGk9MS1oLGE9NipzLWUsMCE9KDEmZSkmJihhPTEtYSksbz1uK2EqKGktbiksZSl7ZGVmYXVsdDpjYXNlIDY6Y2FzZSAwOnI9aSxnPW8sYj1uO2JyZWFrO2Nhc2UgMTpyPW8sZz1pLGI9bjticmVhaztjYXNlIDI6cj1uLGc9aSxiPW87YnJlYWs7Y2FzZSAzOnI9bixnPW8sYj1pO2JyZWFrO2Nhc2UgNDpyPW8sZz1uLGI9aTticmVhaztjYXNlIDU6cj1pLGc9bixiPW99cmV0dXJuWzI1NSpyLDI1NSpnLDI1NSpiXX1mdW5jdGlvbiBEKHQpe3JldHVybiBhKHcodCkpfWZ1bmN0aW9uIE0odCl7cmV0dXJuIG8odyh0KSl9ZnVuY3Rpb24gXyh0KXtyZXR1cm4gbih3KHQpKX1mdW5jdGlvbiBBKHQpe3JldHVybiBoKHcodCkpfWZ1bmN0aW9uIEkodCl7dmFyIGUsaSxhLG89dFswXS8xMDAscz10WzFdLzEwMCxuPXRbMl0vMTAwLHI9dFszXS8xMDA7cmV0dXJuIGU9MS1NYXRoLm1pbigxLG8qKDEtcikrciksaT0xLU1hdGgubWluKDEscyooMS1yKStyKSxhPTEtTWF0aC5taW4oMSxuKigxLXIpK3IpLFsyNTUqZSwyNTUqaSwyNTUqYV19ZnVuY3Rpb24gRih0KXtyZXR1cm4gYShJKHQpKX1mdW5jdGlvbiBQKHQpe3JldHVybiBvKEkodCkpfWZ1bmN0aW9uIFQodCl7cmV0dXJuIHMoSSh0KSl9ZnVuY3Rpb24gVih0KXtyZXR1cm4gaChJKHQpKX1mdW5jdGlvbiBSKHQpe3ZhciBlLGksYSxvPXRbMF0vMTAwLHM9dFsxXS8xMDAsbj10WzJdLzEwMDtyZXR1cm4gZT0zLjI0MDYqbystMS41MzcyKnMrbiotLjQ5ODYsaT1vKi0uOTY4OSsxLjg3NTgqcysuMDQxNSpuLGE9LjA1NTcqbytzKi0uMjA0KzEuMDU3Km4sZT1lPi4wMDMxMzA4PzEuMDU1Kk1hdGgucG93KGUsMS8yLjQpLS4wNTU6ZT0xMi45MiplLGk9aT4uMDAzMTMwOD8xLjA1NSpNYXRoLnBvdyhpLDEvMi40KS0uMDU1Omk9MTIuOTIqaSxhPWE+LjAwMzEzMDg/MS4wNTUqTWF0aC5wb3coYSwxLzIuNCktLjA1NTphPTEyLjkyKmEsZT1NYXRoLm1pbihNYXRoLm1heCgwLGUpLDEpLGk9TWF0aC5taW4oTWF0aC5tYXgoMCxpKSwxKSxhPU1hdGgubWluKE1hdGgubWF4KDAsYSksMSksWzI1NSplLDI1NSppLDI1NSphXX1mdW5jdGlvbiBPKHQpe3ZhciBlLGksYSxvPXRbMF0scz10WzFdLG49dFsyXTtyZXR1cm4gby89OTUuMDQ3LHMvPTEwMCxuLz0xMDguODgzLG89bz4uMDA4ODU2P01hdGgucG93KG8sMS8zKTo3Ljc4NypvKzE2LzExNixzPXM+LjAwODg1Nj9NYXRoLnBvdyhzLDEvMyk6Ny43ODcqcysxNi8xMTYsbj1uPi4wMDg4NTY/TWF0aC5wb3cobiwxLzMpOjcuNzg3Km4rMTYvMTE2LGU9MTE2KnMtMTYsaT01MDAqKG8tcyksYT0yMDAqKHMtbiksW2UsaSxhXX1mdW5jdGlvbiBMKHQpe3JldHVybiBCKE8odCkpfWZ1bmN0aW9uIFcodCl7dmFyIGUsaSxhLG8scz10WzBdLG49dFsxXSxyPXRbMl07cmV0dXJuIDg+PXM/KGk9MTAwKnMvOTAzLjMsbz03Ljc4NyooaS8xMDApKzE2LzExNik6KGk9MTAwKk1hdGgucG93KChzKzE2KS8xMTYsMyksbz1NYXRoLnBvdyhpLzEwMCwxLzMpKSxlPS4wMDg4NTY+PWUvOTUuMDQ3P2U9OTUuMDQ3KihuLzUwMCtvLTE2LzExNikvNy43ODc6OTUuMDQ3Kk1hdGgucG93KG4vNTAwK28sMyksYT0uMDA4ODU5Pj1hLzEwOC44ODM/YT0xMDguODgzKihvLXIvMjAwLTE2LzExNikvNy43ODc6MTA4Ljg4MypNYXRoLnBvdyhvLXIvMjAwLDMpLFtlLGksYV19ZnVuY3Rpb24gQih0KXt2YXIgZSxpLGEsbz10WzBdLHM9dFsxXSxuPXRbMl07cmV0dXJuIGU9TWF0aC5hdGFuMihuLHMpLGk9MzYwKmUvMi9NYXRoLlBJLDA+aSYmKGkrPTM2MCksYT1NYXRoLnNxcnQocypzK24qbiksW28sYSxpXX1mdW5jdGlvbiB6KHQpe3JldHVybiBSKFcodCkpfWZ1bmN0aW9uIEgodCl7dmFyIGUsaSxhLG89dFswXSxzPXRbMV0sbj10WzJdO3JldHVybiBhPW4vMzYwKjIqTWF0aC5QSSxlPXMqTWF0aC5jb3MoYSksaT1zKk1hdGguc2luKGEpLFtvLGUsaV19ZnVuY3Rpb24gTih0KXtyZXR1cm4gVyhIKHQpKX1mdW5jdGlvbiBFKHQpe3JldHVybiB6KEgodCkpfWZ1bmN0aW9uIFUodCl7cmV0dXJuIFhbdF19ZnVuY3Rpb24gaih0KXtyZXR1cm4gYShVKHQpKX1mdW5jdGlvbiBxKHQpe3JldHVybiBvKFUodCkpfWZ1bmN0aW9uIFkodCl7cmV0dXJuIHMoVSh0KSl9ZnVuY3Rpb24gUSh0KXtyZXR1cm4gbihVKHQpKX1mdW5jdGlvbiBKKHQpe3JldHVybiBjKFUodCkpfWZ1bmN0aW9uIFoodCl7cmV0dXJuIGwoVSh0KSl9ZS5leHBvcnRzPXtyZ2IyaHNsOmEscmdiMmhzdjpvLHJnYjJod2I6cyxyZ2IyY215azpuLHJnYjJrZXl3b3JkOmgscmdiMnh5ejpsLHJnYjJsYWI6YyxyZ2IybGNoOmQsaHNsMnJnYjp1LGhzbDJoc3Y6Zixoc2wyaHdiOnAsaHNsMmNteWs6bSxoc2wya2V5d29yZDp4LGhzdjJyZ2I6dixoc3YyaHNsOnksaHN2Mmh3YjprLGhzdjJjbXlrOlMsaHN2MmtleXdvcmQ6Qyxod2IycmdiOncsaHdiMmhzbDpELGh3YjJoc3Y6TSxod2IyY215azpfLGh3YjJrZXl3b3JkOkEsY215azJyZ2I6SSxjbXlrMmhzbDpGLGNteWsyaHN2OlAsY215azJod2I6VCxjbXlrMmtleXdvcmQ6VixrZXl3b3JkMnJnYjpVLGtleXdvcmQyaHNsOmosa2V5d29yZDJoc3Y6cSxrZXl3b3JkMmh3YjpZLGtleXdvcmQyY215azpRLGtleXdvcmQybGFiOkosa2V5d29yZDJ4eXo6Wix4eXoycmdiOlIseHl6MmxhYjpPLHh5ejJsY2g6TCxsYWIyeHl6OlcsbGFiMnJnYjp6LGxhYjJsY2g6QixsY2gybGFiOkgsbGNoMnh5ejpOLGxjaDJyZ2I6RX07dmFyIFg9e2FsaWNlYmx1ZTpbMjQwLDI0OCwyNTVdLGFudGlxdWV3aGl0ZTpbMjUwLDIzNSwyMTVdLGFxdWE6WzAsMjU1LDI1NV0sYXF1YW1hcmluZTpbMTI3LDI1NSwyMTJdLGF6dXJlOlsyNDAsMjU1LDI1NV0sYmVpZ2U6WzI0NSwyNDUsMjIwXSxiaXNxdWU6WzI1NSwyMjgsMTk2XSxibGFjazpbMCwwLDBdLGJsYW5jaGVkYWxtb25kOlsyNTUsMjM1LDIwNV0sYmx1ZTpbMCwwLDI1NV0sYmx1ZXZpb2xldDpbMTM4LDQzLDIyNl0sYnJvd246WzE2NSw0Miw0Ml0sYnVybHl3b29kOlsyMjIsMTg0LDEzNV0sY2FkZXRibHVlOls5NSwxNTgsMTYwXSxjaGFydHJldXNlOlsxMjcsMjU1LDBdLGNob2NvbGF0ZTpbMjEwLDEwNSwzMF0sY29yYWw6WzI1NSwxMjcsODBdLGNvcm5mbG93ZXJibHVlOlsxMDAsMTQ5LDIzN10sY29ybnNpbGs6WzI1NSwyNDgsMjIwXSxjcmltc29uOlsyMjAsMjAsNjBdLGN5YW46WzAsMjU1LDI1NV0sZGFya2JsdWU6WzAsMCwxMzldLGRhcmtjeWFuOlswLDEzOSwxMzldLGRhcmtnb2xkZW5yb2Q6WzE4NCwxMzQsMTFdLGRhcmtncmF5OlsxNjksMTY5LDE2OV0sZGFya2dyZWVuOlswLDEwMCwwXSxkYXJrZ3JleTpbMTY5LDE2OSwxNjldLGRhcmtraGFraTpbMTg5LDE4MywxMDddLGRhcmttYWdlbnRhOlsxMzksMCwxMzldLGRhcmtvbGl2ZWdyZWVuOls4NSwxMDcsNDddLGRhcmtvcmFuZ2U6WzI1NSwxNDAsMF0sZGFya29yY2hpZDpbMTUzLDUwLDIwNF0sZGFya3JlZDpbMTM5LDAsMF0sZGFya3NhbG1vbjpbMjMzLDE1MCwxMjJdLGRhcmtzZWFncmVlbjpbMTQzLDE4OCwxNDNdLGRhcmtzbGF0ZWJsdWU6WzcyLDYxLDEzOV0sZGFya3NsYXRlZ3JheTpbNDcsNzksNzldLGRhcmtzbGF0ZWdyZXk6WzQ3LDc5LDc5XSxkYXJrdHVycXVvaXNlOlswLDIwNiwyMDldLGRhcmt2aW9sZXQ6WzE0OCwwLDIxMV0sZGVlcHBpbms6WzI1NSwyMCwxNDddLGRlZXBza3libHVlOlswLDE5MSwyNTVdLGRpbWdyYXk6WzEwNSwxMDUsMTA1XSxkaW1ncmV5OlsxMDUsMTA1LDEwNV0sZG9kZ2VyYmx1ZTpbMzAsMTQ0LDI1NV0sZmlyZWJyaWNrOlsxNzgsMzQsMzRdLGZsb3JhbHdoaXRlOlsyNTUsMjUwLDI0MF0sZm9yZXN0Z3JlZW46WzM0LDEzOSwzNF0sZnVjaHNpYTpbMjU1LDAsMjU1XSxnYWluc2Jvcm86WzIyMCwyMjAsMjIwXSxnaG9zdHdoaXRlOlsyNDgsMjQ4LDI1NV0sZ29sZDpbMjU1LDIxNSwwXSxnb2xkZW5yb2Q6WzIxOCwxNjUsMzJdLGdyYXk6WzEyOCwxMjgsMTI4XSxncmVlbjpbMCwxMjgsMF0sZ3JlZW55ZWxsb3c6WzE3MywyNTUsNDddLGdyZXk6WzEyOCwxMjgsMTI4XSxob25leWRldzpbMjQwLDI1NSwyNDBdLGhvdHBpbms6WzI1NSwxMDUsMTgwXSxpbmRpYW5yZWQ6WzIwNSw5Miw5Ml0saW5kaWdvOls3NSwwLDEzMF0saXZvcnk6WzI1NSwyNTUsMjQwXSxraGFraTpbMjQwLDIzMCwxNDBdLGxhdmVuZGVyOlsyMzAsMjMwLDI1MF0sbGF2ZW5kZXJibHVzaDpbMjU1LDI0MCwyNDVdLGxhd25ncmVlbjpbMTI0LDI1MiwwXSxsZW1vbmNoaWZmb246WzI1NSwyNTAsMjA1XSxsaWdodGJsdWU6WzE3MywyMTYsMjMwXSxsaWdodGNvcmFsOlsyNDAsMTI4LDEyOF0sbGlnaHRjeWFuOlsyMjQsMjU1LDI1NV0sbGlnaHRnb2xkZW5yb2R5ZWxsb3c6WzI1MCwyNTAsMjEwXSxsaWdodGdyYXk6WzIxMSwyMTEsMjExXSxsaWdodGdyZWVuOlsxNDQsMjM4LDE0NF0sbGlnaHRncmV5OlsyMTEsMjExLDIxMV0sbGlnaHRwaW5rOlsyNTUsMTgyLDE5M10sbGlnaHRzYWxtb246WzI1NSwxNjAsMTIyXSxsaWdodHNlYWdyZWVuOlszMiwxNzgsMTcwXSxsaWdodHNreWJsdWU6WzEzNSwyMDYsMjUwXSxsaWdodHNsYXRlZ3JheTpbMTE5LDEzNiwxNTNdLGxpZ2h0c2xhdGVncmV5OlsxMTksMTM2LDE1M10sbGlnaHRzdGVlbGJsdWU6WzE3NiwxOTYsMjIyXSxsaWdodHllbGxvdzpbMjU1LDI1NSwyMjRdLGxpbWU6WzAsMjU1LDBdLGxpbWVncmVlbjpbNTAsMjA1LDUwXSxsaW5lbjpbMjUwLDI0MCwyMzBdLG1hZ2VudGE6WzI1NSwwLDI1NV0sbWFyb29uOlsxMjgsMCwwXSxtZWRpdW1hcXVhbWFyaW5lOlsxMDIsMjA1LDE3MF0sbWVkaXVtYmx1ZTpbMCwwLDIwNV0sbWVkaXVtb3JjaGlkOlsxODYsODUsMjExXSxtZWRpdW1wdXJwbGU6WzE0NywxMTIsMjE5XSxtZWRpdW1zZWFncmVlbjpbNjAsMTc5LDExM10sbWVkaXVtc2xhdGVibHVlOlsxMjMsMTA0LDIzOF0sbWVkaXVtc3ByaW5nZ3JlZW46WzAsMjUwLDE1NF0sbWVkaXVtdHVycXVvaXNlOls3MiwyMDksMjA0XSxtZWRpdW12aW9sZXRyZWQ6WzE5OSwyMSwxMzNdLG1pZG5pZ2h0Ymx1ZTpbMjUsMjUsMTEyXSxtaW50Y3JlYW06WzI0NSwyNTUsMjUwXSxtaXN0eXJvc2U6WzI1NSwyMjgsMjI1XSxtb2NjYXNpbjpbMjU1LDIyOCwxODFdLG5hdmFqb3doaXRlOlsyNTUsMjIyLDE3M10sbmF2eTpbMCwwLDEyOF0sb2xkbGFjZTpbMjUzLDI0NSwyMzBdLG9saXZlOlsxMjgsMTI4LDBdLG9saXZlZHJhYjpbMTA3LDE0MiwzNV0sb3JhbmdlOlsyNTUsMTY1LDBdLG9yYW5nZXJlZDpbMjU1LDY5LDBdLG9yY2hpZDpbMjE4LDExMiwyMTRdLHBhbGVnb2xkZW5yb2Q6WzIzOCwyMzIsMTcwXSxwYWxlZ3JlZW46WzE1MiwyNTEsMTUyXSxwYWxldHVycXVvaXNlOlsxNzUsMjM4LDIzOF0scGFsZXZpb2xldHJlZDpbMjE5LDExMiwxNDddLHBhcGF5YXdoaXA6WzI1NSwyMzksMjEzXSxwZWFjaHB1ZmY6WzI1NSwyMTgsMTg1XSxwZXJ1OlsyMDUsMTMzLDYzXSxwaW5rOlsyNTUsMTkyLDIwM10scGx1bTpbMjIxLDE2MCwyMjFdLHBvd2RlcmJsdWU6WzE3NiwyMjQsMjMwXSxwdXJwbGU6WzEyOCwwLDEyOF0scmViZWNjYXB1cnBsZTpbMTAyLDUxLDE1M10scmVkOlsyNTUsMCwwXSxyb3N5YnJvd246WzE4OCwxNDMsMTQzXSxyb3lhbGJsdWU6WzY1LDEwNSwyMjVdLHNhZGRsZWJyb3duOlsxMzksNjksMTldLHNhbG1vbjpbMjUwLDEyOCwxMTRdLHNhbmR5YnJvd246WzI0NCwxNjQsOTZdLHNlYWdyZWVuOls0NiwxMzksODddLHNlYXNoZWxsOlsyNTUsMjQ1LDIzOF0sc2llbm5hOlsxNjAsODIsNDVdLHNpbHZlcjpbMTkyLDE5MiwxOTJdLHNreWJsdWU6WzEzNSwyMDYsMjM1XSxzbGF0ZWJsdWU6WzEwNiw5MCwyMDVdLHNsYXRlZ3JheTpbMTEyLDEyOCwxNDRdLHNsYXRlZ3JleTpbMTEyLDEyOCwxNDRdLHNub3c6WzI1NSwyNTAsMjUwXSxzcHJpbmdncmVlbjpbMCwyNTUsMTI3XSxzdGVlbGJsdWU6WzcwLDEzMCwxODBdLHRhbjpbMjEwLDE4MCwxNDBdLHRlYWw6WzAsMTI4LDEyOF0sdGhpc3RsZTpbMjE2LDE5MSwyMTZdLHRvbWF0bzpbMjU1LDk5LDcxXSx0dXJxdW9pc2U6WzY0LDIyNCwyMDhdLHZpb2xldDpbMjM4LDEzMCwyMzhdLHdoZWF0OlsyNDUsMjIyLDE3OV0sd2hpdGU6WzI1NSwyNTUsMjU1XSx3aGl0ZXNtb2tlOlsyNDUsMjQ1LDI0NV0seWVsbG93OlsyNTUsMjU1LDBdLHllbGxvd2dyZWVuOlsxNTQsMjA1LDUwXX0sRz17fTtmb3IodmFyICQgaW4gWClHW0pTT04uc3RyaW5naWZ5KFhbJF0pXT0kfSx7fV0sNTpbZnVuY3Rpb24odCxlLGkpe3ZhciBhPXQoXCIuL2NvbnZlcnNpb25zXCIpLG89ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGx9O2Zvcih2YXIgcyBpbiBhKXtvW3MrXCJSYXdcIl09ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVyblwibnVtYmVyXCI9PXR5cGVvZiBlJiYoZT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpKSxhW3RdKGUpfX0ocyk7dmFyIG49LyhcXHcrKTIoXFx3KykvLmV4ZWMocykscj1uWzFdLGg9blsyXTtvW3JdPW9bcl18fHt9LG9bcl1baF09b1tzXT1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7XCJudW1iZXJcIj09dHlwZW9mIGUmJihlPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cykpO3ZhciBpPWFbdF0oZSk7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGl8fHZvaWQgMD09PWkpcmV0dXJuIGk7Zm9yKHZhciBvPTA7bzxpLmxlbmd0aDtvKyspaVtvXT1NYXRoLnJvdW5kKGlbb10pO3JldHVybiBpfX0ocyl9dmFyIGw9ZnVuY3Rpb24oKXt0aGlzLmNvbnZzPXt9fTtsLnByb3RvdHlwZS5yb3V0ZVNwYWNlPWZ1bmN0aW9uKHQsZSl7dmFyIGk9ZVswXTtyZXR1cm4gdm9pZCAwPT09aT90aGlzLmdldFZhbHVlcyh0KTooXCJudW1iZXJcIj09dHlwZW9mIGkmJihpPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGUpKSx0aGlzLnNldFZhbHVlcyh0LGkpKX0sbC5wcm90b3R5cGUuc2V0VmFsdWVzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuc3BhY2U9dCx0aGlzLmNvbnZzPXt9LHRoaXMuY29udnNbdF09ZSx0aGlzfSxsLnByb3RvdHlwZS5nZXRWYWx1ZXM9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5jb252c1t0XTtpZighZSl7dmFyIGk9dGhpcy5zcGFjZSxhPXRoaXMuY29udnNbaV07ZT1vW2ldW3RdKGEpLHRoaXMuY29udnNbdF09ZX1yZXR1cm4gZX0sW1wicmdiXCIsXCJoc2xcIixcImhzdlwiLFwiY215a1wiLFwia2V5d29yZFwiXS5mb3JFYWNoKGZ1bmN0aW9uKHQpe2wucHJvdG90eXBlW3RdPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnJvdXRlU3BhY2UodCxhcmd1bWVudHMpfX0pLGUuZXhwb3J0cz1vfSx7XCIuL2NvbnZlcnNpb25zXCI6NH1dLDY6W2Z1bmN0aW9uKHQsZSxpKXtlLmV4cG9ydHM9e2FsaWNlYmx1ZTpbMjQwLDI0OCwyNTVdLGFudGlxdWV3aGl0ZTpbMjUwLDIzNSwyMTVdLGFxdWE6WzAsMjU1LDI1NV0sYXF1YW1hcmluZTpbMTI3LDI1NSwyMTJdLGF6dXJlOlsyNDAsMjU1LDI1NV0sYmVpZ2U6WzI0NSwyNDUsMjIwXSxiaXNxdWU6WzI1NSwyMjgsMTk2XSxibGFjazpbMCwwLDBdLGJsYW5jaGVkYWxtb25kOlsyNTUsMjM1LDIwNV0sYmx1ZTpbMCwwLDI1NV0sYmx1ZXZpb2xldDpbMTM4LDQzLDIyNl0sYnJvd246WzE2NSw0Miw0Ml0sYnVybHl3b29kOlsyMjIsMTg0LDEzNV0sY2FkZXRibHVlOls5NSwxNTgsMTYwXSxjaGFydHJldXNlOlsxMjcsMjU1LDBdLGNob2NvbGF0ZTpbMjEwLDEwNSwzMF0sY29yYWw6WzI1NSwxMjcsODBdLGNvcm5mbG93ZXJibHVlOlsxMDAsMTQ5LDIzN10sY29ybnNpbGs6WzI1NSwyNDgsMjIwXSxjcmltc29uOlsyMjAsMjAsNjBdLGN5YW46WzAsMjU1LDI1NV0sZGFya2JsdWU6WzAsMCwxMzldLGRhcmtjeWFuOlswLDEzOSwxMzldLGRhcmtnb2xkZW5yb2Q6WzE4NCwxMzQsMTFdLGRhcmtncmF5OlsxNjksMTY5LDE2OV0sZGFya2dyZWVuOlswLDEwMCwwXSxkYXJrZ3JleTpbMTY5LDE2OSwxNjldLGRhcmtraGFraTpbMTg5LDE4MywxMDddLGRhcmttYWdlbnRhOlsxMzksMCwxMzldLGRhcmtvbGl2ZWdyZWVuOls4NSwxMDcsNDddLGRhcmtvcmFuZ2U6WzI1NSwxNDAsMF0sZGFya29yY2hpZDpbMTUzLDUwLDIwNF0sZGFya3JlZDpbMTM5LDAsMF0sZGFya3NhbG1vbjpbMjMzLDE1MCwxMjJdLGRhcmtzZWFncmVlbjpbMTQzLDE4OCwxNDNdLGRhcmtzbGF0ZWJsdWU6WzcyLDYxLDEzOV0sZGFya3NsYXRlZ3JheTpbNDcsNzksNzldLGRhcmtzbGF0ZWdyZXk6WzQ3LDc5LDc5XSxkYXJrdHVycXVvaXNlOlswLDIwNiwyMDldLGRhcmt2aW9sZXQ6WzE0OCwwLDIxMV0sZGVlcHBpbms6WzI1NSwyMCwxNDddLGRlZXBza3libHVlOlswLDE5MSwyNTVdLGRpbWdyYXk6WzEwNSwxMDUsMTA1XSxkaW1ncmV5OlsxMDUsMTA1LDEwNV0sZG9kZ2VyYmx1ZTpbMzAsMTQ0LDI1NV0sZmlyZWJyaWNrOlsxNzgsMzQsMzRdLGZsb3JhbHdoaXRlOlsyNTUsMjUwLDI0MF0sZm9yZXN0Z3JlZW46WzM0LDEzOSwzNF0sZnVjaHNpYTpbMjU1LDAsMjU1XSxnYWluc2Jvcm86WzIyMCwyMjAsMjIwXSxnaG9zdHdoaXRlOlsyNDgsMjQ4LDI1NV0sZ29sZDpbMjU1LDIxNSwwXSxnb2xkZW5yb2Q6WzIxOCwxNjUsMzJdLGdyYXk6WzEyOCwxMjgsMTI4XSxncmVlbjpbMCwxMjgsMF0sZ3JlZW55ZWxsb3c6WzE3MywyNTUsNDddLGdyZXk6WzEyOCwxMjgsMTI4XSxob25leWRldzpbMjQwLDI1NSwyNDBdLGhvdHBpbms6WzI1NSwxMDUsMTgwXSxpbmRpYW5yZWQ6WzIwNSw5Miw5Ml0saW5kaWdvOls3NSwwLDEzMF0saXZvcnk6WzI1NSwyNTUsMjQwXSxraGFraTpbMjQwLDIzMCwxNDBdLGxhdmVuZGVyOlsyMzAsMjMwLDI1MF0sbGF2ZW5kZXJibHVzaDpbMjU1LDI0MCwyNDVdLGxhd25ncmVlbjpbMTI0LDI1MiwwXSxsZW1vbmNoaWZmb246WzI1NSwyNTAsMjA1XSxsaWdodGJsdWU6WzE3MywyMTYsMjMwXSxsaWdodGNvcmFsOlsyNDAsMTI4LDEyOF0sbGlnaHRjeWFuOlsyMjQsMjU1LDI1NV0sbGlnaHRnb2xkZW5yb2R5ZWxsb3c6WzI1MCwyNTAsMjEwXSxsaWdodGdyYXk6WzIxMSwyMTEsMjExXSxsaWdodGdyZWVuOlsxNDQsMjM4LDE0NF0sbGlnaHRncmV5OlsyMTEsMjExLDIxMV0sbGlnaHRwaW5rOlsyNTUsMTgyLDE5M10sbGlnaHRzYWxtb246WzI1NSwxNjAsMTIyXSxsaWdodHNlYWdyZWVuOlszMiwxNzgsMTcwXSxsaWdodHNreWJsdWU6WzEzNSwyMDYsMjUwXSxsaWdodHNsYXRlZ3JheTpbMTE5LDEzNiwxNTNdLGxpZ2h0c2xhdGVncmV5OlsxMTksMTM2LDE1M10sbGlnaHRzdGVlbGJsdWU6WzE3NiwxOTYsMjIyXSxsaWdodHllbGxvdzpbMjU1LDI1NSwyMjRdLGxpbWU6WzAsMjU1LDBdLGxpbWVncmVlbjpbNTAsMjA1LDUwXSxsaW5lbjpbMjUwLDI0MCwyMzBdLG1hZ2VudGE6WzI1NSwwLDI1NV0sbWFyb29uOlsxMjgsMCwwXSxtZWRpdW1hcXVhbWFyaW5lOlsxMDIsMjA1LDE3MF0sbWVkaXVtYmx1ZTpbMCwwLDIwNV0sbWVkaXVtb3JjaGlkOlsxODYsODUsMjExXSxtZWRpdW1wdXJwbGU6WzE0NywxMTIsMjE5XSxtZWRpdW1zZWFncmVlbjpbNjAsMTc5LDExM10sbWVkaXVtc2xhdGVibHVlOlsxMjMsMTA0LDIzOF0sbWVkaXVtc3ByaW5nZ3JlZW46WzAsMjUwLDE1NF0sbWVkaXVtdHVycXVvaXNlOls3MiwyMDksMjA0XSxtZWRpdW12aW9sZXRyZWQ6WzE5OSwyMSwxMzNdLG1pZG5pZ2h0Ymx1ZTpbMjUsMjUsMTEyXSxtaW50Y3JlYW06WzI0NSwyNTUsMjUwXSxtaXN0eXJvc2U6WzI1NSwyMjgsMjI1XSxtb2NjYXNpbjpbMjU1LDIyOCwxODFdLG5hdmFqb3doaXRlOlsyNTUsMjIyLDE3M10sbmF2eTpbMCwwLDEyOF0sb2xkbGFjZTpbMjUzLDI0NSwyMzBdLG9saXZlOlsxMjgsMTI4LDBdLG9saXZlZHJhYjpbMTA3LDE0MiwzNV0sb3JhbmdlOlsyNTUsMTY1LDBdLG9yYW5nZXJlZDpbMjU1LDY5LDBdLG9yY2hpZDpbMjE4LDExMiwyMTRdLHBhbGVnb2xkZW5yb2Q6WzIzOCwyMzIsMTcwXSxwYWxlZ3JlZW46WzE1MiwyNTEsMTUyXSxwYWxldHVycXVvaXNlOlsxNzUsMjM4LDIzOF0scGFsZXZpb2xldHJlZDpbMjE5LDExMiwxNDddLHBhcGF5YXdoaXA6WzI1NSwyMzksMjEzXSxwZWFjaHB1ZmY6WzI1NSwyMTgsMTg1XSxwZXJ1OlsyMDUsMTMzLDYzXSxwaW5rOlsyNTUsMTkyLDIwM10scGx1bTpbMjIxLDE2MCwyMjFdLHBvd2RlcmJsdWU6WzE3NiwyMjQsMjMwXSxwdXJwbGU6WzEyOCwwLDEyOF0scmViZWNjYXB1cnBsZTpbMTAyLDUxLDE1M10scmVkOlsyNTUsMCwwXSxyb3N5YnJvd246WzE4OCwxNDMsMTQzXSxyb3lhbGJsdWU6WzY1LDEwNSwyMjVdLHNhZGRsZWJyb3duOlsxMzksNjksMTldLHNhbG1vbjpbMjUwLDEyOCwxMTRdLHNhbmR5YnJvd246WzI0NCwxNjQsOTZdLHNlYWdyZWVuOls0NiwxMzksODddLHNlYXNoZWxsOlsyNTUsMjQ1LDIzOF0sc2llbm5hOlsxNjAsODIsNDVdLHNpbHZlcjpbMTkyLDE5MiwxOTJdLHNreWJsdWU6WzEzNSwyMDYsMjM1XSxzbGF0ZWJsdWU6WzEwNiw5MCwyMDVdLHNsYXRlZ3JheTpbMTEyLDEyOCwxNDRdLHNsYXRlZ3JleTpbMTEyLDEyOCwxNDRdLHNub3c6WzI1NSwyNTAsMjUwXSxzcHJpbmdncmVlbjpbMCwyNTUsMTI3XSxzdGVlbGJsdWU6WzcwLDEzMCwxODBdLHRhbjpbMjEwLDE4MCwxNDBdLHRlYWw6WzAsMTI4LDEyOF0sdGhpc3RsZTpbMjE2LDE5MSwyMTZdLHRvbWF0bzpbMjU1LDk5LDcxXSx0dXJxdW9pc2U6WzY0LDIyNCwyMDhdLHZpb2xldDpbMjM4LDEzMCwyMzhdLHdoZWF0OlsyNDUsMjIyLDE3OV0sd2hpdGU6WzI1NSwyNTUsMjU1XSx3aGl0ZXNtb2tlOlsyNDUsMjQ1LDI0NV0seWVsbG93OlsyNTUsMjU1LDBdLHllbGxvd2dyZWVuOlsxNTQsMjA1LDUwXX19LHt9XSw3OltmdW5jdGlvbih0LGUsaSl7dmFyIGE9dChcIi4vY29yZS9jb3JlLmpzXCIpKCk7dChcIi4vY29yZS9jb3JlLmhlbHBlcnNcIikoYSksdChcIi4vY29yZS9jb3JlLmVsZW1lbnRcIikoYSksdChcIi4vY29yZS9jb3JlLmFuaW1hdGlvblwiKShhKSx0KFwiLi9jb3JlL2NvcmUuY29udHJvbGxlclwiKShhKSx0KFwiLi9jb3JlL2NvcmUuZGF0YXNldENvbnRyb2xsZXJcIikoYSksdChcIi4vY29yZS9jb3JlLmxheW91dFNlcnZpY2VcIikoYSksdChcIi4vY29yZS9jb3JlLmxlZ2VuZFwiKShhKSx0KFwiLi9jb3JlL2NvcmUucGx1Z2luLmpzXCIpKGEpLHQoXCIuL2NvcmUvY29yZS5zY2FsZVwiKShhKSx0KFwiLi9jb3JlL2NvcmUuc2NhbGVTZXJ2aWNlXCIpKGEpLHQoXCIuL2NvcmUvY29yZS50aXRsZVwiKShhKSx0KFwiLi9jb3JlL2NvcmUudG9vbHRpcFwiKShhKSx0KFwiLi9jb250cm9sbGVycy9jb250cm9sbGVyLmJhclwiKShhKSx0KFwiLi9jb250cm9sbGVycy9jb250cm9sbGVyLmJ1YmJsZVwiKShhKSx0KFwiLi9jb250cm9sbGVycy9jb250cm9sbGVyLmRvdWdobnV0XCIpKGEpLHQoXCIuL2NvbnRyb2xsZXJzL2NvbnRyb2xsZXIubGluZVwiKShhKSx0KFwiLi9jb250cm9sbGVycy9jb250cm9sbGVyLnBvbGFyQXJlYVwiKShhKSx0KFwiLi9jb250cm9sbGVycy9jb250cm9sbGVyLnJhZGFyXCIpKGEpLHQoXCIuL3NjYWxlcy9zY2FsZS5jYXRlZ29yeVwiKShhKSx0KFwiLi9zY2FsZXMvc2NhbGUubGluZWFyXCIpKGEpLHQoXCIuL3NjYWxlcy9zY2FsZS5sb2dhcml0aG1pY1wiKShhKSx0KFwiLi9zY2FsZXMvc2NhbGUucmFkaWFsTGluZWFyXCIpKGEpLHQoXCIuL3NjYWxlcy9zY2FsZS50aW1lXCIpKGEpLHQoXCIuL2VsZW1lbnRzL2VsZW1lbnQuYXJjXCIpKGEpLHQoXCIuL2VsZW1lbnRzL2VsZW1lbnQubGluZVwiKShhKSx0KFwiLi9lbGVtZW50cy9lbGVtZW50LnBvaW50XCIpKGEpLHQoXCIuL2VsZW1lbnRzL2VsZW1lbnQucmVjdGFuZ2xlXCIpKGEpLHQoXCIuL2NoYXJ0cy9DaGFydC5CYXJcIikoYSksdChcIi4vY2hhcnRzL0NoYXJ0LkJ1YmJsZVwiKShhKSx0KFwiLi9jaGFydHMvQ2hhcnQuRG91Z2hudXRcIikoYSksdChcIi4vY2hhcnRzL0NoYXJ0LkxpbmVcIikoYSksdChcIi4vY2hhcnRzL0NoYXJ0LlBvbGFyQXJlYVwiKShhKSx0KFwiLi9jaGFydHMvQ2hhcnQuUmFkYXJcIikoYSksdChcIi4vY2hhcnRzL0NoYXJ0LlNjYXR0ZXJcIikoYSksd2luZG93LkNoYXJ0PWUuZXhwb3J0cz1hfSx7XCIuL2NoYXJ0cy9DaGFydC5CYXJcIjo4LFwiLi9jaGFydHMvQ2hhcnQuQnViYmxlXCI6OSxcIi4vY2hhcnRzL0NoYXJ0LkRvdWdobnV0XCI6MTAsXCIuL2NoYXJ0cy9DaGFydC5MaW5lXCI6MTEsXCIuL2NoYXJ0cy9DaGFydC5Qb2xhckFyZWFcIjoxMixcIi4vY2hhcnRzL0NoYXJ0LlJhZGFyXCI6MTMsXCIuL2NoYXJ0cy9DaGFydC5TY2F0dGVyXCI6MTQsXCIuL2NvbnRyb2xsZXJzL2NvbnRyb2xsZXIuYmFyXCI6MTUsXCIuL2NvbnRyb2xsZXJzL2NvbnRyb2xsZXIuYnViYmxlXCI6MTYsXCIuL2NvbnRyb2xsZXJzL2NvbnRyb2xsZXIuZG91Z2hudXRcIjoxNyxcIi4vY29udHJvbGxlcnMvY29udHJvbGxlci5saW5lXCI6MTgsXCIuL2NvbnRyb2xsZXJzL2NvbnRyb2xsZXIucG9sYXJBcmVhXCI6MTksXCIuL2NvbnRyb2xsZXJzL2NvbnRyb2xsZXIucmFkYXJcIjoyMCxcIi4vY29yZS9jb3JlLmFuaW1hdGlvblwiOjIxLFwiLi9jb3JlL2NvcmUuY29udHJvbGxlclwiOjIyLFwiLi9jb3JlL2NvcmUuZGF0YXNldENvbnRyb2xsZXJcIjoyMyxcIi4vY29yZS9jb3JlLmVsZW1lbnRcIjoyNCxcIi4vY29yZS9jb3JlLmhlbHBlcnNcIjoyNSxcIi4vY29yZS9jb3JlLmpzXCI6MjYsXCIuL2NvcmUvY29yZS5sYXlvdXRTZXJ2aWNlXCI6MjcsXCIuL2NvcmUvY29yZS5sZWdlbmRcIjoyOCxcIi4vY29yZS9jb3JlLnBsdWdpbi5qc1wiOjI5LFwiLi9jb3JlL2NvcmUuc2NhbGVcIjozMCxcIi4vY29yZS9jb3JlLnNjYWxlU2VydmljZVwiOjMxLFwiLi9jb3JlL2NvcmUudGl0bGVcIjozMixcIi4vY29yZS9jb3JlLnRvb2x0aXBcIjozMyxcIi4vZWxlbWVudHMvZWxlbWVudC5hcmNcIjozNCxcIi4vZWxlbWVudHMvZWxlbWVudC5saW5lXCI6MzUsXCIuL2VsZW1lbnRzL2VsZW1lbnQucG9pbnRcIjozNixcIi4vZWxlbWVudHMvZWxlbWVudC5yZWN0YW5nbGVcIjozNyxcIi4vc2NhbGVzL3NjYWxlLmNhdGVnb3J5XCI6MzgsXCIuL3NjYWxlcy9zY2FsZS5saW5lYXJcIjozOSxcIi4vc2NhbGVzL3NjYWxlLmxvZ2FyaXRobWljXCI6NDAsXCIuL3NjYWxlcy9zY2FsZS5yYWRpYWxMaW5lYXJcIjo0MSxcIi4vc2NhbGVzL3NjYWxlLnRpbWVcIjo0Mn1dLDg6W2Z1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9ZnVuY3Rpb24odCl7dC5CYXI9ZnVuY3Rpb24oZSxpKXtyZXR1cm4gaS50eXBlPVwiYmFyXCIsbmV3IHQoZSxpKX19fSx7fV0sOTpbZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1mdW5jdGlvbih0KXt0LkJ1YmJsZT1mdW5jdGlvbihlLGkpe3JldHVybiBpLnR5cGU9XCJidWJibGVcIixuZXcgdChlLGkpfX19LHt9XSwxMDpbZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1mdW5jdGlvbih0KXt0LkRvdWdobnV0PWZ1bmN0aW9uKGUsaSl7cmV0dXJuIGkudHlwZT1cImRvdWdobnV0XCIsbmV3IHQoZSxpKX19fSx7fV0sMTE6W2Z1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9ZnVuY3Rpb24odCl7dC5MaW5lPWZ1bmN0aW9uKGUsaSl7cmV0dXJuIGkudHlwZT1cImxpbmVcIixuZXcgdChlLGkpfX19LHt9XSwxMjpbZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1mdW5jdGlvbih0KXt0LlBvbGFyQXJlYT1mdW5jdGlvbihlLGkpe3JldHVybiBpLnR5cGU9XCJwb2xhckFyZWFcIixuZXcgdChlLGkpfX19LHt9XSwxMzpbZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1mdW5jdGlvbih0KXt2YXIgZT10LmhlbHBlcnMsaT17YXNwZWN0UmF0aW86MX07dC5SYWRhcj1mdW5jdGlvbihhLG8pe3JldHVybiBvLm9wdGlvbnM9ZS5jb25maWdNZXJnZShpLG8ub3B0aW9ucyksby50eXBlPVwicmFkYXJcIixuZXcgdChhLG8pfX19LHt9XSwxNDpbZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1mdW5jdGlvbih0KXt2YXIgZT17aG92ZXI6e21vZGU6XCJzaW5nbGVcIn0sc2NhbGVzOnt4QXhlczpbe3R5cGU6XCJsaW5lYXJcIixwb3NpdGlvbjpcImJvdHRvbVwiLGlkOlwieC1heGlzLTFcIn1dLHlBeGVzOlt7dHlwZTpcImxpbmVhclwiLHBvc2l0aW9uOlwibGVmdFwiLGlkOlwieS1heGlzLTFcIn1dfSx0b29sdGlwczp7Y2FsbGJhY2tzOnt0aXRsZTpmdW5jdGlvbih0LGUpe3JldHVyblwiXCJ9LGxhYmVsOmZ1bmN0aW9uKHQsZSl7cmV0dXJuXCIoXCIrdC54TGFiZWwrXCIsIFwiK3QueUxhYmVsK1wiKVwifX19fTt0LmRlZmF1bHRzLnNjYXR0ZXI9ZSx0LmNvbnRyb2xsZXJzLnNjYXR0ZXI9dC5jb250cm9sbGVycy5saW5lLHQuU2NhdHRlcj1mdW5jdGlvbihlLGkpe3JldHVybiBpLnR5cGU9XCJzY2F0dGVyXCIsbmV3IHQoZSxpKX19fSx7fV0sMTU6W2Z1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9ZnVuY3Rpb24odCl7dmFyIGU9dC5oZWxwZXJzO3QuZGVmYXVsdHMuYmFyPXtob3Zlcjp7bW9kZTpcImxhYmVsXCJ9LHNjYWxlczp7eEF4ZXM6W3t0eXBlOlwiY2F0ZWdvcnlcIixjYXRlZ29yeVBlcmNlbnRhZ2U6LjgsYmFyUGVyY2VudGFnZTouOSxncmlkTGluZXM6e29mZnNldEdyaWRMaW5lczohMH19XSx5QXhlczpbe3R5cGU6XCJsaW5lYXJcIn1dfX0sdC5jb250cm9sbGVycy5iYXI9dC5EYXRhc2V0Q29udHJvbGxlci5leHRlbmQoe2luaXRpYWxpemU6ZnVuY3Rpb24oZSxpKXt0LkRhdGFzZXRDb250cm9sbGVyLnByb3RvdHlwZS5pbml0aWFsaXplLmNhbGwodGhpcyxlLGkpLHRoaXMuZ2V0TWV0YSgpLmJhcj0hMH0sZ2V0QmFyQ291bnQ6ZnVuY3Rpb24oKXt2YXIgdD0wO3JldHVybiBlLmVhY2godGhpcy5jaGFydC5kYXRhLmRhdGFzZXRzLGZ1bmN0aW9uKGUsaSl7dmFyIGE9dGhpcy5jaGFydC5nZXREYXRhc2V0TWV0YShpKTthLmJhciYmdGhpcy5jaGFydC5pc0RhdGFzZXRWaXNpYmxlKGkpJiYrK3R9LHRoaXMpLHR9LGFkZEVsZW1lbnRzOmZ1bmN0aW9uKCl7dmFyIGk9dGhpcy5nZXRNZXRhKCk7ZS5lYWNoKHRoaXMuZ2V0RGF0YXNldCgpLmRhdGEsZnVuY3Rpb24oZSxhKXtpLmRhdGFbYV09aS5kYXRhW2FdfHxuZXcgdC5lbGVtZW50cy5SZWN0YW5nbGUoe19jaGFydDp0aGlzLmNoYXJ0LmNoYXJ0LF9kYXRhc2V0SW5kZXg6dGhpcy5pbmRleCxfaW5kZXg6YX0pfSx0aGlzKX0sYWRkRWxlbWVudEFuZFJlc2V0OmZ1bmN0aW9uKGUpe3ZhciBpPW5ldyB0LmVsZW1lbnRzLlJlY3RhbmdsZSh7X2NoYXJ0OnRoaXMuY2hhcnQuY2hhcnQsX2RhdGFzZXRJbmRleDp0aGlzLmluZGV4LF9pbmRleDplfSksYT10aGlzLmdldEJhckNvdW50KCk7dGhpcy5nZXRNZXRhKCkuZGF0YS5zcGxpY2UoZSwwLGkpLHRoaXMudXBkYXRlRWxlbWVudChpLGUsITAsYSl9LHVwZGF0ZTpmdW5jdGlvbih0KXt2YXIgaT10aGlzLmdldEJhckNvdW50KCk7ZS5lYWNoKHRoaXMuZ2V0TWV0YSgpLmRhdGEsZnVuY3Rpb24oZSxhKXt0aGlzLnVwZGF0ZUVsZW1lbnQoZSxhLHQsaSl9LHRoaXMpfSx1cGRhdGVFbGVtZW50OmZ1bmN0aW9uKHQsaSxhLG8pe3ZhciBzLG49dGhpcy5nZXRNZXRhKCkscj10aGlzLmdldFNjYWxlRm9ySWQobi54QXhpc0lEKSxoPXRoaXMuZ2V0U2NhbGVGb3JJZChuLnlBeGlzSUQpO3M9aC5taW48MCYmaC5tYXg8MD9oLmdldFBpeGVsRm9yVmFsdWUoaC5tYXgpOmgubWluPjAmJmgubWF4PjA/aC5nZXRQaXhlbEZvclZhbHVlKGgubWluKTpoLmdldFBpeGVsRm9yVmFsdWUoMCksZS5leHRlbmQodCx7X2NoYXJ0OnRoaXMuY2hhcnQuY2hhcnQsX3hTY2FsZTpyLF95U2NhbGU6aCxfZGF0YXNldEluZGV4OnRoaXMuaW5kZXgsX2luZGV4OmksX21vZGVsOnt4OnRoaXMuY2FsY3VsYXRlQmFyWChpLHRoaXMuaW5kZXgpLHk6YT9zOnRoaXMuY2FsY3VsYXRlQmFyWShpLHRoaXMuaW5kZXgpLGxhYmVsOnRoaXMuY2hhcnQuZGF0YS5sYWJlbHNbaV0sZGF0YXNldExhYmVsOnRoaXMuZ2V0RGF0YXNldCgpLmxhYmVsLGJhc2U6YT9zOnRoaXMuY2FsY3VsYXRlQmFyQmFzZSh0aGlzLmluZGV4LGkpLHdpZHRoOnRoaXMuY2FsY3VsYXRlQmFyV2lkdGgobyksYmFja2dyb3VuZENvbG9yOnQuY3VzdG9tJiZ0LmN1c3RvbS5iYWNrZ3JvdW5kQ29sb3I/dC5jdXN0b20uYmFja2dyb3VuZENvbG9yOmUuZ2V0VmFsdWVBdEluZGV4T3JEZWZhdWx0KHRoaXMuZ2V0RGF0YXNldCgpLmJhY2tncm91bmRDb2xvcixpLHRoaXMuY2hhcnQub3B0aW9ucy5lbGVtZW50cy5yZWN0YW5nbGUuYmFja2dyb3VuZENvbG9yKSxib3JkZXJTa2lwcGVkOnQuY3VzdG9tJiZ0LmN1c3RvbS5ib3JkZXJTa2lwcGVkP3QuY3VzdG9tLmJvcmRlclNraXBwZWQ6dGhpcy5jaGFydC5vcHRpb25zLmVsZW1lbnRzLnJlY3RhbmdsZS5ib3JkZXJTa2lwcGVkLGJvcmRlckNvbG9yOnQuY3VzdG9tJiZ0LmN1c3RvbS5ib3JkZXJDb2xvcj90LmN1c3RvbS5ib3JkZXJDb2xvcjplLmdldFZhbHVlQXRJbmRleE9yRGVmYXVsdCh0aGlzLmdldERhdGFzZXQoKS5ib3JkZXJDb2xvcixpLHRoaXMuY2hhcnQub3B0aW9ucy5lbGVtZW50cy5yZWN0YW5nbGUuYm9yZGVyQ29sb3IpLGJvcmRlcldpZHRoOnQuY3VzdG9tJiZ0LmN1c3RvbS5ib3JkZXJXaWR0aD90LmN1c3RvbS5ib3JkZXJXaWR0aDplLmdldFZhbHVlQXRJbmRleE9yRGVmYXVsdCh0aGlzLmdldERhdGFzZXQoKS5ib3JkZXJXaWR0aCxpLHRoaXMuY2hhcnQub3B0aW9ucy5lbGVtZW50cy5yZWN0YW5nbGUuYm9yZGVyV2lkdGgpfX0pLHQucGl2b3QoKX0sY2FsY3VsYXRlQmFyQmFzZTpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuZ2V0TWV0YSgpLGE9KHRoaXMuZ2V0U2NhbGVGb3JJZChpLnhBeGlzSUQpLHRoaXMuZ2V0U2NhbGVGb3JJZChpLnlBeGlzSUQpKSxvPTA7aWYoYS5vcHRpb25zLnN0YWNrZWQpe3ZhciBzPXRoaXMuY2hhcnQuZGF0YS5kYXRhc2V0c1t0XS5kYXRhW2VdO2lmKDA+cylmb3IodmFyIG49MDt0Pm47bisrKXt2YXIgcj10aGlzLmNoYXJ0LmRhdGEuZGF0YXNldHNbbl0saD10aGlzLmNoYXJ0LmdldERhdGFzZXRNZXRhKG4pO2guYmFyJiZoLnlBeGlzSUQ9PT1hLmlkJiZ0aGlzLmNoYXJ0LmlzRGF0YXNldFZpc2libGUobikmJihvKz1yLmRhdGFbZV08MD9yLmRhdGFbZV06MCl9ZWxzZSBmb3IodmFyIGw9MDt0Pmw7bCsrKXt2YXIgYz10aGlzLmNoYXJ0LmRhdGEuZGF0YXNldHNbbF0sZD10aGlzLmNoYXJ0LmdldERhdGFzZXRNZXRhKGwpO2QuYmFyJiZkLnlBeGlzSUQ9PT1hLmlkJiZ0aGlzLmNoYXJ0LmlzRGF0YXNldFZpc2libGUobCkmJihvKz1jLmRhdGFbZV0+MD9jLmRhdGFbZV06MCl9cmV0dXJuIGEuZ2V0UGl4ZWxGb3JWYWx1ZShvKX1yZXR1cm4gbz1hLmdldFBpeGVsRm9yVmFsdWUoYS5taW4pLGEuYmVnaW5BdFplcm98fGEubWluPD0wJiZhLm1heD49MHx8YS5taW4+PTAmJmEubWF4PD0wP289YS5nZXRQaXhlbEZvclZhbHVlKDAsMCk6YS5taW48MCYmYS5tYXg8MCYmKG89YS5nZXRQaXhlbEZvclZhbHVlKGEubWF4KSksb30sZ2V0UnVsZXI6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldE1ldGEoKSxlPXRoaXMuZ2V0U2NhbGVGb3JJZCh0LnhBeGlzSUQpLGk9KHRoaXMuZ2V0U2NhbGVGb3JJZCh0LnlBeGlzSUQpLHRoaXMuZ2V0QmFyQ291bnQoKSksYT1mdW5jdGlvbigpe2Zvcih2YXIgdD1lLmdldFBpeGVsRm9yVGljaygxKS1lLmdldFBpeGVsRm9yVGljaygwKSxpPTI7aTxlLnRpY2tzLmxlbmd0aDtpKyspdD1NYXRoLm1pbihlLmdldFBpeGVsRm9yVGljayhpKS1lLmdldFBpeGVsRm9yVGljayhpLTEpLHQpO3JldHVybiB0fS5jYWxsKHRoaXMpLG89YSplLm9wdGlvbnMuY2F0ZWdvcnlQZXJjZW50YWdlLHM9KGEtYSplLm9wdGlvbnMuY2F0ZWdvcnlQZXJjZW50YWdlKS8yLG49by9pO2lmKGUudGlja3MubGVuZ3RoIT09dGhpcy5jaGFydC5kYXRhLmxhYmVscy5sZW5ndGgpe3ZhciByPWUudGlja3MubGVuZ3RoL3RoaXMuY2hhcnQuZGF0YS5sYWJlbHMubGVuZ3RoO24qPXJ9dmFyIGg9biplLm9wdGlvbnMuYmFyUGVyY2VudGFnZSxsPW4tbiplLm9wdGlvbnMuYmFyUGVyY2VudGFnZTtyZXR1cm57ZGF0YXNldENvdW50OmksdGlja1dpZHRoOmEsY2F0ZWdvcnlXaWR0aDpvLGNhdGVnb3J5U3BhY2luZzpzLGZ1bGxCYXJXaWR0aDpuLGJhcldpZHRoOmgsYmFyU3BhY2luZzpsfX0sY2FsY3VsYXRlQmFyV2lkdGg6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldFNjYWxlRm9ySWQodGhpcy5nZXRNZXRhKCkueEF4aXNJRCksZT10aGlzLmdldFJ1bGVyKCk7cmV0dXJuIHQub3B0aW9ucy5zdGFja2VkP2UuY2F0ZWdvcnlXaWR0aDplLmJhcldpZHRofSxnZXRCYXJJbmRleDpmdW5jdGlvbih0KXt2YXIgZSxpLGE9MDtmb3IoaT0wO3Q+aTsrK2kpZT10aGlzLmNoYXJ0LmdldERhdGFzZXRNZXRhKGkpLGUuYmFyJiZ0aGlzLmNoYXJ0LmlzRGF0YXNldFZpc2libGUoaSkmJisrYTtyZXR1cm4gYX0sY2FsY3VsYXRlQmFyWDpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuZ2V0TWV0YSgpLGE9KHRoaXMuZ2V0U2NhbGVGb3JJZChpLnlBeGlzSUQpLHRoaXMuZ2V0U2NhbGVGb3JJZChpLnhBeGlzSUQpKSxvPXRoaXMuZ2V0QmFySW5kZXgoZSkscz10aGlzLmdldFJ1bGVyKCksbj1hLmdldFBpeGVsRm9yVmFsdWUobnVsbCx0LGUsdGhpcy5jaGFydC5pc0NvbWJvKTtyZXR1cm4gbi09dGhpcy5jaGFydC5pc0NvbWJvP3MudGlja1dpZHRoLzI6MCxhLm9wdGlvbnMuc3RhY2tlZD9uK3MuY2F0ZWdvcnlXaWR0aC8yK3MuY2F0ZWdvcnlTcGFjaW5nOm4rcy5iYXJXaWR0aC8yK3MuY2F0ZWdvcnlTcGFjaW5nK3MuYmFyV2lkdGgqbytzLmJhclNwYWNpbmcvMitzLmJhclNwYWNpbmcqb30sY2FsY3VsYXRlQmFyWTpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuZ2V0TWV0YSgpLGE9KHRoaXMuZ2V0U2NhbGVGb3JJZChpLnhBeGlzSUQpLHRoaXMuZ2V0U2NhbGVGb3JJZChpLnlBeGlzSUQpKSxvPXRoaXMuZ2V0RGF0YXNldCgpLmRhdGFbdF07aWYoYS5vcHRpb25zLnN0YWNrZWQpe2Zvcih2YXIgcz0wLG49MCxyPTA7ZT5yO3IrKyl7dmFyIGg9dGhpcy5jaGFydC5kYXRhLmRhdGFzZXRzW3JdLGw9dGhpcy5jaGFydC5nZXREYXRhc2V0TWV0YShyKTtsLmJhciYmbC55QXhpc0lEPT09YS5pZCYmdGhpcy5jaGFydC5pc0RhdGFzZXRWaXNpYmxlKHIpJiYoaC5kYXRhW3RdPDA/bis9aC5kYXRhW3RdfHwwOnMrPWguZGF0YVt0XXx8MCl9cmV0dXJuIDA+bz9hLmdldFBpeGVsRm9yVmFsdWUobitvKTphLmdldFBpeGVsRm9yVmFsdWUocytvKX1yZXR1cm4gYS5nZXRQaXhlbEZvclZhbHVlKG8pfSxkcmF3OmZ1bmN0aW9uKHQpe3ZhciBpPXR8fDE7ZS5lYWNoKHRoaXMuZ2V0TWV0YSgpLmRhdGEsZnVuY3Rpb24odCxlKXt2YXIgYT10aGlzLmdldERhdGFzZXQoKS5kYXRhW2VdO251bGw9PT1hfHx2b2lkIDA9PT1hfHxpc05hTihhKXx8dC50cmFuc2l0aW9uKGkpLmRyYXcoKX0sdGhpcyl9LHNldEhvdmVyU3R5bGU6ZnVuY3Rpb24odCl7dmFyIGk9dGhpcy5jaGFydC5kYXRhLmRhdGFzZXRzW3QuX2RhdGFzZXRJbmRleF0sYT10Ll9pbmRleDt0Ll9tb2RlbC5iYWNrZ3JvdW5kQ29sb3I9dC5jdXN0b20mJnQuY3VzdG9tLmhvdmVyQmFja2dyb3VuZENvbG9yP3QuY3VzdG9tLmhvdmVyQmFja2dyb3VuZENvbG9yOmUuZ2V0VmFsdWVBdEluZGV4T3JEZWZhdWx0KGkuaG92ZXJCYWNrZ3JvdW5kQ29sb3IsYSxlLmdldEhvdmVyQ29sb3IodC5fbW9kZWwuYmFja2dyb3VuZENvbG9yKSksXG50Ll9tb2RlbC5ib3JkZXJDb2xvcj10LmN1c3RvbSYmdC5jdXN0b20uaG92ZXJCb3JkZXJDb2xvcj90LmN1c3RvbS5ob3ZlckJvcmRlckNvbG9yOmUuZ2V0VmFsdWVBdEluZGV4T3JEZWZhdWx0KGkuaG92ZXJCb3JkZXJDb2xvcixhLGUuZ2V0SG92ZXJDb2xvcih0Ll9tb2RlbC5ib3JkZXJDb2xvcikpLHQuX21vZGVsLmJvcmRlcldpZHRoPXQuY3VzdG9tJiZ0LmN1c3RvbS5ob3ZlckJvcmRlcldpZHRoP3QuY3VzdG9tLmhvdmVyQm9yZGVyV2lkdGg6ZS5nZXRWYWx1ZUF0SW5kZXhPckRlZmF1bHQoaS5ob3ZlckJvcmRlcldpZHRoLGEsdC5fbW9kZWwuYm9yZGVyV2lkdGgpfSxyZW1vdmVIb3ZlclN0eWxlOmZ1bmN0aW9uKHQpe3ZhciBpPSh0aGlzLmNoYXJ0LmRhdGEuZGF0YXNldHNbdC5fZGF0YXNldEluZGV4XSx0Ll9pbmRleCk7dC5fbW9kZWwuYmFja2dyb3VuZENvbG9yPXQuY3VzdG9tJiZ0LmN1c3RvbS5iYWNrZ3JvdW5kQ29sb3I/dC5jdXN0b20uYmFja2dyb3VuZENvbG9yOmUuZ2V0VmFsdWVBdEluZGV4T3JEZWZhdWx0KHRoaXMuZ2V0RGF0YXNldCgpLmJhY2tncm91bmRDb2xvcixpLHRoaXMuY2hhcnQub3B0aW9ucy5lbGVtZW50cy5yZWN0YW5nbGUuYmFja2dyb3VuZENvbG9yKSx0Ll9tb2RlbC5ib3JkZXJDb2xvcj10LmN1c3RvbSYmdC5jdXN0b20uYm9yZGVyQ29sb3I/dC5jdXN0b20uYm9yZGVyQ29sb3I6ZS5nZXRWYWx1ZUF0SW5kZXhPckRlZmF1bHQodGhpcy5nZXREYXRhc2V0KCkuYm9yZGVyQ29sb3IsaSx0aGlzLmNoYXJ0Lm9wdGlvbnMuZWxlbWVudHMucmVjdGFuZ2xlLmJvcmRlckNvbG9yKSx0Ll9tb2RlbC5ib3JkZXJXaWR0aD10LmN1c3RvbSYmdC5jdXN0b20uYm9yZGVyV2lkdGg/dC5jdXN0b20uYm9yZGVyV2lkdGg6ZS5nZXRWYWx1ZUF0SW5kZXhPckRlZmF1bHQodGhpcy5nZXREYXRhc2V0KCkuYm9yZGVyV2lkdGgsaSx0aGlzLmNoYXJ0Lm9wdGlvbnMuZWxlbWVudHMucmVjdGFuZ2xlLmJvcmRlcldpZHRoKX19KSx0LmRlZmF1bHRzLmhvcml6b250YWxCYXI9e2hvdmVyOnttb2RlOlwibGFiZWxcIn0sc2NhbGVzOnt4QXhlczpbe3R5cGU6XCJsaW5lYXJcIixwb3NpdGlvbjpcImJvdHRvbVwifV0seUF4ZXM6W3twb3NpdGlvbjpcImxlZnRcIix0eXBlOlwiY2F0ZWdvcnlcIixjYXRlZ29yeVBlcmNlbnRhZ2U6LjgsYmFyUGVyY2VudGFnZTouOSxncmlkTGluZXM6e29mZnNldEdyaWRMaW5lczohMH19XX19LHQuY29udHJvbGxlcnMuaG9yaXpvbnRhbEJhcj10LmNvbnRyb2xsZXJzLmJhci5leHRlbmQoe3VwZGF0ZUVsZW1lbnQ6ZnVuY3Rpb24odCxpLGEsbyl7dmFyIHMsbj10aGlzLmdldE1ldGEoKSxyPXRoaXMuZ2V0U2NhbGVGb3JJZChuLnhBeGlzSUQpLGg9dGhpcy5nZXRTY2FsZUZvcklkKG4ueUF4aXNJRCk7cz1yLm1pbjwwJiZyLm1heDwwP3IuZ2V0UGl4ZWxGb3JWYWx1ZShyLm1heCk6ci5taW4+MCYmci5tYXg+MD9yLmdldFBpeGVsRm9yVmFsdWUoci5taW4pOnIuZ2V0UGl4ZWxGb3JWYWx1ZSgwKSxlLmV4dGVuZCh0LHtfY2hhcnQ6dGhpcy5jaGFydC5jaGFydCxfeFNjYWxlOnIsX3lTY2FsZTpoLF9kYXRhc2V0SW5kZXg6dGhpcy5pbmRleCxfaW5kZXg6aSxfbW9kZWw6e3g6YT9zOnRoaXMuY2FsY3VsYXRlQmFyWChpLHRoaXMuaW5kZXgpLHk6dGhpcy5jYWxjdWxhdGVCYXJZKGksdGhpcy5pbmRleCksbGFiZWw6dGhpcy5jaGFydC5kYXRhLmxhYmVsc1tpXSxkYXRhc2V0TGFiZWw6dGhpcy5nZXREYXRhc2V0KCkubGFiZWwsYmFzZTphP3M6dGhpcy5jYWxjdWxhdGVCYXJCYXNlKHRoaXMuaW5kZXgsaSksaGVpZ2h0OnRoaXMuY2FsY3VsYXRlQmFySGVpZ2h0KG8pLGJhY2tncm91bmRDb2xvcjp0LmN1c3RvbSYmdC5jdXN0b20uYmFja2dyb3VuZENvbG9yP3QuY3VzdG9tLmJhY2tncm91bmRDb2xvcjplLmdldFZhbHVlQXRJbmRleE9yRGVmYXVsdCh0aGlzLmdldERhdGFzZXQoKS5iYWNrZ3JvdW5kQ29sb3IsaSx0aGlzLmNoYXJ0Lm9wdGlvbnMuZWxlbWVudHMucmVjdGFuZ2xlLmJhY2tncm91bmRDb2xvciksYm9yZGVyU2tpcHBlZDp0LmN1c3RvbSYmdC5jdXN0b20uYm9yZGVyU2tpcHBlZD90LmN1c3RvbS5ib3JkZXJTa2lwcGVkOnRoaXMuY2hhcnQub3B0aW9ucy5lbGVtZW50cy5yZWN0YW5nbGUuYm9yZGVyU2tpcHBlZCxib3JkZXJDb2xvcjp0LmN1c3RvbSYmdC5jdXN0b20uYm9yZGVyQ29sb3I/dC5jdXN0b20uYm9yZGVyQ29sb3I6ZS5nZXRWYWx1ZUF0SW5kZXhPckRlZmF1bHQodGhpcy5nZXREYXRhc2V0KCkuYm9yZGVyQ29sb3IsaSx0aGlzLmNoYXJ0Lm9wdGlvbnMuZWxlbWVudHMucmVjdGFuZ2xlLmJvcmRlckNvbG9yKSxib3JkZXJXaWR0aDp0LmN1c3RvbSYmdC5jdXN0b20uYm9yZGVyV2lkdGg/dC5jdXN0b20uYm9yZGVyV2lkdGg6ZS5nZXRWYWx1ZUF0SW5kZXhPckRlZmF1bHQodGhpcy5nZXREYXRhc2V0KCkuYm9yZGVyV2lkdGgsaSx0aGlzLmNoYXJ0Lm9wdGlvbnMuZWxlbWVudHMucmVjdGFuZ2xlLmJvcmRlcldpZHRoKX0sZHJhdzpmdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7cmV0dXJuIGhbKGMrdCklNF19dmFyIGU9dGhpcy5fY2hhcnQuY3R4LGk9dGhpcy5fdmlldyxhPWkuaGVpZ2h0LzIsbz1pLnktYSxzPWkueSthLG49aS5iYXNlLShpLmJhc2UtaS54KSxyPWkuYm9yZGVyV2lkdGgvMjtpLmJvcmRlcldpZHRoJiYobys9cixzLT1yLG4rPXIpLGUuYmVnaW5QYXRoKCksZS5maWxsU3R5bGU9aS5iYWNrZ3JvdW5kQ29sb3IsZS5zdHJva2VTdHlsZT1pLmJvcmRlckNvbG9yLGUubGluZVdpZHRoPWkuYm9yZGVyV2lkdGg7dmFyIGg9W1tpLmJhc2Usc10sW2kuYmFzZSxvXSxbbixvXSxbbixzXV0sbD1bXCJib3R0b21cIixcImxlZnRcIixcInRvcFwiLFwicmlnaHRcIl0sYz1sLmluZGV4T2YoaS5ib3JkZXJTa2lwcGVkLDApOy0xPT09YyYmKGM9MCksZS5tb3ZlVG8uYXBwbHkoZSx0KDApKTtmb3IodmFyIGQ9MTs0PmQ7ZCsrKWUubGluZVRvLmFwcGx5KGUsdChkKSk7ZS5maWxsKCksaS5ib3JkZXJXaWR0aCYmZS5zdHJva2UoKX0saW5SYW5nZTpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuX3ZpZXcsYT0hMTtyZXR1cm4gaSYmKGE9aS54PGkuYmFzZT9lPj1pLnktaS5oZWlnaHQvMiYmZTw9aS55K2kuaGVpZ2h0LzImJnQ+PWkueCYmdDw9aS5iYXNlOmU+PWkueS1pLmhlaWdodC8yJiZlPD1pLnkraS5oZWlnaHQvMiYmdD49aS5iYXNlJiZ0PD1pLngpLGF9fSksdC5waXZvdCgpfSxjYWxjdWxhdGVCYXJCYXNlOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5nZXRNZXRhKCksYT10aGlzLmdldFNjYWxlRm9ySWQoaS54QXhpc0lEKSxvPSh0aGlzLmdldFNjYWxlRm9ySWQoaS55QXhpc0lEKSwwKTtpZihhLm9wdGlvbnMuc3RhY2tlZCl7dmFyIHM9dGhpcy5jaGFydC5kYXRhLmRhdGFzZXRzW3RdLmRhdGFbZV07aWYoMD5zKWZvcih2YXIgbj0wO3Q+bjtuKyspe3ZhciByPXRoaXMuY2hhcnQuZGF0YS5kYXRhc2V0c1tuXSxoPXRoaXMuY2hhcnQuZ2V0RGF0YXNldE1ldGEobik7aC5iYXImJmgueEF4aXNJRD09PWEuaWQmJnRoaXMuY2hhcnQuaXNEYXRhc2V0VmlzaWJsZShuKSYmKG8rPXIuZGF0YVtlXTwwP3IuZGF0YVtlXTowKX1lbHNlIGZvcih2YXIgbD0wO3Q+bDtsKyspe3ZhciBjPXRoaXMuY2hhcnQuZGF0YS5kYXRhc2V0c1tsXSxkPXRoaXMuY2hhcnQuZ2V0RGF0YXNldE1ldGEobCk7ZC5iYXImJmQueEF4aXNJRD09PWEuaWQmJnRoaXMuY2hhcnQuaXNEYXRhc2V0VmlzaWJsZShsKSYmKG8rPWMuZGF0YVtlXT4wP2MuZGF0YVtlXTowKX1yZXR1cm4gYS5nZXRQaXhlbEZvclZhbHVlKG8pfXJldHVybiBvPWEuZ2V0UGl4ZWxGb3JWYWx1ZShhLm1pbiksYS5iZWdpbkF0WmVyb3x8YS5taW48PTAmJmEubWF4Pj0wfHxhLm1pbj49MCYmYS5tYXg8PTA/bz1hLmdldFBpeGVsRm9yVmFsdWUoMCwwKTphLm1pbjwwJiZhLm1heDwwJiYobz1hLmdldFBpeGVsRm9yVmFsdWUoYS5tYXgpKSxvfSxnZXRSdWxlcjpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2V0TWV0YSgpLGU9KHRoaXMuZ2V0U2NhbGVGb3JJZCh0LnhBeGlzSUQpLHRoaXMuZ2V0U2NhbGVGb3JJZCh0LnlBeGlzSUQpKSxpPXRoaXMuZ2V0QmFyQ291bnQoKSxhPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PWUuZ2V0UGl4ZWxGb3JUaWNrKDEpLWUuZ2V0UGl4ZWxGb3JUaWNrKDApLGk9MjtpPHRoaXMuZ2V0RGF0YXNldCgpLmRhdGEubGVuZ3RoO2krKyl0PU1hdGgubWluKGUuZ2V0UGl4ZWxGb3JUaWNrKGkpLWUuZ2V0UGl4ZWxGb3JUaWNrKGktMSksdCk7cmV0dXJuIHR9LmNhbGwodGhpcyksbz1hKmUub3B0aW9ucy5jYXRlZ29yeVBlcmNlbnRhZ2Uscz0oYS1hKmUub3B0aW9ucy5jYXRlZ29yeVBlcmNlbnRhZ2UpLzIsbj1vL2k7aWYoZS50aWNrcy5sZW5ndGghPT10aGlzLmNoYXJ0LmRhdGEubGFiZWxzLmxlbmd0aCl7dmFyIHI9ZS50aWNrcy5sZW5ndGgvdGhpcy5jaGFydC5kYXRhLmxhYmVscy5sZW5ndGg7bio9cn12YXIgaD1uKmUub3B0aW9ucy5iYXJQZXJjZW50YWdlLGw9bi1uKmUub3B0aW9ucy5iYXJQZXJjZW50YWdlO3JldHVybntkYXRhc2V0Q291bnQ6aSx0aWNrSGVpZ2h0OmEsY2F0ZWdvcnlIZWlnaHQ6byxjYXRlZ29yeVNwYWNpbmc6cyxmdWxsQmFySGVpZ2h0Om4sYmFySGVpZ2h0OmgsYmFyU3BhY2luZzpsfX0sY2FsY3VsYXRlQmFySGVpZ2h0OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZXRTY2FsZUZvcklkKHRoaXMuZ2V0TWV0YSgpLnlBeGlzSUQpLGU9dGhpcy5nZXRSdWxlcigpO3JldHVybiB0Lm9wdGlvbnMuc3RhY2tlZD9lLmNhdGVnb3J5SGVpZ2h0OmUuYmFySGVpZ2h0fSxjYWxjdWxhdGVCYXJYOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5nZXRNZXRhKCksYT10aGlzLmdldFNjYWxlRm9ySWQoaS54QXhpc0lEKSxvPSh0aGlzLmdldFNjYWxlRm9ySWQoaS55QXhpc0lEKSx0aGlzLmdldERhdGFzZXQoKS5kYXRhW3RdKTtpZihhLm9wdGlvbnMuc3RhY2tlZCl7Zm9yKHZhciBzPTAsbj0wLHI9MDtlPnI7cisrKXt2YXIgaD10aGlzLmNoYXJ0LmRhdGEuZGF0YXNldHNbcl0sbD10aGlzLmNoYXJ0LmdldERhdGFzZXRNZXRhKHIpO2wuYmFyJiZsLnhBeGlzSUQ9PT1hLmlkJiZ0aGlzLmNoYXJ0LmlzRGF0YXNldFZpc2libGUocikmJihoLmRhdGFbdF08MD9uKz1oLmRhdGFbdF18fDA6cys9aC5kYXRhW3RdfHwwKX1yZXR1cm4gMD5vP2EuZ2V0UGl4ZWxGb3JWYWx1ZShuK28pOmEuZ2V0UGl4ZWxGb3JWYWx1ZShzK28pfXJldHVybiBhLmdldFBpeGVsRm9yVmFsdWUobyl9LGNhbGN1bGF0ZUJhclk6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLmdldE1ldGEoKSxhPXRoaXMuZ2V0U2NhbGVGb3JJZChpLnlBeGlzSUQpLG89KHRoaXMuZ2V0U2NhbGVGb3JJZChpLnhBeGlzSUQpLHRoaXMuZ2V0QmFySW5kZXgoZSkpLHM9dGhpcy5nZXRSdWxlcigpLG49YS5nZXRQaXhlbEZvclZhbHVlKG51bGwsdCxlLHRoaXMuY2hhcnQuaXNDb21ibyk7cmV0dXJuIG4tPXRoaXMuY2hhcnQuaXNDb21ibz9zLnRpY2tIZWlnaHQvMjowLGEub3B0aW9ucy5zdGFja2VkP24rcy5jYXRlZ29yeUhlaWdodC8yK3MuY2F0ZWdvcnlTcGFjaW5nOm4rcy5iYXJIZWlnaHQvMitzLmNhdGVnb3J5U3BhY2luZytzLmJhckhlaWdodCpvK3MuYmFyU3BhY2luZy8yK3MuYmFyU3BhY2luZypvfX0pfX0se31dLDE2OltmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPWZ1bmN0aW9uKHQpe3ZhciBlPXQuaGVscGVyczt0LmRlZmF1bHRzLmJ1YmJsZT17aG92ZXI6e21vZGU6XCJzaW5nbGVcIn0sc2NhbGVzOnt4QXhlczpbe3R5cGU6XCJsaW5lYXJcIixwb3NpdGlvbjpcImJvdHRvbVwiLGlkOlwieC1heGlzLTBcIn1dLHlBeGVzOlt7dHlwZTpcImxpbmVhclwiLHBvc2l0aW9uOlwibGVmdFwiLGlkOlwieS1heGlzLTBcIn1dfSx0b29sdGlwczp7Y2FsbGJhY2tzOnt0aXRsZTpmdW5jdGlvbih0LGUpe3JldHVyblwiXCJ9LGxhYmVsOmZ1bmN0aW9uKHQsZSl7dmFyIGk9ZS5kYXRhc2V0c1t0LmRhdGFzZXRJbmRleF0ubGFiZWx8fFwiXCIsYT1lLmRhdGFzZXRzW3QuZGF0YXNldEluZGV4XS5kYXRhW3QuaW5kZXhdO3JldHVybiBpK1wiOiAoXCIrYS54K1wiLCBcIithLnkrXCIsIFwiK2EucitcIilcIn19fX0sdC5jb250cm9sbGVycy5idWJibGU9dC5EYXRhc2V0Q29udHJvbGxlci5leHRlbmQoe2FkZEVsZW1lbnRzOmZ1bmN0aW9uKCl7dmFyIGk9dGhpcy5nZXRNZXRhKCk7ZS5lYWNoKHRoaXMuZ2V0RGF0YXNldCgpLmRhdGEsZnVuY3Rpb24oZSxhKXtpLmRhdGFbYV09aS5kYXRhW2FdfHxuZXcgdC5lbGVtZW50cy5Qb2ludCh7X2NoYXJ0OnRoaXMuY2hhcnQuY2hhcnQsX2RhdGFzZXRJbmRleDp0aGlzLmluZGV4LF9pbmRleDphfSl9LHRoaXMpfSxhZGRFbGVtZW50QW5kUmVzZXQ6ZnVuY3Rpb24oZSl7dmFyIGk9bmV3IHQuZWxlbWVudHMuUG9pbnQoe19jaGFydDp0aGlzLmNoYXJ0LmNoYXJ0LF9kYXRhc2V0SW5kZXg6dGhpcy5pbmRleCxfaW5kZXg6ZX0pO3RoaXMuZ2V0TWV0YSgpLmRhdGEuc3BsaWNlKGUsMCxpKSx0aGlzLnVwZGF0ZUVsZW1lbnQoaSxlLCEwKX0sdXBkYXRlOmZ1bmN0aW9uKHQpe3ZhciBpLGE9dGhpcy5nZXRNZXRhKCksbz1hLmRhdGEscz10aGlzLmdldFNjYWxlRm9ySWQoYS55QXhpc0lEKTt0aGlzLmdldFNjYWxlRm9ySWQoYS54QXhpc0lEKTtpPXMubWluPDAmJnMubWF4PDA/cy5nZXRQaXhlbEZvclZhbHVlKHMubWF4KTpzLm1pbj4wJiZzLm1heD4wP3MuZ2V0UGl4ZWxGb3JWYWx1ZShzLm1pbik6cy5nZXRQaXhlbEZvclZhbHVlKDApLGUuZWFjaChvLGZ1bmN0aW9uKGUsaSl7dGhpcy51cGRhdGVFbGVtZW50KGUsaSx0KX0sdGhpcyl9LHVwZGF0ZUVsZW1lbnQ6ZnVuY3Rpb24odCxpLGEpe3ZhciBvLHM9dGhpcy5nZXRNZXRhKCksbj10aGlzLmdldFNjYWxlRm9ySWQocy55QXhpc0lEKSxyPXRoaXMuZ2V0U2NhbGVGb3JJZChzLnhBeGlzSUQpO289bi5taW48MCYmbi5tYXg8MD9uLmdldFBpeGVsRm9yVmFsdWUobi5tYXgpOm4ubWluPjAmJm4ubWF4PjA/bi5nZXRQaXhlbEZvclZhbHVlKG4ubWluKTpuLmdldFBpeGVsRm9yVmFsdWUoMCksZS5leHRlbmQodCx7X2NoYXJ0OnRoaXMuY2hhcnQuY2hhcnQsX3hTY2FsZTpyLF95U2NhbGU6bixfZGF0YXNldEluZGV4OnRoaXMuaW5kZXgsX2luZGV4OmksX21vZGVsOnt4OmE/ci5nZXRQaXhlbEZvckRlY2ltYWwoLjUpOnIuZ2V0UGl4ZWxGb3JWYWx1ZSh0aGlzLmdldERhdGFzZXQoKS5kYXRhW2ldLGksdGhpcy5pbmRleCx0aGlzLmNoYXJ0LmlzQ29tYm8pLHk6YT9vOm4uZ2V0UGl4ZWxGb3JWYWx1ZSh0aGlzLmdldERhdGFzZXQoKS5kYXRhW2ldLGksdGhpcy5pbmRleCkscmFkaXVzOmE/MDp0LmN1c3RvbSYmdC5jdXN0b20ucmFkaXVzP3QuY3VzdG9tLnJhZGl1czp0aGlzLmdldFJhZGl1cyh0aGlzLmdldERhdGFzZXQoKS5kYXRhW2ldKSxiYWNrZ3JvdW5kQ29sb3I6dC5jdXN0b20mJnQuY3VzdG9tLmJhY2tncm91bmRDb2xvcj90LmN1c3RvbS5iYWNrZ3JvdW5kQ29sb3I6ZS5nZXRWYWx1ZUF0SW5kZXhPckRlZmF1bHQodGhpcy5nZXREYXRhc2V0KCkuYmFja2dyb3VuZENvbG9yLGksdGhpcy5jaGFydC5vcHRpb25zLmVsZW1lbnRzLnBvaW50LmJhY2tncm91bmRDb2xvciksYm9yZGVyQ29sb3I6dC5jdXN0b20mJnQuY3VzdG9tLmJvcmRlckNvbG9yP3QuY3VzdG9tLmJvcmRlckNvbG9yOmUuZ2V0VmFsdWVBdEluZGV4T3JEZWZhdWx0KHRoaXMuZ2V0RGF0YXNldCgpLmJvcmRlckNvbG9yLGksdGhpcy5jaGFydC5vcHRpb25zLmVsZW1lbnRzLnBvaW50LmJvcmRlckNvbG9yKSxib3JkZXJXaWR0aDp0LmN1c3RvbSYmdC5jdXN0b20uYm9yZGVyV2lkdGg/dC5jdXN0b20uYm9yZGVyV2lkdGg6ZS5nZXRWYWx1ZUF0SW5kZXhPckRlZmF1bHQodGhpcy5nZXREYXRhc2V0KCkuYm9yZGVyV2lkdGgsaSx0aGlzLmNoYXJ0Lm9wdGlvbnMuZWxlbWVudHMucG9pbnQuYm9yZGVyV2lkdGgpLGhpdFJhZGl1czp0LmN1c3RvbSYmdC5jdXN0b20uaGl0UmFkaXVzP3QuY3VzdG9tLmhpdFJhZGl1czplLmdldFZhbHVlQXRJbmRleE9yRGVmYXVsdCh0aGlzLmdldERhdGFzZXQoKS5oaXRSYWRpdXMsaSx0aGlzLmNoYXJ0Lm9wdGlvbnMuZWxlbWVudHMucG9pbnQuaGl0UmFkaXVzKX19KSx0Ll9tb2RlbC5za2lwPXQuY3VzdG9tJiZ0LmN1c3RvbS5za2lwP3QuY3VzdG9tLnNraXA6aXNOYU4odC5fbW9kZWwueCl8fGlzTmFOKHQuX21vZGVsLnkpLHQucGl2b3QoKX0sZ2V0UmFkaXVzOmZ1bmN0aW9uKHQpe3JldHVybiB0LnJ8fHRoaXMuY2hhcnQub3B0aW9ucy5lbGVtZW50cy5wb2ludC5yYWRpdXN9LGRyYXc6ZnVuY3Rpb24odCl7dmFyIGk9dHx8MTtlLmVhY2godGhpcy5nZXRNZXRhKCkuZGF0YSxmdW5jdGlvbih0LGUpe3QudHJhbnNpdGlvbihpKSx0LmRyYXcoKX0pfSxzZXRIb3ZlclN0eWxlOmZ1bmN0aW9uKHQpe3ZhciBpPXRoaXMuY2hhcnQuZGF0YS5kYXRhc2V0c1t0Ll9kYXRhc2V0SW5kZXhdLGE9dC5faW5kZXg7dC5fbW9kZWwucmFkaXVzPXQuY3VzdG9tJiZ0LmN1c3RvbS5ob3ZlclJhZGl1cz90LmN1c3RvbS5ob3ZlclJhZGl1czplLmdldFZhbHVlQXRJbmRleE9yRGVmYXVsdChpLmhvdmVyUmFkaXVzLGEsdGhpcy5jaGFydC5vcHRpb25zLmVsZW1lbnRzLnBvaW50LmhvdmVyUmFkaXVzKSt0aGlzLmdldFJhZGl1cyh0aGlzLmdldERhdGFzZXQoKS5kYXRhW3QuX2luZGV4XSksdC5fbW9kZWwuYmFja2dyb3VuZENvbG9yPXQuY3VzdG9tJiZ0LmN1c3RvbS5ob3ZlckJhY2tncm91bmRDb2xvcj90LmN1c3RvbS5ob3ZlckJhY2tncm91bmRDb2xvcjplLmdldFZhbHVlQXRJbmRleE9yRGVmYXVsdChpLmhvdmVyQmFja2dyb3VuZENvbG9yLGEsZS5nZXRIb3ZlckNvbG9yKHQuX21vZGVsLmJhY2tncm91bmRDb2xvcikpLHQuX21vZGVsLmJvcmRlckNvbG9yPXQuY3VzdG9tJiZ0LmN1c3RvbS5ob3ZlckJvcmRlckNvbG9yP3QuY3VzdG9tLmhvdmVyQm9yZGVyQ29sb3I6ZS5nZXRWYWx1ZUF0SW5kZXhPckRlZmF1bHQoaS5ob3ZlckJvcmRlckNvbG9yLGEsZS5nZXRIb3ZlckNvbG9yKHQuX21vZGVsLmJvcmRlckNvbG9yKSksdC5fbW9kZWwuYm9yZGVyV2lkdGg9dC5jdXN0b20mJnQuY3VzdG9tLmhvdmVyQm9yZGVyV2lkdGg/dC5jdXN0b20uaG92ZXJCb3JkZXJXaWR0aDplLmdldFZhbHVlQXRJbmRleE9yRGVmYXVsdChpLmhvdmVyQm9yZGVyV2lkdGgsYSx0Ll9tb2RlbC5ib3JkZXJXaWR0aCl9LHJlbW92ZUhvdmVyU3R5bGU6ZnVuY3Rpb24odCl7dmFyIGk9KHRoaXMuY2hhcnQuZGF0YS5kYXRhc2V0c1t0Ll9kYXRhc2V0SW5kZXhdLHQuX2luZGV4KTt0Ll9tb2RlbC5yYWRpdXM9dC5jdXN0b20mJnQuY3VzdG9tLnJhZGl1cz90LmN1c3RvbS5yYWRpdXM6dGhpcy5nZXRSYWRpdXModGhpcy5nZXREYXRhc2V0KCkuZGF0YVt0Ll9pbmRleF0pLHQuX21vZGVsLmJhY2tncm91bmRDb2xvcj10LmN1c3RvbSYmdC5jdXN0b20uYmFja2dyb3VuZENvbG9yP3QuY3VzdG9tLmJhY2tncm91bmRDb2xvcjplLmdldFZhbHVlQXRJbmRleE9yRGVmYXVsdCh0aGlzLmdldERhdGFzZXQoKS5iYWNrZ3JvdW5kQ29sb3IsaSx0aGlzLmNoYXJ0Lm9wdGlvbnMuZWxlbWVudHMucG9pbnQuYmFja2dyb3VuZENvbG9yKSx0Ll9tb2RlbC5ib3JkZXJDb2xvcj10LmN1c3RvbSYmdC5jdXN0b20uYm9yZGVyQ29sb3I/dC5jdXN0b20uYm9yZGVyQ29sb3I6ZS5nZXRWYWx1ZUF0SW5kZXhPckRlZmF1bHQodGhpcy5nZXREYXRhc2V0KCkuYm9yZGVyQ29sb3IsaSx0aGlzLmNoYXJ0Lm9wdGlvbnMuZWxlbWVudHMucG9pbnQuYm9yZGVyQ29sb3IpLHQuX21vZGVsLmJvcmRlcldpZHRoPXQuY3VzdG9tJiZ0LmN1c3RvbS5ib3JkZXJXaWR0aD90LmN1c3RvbS5ib3JkZXJXaWR0aDplLmdldFZhbHVlQXRJbmRleE9yRGVmYXVsdCh0aGlzLmdldERhdGFzZXQoKS5ib3JkZXJXaWR0aCxpLHRoaXMuY2hhcnQub3B0aW9ucy5lbGVtZW50cy5wb2ludC5ib3JkZXJXaWR0aCl9fSl9fSx7fV0sMTc6W2Z1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9ZnVuY3Rpb24odCl7dmFyIGU9dC5oZWxwZXJzO3QuZGVmYXVsdHMuZG91Z2hudXQ9e2FuaW1hdGlvbjp7YW5pbWF0ZVJvdGF0ZTohMCxhbmltYXRlU2NhbGU6ITF9LGFzcGVjdFJhdGlvOjEsaG92ZXI6e21vZGU6XCJzaW5nbGVcIn0sbGVnZW5kQ2FsbGJhY2s6ZnVuY3Rpb24odCl7dmFyIGU9W107aWYoZS5wdXNoKCc8dWwgY2xhc3M9XCInK3QuaWQrJy1sZWdlbmRcIj4nKSx0LmRhdGEuZGF0YXNldHMubGVuZ3RoKWZvcih2YXIgaT0wO2k8dC5kYXRhLmRhdGFzZXRzWzBdLmRhdGEubGVuZ3RoOysraSllLnB1c2goJzxsaT48c3BhbiBzdHlsZT1cImJhY2tncm91bmQtY29sb3I6Jyt0LmRhdGEuZGF0YXNldHNbMF0uYmFja2dyb3VuZENvbG9yW2ldKydcIj48L3NwYW4+JyksdC5kYXRhLmxhYmVsc1tpXSYmZS5wdXNoKHQuZGF0YS5sYWJlbHNbaV0pLGUucHVzaChcIjwvbGk+XCIpO3JldHVybiBlLnB1c2goXCI8L3VsPlwiKSxlLmpvaW4oXCJcIil9LGxlZ2VuZDp7bGFiZWxzOntnZW5lcmF0ZUxhYmVsczpmdW5jdGlvbih0KXt2YXIgaT10LmRhdGE7cmV0dXJuIGkubGFiZWxzLmxlbmd0aCYmaS5kYXRhc2V0cy5sZW5ndGg/aS5sYWJlbHMubWFwKGZ1bmN0aW9uKGEsbyl7dmFyIHM9dC5nZXREYXRhc2V0TWV0YSgwKSxuPWkuZGF0YXNldHNbMF0scj1zLmRhdGFbb10saD1yLmN1c3RvbSYmci5jdXN0b20uYmFja2dyb3VuZENvbG9yP3IuY3VzdG9tLmJhY2tncm91bmRDb2xvcjplLmdldFZhbHVlQXRJbmRleE9yRGVmYXVsdChuLmJhY2tncm91bmRDb2xvcixvLHRoaXMuY2hhcnQub3B0aW9ucy5lbGVtZW50cy5hcmMuYmFja2dyb3VuZENvbG9yKSxsPXIuY3VzdG9tJiZyLmN1c3RvbS5ib3JkZXJDb2xvcj9yLmN1c3RvbS5ib3JkZXJDb2xvcjplLmdldFZhbHVlQXRJbmRleE9yRGVmYXVsdChuLmJvcmRlckNvbG9yLG8sdGhpcy5jaGFydC5vcHRpb25zLmVsZW1lbnRzLmFyYy5ib3JkZXJDb2xvciksYz1yLmN1c3RvbSYmci5jdXN0b20uYm9yZGVyV2lkdGg/ci5jdXN0b20uYm9yZGVyV2lkdGg6ZS5nZXRWYWx1ZUF0SW5kZXhPckRlZmF1bHQobi5ib3JkZXJXaWR0aCxvLHRoaXMuY2hhcnQub3B0aW9ucy5lbGVtZW50cy5hcmMuYm9yZGVyV2lkdGgpO3JldHVybnt0ZXh0OmEsZmlsbFN0eWxlOmgsc3Ryb2tlU3R5bGU6bCxsaW5lV2lkdGg6YyxoaWRkZW46aXNOYU4obi5kYXRhW29dKXx8cy5kYXRhW29dLmhpZGRlbixpbmRleDpvfX0sdGhpcyk6W119fSxvbkNsaWNrOmZ1bmN0aW9uKHQsZSl7dmFyIGksYSxvLHM9ZS5pbmRleCxuPXRoaXMuY2hhcnQ7Zm9yKGk9MCxhPShuLmRhdGEuZGF0YXNldHN8fFtdKS5sZW5ndGg7YT5pOysraSlvPW4uZ2V0RGF0YXNldE1ldGEoaSksby5kYXRhW3NdLmhpZGRlbj0hby5kYXRhW3NdLmhpZGRlbjtuLnVwZGF0ZSgpfX0sY3V0b3V0UGVyY2VudGFnZTo1MCxyb3RhdGlvbjpNYXRoLlBJKi0uNSxjaXJjdW1mZXJlbmNlOjIqTWF0aC5QSSx0b29sdGlwczp7Y2FsbGJhY2tzOnt0aXRsZTpmdW5jdGlvbigpe3JldHVyblwiXCJ9LGxhYmVsOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIGUubGFiZWxzW3QuaW5kZXhdK1wiOiBcIitlLmRhdGFzZXRzW3QuZGF0YXNldEluZGV4XS5kYXRhW3QuaW5kZXhdfX19fSx0LmRlZmF1bHRzLnBpZT1lLmNsb25lKHQuZGVmYXVsdHMuZG91Z2hudXQpLGUuZXh0ZW5kKHQuZGVmYXVsdHMucGllLHtjdXRvdXRQZXJjZW50YWdlOjB9KSx0LmNvbnRyb2xsZXJzLmRvdWdobnV0PXQuY29udHJvbGxlcnMucGllPXQuRGF0YXNldENvbnRyb2xsZXIuZXh0ZW5kKHtsaW5rU2NhbGVzOmZ1bmN0aW9uKCl7fSxhZGRFbGVtZW50czpmdW5jdGlvbigpe3ZhciBpPXRoaXMuZ2V0TWV0YSgpO2UuZWFjaCh0aGlzLmdldERhdGFzZXQoKS5kYXRhLGZ1bmN0aW9uKGUsYSl7aS5kYXRhW2FdPWkuZGF0YVthXXx8bmV3IHQuZWxlbWVudHMuQXJjKHtfY2hhcnQ6dGhpcy5jaGFydC5jaGFydCxfZGF0YXNldEluZGV4OnRoaXMuaW5kZXgsX2luZGV4OmF9KX0sdGhpcyl9LGFkZEVsZW1lbnRBbmRSZXNldDpmdW5jdGlvbihpLGEpe3ZhciBvPW5ldyB0LmVsZW1lbnRzLkFyYyh7X2NoYXJ0OnRoaXMuY2hhcnQuY2hhcnQsX2RhdGFzZXRJbmRleDp0aGlzLmluZGV4LF9pbmRleDppfSk7YSYmZS5pc0FycmF5KHRoaXMuZ2V0RGF0YXNldCgpLmJhY2tncm91bmRDb2xvcikmJnRoaXMuZ2V0RGF0YXNldCgpLmJhY2tncm91bmRDb2xvci5zcGxpY2UoaSwwLGEpLHRoaXMuZ2V0TWV0YSgpLmRhdGEuc3BsaWNlKGksMCxvKSx0aGlzLnVwZGF0ZUVsZW1lbnQobyxpLCEwKX0sZ2V0UmluZ0luZGV4OmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wLGk9MDt0Pmk7KytpKXRoaXMuY2hhcnQuaXNEYXRhc2V0VmlzaWJsZShpKSYmKytlO3JldHVybiBlfSx1cGRhdGU6ZnVuY3Rpb24odCl7dmFyIGk9dGhpcy5jaGFydC5jaGFydEFyZWEucmlnaHQtdGhpcy5jaGFydC5jaGFydEFyZWEubGVmdC10aGlzLmNoYXJ0Lm9wdGlvbnMuZWxlbWVudHMuYXJjLmJvcmRlcldpZHRoLGE9dGhpcy5jaGFydC5jaGFydEFyZWEuYm90dG9tLXRoaXMuY2hhcnQuY2hhcnRBcmVhLnRvcC10aGlzLmNoYXJ0Lm9wdGlvbnMuZWxlbWVudHMuYXJjLmJvcmRlcldpZHRoLG89TWF0aC5taW4oaSxhKSxzPXt4OjAseTowfTtpZih0aGlzLmNoYXJ0Lm9wdGlvbnMuY2lyY3VtZmVyZW5jZTwyKk1hdGguUEkpe3ZhciBuPXRoaXMuY2hhcnQub3B0aW9ucy5yb3RhdGlvbiUoMipNYXRoLlBJKTtuKz0yKk1hdGguUEkqKG4+PU1hdGguUEk/LTE6bjwtTWF0aC5QST8xOjApO3ZhciByPW4rdGhpcy5jaGFydC5vcHRpb25zLmNpcmN1bWZlcmVuY2UsaD17eDpNYXRoLmNvcyhuKSx5Ok1hdGguc2luKG4pfSxsPXt4Ok1hdGguY29zKHIpLHk6TWF0aC5zaW4ocil9LGM9MD49biYmcj49MHx8bjw9MipNYXRoLlBJJiYyKk1hdGguUEk8PXIsZD1uPD0uNSpNYXRoLlBJJiYuNSpNYXRoLlBJPD1yfHxuPD0yLjUqTWF0aC5QSSYmMi41Kk1hdGguUEk8PXIsdT1uPD0tTWF0aC5QSSYmLU1hdGguUEk8PXJ8fG48PU1hdGguUEkmJk1hdGguUEk8PXIsZz1uPD0uNSotTWF0aC5QSSYmLjUqLU1hdGguUEk8PXJ8fG48PTEuNSpNYXRoLlBJJiYxLjUqTWF0aC5QSTw9cixmPXRoaXMuY2hhcnQub3B0aW9ucy5jdXRvdXRQZXJjZW50YWdlLzEwMCxwPXt4OnU/LTE6TWF0aC5taW4oaC54KihoLng8MD8xOmYpLGwueCoobC54PDA/MTpmKSkseTpnPy0xOk1hdGgubWluKGgueSooaC55PDA/MTpmKSxsLnkqKGwueTwwPzE6ZikpfSxtPXt4OmM/MTpNYXRoLm1heChoLngqKGgueD4wPzE6ZiksbC54KihsLng+MD8xOmYpKSx5OmQ/MTpNYXRoLm1heChoLnkqKGgueT4wPzE6ZiksbC55KihsLnk+MD8xOmYpKX0sYj17d2lkdGg6LjUqKG0ueC1wLngpLGhlaWdodDouNSoobS55LXAueSl9O289TWF0aC5taW4oaS9iLndpZHRoLGEvYi5oZWlnaHQpLHM9e3g6KG0ueCtwLngpKi0uNSx5OihtLnkrcC55KSotLjV9fXRoaXMuY2hhcnQub3V0ZXJSYWRpdXM9TWF0aC5tYXgoby8yLDApLHRoaXMuY2hhcnQuaW5uZXJSYWRpdXM9TWF0aC5tYXgodGhpcy5jaGFydC5vcHRpb25zLmN1dG91dFBlcmNlbnRhZ2U/dGhpcy5jaGFydC5vdXRlclJhZGl1cy8xMDAqdGhpcy5jaGFydC5vcHRpb25zLmN1dG91dFBlcmNlbnRhZ2U6MSwwKSx0aGlzLmNoYXJ0LnJhZGl1c0xlbmd0aD0odGhpcy5jaGFydC5vdXRlclJhZGl1cy10aGlzLmNoYXJ0LmlubmVyUmFkaXVzKS90aGlzLmNoYXJ0LmdldFZpc2libGVEYXRhc2V0Q291bnQoKSx0aGlzLmNoYXJ0Lm9mZnNldFg9cy54KnRoaXMuY2hhcnQub3V0ZXJSYWRpdXMsdGhpcy5jaGFydC5vZmZzZXRZPXMueSp0aGlzLmNoYXJ0Lm91dGVyUmFkaXVzLHRoaXMuZ2V0TWV0YSgpLnRvdGFsPXRoaXMuY2FsY3VsYXRlVG90YWwoKSx0aGlzLm91dGVyUmFkaXVzPXRoaXMuY2hhcnQub3V0ZXJSYWRpdXMtdGhpcy5jaGFydC5yYWRpdXNMZW5ndGgqdGhpcy5nZXRSaW5nSW5kZXgodGhpcy5pbmRleCksdGhpcy5pbm5lclJhZGl1cz10aGlzLm91dGVyUmFkaXVzLXRoaXMuY2hhcnQucmFkaXVzTGVuZ3RoLGUuZWFjaCh0aGlzLmdldE1ldGEoKS5kYXRhLGZ1bmN0aW9uKGUsaSl7dGhpcy51cGRhdGVFbGVtZW50KGUsaSx0KX0sdGhpcyl9LHVwZGF0ZUVsZW1lbnQ6ZnVuY3Rpb24odCxpLGEpe3ZhciBvPSh0aGlzLmNoYXJ0LmNoYXJ0QXJlYS5sZWZ0K3RoaXMuY2hhcnQuY2hhcnRBcmVhLnJpZ2h0KS8yLHM9KHRoaXMuY2hhcnQuY2hhcnRBcmVhLnRvcCt0aGlzLmNoYXJ0LmNoYXJ0QXJlYS5ib3R0b20pLzIsbj10aGlzLmNoYXJ0Lm9wdGlvbnMucm90YXRpb24scj10aGlzLmNoYXJ0Lm9wdGlvbnMucm90YXRpb24saD1hJiZ0aGlzLmNoYXJ0Lm9wdGlvbnMuYW5pbWF0aW9uLmFuaW1hdGVSb3RhdGU/MDp0LmhpZGRlbj8wOnRoaXMuY2FsY3VsYXRlQ2lyY3VtZmVyZW5jZSh0aGlzLmdldERhdGFzZXQoKS5kYXRhW2ldKSoodGhpcy5jaGFydC5vcHRpb25zLmNpcmN1bWZlcmVuY2UvKDIqTWF0aC5QSSkpLGw9YSYmdGhpcy5jaGFydC5vcHRpb25zLmFuaW1hdGlvbi5hbmltYXRlU2NhbGU/MDp0aGlzLmlubmVyUmFkaXVzLGM9YSYmdGhpcy5jaGFydC5vcHRpb25zLmFuaW1hdGlvbi5hbmltYXRlU2NhbGU/MDp0aGlzLm91dGVyUmFkaXVzO2UuZXh0ZW5kKHQse19jaGFydDp0aGlzLmNoYXJ0LmNoYXJ0LF9kYXRhc2V0SW5kZXg6dGhpcy5pbmRleCxfaW5kZXg6aSxfbW9kZWw6e3g6byt0aGlzLmNoYXJ0Lm9mZnNldFgseTpzK3RoaXMuY2hhcnQub2Zmc2V0WSxzdGFydEFuZ2xlOm4sZW5kQW5nbGU6cixjaXJjdW1mZXJlbmNlOmgsb3V0ZXJSYWRpdXM6Yyxpbm5lclJhZGl1czpsLGJhY2tncm91bmRDb2xvcjp0LmN1c3RvbSYmdC5jdXN0b20uYmFja2dyb3VuZENvbG9yP3QuY3VzdG9tLmJhY2tncm91bmRDb2xvcjplLmdldFZhbHVlQXRJbmRleE9yRGVmYXVsdCh0aGlzLmdldERhdGFzZXQoKS5iYWNrZ3JvdW5kQ29sb3IsaSx0aGlzLmNoYXJ0Lm9wdGlvbnMuZWxlbWVudHMuYXJjLmJhY2tncm91bmRDb2xvciksaG92ZXJCYWNrZ3JvdW5kQ29sb3I6dC5jdXN0b20mJnQuY3VzdG9tLmhvdmVyQmFja2dyb3VuZENvbG9yP3QuY3VzdG9tLmhvdmVyQmFja2dyb3VuZENvbG9yOmUuZ2V0VmFsdWVBdEluZGV4T3JEZWZhdWx0KHRoaXMuZ2V0RGF0YXNldCgpLmhvdmVyQmFja2dyb3VuZENvbG9yLGksdGhpcy5jaGFydC5vcHRpb25zLmVsZW1lbnRzLmFyYy5ob3ZlckJhY2tncm91bmRDb2xvciksYm9yZGVyV2lkdGg6dC5jdXN0b20mJnQuY3VzdG9tLmJvcmRlcldpZHRoP3QuY3VzdG9tLmJvcmRlcldpZHRoOmUuZ2V0VmFsdWVBdEluZGV4T3JEZWZhdWx0KHRoaXMuZ2V0RGF0YXNldCgpLmJvcmRlcldpZHRoLGksdGhpcy5jaGFydC5vcHRpb25zLmVsZW1lbnRzLmFyYy5ib3JkZXJXaWR0aCksYm9yZGVyQ29sb3I6dC5jdXN0b20mJnQuY3VzdG9tLmJvcmRlckNvbG9yP3QuY3VzdG9tLmJvcmRlckNvbG9yOmUuZ2V0VmFsdWVBdEluZGV4T3JEZWZhdWx0KHRoaXMuZ2V0RGF0YXNldCgpLmJvcmRlckNvbG9yLGksdGhpcy5jaGFydC5vcHRpb25zLmVsZW1lbnRzLmFyYy5ib3JkZXJDb2xvciksbGFiZWw6ZS5nZXRWYWx1ZUF0SW5kZXhPckRlZmF1bHQodGhpcy5nZXREYXRhc2V0KCkubGFiZWwsaSx0aGlzLmNoYXJ0LmRhdGEubGFiZWxzW2ldKX19KSxhJiZ0aGlzLmNoYXJ0Lm9wdGlvbnMuYW5pbWF0aW9uLmFuaW1hdGVSb3RhdGV8fCgwPT09aT90Ll9tb2RlbC5zdGFydEFuZ2xlPXRoaXMuY2hhcnQub3B0aW9ucy5yb3RhdGlvbjp0Ll9tb2RlbC5zdGFydEFuZ2xlPXRoaXMuZ2V0TWV0YSgpLmRhdGFbaS0xXS5fbW9kZWwuZW5kQW5nbGUsdC5fbW9kZWwuZW5kQW5nbGU9dC5fbW9kZWwuc3RhcnRBbmdsZSt0Ll9tb2RlbC5jaXJjdW1mZXJlbmNlKSx0LnBpdm90KCl9LGRyYXc6ZnVuY3Rpb24odCl7dmFyIGk9dHx8MTtlLmVhY2godGhpcy5nZXRNZXRhKCkuZGF0YSxmdW5jdGlvbih0LGUpe3QudHJhbnNpdGlvbihpKS5kcmF3KCl9KX0sc2V0SG92ZXJTdHlsZTpmdW5jdGlvbih0KXt2YXIgaT10aGlzLmNoYXJ0LmRhdGEuZGF0YXNldHNbdC5fZGF0YXNldEluZGV4XSxhPXQuX2luZGV4O3QuX21vZGVsLmJhY2tncm91bmRDb2xvcj10LmN1c3RvbSYmdC5jdXN0b20uaG92ZXJCYWNrZ3JvdW5kQ29sb3I/dC5jdXN0b20uaG92ZXJCYWNrZ3JvdW5kQ29sb3I6ZS5nZXRWYWx1ZUF0SW5kZXhPckRlZmF1bHQoaS5ob3ZlckJhY2tncm91bmRDb2xvcixhLGUuZ2V0SG92ZXJDb2xvcih0Ll9tb2RlbC5iYWNrZ3JvdW5kQ29sb3IpKSx0Ll9tb2RlbC5ib3JkZXJDb2xvcj10LmN1c3RvbSYmdC5jdXN0b20uaG92ZXJCb3JkZXJDb2xvcj90LmN1c3RvbS5ob3ZlckJvcmRlckNvbG9yOmUuZ2V0VmFsdWVBdEluZGV4T3JEZWZhdWx0KGkuaG92ZXJCb3JkZXJDb2xvcixhLGUuZ2V0SG92ZXJDb2xvcih0Ll9tb2RlbC5ib3JkZXJDb2xvcikpLHQuX21vZGVsLmJvcmRlcldpZHRoPXQuY3VzdG9tJiZ0LmN1c3RvbS5ob3ZlckJvcmRlcldpZHRoP3QuY3VzdG9tLmhvdmVyQm9yZGVyV2lkdGg6ZS5nZXRWYWx1ZUF0SW5kZXhPckRlZmF1bHQoaS5ob3ZlckJvcmRlcldpZHRoLGEsdC5fbW9kZWwuYm9yZGVyV2lkdGgpfSxyZW1vdmVIb3ZlclN0eWxlOmZ1bmN0aW9uKHQpe3ZhciBpPSh0aGlzLmNoYXJ0LmRhdGEuZGF0YXNldHNbdC5fZGF0YXNldEluZGV4XSx0Ll9pbmRleCk7dC5fbW9kZWwuYmFja2dyb3VuZENvbG9yPXQuY3VzdG9tJiZ0LmN1c3RvbS5iYWNrZ3JvdW5kQ29sb3I/dC5jdXN0b20uYmFja2dyb3VuZENvbG9yOmUuZ2V0VmFsdWVBdEluZGV4T3JEZWZhdWx0KHRoaXMuZ2V0RGF0YXNldCgpLmJhY2tncm91bmRDb2xvcixpLHRoaXMuY2hhcnQub3B0aW9ucy5lbGVtZW50cy5hcmMuYmFja2dyb3VuZENvbG9yKSx0Ll9tb2RlbC5ib3JkZXJDb2xvcj10LmN1c3RvbSYmdC5jdXN0b20uYm9yZGVyQ29sb3I/dC5jdXN0b20uYm9yZGVyQ29sb3I6ZS5nZXRWYWx1ZUF0SW5kZXhPckRlZmF1bHQodGhpcy5nZXREYXRhc2V0KCkuYm9yZGVyQ29sb3IsaSx0aGlzLmNoYXJ0Lm9wdGlvbnMuZWxlbWVudHMuYXJjLmJvcmRlckNvbG9yKSx0Ll9tb2RlbC5ib3JkZXJXaWR0aD10LmN1c3RvbSYmdC5jdXN0b20uYm9yZGVyV2lkdGg/dC5jdXN0b20uYm9yZGVyV2lkdGg6ZS5nZXRWYWx1ZUF0SW5kZXhPckRlZmF1bHQodGhpcy5nZXREYXRhc2V0KCkuYm9yZGVyV2lkdGgsaSx0aGlzLmNoYXJ0Lm9wdGlvbnMuZWxlbWVudHMuYXJjLmJvcmRlcldpZHRoKX0sY2FsY3VsYXRlVG90YWw6ZnVuY3Rpb24oKXt2YXIgdCxpPXRoaXMuZ2V0RGF0YXNldCgpLGE9dGhpcy5nZXRNZXRhKCksbz0wO3JldHVybiBlLmVhY2goYS5kYXRhLGZ1bmN0aW9uKGUsYSl7dD1pLmRhdGFbYV0saXNOYU4odCl8fGUuaGlkZGVufHwobys9TWF0aC5hYnModCkpfSksb30sY2FsY3VsYXRlQ2lyY3VtZmVyZW5jZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldE1ldGEoKS50b3RhbDtyZXR1cm4gZT4wJiYhaXNOYU4odCk/MipNYXRoLlBJKih0L2UpOjB9fSl9fSx7fV0sMTg6W2Z1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9ZnVuY3Rpb24odCl7dmFyIGU9dC5oZWxwZXJzO3QuZGVmYXVsdHMubGluZT17c2hvd0xpbmVzOiEwLGhvdmVyOnttb2RlOlwibGFiZWxcIn0sc2NhbGVzOnt4QXhlczpbe3R5cGU6XCJjYXRlZ29yeVwiLGlkOlwieC1heGlzLTBcIn1dLHlBeGVzOlt7dHlwZTpcImxpbmVhclwiLGlkOlwieS1heGlzLTBcIn1dfX0sdC5jb250cm9sbGVycy5saW5lPXQuRGF0YXNldENvbnRyb2xsZXIuZXh0ZW5kKHthZGRFbGVtZW50czpmdW5jdGlvbigpe3ZhciBpPXRoaXMuZ2V0TWV0YSgpO2kuZGF0YXNldD1pLmRhdGFzZXR8fG5ldyB0LmVsZW1lbnRzLkxpbmUoe19jaGFydDp0aGlzLmNoYXJ0LmNoYXJ0LF9kYXRhc2V0SW5kZXg6dGhpcy5pbmRleCxfcG9pbnRzOmkuZGF0YX0pLGUuZWFjaCh0aGlzLmdldERhdGFzZXQoKS5kYXRhLGZ1bmN0aW9uKGUsYSl7aS5kYXRhW2FdPWkuZGF0YVthXXx8bmV3IHQuZWxlbWVudHMuUG9pbnQoe19jaGFydDp0aGlzLmNoYXJ0LmNoYXJ0LF9kYXRhc2V0SW5kZXg6dGhpcy5pbmRleCxfaW5kZXg6YX0pfSx0aGlzKX0sYWRkRWxlbWVudEFuZFJlc2V0OmZ1bmN0aW9uKGUpe3ZhciBpPW5ldyB0LmVsZW1lbnRzLlBvaW50KHtfY2hhcnQ6dGhpcy5jaGFydC5jaGFydCxfZGF0YXNldEluZGV4OnRoaXMuaW5kZXgsX2luZGV4OmV9KTt0aGlzLmdldE1ldGEoKS5kYXRhLnNwbGljZShlLDAsaSksdGhpcy51cGRhdGVFbGVtZW50KGksZSwhMCksdGhpcy5jaGFydC5vcHRpb25zLnNob3dMaW5lcyYmMCE9PXRoaXMuY2hhcnQub3B0aW9ucy5lbGVtZW50cy5saW5lLnRlbnNpb24mJnRoaXMudXBkYXRlQmV6aWVyQ29udHJvbFBvaW50cygpfSx1cGRhdGU6ZnVuY3Rpb24odCl7dmFyIGksYT10aGlzLmdldE1ldGEoKSxvPWEuZGF0YXNldCxzPWEuZGF0YSxuPXRoaXMuZ2V0U2NhbGVGb3JJZChhLnlBeGlzSUQpO3RoaXMuZ2V0U2NhbGVGb3JJZChhLnhBeGlzSUQpO2k9bi5taW48MCYmbi5tYXg8MD9uLmdldFBpeGVsRm9yVmFsdWUobi5tYXgpOm4ubWluPjAmJm4ubWF4PjA/bi5nZXRQaXhlbEZvclZhbHVlKG4ubWluKTpuLmdldFBpeGVsRm9yVmFsdWUoMCksdGhpcy5jaGFydC5vcHRpb25zLnNob3dMaW5lcyYmKG8uX3NjYWxlPW4sby5fZGF0YXNldEluZGV4PXRoaXMuaW5kZXgsby5fY2hpbGRyZW49cyx2b2lkIDAhPT10aGlzLmdldERhdGFzZXQoKS50ZW5zaW9uJiZ2b2lkIDA9PT10aGlzLmdldERhdGFzZXQoKS5saW5lVGVuc2lvbiYmKHRoaXMuZ2V0RGF0YXNldCgpLmxpbmVUZW5zaW9uPXRoaXMuZ2V0RGF0YXNldCgpLnRlbnNpb24pLG8uX21vZGVsPXt0ZW5zaW9uOm8uY3VzdG9tJiZvLmN1c3RvbS50ZW5zaW9uP28uY3VzdG9tLnRlbnNpb246ZS5nZXRWYWx1ZU9yRGVmYXVsdCh0aGlzLmdldERhdGFzZXQoKS5saW5lVGVuc2lvbix0aGlzLmNoYXJ0Lm9wdGlvbnMuZWxlbWVudHMubGluZS50ZW5zaW9uKSxiYWNrZ3JvdW5kQ29sb3I6by5jdXN0b20mJm8uY3VzdG9tLmJhY2tncm91bmRDb2xvcj9vLmN1c3RvbS5iYWNrZ3JvdW5kQ29sb3I6dGhpcy5nZXREYXRhc2V0KCkuYmFja2dyb3VuZENvbG9yfHx0aGlzLmNoYXJ0Lm9wdGlvbnMuZWxlbWVudHMubGluZS5iYWNrZ3JvdW5kQ29sb3IsYm9yZGVyV2lkdGg6by5jdXN0b20mJm8uY3VzdG9tLmJvcmRlcldpZHRoP28uY3VzdG9tLmJvcmRlcldpZHRoOnRoaXMuZ2V0RGF0YXNldCgpLmJvcmRlcldpZHRofHx0aGlzLmNoYXJ0Lm9wdGlvbnMuZWxlbWVudHMubGluZS5ib3JkZXJXaWR0aCxib3JkZXJDb2xvcjpvLmN1c3RvbSYmby5jdXN0b20uYm9yZGVyQ29sb3I/by5jdXN0b20uYm9yZGVyQ29sb3I6dGhpcy5nZXREYXRhc2V0KCkuYm9yZGVyQ29sb3J8fHRoaXMuY2hhcnQub3B0aW9ucy5lbGVtZW50cy5saW5lLmJvcmRlckNvbG9yLGJvcmRlckNhcFN0eWxlOm8uY3VzdG9tJiZvLmN1c3RvbS5ib3JkZXJDYXBTdHlsZT9vLmN1c3RvbS5ib3JkZXJDYXBTdHlsZTp0aGlzLmdldERhdGFzZXQoKS5ib3JkZXJDYXBTdHlsZXx8dGhpcy5jaGFydC5vcHRpb25zLmVsZW1lbnRzLmxpbmUuYm9yZGVyQ2FwU3R5bGUsYm9yZGVyRGFzaDpvLmN1c3RvbSYmby5jdXN0b20uYm9yZGVyRGFzaD9vLmN1c3RvbS5ib3JkZXJEYXNoOnRoaXMuZ2V0RGF0YXNldCgpLmJvcmRlckRhc2h8fHRoaXMuY2hhcnQub3B0aW9ucy5lbGVtZW50cy5saW5lLmJvcmRlckRhc2gsYm9yZGVyRGFzaE9mZnNldDpvLmN1c3RvbSYmby5jdXN0b20uYm9yZGVyRGFzaE9mZnNldD9vLmN1c3RvbS5ib3JkZXJEYXNoT2Zmc2V0OnRoaXMuZ2V0RGF0YXNldCgpLmJvcmRlckRhc2hPZmZzZXR8fHRoaXMuY2hhcnQub3B0aW9ucy5lbGVtZW50cy5saW5lLmJvcmRlckRhc2hPZmZzZXQsYm9yZGVySm9pblN0eWxlOm8uY3VzdG9tJiZvLmN1c3RvbS5ib3JkZXJKb2luU3R5bGU/by5jdXN0b20uYm9yZGVySm9pblN0eWxlOnRoaXMuZ2V0RGF0YXNldCgpLmJvcmRlckpvaW5TdHlsZXx8dGhpcy5jaGFydC5vcHRpb25zLmVsZW1lbnRzLmxpbmUuYm9yZGVySm9pblN0eWxlLGZpbGw6by5jdXN0b20mJm8uY3VzdG9tLmZpbGw/by5jdXN0b20uZmlsbDp2b2lkIDAhPT10aGlzLmdldERhdGFzZXQoKS5maWxsP3RoaXMuZ2V0RGF0YXNldCgpLmZpbGw6dGhpcy5jaGFydC5vcHRpb25zLmVsZW1lbnRzLmxpbmUuZmlsbCxzY2FsZVRvcDpuLnRvcCxzY2FsZUJvdHRvbTpuLmJvdHRvbSxzY2FsZVplcm86aX0sby5waXZvdCgpKSxlLmVhY2gocyxmdW5jdGlvbihlLGkpe3RoaXMudXBkYXRlRWxlbWVudChlLGksdCl9LHRoaXMpLHRoaXMuY2hhcnQub3B0aW9ucy5zaG93TGluZXMmJjAhPT10aGlzLmNoYXJ0Lm9wdGlvbnMuZWxlbWVudHMubGluZS50ZW5zaW9uJiZ0aGlzLnVwZGF0ZUJlemllckNvbnRyb2xQb2ludHMoKX0sZ2V0UG9pbnRCYWNrZ3JvdW5kQ29sb3I6ZnVuY3Rpb24odCxpKXt2YXIgYT10aGlzLmNoYXJ0Lm9wdGlvbnMuZWxlbWVudHMucG9pbnQuYmFja2dyb3VuZENvbG9yLG89dGhpcy5nZXREYXRhc2V0KCk7cmV0dXJuIHQuY3VzdG9tJiZ0LmN1c3RvbS5iYWNrZ3JvdW5kQ29sb3I/YT10LmN1c3RvbS5iYWNrZ3JvdW5kQ29sb3I6by5wb2ludEJhY2tncm91bmRDb2xvcj9hPWUuZ2V0VmFsdWVBdEluZGV4T3JEZWZhdWx0KG8ucG9pbnRCYWNrZ3JvdW5kQ29sb3IsaSxhKTpvLmJhY2tncm91bmRDb2xvciYmKGE9by5iYWNrZ3JvdW5kQ29sb3IpLGF9LGdldFBvaW50Qm9yZGVyQ29sb3I6ZnVuY3Rpb24odCxpKXt2YXIgYT10aGlzLmNoYXJ0Lm9wdGlvbnMuZWxlbWVudHMucG9pbnQuYm9yZGVyQ29sb3Isbz10aGlzLmdldERhdGFzZXQoKTtyZXR1cm4gdC5jdXN0b20mJnQuY3VzdG9tLmJvcmRlckNvbG9yP2E9dC5jdXN0b20uYm9yZGVyQ29sb3I6by5wb2ludEJvcmRlckNvbG9yP2E9ZS5nZXRWYWx1ZUF0SW5kZXhPckRlZmF1bHQodGhpcy5nZXREYXRhc2V0KCkucG9pbnRCb3JkZXJDb2xvcixpLGEpOm8uYm9yZGVyQ29sb3ImJihhPW8uYm9yZGVyQ29sb3IpLGF9LGdldFBvaW50Qm9yZGVyV2lkdGg6ZnVuY3Rpb24odCxpKXt2YXIgYT10aGlzLmNoYXJ0Lm9wdGlvbnMuZWxlbWVudHMucG9pbnQuYm9yZGVyV2lkdGgsbz10aGlzLmdldERhdGFzZXQoKTtyZXR1cm4gdC5jdXN0b20mJnZvaWQgMCE9PXQuY3VzdG9tLmJvcmRlcldpZHRoP2E9dC5jdXN0b20uYm9yZGVyV2lkdGg6dm9pZCAwIT09by5wb2ludEJvcmRlcldpZHRoP2E9ZS5nZXRWYWx1ZUF0SW5kZXhPckRlZmF1bHQoby5wb2ludEJvcmRlcldpZHRoLGksYSk6dm9pZCAwIT09by5ib3JkZXJXaWR0aCYmKGE9by5ib3JkZXJXaWR0aCksYX0sdXBkYXRlRWxlbWVudDpmdW5jdGlvbih0LGksYSl7dmFyIG8scz10aGlzLmdldE1ldGEoKSxuPXRoaXMuZ2V0U2NhbGVGb3JJZChzLnlBeGlzSUQpLHI9dGhpcy5nZXRTY2FsZUZvcklkKHMueEF4aXNJRCk7bz1uLm1pbjwwJiZuLm1heDwwP24uZ2V0UGl4ZWxGb3JWYWx1ZShuLm1heCk6bi5taW4+MCYmbi5tYXg+MD9uLmdldFBpeGVsRm9yVmFsdWUobi5taW4pOm4uZ2V0UGl4ZWxGb3JWYWx1ZSgwKSx0Ll9jaGFydD10aGlzLmNoYXJ0LmNoYXJ0LHQuX3hTY2FsZT1yLHQuX3lTY2FsZT1uLHQuX2RhdGFzZXRJbmRleD10aGlzLmluZGV4LHQuX2luZGV4PWksdm9pZCAwIT09dGhpcy5nZXREYXRhc2V0KCkucmFkaXVzJiZ2b2lkIDA9PT10aGlzLmdldERhdGFzZXQoKS5wb2ludFJhZGl1cyYmKHRoaXMuZ2V0RGF0YXNldCgpLnBvaW50UmFkaXVzPXRoaXMuZ2V0RGF0YXNldCgpLnJhZGl1cyksdm9pZCAwIT09dGhpcy5nZXREYXRhc2V0KCkuaGl0UmFkaXVzJiZ2b2lkIDA9PT10aGlzLmdldERhdGFzZXQoKS5wb2ludEhpdFJhZGl1cyYmKHRoaXMuZ2V0RGF0YXNldCgpLnBvaW50SGl0UmFkaXVzPXRoaXMuZ2V0RGF0YXNldCgpLmhpdFJhZGl1cyksdC5fbW9kZWw9e3g6ci5nZXRQaXhlbEZvclZhbHVlKHRoaXMuZ2V0RGF0YXNldCgpLmRhdGFbaV0saSx0aGlzLmluZGV4LHRoaXMuY2hhcnQuaXNDb21ibykseTphP286dGhpcy5jYWxjdWxhdGVQb2ludFkodGhpcy5nZXREYXRhc2V0KCkuZGF0YVtpXSxpLHRoaXMuaW5kZXgsdGhpcy5jaGFydC5pc0NvbWJvKSxyYWRpdXM6dC5jdXN0b20mJnQuY3VzdG9tLnJhZGl1cz90LmN1c3RvbS5yYWRpdXM6ZS5nZXRWYWx1ZUF0SW5kZXhPckRlZmF1bHQodGhpcy5nZXREYXRhc2V0KCkucG9pbnRSYWRpdXMsaSx0aGlzLmNoYXJ0Lm9wdGlvbnMuZWxlbWVudHMucG9pbnQucmFkaXVzKSxwb2ludFN0eWxlOnQuY3VzdG9tJiZ0LmN1c3RvbS5wb2ludFN0eWxlP3QuY3VzdG9tLnBvaW50U3R5bGU6ZS5nZXRWYWx1ZUF0SW5kZXhPckRlZmF1bHQodGhpcy5nZXREYXRhc2V0KCkucG9pbnRTdHlsZSxpLHRoaXMuY2hhcnQub3B0aW9ucy5lbGVtZW50cy5wb2ludC5wb2ludFN0eWxlKSxiYWNrZ3JvdW5kQ29sb3I6dGhpcy5nZXRQb2ludEJhY2tncm91bmRDb2xvcih0LGkpLGJvcmRlckNvbG9yOnRoaXMuZ2V0UG9pbnRCb3JkZXJDb2xvcih0LGkpLGJvcmRlcldpZHRoOnRoaXMuZ2V0UG9pbnRCb3JkZXJXaWR0aCh0LGkpLHRlbnNpb246cy5kYXRhc2V0Ll9tb2RlbD9zLmRhdGFzZXQuX21vZGVsLnRlbnNpb246MCxoaXRSYWRpdXM6dC5jdXN0b20mJnQuY3VzdG9tLmhpdFJhZGl1cz90LmN1c3RvbS5oaXRSYWRpdXM6ZS5nZXRWYWx1ZUF0SW5kZXhPckRlZmF1bHQodGhpcy5nZXREYXRhc2V0KCkucG9pbnRIaXRSYWRpdXMsaSx0aGlzLmNoYXJ0Lm9wdGlvbnMuZWxlbWVudHMucG9pbnQuaGl0UmFkaXVzKX0sdC5fbW9kZWwuc2tpcD10LmN1c3RvbSYmdC5jdXN0b20uc2tpcD90LmN1c3RvbS5za2lwOmlzTmFOKHQuX21vZGVsLngpfHxpc05hTih0Ll9tb2RlbC55KX0sY2FsY3VsYXRlUG9pbnRZOmZ1bmN0aW9uKHQsZSxpLGEpe3ZhciBvPXRoaXMuZ2V0TWV0YSgpLHM9KHRoaXMuZ2V0U2NhbGVGb3JJZChvLnhBeGlzSUQpLHRoaXMuZ2V0U2NhbGVGb3JJZChvLnlBeGlzSUQpKTtpZihzLm9wdGlvbnMuc3RhY2tlZCl7Zm9yKHZhciBuPTAscj0wLGg9MDtpPmg7aCsrKXt2YXIgbD10aGlzLmNoYXJ0LmRhdGEuZGF0YXNldHNbaF0sYz10aGlzLmNoYXJ0LmdldERhdGFzZXRNZXRhKGgpO1wibGluZVwiPT09Yy50eXBlJiZ0aGlzLmNoYXJ0LmlzRGF0YXNldFZpc2libGUoaCkmJihsLmRhdGFbZV08MD9yKz1sLmRhdGFbZV18fDA6bis9bC5kYXRhW2VdfHwwKX1yZXR1cm4gMD50P3MuZ2V0UGl4ZWxGb3JWYWx1ZShyK3QpOnMuZ2V0UGl4ZWxGb3JWYWx1ZShuK3QpfXJldHVybiBzLmdldFBpeGVsRm9yVmFsdWUodCl9LHVwZGF0ZUJlemllckNvbnRyb2xQb2ludHM6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldE1ldGEoKTtlLmVhY2godC5kYXRhLGZ1bmN0aW9uKGksYSl7dmFyIG89ZS5zcGxpbmVDdXJ2ZShlLnByZXZpb3VzSXRlbSh0LmRhdGEsYSkuX21vZGVsLGkuX21vZGVsLGUubmV4dEl0ZW0odC5kYXRhLGEpLl9tb2RlbCx0LmRhdGFzZXQuX21vZGVsLnRlbnNpb24pO2kuX21vZGVsLmNvbnRyb2xQb2ludFByZXZpb3VzWD1NYXRoLm1heChNYXRoLm1pbihvLnByZXZpb3VzLngsdGhpcy5jaGFydC5jaGFydEFyZWEucmlnaHQpLHRoaXMuY2hhcnQuY2hhcnRBcmVhLmxlZnQpLGkuX21vZGVsLmNvbnRyb2xQb2ludFByZXZpb3VzWT1NYXRoLm1heChNYXRoLm1pbihvLnByZXZpb3VzLnksdGhpcy5jaGFydC5jaGFydEFyZWEuYm90dG9tKSx0aGlzLmNoYXJ0LmNoYXJ0QXJlYS50b3ApLGkuX21vZGVsLmNvbnRyb2xQb2ludE5leHRYPU1hdGgubWF4KE1hdGgubWluKG8ubmV4dC54LHRoaXMuY2hhcnQuY2hhcnRBcmVhLnJpZ2h0KSx0aGlzLmNoYXJ0LmNoYXJ0QXJlYS5sZWZ0KSxpLl9tb2RlbC5jb250cm9sUG9pbnROZXh0WT1NYXRoLm1heChNYXRoLm1pbihvLm5leHQueSx0aGlzLmNoYXJ0LmNoYXJ0QXJlYS5ib3R0b20pLHRoaXMuY2hhcnQuY2hhcnRBcmVhLnRvcCksaS5waXZvdCgpfSx0aGlzKX0sZHJhdzpmdW5jdGlvbih0KXt2YXIgaT10aGlzLmdldE1ldGEoKSxhPXR8fDE7ZS5lYWNoKGkuZGF0YSxmdW5jdGlvbih0KXt0LnRyYW5zaXRpb24oYSl9KSx0aGlzLmNoYXJ0Lm9wdGlvbnMuc2hvd0xpbmVzJiZpLmRhdGFzZXQudHJhbnNpdGlvbihhKS5kcmF3KCksZS5lYWNoKGkuZGF0YSxmdW5jdGlvbih0KXt0LmRyYXcoKX0pfSxzZXRIb3ZlclN0eWxlOmZ1bmN0aW9uKHQpe3ZhciBpPXRoaXMuY2hhcnQuZGF0YS5kYXRhc2V0c1t0Ll9kYXRhc2V0SW5kZXhdLGE9dC5faW5kZXg7dC5fbW9kZWwucmFkaXVzPXQuY3VzdG9tJiZ0LmN1c3RvbS5ob3ZlclJhZGl1cz90LmN1c3RvbS5ob3ZlclJhZGl1czplLmdldFZhbHVlQXRJbmRleE9yRGVmYXVsdChpLnBvaW50SG92ZXJSYWRpdXMsYSx0aGlzLmNoYXJ0Lm9wdGlvbnMuZWxlbWVudHMucG9pbnQuaG92ZXJSYWRpdXMpLHQuX21vZGVsLmJhY2tncm91bmRDb2xvcj10LmN1c3RvbSYmdC5jdXN0b20uaG92ZXJCYWNrZ3JvdW5kQ29sb3I/dC5jdXN0b20uaG92ZXJCYWNrZ3JvdW5kQ29sb3I6ZS5nZXRWYWx1ZUF0SW5kZXhPckRlZmF1bHQoaS5wb2ludEhvdmVyQmFja2dyb3VuZENvbG9yLGEsZS5nZXRIb3ZlckNvbG9yKHQuX21vZGVsLmJhY2tncm91bmRDb2xvcikpLHQuX21vZGVsLmJvcmRlckNvbG9yPXQuY3VzdG9tJiZ0LmN1c3RvbS5ob3ZlckJvcmRlckNvbG9yP3QuY3VzdG9tLmhvdmVyQm9yZGVyQ29sb3I6ZS5nZXRWYWx1ZUF0SW5kZXhPckRlZmF1bHQoaS5wb2ludEhvdmVyQm9yZGVyQ29sb3IsYSxlLmdldEhvdmVyQ29sb3IodC5fbW9kZWwuYm9yZGVyQ29sb3IpKSx0Ll9tb2RlbC5ib3JkZXJXaWR0aD10LmN1c3RvbSYmdC5jdXN0b20uaG92ZXJCb3JkZXJXaWR0aD90LmN1c3RvbS5ob3ZlckJvcmRlcldpZHRoOmUuZ2V0VmFsdWVBdEluZGV4T3JEZWZhdWx0KGkucG9pbnRIb3ZlckJvcmRlcldpZHRoLGEsdC5fbW9kZWwuYm9yZGVyV2lkdGgpfSxyZW1vdmVIb3ZlclN0eWxlOmZ1bmN0aW9uKHQpe3ZhciBpPSh0aGlzLmNoYXJ0LmRhdGEuZGF0YXNldHNbdC5fZGF0YXNldEluZGV4XSx0Ll9pbmRleCk7dm9pZCAwIT09dGhpcy5nZXREYXRhc2V0KCkucmFkaXVzJiZ2b2lkIDA9PT10aGlzLmdldERhdGFzZXQoKS5wb2ludFJhZGl1cyYmKHRoaXMuZ2V0RGF0YXNldCgpLnBvaW50UmFkaXVzPXRoaXMuZ2V0RGF0YXNldCgpLnJhZGl1cyksdC5fbW9kZWwucmFkaXVzPXQuY3VzdG9tJiZ0LmN1c3RvbS5yYWRpdXM/dC5jdXN0b20ucmFkaXVzOmUuZ2V0VmFsdWVBdEluZGV4T3JEZWZhdWx0KHRoaXMuZ2V0RGF0YXNldCgpLnBvaW50UmFkaXVzLGksdGhpcy5jaGFydC5vcHRpb25zLmVsZW1lbnRzLnBvaW50LnJhZGl1cyksdC5fbW9kZWwuYmFja2dyb3VuZENvbG9yPXRoaXMuZ2V0UG9pbnRCYWNrZ3JvdW5kQ29sb3IodCxpKSx0Ll9tb2RlbC5ib3JkZXJDb2xvcj10aGlzLmdldFBvaW50Qm9yZGVyQ29sb3IodCxpKSx0Ll9tb2RlbC5ib3JkZXJXaWR0aD10aGlzLmdldFBvaW50Qm9yZGVyV2lkdGgodCxpKX19KX19LHt9XSwxOTpbZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1mdW5jdGlvbih0KXt2YXIgZT10LmhlbHBlcnM7dC5kZWZhdWx0cy5wb2xhckFyZWE9e3NjYWxlOnt0eXBlOlwicmFkaWFsTGluZWFyXCIsbGluZUFyYzohMH0sYW5pbWF0aW9uOnthbmltYXRlUm90YXRlOiEwLGFuaW1hdGVTY2FsZTohMH0sYXNwZWN0UmF0aW86MSxsZWdlbmRDYWxsYmFjazpmdW5jdGlvbih0KXt2YXIgZT1bXTtpZihlLnB1c2goJzx1bCBjbGFzcz1cIicrdC5pZCsnLWxlZ2VuZFwiPicpLHQuZGF0YS5kYXRhc2V0cy5sZW5ndGgpZm9yKHZhciBpPTA7aTx0LmRhdGEuZGF0YXNldHNbMF0uZGF0YS5sZW5ndGg7KytpKWUucHVzaCgnPGxpPjxzcGFuIHN0eWxlPVwiYmFja2dyb3VuZC1jb2xvcjonK3QuZGF0YS5kYXRhc2V0c1swXS5iYWNrZ3JvdW5kQ29sb3JbaV0rJ1wiPicpLHQuZGF0YS5sYWJlbHNbaV0mJmUucHVzaCh0LmRhdGEubGFiZWxzW2ldKSxlLnB1c2goXCI8L3NwYW4+PC9saT5cIik7cmV0dXJuIGUucHVzaChcIjwvdWw+XCIpLGUuam9pbihcIlwiKX0sbGVnZW5kOntsYWJlbHM6e2dlbmVyYXRlTGFiZWxzOmZ1bmN0aW9uKHQpe3ZhciBpPXQuZGF0YTtyZXR1cm4gaS5sYWJlbHMubGVuZ3RoJiZpLmRhdGFzZXRzLmxlbmd0aD9pLmxhYmVscy5tYXAoZnVuY3Rpb24oYSxvKXt2YXIgcz10LmdldERhdGFzZXRNZXRhKDApLG49aS5kYXRhc2V0c1swXSxyPXMuZGF0YVtvXSxoPXIuY3VzdG9tJiZyLmN1c3RvbS5iYWNrZ3JvdW5kQ29sb3I/ci5jdXN0b20uYmFja2dyb3VuZENvbG9yOmUuZ2V0VmFsdWVBdEluZGV4T3JEZWZhdWx0KG4uYmFja2dyb3VuZENvbG9yLG8sdGhpcy5jaGFydC5vcHRpb25zLmVsZW1lbnRzLmFyYy5iYWNrZ3JvdW5kQ29sb3IpLGw9ci5jdXN0b20mJnIuY3VzdG9tLmJvcmRlckNvbG9yP3IuY3VzdG9tLmJvcmRlckNvbG9yOmUuZ2V0VmFsdWVBdEluZGV4T3JEZWZhdWx0KG4uYm9yZGVyQ29sb3Isbyx0aGlzLmNoYXJ0Lm9wdGlvbnMuZWxlbWVudHMuYXJjLmJvcmRlckNvbG9yKSxjPXIuY3VzdG9tJiZyLmN1c3RvbS5ib3JkZXJXaWR0aD9yLmN1c3RvbS5ib3JkZXJXaWR0aDplLmdldFZhbHVlQXRJbmRleE9yRGVmYXVsdChuLmJvcmRlcldpZHRoLG8sdGhpcy5jaGFydC5vcHRpb25zLmVsZW1lbnRzLmFyYy5ib3JkZXJXaWR0aCk7cmV0dXJue3RleHQ6YSxmaWxsU3R5bGU6aCxzdHJva2VTdHlsZTpsLGxpbmVXaWR0aDpjLGhpZGRlbjppc05hTihuLmRhdGFbb10pfHxzLmRhdGFbb10uaGlkZGVuLGluZGV4Om99fSx0aGlzKTpbXX19LG9uQ2xpY2s6ZnVuY3Rpb24odCxlKXt2YXIgaSxhLG8scz1lLmluZGV4LG49dGhpcy5jaGFydDtmb3IoaT0wLGE9KG4uZGF0YS5kYXRhc2V0c3x8W10pLmxlbmd0aDthPmk7KytpKW89bi5nZXREYXRhc2V0TWV0YShpKSxvLmRhdGFbc10uaGlkZGVuPSFvLmRhdGFbc10uaGlkZGVuO24udXBkYXRlKCl9fSx0b29sdGlwczp7Y2FsbGJhY2tzOnt0aXRsZTpmdW5jdGlvbigpe3JldHVyblwiXCJ9LGxhYmVsOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIGUubGFiZWxzW3QuaW5kZXhdK1wiOiBcIit0LnlMYWJlbH19fX0sdC5jb250cm9sbGVycy5wb2xhckFyZWE9dC5EYXRhc2V0Q29udHJvbGxlci5leHRlbmQoe2xpbmtTY2FsZXM6ZnVuY3Rpb24oKXt9LGFkZEVsZW1lbnRzOmZ1bmN0aW9uKCl7dmFyIGk9dGhpcy5nZXRNZXRhKCk7ZS5lYWNoKHRoaXMuZ2V0RGF0YXNldCgpLmRhdGEsZnVuY3Rpb24oZSxhKXtpLmRhdGFbYV09aS5kYXRhW2FdfHxuZXcgdC5lbGVtZW50cy5BcmMoe19jaGFydDp0aGlzLmNoYXJ0LmNoYXJ0LF9kYXRhc2V0SW5kZXg6dGhpcy5pbmRleCxfaW5kZXg6YX0pfSx0aGlzKX0sYWRkRWxlbWVudEFuZFJlc2V0OmZ1bmN0aW9uKGUpe3ZhciBpPW5ldyB0LmVsZW1lbnRzLkFyYyh7X2NoYXJ0OnRoaXMuY2hhcnQuY2hhcnQsX2RhdGFzZXRJbmRleDp0aGlzLmluZGV4LF9pbmRleDplfSk7dGhpcy5nZXRNZXRhKCkuZGF0YS5zcGxpY2UoZSwwLGkpLHRoaXMudXBkYXRlRWxlbWVudChpLGUsITApfSx1cGRhdGU6ZnVuY3Rpb24odCl7dmFyIGk9dGhpcy5nZXRNZXRhKCksYT1NYXRoLm1pbih0aGlzLmNoYXJ0LmNoYXJ0QXJlYS5yaWdodC10aGlzLmNoYXJ0LmNoYXJ0QXJlYS5sZWZ0LHRoaXMuY2hhcnQuY2hhcnRBcmVhLmJvdHRvbS10aGlzLmNoYXJ0LmNoYXJ0QXJlYS50b3ApO3RoaXMuY2hhcnQub3V0ZXJSYWRpdXM9TWF0aC5tYXgoKGEtdGhpcy5jaGFydC5vcHRpb25zLmVsZW1lbnRzLmFyYy5ib3JkZXJXaWR0aC8yKS8yLDApLHRoaXMuY2hhcnQuaW5uZXJSYWRpdXM9TWF0aC5tYXgodGhpcy5jaGFydC5vcHRpb25zLmN1dG91dFBlcmNlbnRhZ2U/dGhpcy5jaGFydC5vdXRlclJhZGl1cy8xMDAqdGhpcy5jaGFydC5vcHRpb25zLmN1dG91dFBlcmNlbnRhZ2U6MSwwKSx0aGlzLmNoYXJ0LnJhZGl1c0xlbmd0aD0odGhpcy5jaGFydC5vdXRlclJhZGl1cy10aGlzLmNoYXJ0LmlubmVyUmFkaXVzKS90aGlzLmNoYXJ0LmdldFZpc2libGVEYXRhc2V0Q291bnQoKSx0aGlzLm91dGVyUmFkaXVzPXRoaXMuY2hhcnQub3V0ZXJSYWRpdXMtdGhpcy5jaGFydC5yYWRpdXNMZW5ndGgqdGhpcy5pbmRleCx0aGlzLmlubmVyUmFkaXVzPXRoaXMub3V0ZXJSYWRpdXMtdGhpcy5jaGFydC5yYWRpdXNMZW5ndGgsaS5jb3VudD10aGlzLmNvdW50VmlzaWJsZUVsZW1lbnRzKCksZS5lYWNoKGkuZGF0YSxmdW5jdGlvbihlLGkpe3RoaXMudXBkYXRlRWxlbWVudChlLGksdCl9LHRoaXMpfSx1cGRhdGVFbGVtZW50OmZ1bmN0aW9uKHQsaSxhKXtmb3IodmFyIG89dGhpcy5jYWxjdWxhdGVDaXJjdW1mZXJlbmNlKHRoaXMuZ2V0RGF0YXNldCgpLmRhdGFbaV0pLHM9KHRoaXMuY2hhcnQuY2hhcnRBcmVhLmxlZnQrdGhpcy5jaGFydC5jaGFydEFyZWEucmlnaHQpLzIsbj0odGhpcy5jaGFydC5jaGFydEFyZWEudG9wK3RoaXMuY2hhcnQuY2hhcnRBcmVhLmJvdHRvbSkvMixyPTAsaD10aGlzLmdldE1ldGEoKSxsPTA7aT5sOysrbClpc05hTih0aGlzLmdldERhdGFzZXQoKS5kYXRhW2xdKXx8aC5kYXRhW2xdLmhpZGRlbnx8KytyO3ZhciBjPXQuaGlkZGVuPzA6dGhpcy5jaGFydC5zY2FsZS5nZXREaXN0YW5jZUZyb21DZW50ZXJGb3JWYWx1ZSh0aGlzLmdldERhdGFzZXQoKS5kYXRhW2ldKSxkPS0uNSpNYXRoLlBJK28qcix1PWQrKHQuaGlkZGVuPzA6byksZz17eDpzLHk6bixpbm5lclJhZGl1czowLG91dGVyUmFkaXVzOnRoaXMuY2hhcnQub3B0aW9ucy5hbmltYXRpb24uYW5pbWF0ZVNjYWxlPzA6dGhpcy5jaGFydC5zY2FsZS5nZXREaXN0YW5jZUZyb21DZW50ZXJGb3JWYWx1ZSh0aGlzLmdldERhdGFzZXQoKS5kYXRhW2ldKSxzdGFydEFuZ2xlOnRoaXMuY2hhcnQub3B0aW9ucy5hbmltYXRpb24uYW5pbWF0ZVJvdGF0ZT9NYXRoLlBJKi0uNTpkLGVuZEFuZ2xlOnRoaXMuY2hhcnQub3B0aW9ucy5hbmltYXRpb24uYW5pbWF0ZVJvdGF0ZT9NYXRoLlBJKi0uNTp1LGJhY2tncm91bmRDb2xvcjp0LmN1c3RvbSYmdC5jdXN0b20uYmFja2dyb3VuZENvbG9yP3QuY3VzdG9tLmJhY2tncm91bmRDb2xvcjplLmdldFZhbHVlQXRJbmRleE9yRGVmYXVsdCh0aGlzLmdldERhdGFzZXQoKS5iYWNrZ3JvdW5kQ29sb3IsaSx0aGlzLmNoYXJ0Lm9wdGlvbnMuZWxlbWVudHMuYXJjLmJhY2tncm91bmRDb2xvciksYm9yZGVyV2lkdGg6dC5jdXN0b20mJnQuY3VzdG9tLmJvcmRlcldpZHRoP3QuY3VzdG9tLmJvcmRlcldpZHRoOmUuZ2V0VmFsdWVBdEluZGV4T3JEZWZhdWx0KHRoaXMuZ2V0RGF0YXNldCgpLmJvcmRlcldpZHRoLGksdGhpcy5jaGFydC5vcHRpb25zLmVsZW1lbnRzLmFyYy5ib3JkZXJXaWR0aCksYm9yZGVyQ29sb3I6dC5jdXN0b20mJnQuY3VzdG9tLmJvcmRlckNvbG9yP3QuY3VzdG9tLmJvcmRlckNvbG9yOmUuZ2V0VmFsdWVBdEluZGV4T3JEZWZhdWx0KHRoaXMuZ2V0RGF0YXNldCgpLmJvcmRlckNvbG9yLGksdGhpcy5jaGFydC5vcHRpb25zLmVsZW1lbnRzLmFyYy5ib3JkZXJDb2xvciksbGFiZWw6ZS5nZXRWYWx1ZUF0SW5kZXhPckRlZmF1bHQodGhpcy5jaGFydC5kYXRhLmxhYmVscyxpLHRoaXMuY2hhcnQuZGF0YS5sYWJlbHNbaV0pfTtlLmV4dGVuZCh0LHtfY2hhcnQ6dGhpcy5jaGFydC5jaGFydCxfZGF0YXNldEluZGV4OnRoaXMuaW5kZXgsX2luZGV4OmksX3NjYWxlOnRoaXMuY2hhcnQuc2NhbGUsX21vZGVsOmE/Zzp7eDpzLHk6bixpbm5lclJhZGl1czowLG91dGVyUmFkaXVzOmMsc3RhcnRBbmdsZTpkLGVuZEFuZ2xlOnUsYmFja2dyb3VuZENvbG9yOnQuY3VzdG9tJiZ0LmN1c3RvbS5iYWNrZ3JvdW5kQ29sb3I/dC5jdXN0b20uYmFja2dyb3VuZENvbG9yOmUuZ2V0VmFsdWVBdEluZGV4T3JEZWZhdWx0KHRoaXMuZ2V0RGF0YXNldCgpLmJhY2tncm91bmRDb2xvcixpLHRoaXMuY2hhcnQub3B0aW9ucy5lbGVtZW50cy5hcmMuYmFja2dyb3VuZENvbG9yKSxib3JkZXJXaWR0aDp0LmN1c3RvbSYmdC5jdXN0b20uYm9yZGVyV2lkdGg/dC5jdXN0b20uYm9yZGVyV2lkdGg6ZS5nZXRWYWx1ZUF0SW5kZXhPckRlZmF1bHQodGhpcy5nZXREYXRhc2V0KCkuYm9yZGVyV2lkdGgsaSx0aGlzLmNoYXJ0Lm9wdGlvbnMuZWxlbWVudHMuYXJjLmJvcmRlcldpZHRoKSxib3JkZXJDb2xvcjp0LmN1c3RvbSYmdC5jdXN0b20uYm9yZGVyQ29sb3I/dC5jdXN0b20uYm9yZGVyQ29sb3I6ZS5nZXRWYWx1ZUF0SW5kZXhPckRlZmF1bHQodGhpcy5nZXREYXRhc2V0KCkuYm9yZGVyQ29sb3IsaSx0aGlzLmNoYXJ0Lm9wdGlvbnMuZWxlbWVudHMuYXJjLmJvcmRlckNvbG9yKSxsYWJlbDplLmdldFZhbHVlQXRJbmRleE9yRGVmYXVsdCh0aGlzLmNoYXJ0LmRhdGEubGFiZWxzLGksdGhpcy5jaGFydC5kYXRhLmxhYmVsc1tpXSl9fSksdC5waXZvdCgpfSxkcmF3OmZ1bmN0aW9uKHQpe3ZhciBpPXR8fDE7ZS5lYWNoKHRoaXMuZ2V0TWV0YSgpLmRhdGEsZnVuY3Rpb24odCxlKXt0LnRyYW5zaXRpb24oaSkuZHJhdygpfSl9LHNldEhvdmVyU3R5bGU6ZnVuY3Rpb24odCl7dmFyIGk9dGhpcy5jaGFydC5kYXRhLmRhdGFzZXRzW3QuX2RhdGFzZXRJbmRleF0sYT10Ll9pbmRleDt0Ll9tb2RlbC5iYWNrZ3JvdW5kQ29sb3I9dC5jdXN0b20mJnQuY3VzdG9tLmhvdmVyQmFja2dyb3VuZENvbG9yP3QuY3VzdG9tLmhvdmVyQmFja2dyb3VuZENvbG9yOmUuZ2V0VmFsdWVBdEluZGV4T3JEZWZhdWx0KGkuaG92ZXJCYWNrZ3JvdW5kQ29sb3IsYSxlLmdldEhvdmVyQ29sb3IodC5fbW9kZWwuYmFja2dyb3VuZENvbG9yKSksdC5fbW9kZWwuYm9yZGVyQ29sb3I9dC5jdXN0b20mJnQuY3VzdG9tLmhvdmVyQm9yZGVyQ29sb3I/dC5jdXN0b20uaG92ZXJCb3JkZXJDb2xvcjplLmdldFZhbHVlQXRJbmRleE9yRGVmYXVsdChpLmhvdmVyQm9yZGVyQ29sb3IsYSxlLmdldEhvdmVyQ29sb3IodC5fbW9kZWwuYm9yZGVyQ29sb3IpKSx0Ll9tb2RlbC5ib3JkZXJXaWR0aD10LmN1c3RvbSYmdC5jdXN0b20uaG92ZXJCb3JkZXJXaWR0aD90LmN1c3RvbS5ob3ZlckJvcmRlcldpZHRoOmUuZ2V0VmFsdWVBdEluZGV4T3JEZWZhdWx0KGkuaG92ZXJCb3JkZXJXaWR0aCxhLHQuX21vZGVsLmJvcmRlcldpZHRoKX0scmVtb3ZlSG92ZXJTdHlsZTpmdW5jdGlvbih0KXt2YXIgaT0odGhpcy5jaGFydC5kYXRhLmRhdGFzZXRzW3QuX2RhdGFzZXRJbmRleF0sdC5faW5kZXgpO3QuX21vZGVsLmJhY2tncm91bmRDb2xvcj10LmN1c3RvbSYmdC5jdXN0b20uYmFja2dyb3VuZENvbG9yP3QuY3VzdG9tLmJhY2tncm91bmRDb2xvcjplLmdldFZhbHVlQXRJbmRleE9yRGVmYXVsdCh0aGlzLmdldERhdGFzZXQoKS5iYWNrZ3JvdW5kQ29sb3IsaSx0aGlzLmNoYXJ0Lm9wdGlvbnMuZWxlbWVudHMuYXJjLmJhY2tncm91bmRDb2xvciksdC5fbW9kZWwuYm9yZGVyQ29sb3I9dC5jdXN0b20mJnQuY3VzdG9tLmJvcmRlckNvbG9yP3QuY3VzdG9tLmJvcmRlckNvbG9yOmUuZ2V0VmFsdWVBdEluZGV4T3JEZWZhdWx0KHRoaXMuZ2V0RGF0YXNldCgpLmJvcmRlckNvbG9yLGksdGhpcy5jaGFydC5vcHRpb25zLmVsZW1lbnRzLmFyYy5ib3JkZXJDb2xvciksdC5fbW9kZWwuYm9yZGVyV2lkdGg9dC5jdXN0b20mJnQuY3VzdG9tLmJvcmRlcldpZHRoP3QuY3VzdG9tLmJvcmRlcldpZHRoOmUuZ2V0VmFsdWVBdEluZGV4T3JEZWZhdWx0KHRoaXMuZ2V0RGF0YXNldCgpLmJvcmRlcldpZHRoLGksdGhpcy5jaGFydC5vcHRpb25zLmVsZW1lbnRzLmFyYy5ib3JkZXJXaWR0aCl9LGNvdW50VmlzaWJsZUVsZW1lbnRzOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZXREYXRhc2V0KCksaT10aGlzLmdldE1ldGEoKSxhPTA7cmV0dXJuIGUuZWFjaChpLmRhdGEsZnVuY3Rpb24oZSxpKXtpc05hTih0LmRhdGFbaV0pfHxlLmhpZGRlbnx8YSsrfSksYX0sY2FsY3VsYXRlQ2lyY3VtZmVyZW5jZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldE1ldGEoKS5jb3VudDtyZXR1cm4gZT4wJiYhaXNOYU4odCk/MipNYXRoLlBJL2U6MH19KX19LHt9XSwyMDpbZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1mdW5jdGlvbih0KXt2YXIgZT10LmhlbHBlcnM7dC5kZWZhdWx0cy5yYWRhcj17c2NhbGU6e3R5cGU6XCJyYWRpYWxMaW5lYXJcIn0sZWxlbWVudHM6e2xpbmU6e3RlbnNpb246MH19fSx0LmNvbnRyb2xsZXJzLnJhZGFyPXQuRGF0YXNldENvbnRyb2xsZXIuZXh0ZW5kKHtsaW5rU2NhbGVzOmZ1bmN0aW9uKCl7fSxhZGRFbGVtZW50czpmdW5jdGlvbigpe3ZhciBpPXRoaXMuZ2V0TWV0YSgpO2kuZGF0YXNldD1pLmRhdGFzZXR8fG5ldyB0LmVsZW1lbnRzLkxpbmUoe19jaGFydDp0aGlzLmNoYXJ0LmNoYXJ0LF9kYXRhc2V0SW5kZXg6dGhpcy5pbmRleCxfcG9pbnRzOmkuZGF0YSxfbG9vcDohMFxufSksZS5lYWNoKHRoaXMuZ2V0RGF0YXNldCgpLmRhdGEsZnVuY3Rpb24oZSxhKXtpLmRhdGFbYV09aS5kYXRhW2FdfHxuZXcgdC5lbGVtZW50cy5Qb2ludCh7X2NoYXJ0OnRoaXMuY2hhcnQuY2hhcnQsX2RhdGFzZXRJbmRleDp0aGlzLmluZGV4LF9pbmRleDphLF9tb2RlbDp7eDowLHk6MH19KX0sdGhpcyl9LGFkZEVsZW1lbnRBbmRSZXNldDpmdW5jdGlvbihlKXt2YXIgaT1uZXcgdC5lbGVtZW50cy5Qb2ludCh7X2NoYXJ0OnRoaXMuY2hhcnQuY2hhcnQsX2RhdGFzZXRJbmRleDp0aGlzLmluZGV4LF9pbmRleDplfSk7dGhpcy5nZXRNZXRhKCkuZGF0YS5zcGxpY2UoZSwwLGkpLHRoaXMudXBkYXRlRWxlbWVudChpLGUsITApLHRoaXMudXBkYXRlQmV6aWVyQ29udHJvbFBvaW50cygpfSx1cGRhdGU6ZnVuY3Rpb24odCl7dmFyIGksYT10aGlzLmdldE1ldGEoKSxvPWEuZGF0YXNldCxzPWEuZGF0YSxuPXRoaXMuY2hhcnQuc2NhbGU7aT1uLm1pbjwwJiZuLm1heDwwP24uZ2V0UG9pbnRQb3NpdGlvbkZvclZhbHVlKDAsbi5tYXgpOm4ubWluPjAmJm4ubWF4PjA/bi5nZXRQb2ludFBvc2l0aW9uRm9yVmFsdWUoMCxuLm1pbik6bi5nZXRQb2ludFBvc2l0aW9uRm9yVmFsdWUoMCwwKSx2b2lkIDAhPT10aGlzLmdldERhdGFzZXQoKS50ZW5zaW9uJiZ2b2lkIDA9PT10aGlzLmdldERhdGFzZXQoKS5saW5lVGVuc2lvbiYmKHRoaXMuZ2V0RGF0YXNldCgpLmxpbmVUZW5zaW9uPXRoaXMuZ2V0RGF0YXNldCgpLnRlbnNpb24pLGUuZXh0ZW5kKGEuZGF0YXNldCx7X2RhdGFzZXRJbmRleDp0aGlzLmluZGV4LF9jaGlsZHJlbjpzLF9tb2RlbDp7dGVuc2lvbjpvLmN1c3RvbSYmby5jdXN0b20udGVuc2lvbj9vLmN1c3RvbS50ZW5zaW9uOmUuZ2V0VmFsdWVPckRlZmF1bHQodGhpcy5nZXREYXRhc2V0KCkubGluZVRlbnNpb24sdGhpcy5jaGFydC5vcHRpb25zLmVsZW1lbnRzLmxpbmUudGVuc2lvbiksYmFja2dyb3VuZENvbG9yOm8uY3VzdG9tJiZvLmN1c3RvbS5iYWNrZ3JvdW5kQ29sb3I/by5jdXN0b20uYmFja2dyb3VuZENvbG9yOnRoaXMuZ2V0RGF0YXNldCgpLmJhY2tncm91bmRDb2xvcnx8dGhpcy5jaGFydC5vcHRpb25zLmVsZW1lbnRzLmxpbmUuYmFja2dyb3VuZENvbG9yLGJvcmRlcldpZHRoOm8uY3VzdG9tJiZvLmN1c3RvbS5ib3JkZXJXaWR0aD9vLmN1c3RvbS5ib3JkZXJXaWR0aDp0aGlzLmdldERhdGFzZXQoKS5ib3JkZXJXaWR0aHx8dGhpcy5jaGFydC5vcHRpb25zLmVsZW1lbnRzLmxpbmUuYm9yZGVyV2lkdGgsYm9yZGVyQ29sb3I6by5jdXN0b20mJm8uY3VzdG9tLmJvcmRlckNvbG9yP28uY3VzdG9tLmJvcmRlckNvbG9yOnRoaXMuZ2V0RGF0YXNldCgpLmJvcmRlckNvbG9yfHx0aGlzLmNoYXJ0Lm9wdGlvbnMuZWxlbWVudHMubGluZS5ib3JkZXJDb2xvcixmaWxsOm8uY3VzdG9tJiZvLmN1c3RvbS5maWxsP28uY3VzdG9tLmZpbGw6dm9pZCAwIT09dGhpcy5nZXREYXRhc2V0KCkuZmlsbD90aGlzLmdldERhdGFzZXQoKS5maWxsOnRoaXMuY2hhcnQub3B0aW9ucy5lbGVtZW50cy5saW5lLmZpbGwsYm9yZGVyQ2FwU3R5bGU6by5jdXN0b20mJm8uY3VzdG9tLmJvcmRlckNhcFN0eWxlP28uY3VzdG9tLmJvcmRlckNhcFN0eWxlOnRoaXMuZ2V0RGF0YXNldCgpLmJvcmRlckNhcFN0eWxlfHx0aGlzLmNoYXJ0Lm9wdGlvbnMuZWxlbWVudHMubGluZS5ib3JkZXJDYXBTdHlsZSxib3JkZXJEYXNoOm8uY3VzdG9tJiZvLmN1c3RvbS5ib3JkZXJEYXNoP28uY3VzdG9tLmJvcmRlckRhc2g6dGhpcy5nZXREYXRhc2V0KCkuYm9yZGVyRGFzaHx8dGhpcy5jaGFydC5vcHRpb25zLmVsZW1lbnRzLmxpbmUuYm9yZGVyRGFzaCxib3JkZXJEYXNoT2Zmc2V0Om8uY3VzdG9tJiZvLmN1c3RvbS5ib3JkZXJEYXNoT2Zmc2V0P28uY3VzdG9tLmJvcmRlckRhc2hPZmZzZXQ6dGhpcy5nZXREYXRhc2V0KCkuYm9yZGVyRGFzaE9mZnNldHx8dGhpcy5jaGFydC5vcHRpb25zLmVsZW1lbnRzLmxpbmUuYm9yZGVyRGFzaE9mZnNldCxib3JkZXJKb2luU3R5bGU6by5jdXN0b20mJm8uY3VzdG9tLmJvcmRlckpvaW5TdHlsZT9vLmN1c3RvbS5ib3JkZXJKb2luU3R5bGU6dGhpcy5nZXREYXRhc2V0KCkuYm9yZGVySm9pblN0eWxlfHx0aGlzLmNoYXJ0Lm9wdGlvbnMuZWxlbWVudHMubGluZS5ib3JkZXJKb2luU3R5bGUsc2NhbGVUb3A6bi50b3Asc2NhbGVCb3R0b206bi5ib3R0b20sc2NhbGVaZXJvOml9fSksYS5kYXRhc2V0LnBpdm90KCksZS5lYWNoKHMsZnVuY3Rpb24oZSxpKXt0aGlzLnVwZGF0ZUVsZW1lbnQoZSxpLHQpfSx0aGlzKSx0aGlzLnVwZGF0ZUJlemllckNvbnRyb2xQb2ludHMoKX0sdXBkYXRlRWxlbWVudDpmdW5jdGlvbih0LGksYSl7dmFyIG89dGhpcy5jaGFydC5zY2FsZS5nZXRQb2ludFBvc2l0aW9uRm9yVmFsdWUoaSx0aGlzLmdldERhdGFzZXQoKS5kYXRhW2ldKTtlLmV4dGVuZCh0LHtfZGF0YXNldEluZGV4OnRoaXMuaW5kZXgsX2luZGV4OmksX3NjYWxlOnRoaXMuY2hhcnQuc2NhbGUsX21vZGVsOnt4OmE/dGhpcy5jaGFydC5zY2FsZS54Q2VudGVyOm8ueCx5OmE/dGhpcy5jaGFydC5zY2FsZS55Q2VudGVyOm8ueSx0ZW5zaW9uOnQuY3VzdG9tJiZ0LmN1c3RvbS50ZW5zaW9uP3QuY3VzdG9tLnRlbnNpb246ZS5nZXRWYWx1ZU9yRGVmYXVsdCh0aGlzLmdldERhdGFzZXQoKS50ZW5zaW9uLHRoaXMuY2hhcnQub3B0aW9ucy5lbGVtZW50cy5saW5lLnRlbnNpb24pLHJhZGl1czp0LmN1c3RvbSYmdC5jdXN0b20ucmFkaXVzP3QuY3VzdG9tLnJhZGl1czplLmdldFZhbHVlQXRJbmRleE9yRGVmYXVsdCh0aGlzLmdldERhdGFzZXQoKS5wb2ludFJhZGl1cyxpLHRoaXMuY2hhcnQub3B0aW9ucy5lbGVtZW50cy5wb2ludC5yYWRpdXMpLGJhY2tncm91bmRDb2xvcjp0LmN1c3RvbSYmdC5jdXN0b20uYmFja2dyb3VuZENvbG9yP3QuY3VzdG9tLmJhY2tncm91bmRDb2xvcjplLmdldFZhbHVlQXRJbmRleE9yRGVmYXVsdCh0aGlzLmdldERhdGFzZXQoKS5wb2ludEJhY2tncm91bmRDb2xvcixpLHRoaXMuY2hhcnQub3B0aW9ucy5lbGVtZW50cy5wb2ludC5iYWNrZ3JvdW5kQ29sb3IpLGJvcmRlckNvbG9yOnQuY3VzdG9tJiZ0LmN1c3RvbS5ib3JkZXJDb2xvcj90LmN1c3RvbS5ib3JkZXJDb2xvcjplLmdldFZhbHVlQXRJbmRleE9yRGVmYXVsdCh0aGlzLmdldERhdGFzZXQoKS5wb2ludEJvcmRlckNvbG9yLGksdGhpcy5jaGFydC5vcHRpb25zLmVsZW1lbnRzLnBvaW50LmJvcmRlckNvbG9yKSxib3JkZXJXaWR0aDp0LmN1c3RvbSYmdC5jdXN0b20uYm9yZGVyV2lkdGg/dC5jdXN0b20uYm9yZGVyV2lkdGg6ZS5nZXRWYWx1ZUF0SW5kZXhPckRlZmF1bHQodGhpcy5nZXREYXRhc2V0KCkucG9pbnRCb3JkZXJXaWR0aCxpLHRoaXMuY2hhcnQub3B0aW9ucy5lbGVtZW50cy5wb2ludC5ib3JkZXJXaWR0aCkscG9pbnRTdHlsZTp0LmN1c3RvbSYmdC5jdXN0b20ucG9pbnRTdHlsZT90LmN1c3RvbS5wb2ludFN0eWxlOmUuZ2V0VmFsdWVBdEluZGV4T3JEZWZhdWx0KHRoaXMuZ2V0RGF0YXNldCgpLnBvaW50U3R5bGUsaSx0aGlzLmNoYXJ0Lm9wdGlvbnMuZWxlbWVudHMucG9pbnQucG9pbnRTdHlsZSksaGl0UmFkaXVzOnQuY3VzdG9tJiZ0LmN1c3RvbS5oaXRSYWRpdXM/dC5jdXN0b20uaGl0UmFkaXVzOmUuZ2V0VmFsdWVBdEluZGV4T3JEZWZhdWx0KHRoaXMuZ2V0RGF0YXNldCgpLmhpdFJhZGl1cyxpLHRoaXMuY2hhcnQub3B0aW9ucy5lbGVtZW50cy5wb2ludC5oaXRSYWRpdXMpfX0pLHQuX21vZGVsLnNraXA9dC5jdXN0b20mJnQuY3VzdG9tLnNraXA/dC5jdXN0b20uc2tpcDppc05hTih0Ll9tb2RlbC54KXx8aXNOYU4odC5fbW9kZWwueSl9LHVwZGF0ZUJlemllckNvbnRyb2xQb2ludHM6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldE1ldGEoKTtlLmVhY2godC5kYXRhLGZ1bmN0aW9uKGksYSl7dmFyIG89ZS5zcGxpbmVDdXJ2ZShlLnByZXZpb3VzSXRlbSh0LmRhdGEsYSwhMCkuX21vZGVsLGkuX21vZGVsLGUubmV4dEl0ZW0odC5kYXRhLGEsITApLl9tb2RlbCxpLl9tb2RlbC50ZW5zaW9uKTtpLl9tb2RlbC5jb250cm9sUG9pbnRQcmV2aW91c1g9TWF0aC5tYXgoTWF0aC5taW4oby5wcmV2aW91cy54LHRoaXMuY2hhcnQuY2hhcnRBcmVhLnJpZ2h0KSx0aGlzLmNoYXJ0LmNoYXJ0QXJlYS5sZWZ0KSxpLl9tb2RlbC5jb250cm9sUG9pbnRQcmV2aW91c1k9TWF0aC5tYXgoTWF0aC5taW4oby5wcmV2aW91cy55LHRoaXMuY2hhcnQuY2hhcnRBcmVhLmJvdHRvbSksdGhpcy5jaGFydC5jaGFydEFyZWEudG9wKSxpLl9tb2RlbC5jb250cm9sUG9pbnROZXh0WD1NYXRoLm1heChNYXRoLm1pbihvLm5leHQueCx0aGlzLmNoYXJ0LmNoYXJ0QXJlYS5yaWdodCksdGhpcy5jaGFydC5jaGFydEFyZWEubGVmdCksaS5fbW9kZWwuY29udHJvbFBvaW50TmV4dFk9TWF0aC5tYXgoTWF0aC5taW4oby5uZXh0LnksdGhpcy5jaGFydC5jaGFydEFyZWEuYm90dG9tKSx0aGlzLmNoYXJ0LmNoYXJ0QXJlYS50b3ApLGkucGl2b3QoKX0sdGhpcyl9LGRyYXc6ZnVuY3Rpb24odCl7dmFyIGk9dGhpcy5nZXRNZXRhKCksYT10fHwxO2UuZWFjaChpLmRhdGEsZnVuY3Rpb24odCxlKXt0LnRyYW5zaXRpb24oYSl9KSxpLmRhdGFzZXQudHJhbnNpdGlvbihhKS5kcmF3KCksZS5lYWNoKGkuZGF0YSxmdW5jdGlvbih0KXt0LmRyYXcoKX0pfSxzZXRIb3ZlclN0eWxlOmZ1bmN0aW9uKHQpe3ZhciBpPXRoaXMuY2hhcnQuZGF0YS5kYXRhc2V0c1t0Ll9kYXRhc2V0SW5kZXhdLGE9dC5faW5kZXg7dC5fbW9kZWwucmFkaXVzPXQuY3VzdG9tJiZ0LmN1c3RvbS5ob3ZlclJhZGl1cz90LmN1c3RvbS5ob3ZlclJhZGl1czplLmdldFZhbHVlQXRJbmRleE9yRGVmYXVsdChpLnBvaW50SG92ZXJSYWRpdXMsYSx0aGlzLmNoYXJ0Lm9wdGlvbnMuZWxlbWVudHMucG9pbnQuaG92ZXJSYWRpdXMpLHQuX21vZGVsLmJhY2tncm91bmRDb2xvcj10LmN1c3RvbSYmdC5jdXN0b20uaG92ZXJCYWNrZ3JvdW5kQ29sb3I/dC5jdXN0b20uaG92ZXJCYWNrZ3JvdW5kQ29sb3I6ZS5nZXRWYWx1ZUF0SW5kZXhPckRlZmF1bHQoaS5wb2ludEhvdmVyQmFja2dyb3VuZENvbG9yLGEsZS5nZXRIb3ZlckNvbG9yKHQuX21vZGVsLmJhY2tncm91bmRDb2xvcikpLHQuX21vZGVsLmJvcmRlckNvbG9yPXQuY3VzdG9tJiZ0LmN1c3RvbS5ob3ZlckJvcmRlckNvbG9yP3QuY3VzdG9tLmhvdmVyQm9yZGVyQ29sb3I6ZS5nZXRWYWx1ZUF0SW5kZXhPckRlZmF1bHQoaS5wb2ludEhvdmVyQm9yZGVyQ29sb3IsYSxlLmdldEhvdmVyQ29sb3IodC5fbW9kZWwuYm9yZGVyQ29sb3IpKSx0Ll9tb2RlbC5ib3JkZXJXaWR0aD10LmN1c3RvbSYmdC5jdXN0b20uaG92ZXJCb3JkZXJXaWR0aD90LmN1c3RvbS5ob3ZlckJvcmRlcldpZHRoOmUuZ2V0VmFsdWVBdEluZGV4T3JEZWZhdWx0KGkucG9pbnRIb3ZlckJvcmRlcldpZHRoLGEsdC5fbW9kZWwuYm9yZGVyV2lkdGgpfSxyZW1vdmVIb3ZlclN0eWxlOmZ1bmN0aW9uKHQpe3ZhciBpPSh0aGlzLmNoYXJ0LmRhdGEuZGF0YXNldHNbdC5fZGF0YXNldEluZGV4XSx0Ll9pbmRleCk7dC5fbW9kZWwucmFkaXVzPXQuY3VzdG9tJiZ0LmN1c3RvbS5yYWRpdXM/dC5jdXN0b20ucmFkaXVzOmUuZ2V0VmFsdWVBdEluZGV4T3JEZWZhdWx0KHRoaXMuZ2V0RGF0YXNldCgpLnJhZGl1cyxpLHRoaXMuY2hhcnQub3B0aW9ucy5lbGVtZW50cy5wb2ludC5yYWRpdXMpLHQuX21vZGVsLmJhY2tncm91bmRDb2xvcj10LmN1c3RvbSYmdC5jdXN0b20uYmFja2dyb3VuZENvbG9yP3QuY3VzdG9tLmJhY2tncm91bmRDb2xvcjplLmdldFZhbHVlQXRJbmRleE9yRGVmYXVsdCh0aGlzLmdldERhdGFzZXQoKS5wb2ludEJhY2tncm91bmRDb2xvcixpLHRoaXMuY2hhcnQub3B0aW9ucy5lbGVtZW50cy5wb2ludC5iYWNrZ3JvdW5kQ29sb3IpLHQuX21vZGVsLmJvcmRlckNvbG9yPXQuY3VzdG9tJiZ0LmN1c3RvbS5ib3JkZXJDb2xvcj90LmN1c3RvbS5ib3JkZXJDb2xvcjplLmdldFZhbHVlQXRJbmRleE9yRGVmYXVsdCh0aGlzLmdldERhdGFzZXQoKS5wb2ludEJvcmRlckNvbG9yLGksdGhpcy5jaGFydC5vcHRpb25zLmVsZW1lbnRzLnBvaW50LmJvcmRlckNvbG9yKSx0Ll9tb2RlbC5ib3JkZXJXaWR0aD10LmN1c3RvbSYmdC5jdXN0b20uYm9yZGVyV2lkdGg/dC5jdXN0b20uYm9yZGVyV2lkdGg6ZS5nZXRWYWx1ZUF0SW5kZXhPckRlZmF1bHQodGhpcy5nZXREYXRhc2V0KCkucG9pbnRCb3JkZXJXaWR0aCxpLHRoaXMuY2hhcnQub3B0aW9ucy5lbGVtZW50cy5wb2ludC5ib3JkZXJXaWR0aCl9fSl9fSx7fV0sMjE6W2Z1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9ZnVuY3Rpb24odCl7dmFyIGU9dC5oZWxwZXJzO3QuZGVmYXVsdHMuZ2xvYmFsLmFuaW1hdGlvbj17ZHVyYXRpb246MWUzLGVhc2luZzpcImVhc2VPdXRRdWFydFwiLG9uUHJvZ3Jlc3M6ZS5ub29wLG9uQ29tcGxldGU6ZS5ub29wfSx0LkFuaW1hdGlvbj10LkVsZW1lbnQuZXh0ZW5kKHtjdXJyZW50U3RlcDpudWxsLG51bVN0ZXBzOjYwLGVhc2luZzpcIlwiLHJlbmRlcjpudWxsLG9uQW5pbWF0aW9uUHJvZ3Jlc3M6bnVsbCxvbkFuaW1hdGlvbkNvbXBsZXRlOm51bGx9KSx0LmFuaW1hdGlvblNlcnZpY2U9e2ZyYW1lRHVyYXRpb246MTcsYW5pbWF0aW9uczpbXSxkcm9wRnJhbWVzOjAscmVxdWVzdDpudWxsLGFkZEFuaW1hdGlvbjpmdW5jdGlvbih0LGUsaSxhKXthfHwodC5hbmltYXRpbmc9ITApO2Zvcih2YXIgbz0wO288dGhpcy5hbmltYXRpb25zLmxlbmd0aDsrK28paWYodGhpcy5hbmltYXRpb25zW29dLmNoYXJ0SW5zdGFuY2U9PT10KXJldHVybiB2b2lkKHRoaXMuYW5pbWF0aW9uc1tvXS5hbmltYXRpb25PYmplY3Q9ZSk7dGhpcy5hbmltYXRpb25zLnB1c2goe2NoYXJ0SW5zdGFuY2U6dCxhbmltYXRpb25PYmplY3Q6ZX0pLDE9PT10aGlzLmFuaW1hdGlvbnMubGVuZ3RoJiZ0aGlzLnJlcXVlc3RBbmltYXRpb25GcmFtZSgpfSxjYW5jZWxBbmltYXRpb246ZnVuY3Rpb24odCl7dmFyIGk9ZS5maW5kSW5kZXgodGhpcy5hbmltYXRpb25zLGZ1bmN0aW9uKGUpe3JldHVybiBlLmNoYXJ0SW5zdGFuY2U9PT10fSk7LTEhPT1pJiYodGhpcy5hbmltYXRpb25zLnNwbGljZShpLDEpLHQuYW5pbWF0aW5nPSExKX0scmVxdWVzdEFuaW1hdGlvbkZyYW1lOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztudWxsPT09dC5yZXF1ZXN0JiYodC5yZXF1ZXN0PWUucmVxdWVzdEFuaW1GcmFtZS5jYWxsKHdpbmRvdyxmdW5jdGlvbigpe3QucmVxdWVzdD1udWxsLHQuc3RhcnREaWdlc3QoKX0pKX0sc3RhcnREaWdlc3Q6ZnVuY3Rpb24oKXt2YXIgdD1EYXRlLm5vdygpLGU9MDt0aGlzLmRyb3BGcmFtZXM+MSYmKGU9TWF0aC5mbG9vcih0aGlzLmRyb3BGcmFtZXMpLHRoaXMuZHJvcEZyYW1lcz10aGlzLmRyb3BGcmFtZXMlMSk7Zm9yKHZhciBpPTA7aTx0aGlzLmFuaW1hdGlvbnMubGVuZ3RoOyludWxsPT09dGhpcy5hbmltYXRpb25zW2ldLmFuaW1hdGlvbk9iamVjdC5jdXJyZW50U3RlcCYmKHRoaXMuYW5pbWF0aW9uc1tpXS5hbmltYXRpb25PYmplY3QuY3VycmVudFN0ZXA9MCksdGhpcy5hbmltYXRpb25zW2ldLmFuaW1hdGlvbk9iamVjdC5jdXJyZW50U3RlcCs9MStlLHRoaXMuYW5pbWF0aW9uc1tpXS5hbmltYXRpb25PYmplY3QuY3VycmVudFN0ZXA+dGhpcy5hbmltYXRpb25zW2ldLmFuaW1hdGlvbk9iamVjdC5udW1TdGVwcyYmKHRoaXMuYW5pbWF0aW9uc1tpXS5hbmltYXRpb25PYmplY3QuY3VycmVudFN0ZXA9dGhpcy5hbmltYXRpb25zW2ldLmFuaW1hdGlvbk9iamVjdC5udW1TdGVwcyksdGhpcy5hbmltYXRpb25zW2ldLmFuaW1hdGlvbk9iamVjdC5yZW5kZXIodGhpcy5hbmltYXRpb25zW2ldLmNoYXJ0SW5zdGFuY2UsdGhpcy5hbmltYXRpb25zW2ldLmFuaW1hdGlvbk9iamVjdCksdGhpcy5hbmltYXRpb25zW2ldLmFuaW1hdGlvbk9iamVjdC5vbkFuaW1hdGlvblByb2dyZXNzJiZ0aGlzLmFuaW1hdGlvbnNbaV0uYW5pbWF0aW9uT2JqZWN0Lm9uQW5pbWF0aW9uUHJvZ3Jlc3MuY2FsbCYmdGhpcy5hbmltYXRpb25zW2ldLmFuaW1hdGlvbk9iamVjdC5vbkFuaW1hdGlvblByb2dyZXNzLmNhbGwodGhpcy5hbmltYXRpb25zW2ldLmNoYXJ0SW5zdGFuY2UsdGhpcy5hbmltYXRpb25zW2ldKSx0aGlzLmFuaW1hdGlvbnNbaV0uYW5pbWF0aW9uT2JqZWN0LmN1cnJlbnRTdGVwPT09dGhpcy5hbmltYXRpb25zW2ldLmFuaW1hdGlvbk9iamVjdC5udW1TdGVwcz8odGhpcy5hbmltYXRpb25zW2ldLmFuaW1hdGlvbk9iamVjdC5vbkFuaW1hdGlvbkNvbXBsZXRlJiZ0aGlzLmFuaW1hdGlvbnNbaV0uYW5pbWF0aW9uT2JqZWN0Lm9uQW5pbWF0aW9uQ29tcGxldGUuY2FsbCYmdGhpcy5hbmltYXRpb25zW2ldLmFuaW1hdGlvbk9iamVjdC5vbkFuaW1hdGlvbkNvbXBsZXRlLmNhbGwodGhpcy5hbmltYXRpb25zW2ldLmNoYXJ0SW5zdGFuY2UsdGhpcy5hbmltYXRpb25zW2ldKSx0aGlzLmFuaW1hdGlvbnNbaV0uY2hhcnRJbnN0YW5jZS5hbmltYXRpbmc9ITEsdGhpcy5hbmltYXRpb25zLnNwbGljZShpLDEpKTorK2k7dmFyIGE9RGF0ZS5ub3coKSxvPShhLXQpL3RoaXMuZnJhbWVEdXJhdGlvbjt0aGlzLmRyb3BGcmFtZXMrPW8sdGhpcy5hbmltYXRpb25zLmxlbmd0aD4wJiZ0aGlzLnJlcXVlc3RBbmltYXRpb25GcmFtZSgpfX19fSx7fV0sMjI6W2Z1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9ZnVuY3Rpb24odCl7dmFyIGU9dC5oZWxwZXJzO3QudHlwZXM9e30sdC5pbnN0YW5jZXM9e30sdC5jb250cm9sbGVycz17fSx0LkNvbnRyb2xsZXI9ZnVuY3Rpb24oaSl7cmV0dXJuIHRoaXMuY2hhcnQ9aSx0aGlzLmNvbmZpZz1pLmNvbmZpZyx0aGlzLm9wdGlvbnM9dGhpcy5jb25maWcub3B0aW9ucz1lLmNvbmZpZ01lcmdlKHQuZGVmYXVsdHMuZ2xvYmFsLHQuZGVmYXVsdHNbdGhpcy5jb25maWcudHlwZV0sdGhpcy5jb25maWcub3B0aW9uc3x8e30pLHRoaXMuaWQ9ZS51aWQoKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcImRhdGFcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uZmlnLmRhdGF9fSksdC5pbnN0YW5jZXNbdGhpcy5pZF09dGhpcyx0aGlzLm9wdGlvbnMucmVzcG9uc2l2ZSYmdGhpcy5yZXNpemUoITApLHRoaXMuaW5pdGlhbGl6ZSgpLHRoaXN9LGUuZXh0ZW5kKHQuQ29udHJvbGxlci5wcm90b3R5cGUse2luaXRpYWxpemU6ZnVuY3Rpb24oKXtyZXR1cm4gdC5wbHVnaW5TZXJ2aWNlLm5vdGlmeVBsdWdpbnMoXCJiZWZvcmVJbml0XCIsW3RoaXNdKSx0aGlzLmJpbmRFdmVudHMoKSx0aGlzLmVuc3VyZVNjYWxlc0hhdmVJRHMoKSx0aGlzLmJ1aWxkT3JVcGRhdGVDb250cm9sbGVycygpLHRoaXMuYnVpbGRTY2FsZXMoKSx0aGlzLmJ1aWxkU3Vycm91bmRpbmdJdGVtcygpLHRoaXMudXBkYXRlTGF5b3V0KCksdGhpcy5yZXNldEVsZW1lbnRzKCksdGhpcy5pbml0VG9vbFRpcCgpLHRoaXMudXBkYXRlKCksdC5wbHVnaW5TZXJ2aWNlLm5vdGlmeVBsdWdpbnMoXCJhZnRlckluaXRcIixbdGhpc10pLHRoaXN9LGNsZWFyOmZ1bmN0aW9uKCl7cmV0dXJuIGUuY2xlYXIodGhpcy5jaGFydCksdGhpc30sc3RvcDpmdW5jdGlvbigpe3JldHVybiB0LmFuaW1hdGlvblNlcnZpY2UuY2FuY2VsQW5pbWF0aW9uKHRoaXMpLHRoaXN9LHJlc2l6ZTpmdW5jdGlvbih0KXt2YXIgaT10aGlzLmNoYXJ0LmNhbnZhcyxhPWUuZ2V0TWF4aW11bVdpZHRoKHRoaXMuY2hhcnQuY2FudmFzKSxvPXRoaXMub3B0aW9ucy5tYWludGFpbkFzcGVjdFJhdGlvJiZpc05hTih0aGlzLmNoYXJ0LmFzcGVjdFJhdGlvKT09PSExJiZpc0Zpbml0ZSh0aGlzLmNoYXJ0LmFzcGVjdFJhdGlvKSYmMCE9PXRoaXMuY2hhcnQuYXNwZWN0UmF0aW8/YS90aGlzLmNoYXJ0LmFzcGVjdFJhdGlvOmUuZ2V0TWF4aW11bUhlaWdodCh0aGlzLmNoYXJ0LmNhbnZhcykscz10aGlzLmNoYXJ0LndpZHRoIT09YXx8dGhpcy5jaGFydC5oZWlnaHQhPT1vO3JldHVybiBzPyhpLndpZHRoPXRoaXMuY2hhcnQud2lkdGg9YSxpLmhlaWdodD10aGlzLmNoYXJ0LmhlaWdodD1vLGUucmV0aW5hU2NhbGUodGhpcy5jaGFydCksdHx8KHRoaXMuc3RvcCgpLHRoaXMudXBkYXRlKHRoaXMub3B0aW9ucy5yZXNwb25zaXZlQW5pbWF0aW9uRHVyYXRpb24pKSx0aGlzKTp0aGlzfSxlbnN1cmVTY2FsZXNIYXZlSURzOmZ1bmN0aW9uKCl7dmFyIHQ9XCJ4LWF4aXMtXCIsaT1cInktYXhpcy1cIjt0aGlzLm9wdGlvbnMuc2NhbGVzJiYodGhpcy5vcHRpb25zLnNjYWxlcy54QXhlcyYmdGhpcy5vcHRpb25zLnNjYWxlcy54QXhlcy5sZW5ndGgmJmUuZWFjaCh0aGlzLm9wdGlvbnMuc2NhbGVzLnhBeGVzLGZ1bmN0aW9uKGUsaSl7ZS5pZD1lLmlkfHx0K2l9KSx0aGlzLm9wdGlvbnMuc2NhbGVzLnlBeGVzJiZ0aGlzLm9wdGlvbnMuc2NhbGVzLnlBeGVzLmxlbmd0aCYmZS5lYWNoKHRoaXMub3B0aW9ucy5zY2FsZXMueUF4ZXMsZnVuY3Rpb24odCxlKXt0LmlkPXQuaWR8fGkrZX0pKX0sYnVpbGRTY2FsZXM6ZnVuY3Rpb24oKXtpZih0aGlzLnNjYWxlcz17fSx0aGlzLm9wdGlvbnMuc2NhbGVzJiYodGhpcy5vcHRpb25zLnNjYWxlcy54QXhlcyYmdGhpcy5vcHRpb25zLnNjYWxlcy54QXhlcy5sZW5ndGgmJmUuZWFjaCh0aGlzLm9wdGlvbnMuc2NhbGVzLnhBeGVzLGZ1bmN0aW9uKGksYSl7dmFyIG89ZS5nZXRWYWx1ZU9yRGVmYXVsdChpLnR5cGUsXCJjYXRlZ29yeVwiKSxzPXQuc2NhbGVTZXJ2aWNlLmdldFNjYWxlQ29uc3RydWN0b3Iobyk7aWYocyl7dmFyIG49bmV3IHMoe2N0eDp0aGlzLmNoYXJ0LmN0eCxvcHRpb25zOmksY2hhcnQ6dGhpcyxpZDppLmlkfSk7dGhpcy5zY2FsZXNbbi5pZF09bn19LHRoaXMpLHRoaXMub3B0aW9ucy5zY2FsZXMueUF4ZXMmJnRoaXMub3B0aW9ucy5zY2FsZXMueUF4ZXMubGVuZ3RoJiZlLmVhY2godGhpcy5vcHRpb25zLnNjYWxlcy55QXhlcyxmdW5jdGlvbihpLGEpe3ZhciBvPWUuZ2V0VmFsdWVPckRlZmF1bHQoaS50eXBlLFwibGluZWFyXCIpLHM9dC5zY2FsZVNlcnZpY2UuZ2V0U2NhbGVDb25zdHJ1Y3RvcihvKTtpZihzKXt2YXIgbj1uZXcgcyh7Y3R4OnRoaXMuY2hhcnQuY3R4LG9wdGlvbnM6aSxjaGFydDp0aGlzLGlkOmkuaWR9KTt0aGlzLnNjYWxlc1tuLmlkXT1ufX0sdGhpcykpLHRoaXMub3B0aW9ucy5zY2FsZSl7dmFyIGk9dC5zY2FsZVNlcnZpY2UuZ2V0U2NhbGVDb25zdHJ1Y3Rvcih0aGlzLm9wdGlvbnMuc2NhbGUudHlwZSk7aWYoaSl7dmFyIGE9bmV3IGkoe2N0eDp0aGlzLmNoYXJ0LmN0eCxvcHRpb25zOnRoaXMub3B0aW9ucy5zY2FsZSxjaGFydDp0aGlzfSk7dGhpcy5zY2FsZT1hLHRoaXMuc2NhbGVzLnJhZGlhbFNjYWxlPWF9fXQuc2NhbGVTZXJ2aWNlLmFkZFNjYWxlc1RvTGF5b3V0KHRoaXMpfSxidWlsZFN1cnJvdW5kaW5nSXRlbXM6ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMudGl0bGUmJih0aGlzLnRpdGxlQmxvY2s9bmV3IHQuVGl0bGUoe2N0eDp0aGlzLmNoYXJ0LmN0eCxvcHRpb25zOnRoaXMub3B0aW9ucy50aXRsZSxjaGFydDp0aGlzfSksdC5sYXlvdXRTZXJ2aWNlLmFkZEJveCh0aGlzLHRoaXMudGl0bGVCbG9jaykpLHRoaXMub3B0aW9ucy5sZWdlbmQmJih0aGlzLmxlZ2VuZD1uZXcgdC5MZWdlbmQoe2N0eDp0aGlzLmNoYXJ0LmN0eCxvcHRpb25zOnRoaXMub3B0aW9ucy5sZWdlbmQsY2hhcnQ6dGhpc30pLHQubGF5b3V0U2VydmljZS5hZGRCb3godGhpcyx0aGlzLmxlZ2VuZCkpfSx1cGRhdGVMYXlvdXQ6ZnVuY3Rpb24oKXt0LmxheW91dFNlcnZpY2UudXBkYXRlKHRoaXMsdGhpcy5jaGFydC53aWR0aCx0aGlzLmNoYXJ0LmhlaWdodCl9LGJ1aWxkT3JVcGRhdGVDb250cm9sbGVyczpmdW5jdGlvbigpe3ZhciBpPVtdLGE9W107aWYoZS5lYWNoKHRoaXMuZGF0YS5kYXRhc2V0cyxmdW5jdGlvbihlLG8pe3ZhciBzPXRoaXMuZ2V0RGF0YXNldE1ldGEobyk7cy50eXBlfHwocy50eXBlPWUudHlwZXx8dGhpcy5jb25maWcudHlwZSksaS5wdXNoKHMudHlwZSkscy5jb250cm9sbGVyP3MuY29udHJvbGxlci51cGRhdGVJbmRleChvKToocy5jb250cm9sbGVyPW5ldyB0LmNvbnRyb2xsZXJzW3MudHlwZV0odGhpcyxvKSxhLnB1c2gocy5jb250cm9sbGVyKSl9LHRoaXMpLGkubGVuZ3RoPjEpZm9yKHZhciBvPTE7bzxpLmxlbmd0aDtvKyspaWYoaVtvXSE9PWlbby0xXSl7dGhpcy5pc0NvbWJvPSEwO2JyZWFrfXJldHVybiBhfSxyZXNldEVsZW1lbnRzOmZ1bmN0aW9uKCl7ZS5lYWNoKHRoaXMuZGF0YS5kYXRhc2V0cyxmdW5jdGlvbih0LGUpe3RoaXMuZ2V0RGF0YXNldE1ldGEoZSkuY29udHJvbGxlci5yZXNldCgpfSx0aGlzKX0sdXBkYXRlOmZ1bmN0aW9uKGksYSl7dC5wbHVnaW5TZXJ2aWNlLm5vdGlmeVBsdWdpbnMoXCJiZWZvcmVVcGRhdGVcIixbdGhpc10pLHRoaXMudG9vbHRpcC5fZGF0YT10aGlzLmRhdGE7dmFyIG89dGhpcy5idWlsZE9yVXBkYXRlQ29udHJvbGxlcnMoKTtlLmVhY2godGhpcy5kYXRhLmRhdGFzZXRzLGZ1bmN0aW9uKHQsZSl7dGhpcy5nZXREYXRhc2V0TWV0YShlKS5jb250cm9sbGVyLmJ1aWxkT3JVcGRhdGVFbGVtZW50cygpfSx0aGlzKSx0LmxheW91dFNlcnZpY2UudXBkYXRlKHRoaXMsdGhpcy5jaGFydC53aWR0aCx0aGlzLmNoYXJ0LmhlaWdodCksdC5wbHVnaW5TZXJ2aWNlLm5vdGlmeVBsdWdpbnMoXCJhZnRlclNjYWxlVXBkYXRlXCIsW3RoaXNdKSxlLmVhY2gobyxmdW5jdGlvbih0KXt0LnJlc2V0KCl9KSxlLmVhY2godGhpcy5kYXRhLmRhdGFzZXRzLGZ1bmN0aW9uKHQsZSl7dGhpcy5nZXREYXRhc2V0TWV0YShlKS5jb250cm9sbGVyLnVwZGF0ZSgpfSx0aGlzKSx0LnBsdWdpblNlcnZpY2Uubm90aWZ5UGx1Z2lucyhcImFmdGVyVXBkYXRlXCIsW3RoaXNdKSx0aGlzLnJlbmRlcihpLGEpfSxyZW5kZXI6ZnVuY3Rpb24oaSxhKXtpZih0LnBsdWdpblNlcnZpY2Uubm90aWZ5UGx1Z2lucyhcImJlZm9yZVJlbmRlclwiLFt0aGlzXSksdGhpcy5vcHRpb25zLmFuaW1hdGlvbiYmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBpJiYwIT09aXx8XCJ1bmRlZmluZWRcIj09dHlwZW9mIGkmJjAhPT10aGlzLm9wdGlvbnMuYW5pbWF0aW9uLmR1cmF0aW9uKSl7dmFyIG89bmV3IHQuQW5pbWF0aW9uO28ubnVtU3RlcHM9KGl8fHRoaXMub3B0aW9ucy5hbmltYXRpb24uZHVyYXRpb24pLzE2LjY2LG8uZWFzaW5nPXRoaXMub3B0aW9ucy5hbmltYXRpb24uZWFzaW5nLG8ucmVuZGVyPWZ1bmN0aW9uKHQsaSl7dmFyIGE9ZS5lYXNpbmdFZmZlY3RzW2kuZWFzaW5nXSxvPWkuY3VycmVudFN0ZXAvaS5udW1TdGVwcyxzPWEobyk7dC5kcmF3KHMsbyxpLmN1cnJlbnRTdGVwKX0sby5vbkFuaW1hdGlvblByb2dyZXNzPXRoaXMub3B0aW9ucy5hbmltYXRpb24ub25Qcm9ncmVzcyxvLm9uQW5pbWF0aW9uQ29tcGxldGU9dGhpcy5vcHRpb25zLmFuaW1hdGlvbi5vbkNvbXBsZXRlLHQuYW5pbWF0aW9uU2VydmljZS5hZGRBbmltYXRpb24odGhpcyxvLGksYSl9ZWxzZSB0aGlzLmRyYXcoKSx0aGlzLm9wdGlvbnMuYW5pbWF0aW9uJiZ0aGlzLm9wdGlvbnMuYW5pbWF0aW9uLm9uQ29tcGxldGUmJnRoaXMub3B0aW9ucy5hbmltYXRpb24ub25Db21wbGV0ZS5jYWxsJiZ0aGlzLm9wdGlvbnMuYW5pbWF0aW9uLm9uQ29tcGxldGUuY2FsbCh0aGlzKTtyZXR1cm4gdGhpc30sZHJhdzpmdW5jdGlvbihpKXt2YXIgYT1pfHwxO3RoaXMuY2xlYXIoKSx0LnBsdWdpblNlcnZpY2Uubm90aWZ5UGx1Z2lucyhcImJlZm9yZURyYXdcIixbdGhpcyxhXSksZS5lYWNoKHRoaXMuYm94ZXMsZnVuY3Rpb24odCl7dC5kcmF3KHRoaXMuY2hhcnRBcmVhKX0sdGhpcyksdGhpcy5zY2FsZSYmdGhpcy5zY2FsZS5kcmF3KCksdGhpcy5jaGFydC5jdHguc2F2ZSgpLHRoaXMuY2hhcnQuY3R4LmJlZ2luUGF0aCgpLHRoaXMuY2hhcnQuY3R4LnJlY3QodGhpcy5jaGFydEFyZWEubGVmdCx0aGlzLmNoYXJ0QXJlYS50b3AsdGhpcy5jaGFydEFyZWEucmlnaHQtdGhpcy5jaGFydEFyZWEubGVmdCx0aGlzLmNoYXJ0QXJlYS5ib3R0b20tdGhpcy5jaGFydEFyZWEudG9wKSx0aGlzLmNoYXJ0LmN0eC5jbGlwKCksZS5lYWNoKHRoaXMuZGF0YS5kYXRhc2V0cyxmdW5jdGlvbih0LGUpe3RoaXMuaXNEYXRhc2V0VmlzaWJsZShlKSYmdGhpcy5nZXREYXRhc2V0TWV0YShlKS5jb250cm9sbGVyLmRyYXcoaSl9LHRoaXMsITApLHRoaXMuY2hhcnQuY3R4LnJlc3RvcmUoKSx0aGlzLnRvb2x0aXAudHJhbnNpdGlvbihhKS5kcmF3KCksdC5wbHVnaW5TZXJ2aWNlLm5vdGlmeVBsdWdpbnMoXCJhZnRlckRyYXdcIixbdGhpcyxhXSl9LGdldEVsZW1lbnRBdEV2ZW50OmZ1bmN0aW9uKHQpe3ZhciBpPWUuZ2V0UmVsYXRpdmVQb3NpdGlvbih0LHRoaXMuY2hhcnQpLGE9W107cmV0dXJuIGUuZWFjaCh0aGlzLmRhdGEuZGF0YXNldHMsZnVuY3Rpb24odCxvKXtpZih0aGlzLmlzRGF0YXNldFZpc2libGUobykpe3ZhciBzPXRoaXMuZ2V0RGF0YXNldE1ldGEobyk7ZS5lYWNoKHMuZGF0YSxmdW5jdGlvbih0LGUpe3JldHVybiB0LmluUmFuZ2UoaS54LGkueSk/KGEucHVzaCh0KSxhKTp2b2lkIDB9KX19LHRoaXMpLGF9LGdldEVsZW1lbnRzQXRFdmVudDpmdW5jdGlvbih0KXt2YXIgaT1lLmdldFJlbGF0aXZlUG9zaXRpb24odCx0aGlzLmNoYXJ0KSxhPVtdLG89ZnVuY3Rpb24oKXtpZih0aGlzLmRhdGEuZGF0YXNldHMpZm9yKHZhciB0PTA7dDx0aGlzLmRhdGEuZGF0YXNldHMubGVuZ3RoO3QrKyl7dmFyIGU9dGhpcy5nZXREYXRhc2V0TWV0YSh0KTtpZih0aGlzLmlzRGF0YXNldFZpc2libGUodCkpZm9yKHZhciBhPTA7YTxlLmRhdGEubGVuZ3RoO2ErKylpZihlLmRhdGFbYV0uaW5SYW5nZShpLngsaS55KSlyZXR1cm4gZS5kYXRhW2FdfX0uY2FsbCh0aGlzKTtyZXR1cm4gbz8oZS5lYWNoKHRoaXMuZGF0YS5kYXRhc2V0cyxmdW5jdGlvbih0LGUpe2lmKHRoaXMuaXNEYXRhc2V0VmlzaWJsZShlKSl7dmFyIGk9dGhpcy5nZXREYXRhc2V0TWV0YShlKTthLnB1c2goaS5kYXRhW28uX2luZGV4XSl9fSx0aGlzKSxhKTphfSxnZXREYXRhc2V0QXRFdmVudDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldEVsZW1lbnRBdEV2ZW50KHQpO3JldHVybiBlLmxlbmd0aD4wJiYoZT10aGlzLmdldERhdGFzZXRNZXRhKGVbMF0uX2RhdGFzZXRJbmRleCkuZGF0YSksZX0sZ2V0RGF0YXNldE1ldGE6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5kYXRhLmRhdGFzZXRzW3RdO2UuX21ldGF8fChlLl9tZXRhPXt9KTt2YXIgaT1lLl9tZXRhW3RoaXMuaWRdO3JldHVybiBpfHwoaT1lLl9tZXRhW3RoaXMuaWRdPXt0eXBlOm51bGwsZGF0YTpbXSxkYXRhc2V0Om51bGwsY29udHJvbGxlcjpudWxsLGhpZGRlbjpudWxsLHhBeGlzSUQ6bnVsbCx5QXhpc0lEOm51bGx9KSxpfSxnZXRWaXNpYmxlRGF0YXNldENvdW50OmZ1bmN0aW9uKCl7Zm9yKHZhciB0PTAsZT0wLGk9dGhpcy5kYXRhLmRhdGFzZXRzLmxlbmd0aDtpPmU7KytlKXRoaXMuaXNEYXRhc2V0VmlzaWJsZShlKSYmdCsrO3JldHVybiB0fSxpc0RhdGFzZXRWaXNpYmxlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0RGF0YXNldE1ldGEodCk7cmV0dXJuXCJib29sZWFuXCI9PXR5cGVvZiBlLmhpZGRlbj8hZS5oaWRkZW46IXRoaXMuZGF0YS5kYXRhc2V0c1t0XS5oaWRkZW59LGdlbmVyYXRlTGVnZW5kOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3B0aW9ucy5sZWdlbmRDYWxsYmFjayh0aGlzKX0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuY2xlYXIoKSxlLnVuYmluZEV2ZW50cyh0aGlzLHRoaXMuZXZlbnRzKSxlLnJlbW92ZVJlc2l6ZUxpc3RlbmVyKHRoaXMuY2hhcnQuY2FudmFzLnBhcmVudE5vZGUpO3ZhciBpPXRoaXMuY2hhcnQuY2FudmFzO2kud2lkdGg9dGhpcy5jaGFydC53aWR0aCxpLmhlaWdodD10aGlzLmNoYXJ0LmhlaWdodCx2b2lkIDAhPT10aGlzLmNoYXJ0Lm9yaWdpbmFsRGV2aWNlUGl4ZWxSYXRpbyYmdGhpcy5jaGFydC5jdHguc2NhbGUoMS90aGlzLmNoYXJ0Lm9yaWdpbmFsRGV2aWNlUGl4ZWxSYXRpbywxL3RoaXMuY2hhcnQub3JpZ2luYWxEZXZpY2VQaXhlbFJhdGlvKSxpLnN0eWxlLndpZHRoPXRoaXMuY2hhcnQub3JpZ2luYWxDYW52YXNTdHlsZVdpZHRoLGkuc3R5bGUuaGVpZ2h0PXRoaXMuY2hhcnQub3JpZ2luYWxDYW52YXNTdHlsZUhlaWdodCx0LnBsdWdpblNlcnZpY2Uubm90aWZ5UGx1Z2lucyhcImRlc3Ryb3lcIixbdGhpc10pLGRlbGV0ZSB0Lmluc3RhbmNlc1t0aGlzLmlkXX0sdG9CYXNlNjRJbWFnZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNoYXJ0LmNhbnZhcy50b0RhdGFVUkwuYXBwbHkodGhpcy5jaGFydC5jYW52YXMsYXJndW1lbnRzKX0saW5pdFRvb2xUaXA6ZnVuY3Rpb24oKXt0aGlzLnRvb2x0aXA9bmV3IHQuVG9vbHRpcCh7X2NoYXJ0OnRoaXMuY2hhcnQsX2NoYXJ0SW5zdGFuY2U6dGhpcyxfZGF0YTp0aGlzLmRhdGEsX29wdGlvbnM6dGhpcy5vcHRpb25zfSx0aGlzKX0sYmluZEV2ZW50czpmdW5jdGlvbigpe2UuYmluZEV2ZW50cyh0aGlzLHRoaXMub3B0aW9ucy5ldmVudHMsZnVuY3Rpb24odCl7dGhpcy5ldmVudEhhbmRsZXIodCl9KX0sZXZlbnRIYW5kbGVyOmZ1bmN0aW9uKHQpe2lmKHRoaXMubGFzdEFjdGl2ZT10aGlzLmxhc3RBY3RpdmV8fFtdLHRoaXMubGFzdFRvb2x0aXBBY3RpdmU9dGhpcy5sYXN0VG9vbHRpcEFjdGl2ZXx8W10sXCJtb3VzZW91dFwiPT09dC50eXBlKXRoaXMuYWN0aXZlPVtdLHRoaXMudG9vbHRpcEFjdGl2ZT1bXTtlbHNle3ZhciBpPXRoaXMsYT1mdW5jdGlvbihlKXtzd2l0Y2goZSl7Y2FzZVwic2luZ2xlXCI6cmV0dXJuIGkuZ2V0RWxlbWVudEF0RXZlbnQodCk7Y2FzZVwibGFiZWxcIjpyZXR1cm4gaS5nZXRFbGVtZW50c0F0RXZlbnQodCk7Y2FzZVwiZGF0YXNldFwiOnJldHVybiBpLmdldERhdGFzZXRBdEV2ZW50KHQpO2RlZmF1bHQ6cmV0dXJuIHR9fTt0aGlzLmFjdGl2ZT1hKHRoaXMub3B0aW9ucy5ob3Zlci5tb2RlKSx0aGlzLnRvb2x0aXBBY3RpdmU9YSh0aGlzLm9wdGlvbnMudG9vbHRpcHMubW9kZSl9aWYodGhpcy5vcHRpb25zLmhvdmVyLm9uSG92ZXImJnRoaXMub3B0aW9ucy5ob3Zlci5vbkhvdmVyLmNhbGwodGhpcyx0aGlzLmFjdGl2ZSksKFwibW91c2V1cFwiPT09dC50eXBlfHxcImNsaWNrXCI9PT10LnR5cGUpJiYodGhpcy5vcHRpb25zLm9uQ2xpY2smJnRoaXMub3B0aW9ucy5vbkNsaWNrLmNhbGwodGhpcyx0LHRoaXMuYWN0aXZlKSx0aGlzLmxlZ2VuZCYmdGhpcy5sZWdlbmQuaGFuZGxlRXZlbnQmJnRoaXMubGVnZW5kLmhhbmRsZUV2ZW50KHQpKSx0aGlzLmxhc3RBY3RpdmUubGVuZ3RoKXN3aXRjaCh0aGlzLm9wdGlvbnMuaG92ZXIubW9kZSl7Y2FzZVwic2luZ2xlXCI6dGhpcy5nZXREYXRhc2V0TWV0YSh0aGlzLmxhc3RBY3RpdmVbMF0uX2RhdGFzZXRJbmRleCkuY29udHJvbGxlci5yZW1vdmVIb3ZlclN0eWxlKHRoaXMubGFzdEFjdGl2ZVswXSx0aGlzLmxhc3RBY3RpdmVbMF0uX2RhdGFzZXRJbmRleCx0aGlzLmxhc3RBY3RpdmVbMF0uX2luZGV4KTticmVhaztjYXNlXCJsYWJlbFwiOmNhc2VcImRhdGFzZXRcIjpmb3IodmFyIG89MDtvPHRoaXMubGFzdEFjdGl2ZS5sZW5ndGg7bysrKXRoaXMubGFzdEFjdGl2ZVtvXSYmdGhpcy5nZXREYXRhc2V0TWV0YSh0aGlzLmxhc3RBY3RpdmVbb10uX2RhdGFzZXRJbmRleCkuY29udHJvbGxlci5yZW1vdmVIb3ZlclN0eWxlKHRoaXMubGFzdEFjdGl2ZVtvXSx0aGlzLmxhc3RBY3RpdmVbb10uX2RhdGFzZXRJbmRleCx0aGlzLmxhc3RBY3RpdmVbb10uX2luZGV4KX1pZih0aGlzLmFjdGl2ZS5sZW5ndGgmJnRoaXMub3B0aW9ucy5ob3Zlci5tb2RlKXN3aXRjaCh0aGlzLm9wdGlvbnMuaG92ZXIubW9kZSl7Y2FzZVwic2luZ2xlXCI6dGhpcy5nZXREYXRhc2V0TWV0YSh0aGlzLmFjdGl2ZVswXS5fZGF0YXNldEluZGV4KS5jb250cm9sbGVyLnNldEhvdmVyU3R5bGUodGhpcy5hY3RpdmVbMF0pO2JyZWFrO2Nhc2VcImxhYmVsXCI6Y2FzZVwiZGF0YXNldFwiOmZvcih2YXIgcz0wO3M8dGhpcy5hY3RpdmUubGVuZ3RoO3MrKyl0aGlzLmFjdGl2ZVtzXSYmdGhpcy5nZXREYXRhc2V0TWV0YSh0aGlzLmFjdGl2ZVtzXS5fZGF0YXNldEluZGV4KS5jb250cm9sbGVyLnNldEhvdmVyU3R5bGUodGhpcy5hY3RpdmVbc10pfWlmKCh0aGlzLm9wdGlvbnMudG9vbHRpcHMuZW5hYmxlZHx8dGhpcy5vcHRpb25zLnRvb2x0aXBzLmN1c3RvbSkmJih0aGlzLnRvb2x0aXAuaW5pdGlhbGl6ZSgpLHRoaXMudG9vbHRpcC5fYWN0aXZlPXRoaXMudG9vbHRpcEFjdGl2ZSx0aGlzLnRvb2x0aXAudXBkYXRlKCEwKSksdGhpcy50b29sdGlwLnBpdm90KCksIXRoaXMuYW5pbWF0aW5nKXt2YXIgbjtlLmVhY2godGhpcy5hY3RpdmUsZnVuY3Rpb24odCxlKXt0IT09dGhpcy5sYXN0QWN0aXZlW2VdJiYobj0hMCl9LHRoaXMpLGUuZWFjaCh0aGlzLnRvb2x0aXBBY3RpdmUsZnVuY3Rpb24odCxlKXt0IT09dGhpcy5sYXN0VG9vbHRpcEFjdGl2ZVtlXSYmKG49ITApfSx0aGlzKSwodGhpcy5sYXN0QWN0aXZlLmxlbmd0aCE9PXRoaXMuYWN0aXZlLmxlbmd0aHx8dGhpcy5sYXN0VG9vbHRpcEFjdGl2ZS5sZW5ndGghPT10aGlzLnRvb2x0aXBBY3RpdmUubGVuZ3RofHxuKSYmKHRoaXMuc3RvcCgpLCh0aGlzLm9wdGlvbnMudG9vbHRpcHMuZW5hYmxlZHx8dGhpcy5vcHRpb25zLnRvb2x0aXBzLmN1c3RvbSkmJnRoaXMudG9vbHRpcC51cGRhdGUoITApLHRoaXMucmVuZGVyKHRoaXMub3B0aW9ucy5ob3Zlci5hbmltYXRpb25EdXJhdGlvbiwhMCkpfXJldHVybiB0aGlzLmxhc3RBY3RpdmU9dGhpcy5hY3RpdmUsdGhpcy5sYXN0VG9vbHRpcEFjdGl2ZT10aGlzLnRvb2x0aXBBY3RpdmUsdGhpc319KX19LHt9XSwyMzpbZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1mdW5jdGlvbih0KXt2YXIgZT10LmhlbHBlcnMsaT1lLm5vb3A7dC5EYXRhc2V0Q29udHJvbGxlcj1mdW5jdGlvbih0LGUpe3RoaXMuaW5pdGlhbGl6ZS5jYWxsKHRoaXMsdCxlKX0sZS5leHRlbmQodC5EYXRhc2V0Q29udHJvbGxlci5wcm90b3R5cGUse2luaXRpYWxpemU6ZnVuY3Rpb24odCxlKXt0aGlzLmNoYXJ0PXQsdGhpcy5pbmRleD1lLHRoaXMubGlua1NjYWxlcygpLHRoaXMuYWRkRWxlbWVudHMoKX0sdXBkYXRlSW5kZXg6ZnVuY3Rpb24odCl7dGhpcy5pbmRleD10fSxsaW5rU2NhbGVzOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZXRNZXRhKCksZT10aGlzLmdldERhdGFzZXQoKTtudWxsPT09dC54QXhpc0lEJiYodC54QXhpc0lEPWUueEF4aXNJRHx8dGhpcy5jaGFydC5vcHRpb25zLnNjYWxlcy54QXhlc1swXS5pZCksbnVsbD09PXQueUF4aXNJRCYmKHQueUF4aXNJRD1lLnlBeGlzSUR8fHRoaXMuY2hhcnQub3B0aW9ucy5zY2FsZXMueUF4ZXNbMF0uaWQpfSxnZXREYXRhc2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2hhcnQuZGF0YS5kYXRhc2V0c1t0aGlzLmluZGV4XX0sZ2V0TWV0YTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNoYXJ0LmdldERhdGFzZXRNZXRhKHRoaXMuaW5kZXgpfSxnZXRTY2FsZUZvcklkOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNoYXJ0LnNjYWxlc1t0XX0scmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLnVwZGF0ZSghMCl9LGJ1aWxkT3JVcGRhdGVFbGVtZW50czpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2V0TWV0YSgpLGU9dC5kYXRhLGk9dGhpcy5nZXREYXRhc2V0KCkuZGF0YS5sZW5ndGgsYT1lLmxlbmd0aDtpZihhPmkpZS5zcGxpY2UoaSxhLWkpO2Vsc2UgaWYoaT5hKWZvcih2YXIgbz1hO2k+bzsrK28pdGhpcy5hZGRFbGVtZW50QW5kUmVzZXQobyl9LGFkZEVsZW1lbnRzOmksYWRkRWxlbWVudEFuZFJlc2V0OmksZHJhdzppLHJlbW92ZUhvdmVyU3R5bGU6aSxzZXRIb3ZlclN0eWxlOmksdXBkYXRlOml9KSx0LkRhdGFzZXRDb250cm9sbGVyLmV4dGVuZD1lLmluaGVyaXRzfX0se31dLDI0OltmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPWZ1bmN0aW9uKHQpe3ZhciBlPXQuaGVscGVyczt0LmVsZW1lbnRzPXt9LHQuRWxlbWVudD1mdW5jdGlvbih0KXtlLmV4dGVuZCh0aGlzLHQpLHRoaXMuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGUuZXh0ZW5kKHQuRWxlbWVudC5wcm90b3R5cGUse2luaXRpYWxpemU6ZnVuY3Rpb24oKXt0aGlzLmhpZGRlbj0hMX0scGl2b3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdmlld3x8KHRoaXMuX3ZpZXc9ZS5jbG9uZSh0aGlzLl9tb2RlbCkpLHRoaXMuX3N0YXJ0PWUuY2xvbmUodGhpcy5fdmlldyksdGhpc30sdHJhbnNpdGlvbjpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fdmlld3x8KHRoaXMuX3ZpZXc9ZS5jbG9uZSh0aGlzLl9tb2RlbCkpLDE9PT10Pyh0aGlzLl92aWV3PXRoaXMuX21vZGVsLHRoaXMuX3N0YXJ0PW51bGwsdGhpcyk6KHRoaXMuX3N0YXJ0fHx0aGlzLnBpdm90KCksZS5lYWNoKHRoaXMuX21vZGVsLGZ1bmN0aW9uKGksYSl7aWYoXCJfXCIhPT1hWzBdJiZ0aGlzLl9tb2RlbC5oYXNPd25Qcm9wZXJ0eShhKSlpZih0aGlzLl92aWV3Lmhhc093blByb3BlcnR5KGEpKWlmKGk9PT10aGlzLl92aWV3W2FdKTtlbHNlIGlmKFwic3RyaW5nXCI9PXR5cGVvZiBpKXRyeXt2YXIgbz1lLmNvbG9yKHRoaXMuX3N0YXJ0W2FdKS5taXgoZS5jb2xvcih0aGlzLl9tb2RlbFthXSksdCk7dGhpcy5fdmlld1thXT1vLnJnYlN0cmluZygpfWNhdGNoKHMpe3RoaXMuX3ZpZXdbYV09aX1lbHNlIGlmKFwibnVtYmVyXCI9PXR5cGVvZiBpKXt2YXIgbj12b2lkIDAhPT10aGlzLl9zdGFydFthXSYmaXNOYU4odGhpcy5fc3RhcnRbYV0pPT09ITE/dGhpcy5fc3RhcnRbYV06MDt0aGlzLl92aWV3W2FdPSh0aGlzLl9tb2RlbFthXS1uKSp0K259ZWxzZSB0aGlzLl92aWV3W2FdPWk7ZWxzZVwibnVtYmVyXCIhPXR5cGVvZiBpfHxpc05hTih0aGlzLl92aWV3W2FdKT90aGlzLl92aWV3W2FdPWk6dGhpcy5fdmlld1thXT1pKnQ7ZWxzZTt9LHRoaXMpLHRoaXMpfSx0b29sdGlwUG9zaXRpb246ZnVuY3Rpb24oKXtyZXR1cm57eDp0aGlzLl9tb2RlbC54LHk6dGhpcy5fbW9kZWwueX19LGhhc1ZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIGUuaXNOdW1iZXIodGhpcy5fbW9kZWwueCkmJmUuaXNOdW1iZXIodGhpcy5fbW9kZWwueSl9fSksdC5FbGVtZW50LmV4dGVuZD1lLmluaGVyaXRzfX0se31dLDI1OltmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIGE9dChcImNoYXJ0anMtY29sb3JcIik7ZS5leHBvcnRzPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUodCxlLGkpe3ZhciBhO3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiB0PyhhPXBhcnNlSW50KHQsMTApLC0xIT10LmluZGV4T2YoXCIlXCIpJiYoYT1hLzEwMCplLnBhcmVudE5vZGVbaV0pKTphPXQsYX1mdW5jdGlvbiBpKHQsaSxhKXt2YXIgbyxzPWRvY3VtZW50LmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUodClbaV0sbj1kb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKHQucGFyZW50Tm9kZSlbaV0scj1udWxsIT09cyYmXCJub25lXCIhPT1zLGg9bnVsbCE9PW4mJlwibm9uZVwiIT09bjtyZXR1cm4ocnx8aCkmJihvPU1hdGgubWluKHI/ZShzLHQsYSk6TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLGg/ZShuLHQucGFyZW50Tm9kZSxhKTpOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkpKSxvfXZhciBvPXQuaGVscGVycz17fTtvLmVhY2g9ZnVuY3Rpb24odCxlLGksYSl7dmFyIHMsbjtpZihvLmlzQXJyYXkodCkpaWYobj10Lmxlbmd0aCxhKWZvcihzPW4tMTtzPj0wO3MtLSllLmNhbGwoaSx0W3NdLHMpO2Vsc2UgZm9yKHM9MDtuPnM7cysrKWUuY2FsbChpLHRbc10scyk7ZWxzZSBpZihcIm9iamVjdFwiPT10eXBlb2YgdCl7dmFyIHI9T2JqZWN0LmtleXModCk7Zm9yKG49ci5sZW5ndGgscz0wO24+cztzKyspZS5jYWxsKGksdFtyW3NdXSxyW3NdKX19LG8uY2xvbmU9ZnVuY3Rpb24odCl7dmFyIGU9e307cmV0dXJuIG8uZWFjaCh0LGZ1bmN0aW9uKGksYSl7dC5oYXNPd25Qcm9wZXJ0eShhKSYmKG8uaXNBcnJheShpKT9lW2FdPWkuc2xpY2UoMCk6XCJvYmplY3RcIj09dHlwZW9mIGkmJm51bGwhPT1pP2VbYV09by5jbG9uZShpKTplW2FdPWkpfSksZX0sby5leHRlbmQ9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGgsaT1bXSxhPTE7ZT5hO2ErKylpLnB1c2goYXJndW1lbnRzW2FdKTtyZXR1cm4gby5lYWNoKGksZnVuY3Rpb24oZSl7by5lYWNoKGUsZnVuY3Rpb24oaSxhKXtlLmhhc093blByb3BlcnR5KGEpJiYodFthXT1pKX0pfSksdH0sby5jb25maWdNZXJnZT1mdW5jdGlvbihlKXt2YXIgaT1vLmNsb25lKGUpO3JldHVybiBvLmVhY2goQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpLGZ1bmN0aW9uKGUpe28uZWFjaChlLGZ1bmN0aW9uKGEscyl7aWYoZS5oYXNPd25Qcm9wZXJ0eShzKSlpZihcInNjYWxlc1wiPT09cylpW3NdPW8uc2NhbGVNZXJnZShpLmhhc093blByb3BlcnR5KHMpP2lbc106e30sYSk7ZWxzZSBpZihcInNjYWxlXCI9PT1zKWlbc109by5jb25maWdNZXJnZShpLmhhc093blByb3BlcnR5KHMpP2lbc106e30sdC5zY2FsZVNlcnZpY2UuZ2V0U2NhbGVEZWZhdWx0cyhhLnR5cGUpLGEpO2Vsc2UgaWYoaS5oYXNPd25Qcm9wZXJ0eShzKSYmby5pc0FycmF5KGlbc10pJiZvLmlzQXJyYXkoYSkpe3ZhciBuPWlbc107by5lYWNoKGEsZnVuY3Rpb24odCxlKXtlPG4ubGVuZ3RoP1wib2JqZWN0XCI9PXR5cGVvZiBuW2VdJiZudWxsIT09bltlXSYmXCJvYmplY3RcIj09dHlwZW9mIHQmJm51bGwhPT10P25bZV09by5jb25maWdNZXJnZShuW2VdLHQpOm5bZV09dDpuLnB1c2godCl9KX1lbHNlIGkuaGFzT3duUHJvcGVydHkocykmJlwib2JqZWN0XCI9PXR5cGVvZiBpW3NdJiZudWxsIT09aVtzXSYmXCJvYmplY3RcIj09dHlwZW9mIGE/aVtzXT1vLmNvbmZpZ01lcmdlKGlbc10sYSk6aVtzXT1hfSl9KSxpfSxvLmV4dGVuZERlZXA9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSh0KXtyZXR1cm4gby5lYWNoKGFyZ3VtZW50cyxmdW5jdGlvbihpKXtpIT09dCYmby5lYWNoKGksZnVuY3Rpb24oaSxhKXt0W2FdJiZ0W2FdLmNvbnN0cnVjdG9yJiZ0W2FdLmNvbnN0cnVjdG9yPT09T2JqZWN0P2UodFthXSxpKTp0W2FdPWl9KX0pLHR9cmV0dXJuIGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxvLnNjYWxlTWVyZ2U9ZnVuY3Rpb24oZSxpKXt2YXIgYT1vLmNsb25lKGUpO3JldHVybiBvLmVhY2goaSxmdW5jdGlvbihlLHMpe2kuaGFzT3duUHJvcGVydHkocykmJihcInhBeGVzXCI9PT1zfHxcInlBeGVzXCI9PT1zP2EuaGFzT3duUHJvcGVydHkocyk/by5lYWNoKGUsZnVuY3Rpb24oZSxpKXt2YXIgbj1vLmdldFZhbHVlT3JEZWZhdWx0KGUudHlwZSxcInhBeGVzXCI9PT1zP1wiY2F0ZWdvcnlcIjpcImxpbmVhclwiKSxyPXQuc2NhbGVTZXJ2aWNlLmdldFNjYWxlRGVmYXVsdHMobik7aT49YVtzXS5sZW5ndGh8fCFhW3NdW2ldLnR5cGU/YVtzXS5wdXNoKG8uY29uZmlnTWVyZ2UocixlKSk6ZS50eXBlJiZlLnR5cGUhPT1hW3NdW2ldLnR5cGU/YVtzXVtpXT1vLmNvbmZpZ01lcmdlKGFbc11baV0scixlKTphW3NdW2ldPW8uY29uZmlnTWVyZ2UoYVtzXVtpXSxlKX0pOihhW3NdPVtdLG8uZWFjaChlLGZ1bmN0aW9uKGUpe3ZhciBpPW8uZ2V0VmFsdWVPckRlZmF1bHQoZS50eXBlLFwieEF4ZXNcIj09PXM/XCJjYXRlZ29yeVwiOlwibGluZWFyXCIpO2Fbc10ucHVzaChvLmNvbmZpZ01lcmdlKHQuc2NhbGVTZXJ2aWNlLmdldFNjYWxlRGVmYXVsdHMoaSksZSkpfSkpOmEuaGFzT3duUHJvcGVydHkocykmJlwib2JqZWN0XCI9PXR5cGVvZiBhW3NdJiZudWxsIT09YVtzXSYmXCJvYmplY3RcIj09dHlwZW9mIGU/YVtzXT1vLmNvbmZpZ01lcmdlKGFbc10sZSk6YVtzXT1lKX0pLGF9LG8uZ2V0VmFsdWVBdEluZGV4T3JEZWZhdWx0PWZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gdm9pZCAwPT09dHx8bnVsbD09PXQ/aTpvLmlzQXJyYXkodCk/ZTx0Lmxlbmd0aD90W2VdOmk6dH0sby5nZXRWYWx1ZU9yRGVmYXVsdD1mdW5jdGlvbih0LGUpe3JldHVybiB2b2lkIDA9PT10P2U6dH0sby5pbmRleE9mPWZ1bmN0aW9uKHQsZSl7aWYoQXJyYXkucHJvdG90eXBlLmluZGV4T2YpcmV0dXJuIHQuaW5kZXhPZihlKTtmb3IodmFyIGk9MDtpPHQubGVuZ3RoO2krKylpZih0W2ldPT09ZSlyZXR1cm4gaTtyZXR1cm4tMX0sby53aGVyZT1mdW5jdGlvbih0LGUpe3ZhciBpPVtdO3JldHVybiBvLmVhY2godCxmdW5jdGlvbih0KXtlKHQpJiZpLnB1c2godCl9KSxpfSxvLmZpbmRJbmRleD1mdW5jdGlvbih0LGUsaSl7dmFyIGE9LTE7aWYoQXJyYXkucHJvdG90eXBlLmZpbmRJbmRleClhPXQuZmluZEluZGV4KGUsaSk7ZWxzZSBmb3IodmFyIG89MDtvPHQubGVuZ3RoOysrbylpZihpPXZvaWQgMCE9PWk/aTp0LGUuY2FsbChpLHRbb10sbyx0KSl7YT1vO2JyZWFrfXJldHVybiBhfSxvLmZpbmROZXh0V2hlcmU9ZnVuY3Rpb24odCxlLGkpeyh2b2lkIDA9PT1pfHxudWxsPT09aSkmJihpPS0xKTtmb3IodmFyIGE9aSsxO2E8dC5sZW5ndGg7YSsrKXt2YXIgbz10W2FdO2lmKGUobykpcmV0dXJuIG99fSxvLmZpbmRQcmV2aW91c1doZXJlPWZ1bmN0aW9uKHQsZSxpKXsodm9pZCAwPT09aXx8bnVsbD09PWkpJiYoaT10Lmxlbmd0aCk7Zm9yKHZhciBhPWktMTthPj0wO2EtLSl7dmFyIG89dFthXTtpZihlKG8pKXJldHVybiBvfX0sby5pbmhlcml0cz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLGk9dCYmdC5oYXNPd25Qcm9wZXJ0eShcImNvbnN0cnVjdG9yXCIpP3QuY29uc3RydWN0b3I6ZnVuY3Rpb24oKXtyZXR1cm4gZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGE9ZnVuY3Rpb24oKXt0aGlzLmNvbnN0cnVjdG9yPWl9O3JldHVybiBhLnByb3RvdHlwZT1lLnByb3RvdHlwZSxpLnByb3RvdHlwZT1uZXcgYSxpLmV4dGVuZD1vLmluaGVyaXRzLHQmJm8uZXh0ZW5kKGkucHJvdG90eXBlLHQpLGkuX19zdXBlcl9fPWUucHJvdG90eXBlLGl9LG8ubm9vcD1mdW5jdGlvbigpe30sby51aWQ9ZnVuY3Rpb24oKXt2YXIgdD0wO3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0Kyt9fSgpLG8ud2Fybj1mdW5jdGlvbih0KXtjb25zb2xlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBjb25zb2xlLndhcm4mJmNvbnNvbGUud2Fybih0KX0sby5pc051bWJlcj1mdW5jdGlvbih0KXtyZXR1cm4haXNOYU4ocGFyc2VGbG9hdCh0KSkmJmlzRmluaXRlKHQpfSxvLmFsbW9zdEVxdWFscz1mdW5jdGlvbih0LGUsaSl7cmV0dXJuIE1hdGguYWJzKHQtZSk8aX0sby5tYXg9ZnVuY3Rpb24odCl7cmV0dXJuIHQucmVkdWNlKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGlzTmFOKGUpP3Q6TWF0aC5tYXgodCxlKX0sTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZKX0sby5taW49ZnVuY3Rpb24odCl7cmV0dXJuIHQucmVkdWNlKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGlzTmFOKGUpP3Q6TWF0aC5taW4odCxlKX0sTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZKX0sby5zaWduPWZ1bmN0aW9uKHQpe3JldHVybiBNYXRoLnNpZ24/TWF0aC5zaWduKHQpOih0PSt0LDA9PT10fHxpc05hTih0KT90OnQ+MD8xOi0xKX0sby5sb2cxMD1mdW5jdGlvbih0KXtyZXR1cm4gTWF0aC5sb2cxMD9NYXRoLmxvZzEwKHQpOk1hdGgubG9nKHQpL01hdGguTE4xMH0sby50b1JhZGlhbnM9ZnVuY3Rpb24odCl7cmV0dXJuIHQqKE1hdGguUEkvMTgwKX0sby50b0RlZ3JlZXM9ZnVuY3Rpb24odCl7cmV0dXJuIHQqKDE4MC9NYXRoLlBJKX0sby5nZXRBbmdsZUZyb21Qb2ludD1mdW5jdGlvbih0LGUpe3ZhciBpPWUueC10LngsYT1lLnktdC55LG89TWF0aC5zcXJ0KGkqaSthKmEpLHM9TWF0aC5hdGFuMihhLGkpO3JldHVybiBzPC0uNSpNYXRoLlBJJiYocys9MipNYXRoLlBJKSx7YW5nbGU6cyxkaXN0YW5jZTpvfX0sby5hbGlhc1BpeGVsPWZ1bmN0aW9uKHQpe3JldHVybiB0JTI9PT0wPzA6LjV9LG8uc3BsaW5lQ3VydmU9ZnVuY3Rpb24odCxlLGksYSl7dmFyIG89dC5za2lwP2U6dCxzPWUsbj1pLnNraXA/ZTppLHI9TWF0aC5zcXJ0KE1hdGgucG93KHMueC1vLngsMikrTWF0aC5wb3cocy55LW8ueSwyKSksaD1NYXRoLnNxcnQoTWF0aC5wb3cobi54LXMueCwyKStNYXRoLnBvdyhuLnktcy55LDIpKSxsPXIvKHIraCksYz1oLyhyK2gpO2w9aXNOYU4obCk/MDpsLGM9aXNOYU4oYyk/MDpjO3ZhciBkPWEqbCx1PWEqYztyZXR1cm57cHJldmlvdXM6e3g6cy54LWQqKG4ueC1vLngpLHk6cy55LWQqKG4ueS1vLnkpfSxuZXh0Ont4OnMueCt1KihuLngtby54KSx5OnMueSt1KihuLnktby55KX19fSxvLm5leHRJdGVtPWZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gaT9lPj10Lmxlbmd0aC0xP3RbMF06dFtlKzFdOmU+PXQubGVuZ3RoLTE/dFt0Lmxlbmd0aC0xXTp0W2UrMV19LG8ucHJldmlvdXNJdGVtPWZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gaT8wPj1lP3RbdC5sZW5ndGgtMV06dFtlLTFdOjA+PWU/dFswXTp0W2UtMV19LG8ubmljZU51bT1mdW5jdGlvbih0LGUpe3ZhciBpLGE9TWF0aC5mbG9vcihvLmxvZzEwKHQpKSxzPXQvTWF0aC5wb3coMTAsYSk7cmV0dXJuIGk9ZT8xLjU+cz8xOjM+cz8yOjc+cz81OjEwOjE+PXM/MToyPj1zPzI6NT49cz81OjEwLGkqTWF0aC5wb3coMTAsYSl9O3ZhciBzPW8uZWFzaW5nRWZmZWN0cz17bGluZWFyOmZ1bmN0aW9uKHQpe3JldHVybiB0fSxlYXNlSW5RdWFkOmZ1bmN0aW9uKHQpe3JldHVybiB0KnR9LGVhc2VPdXRRdWFkOmZ1bmN0aW9uKHQpe3JldHVybi0xKnQqKHQtMil9LGVhc2VJbk91dFF1YWQ6ZnVuY3Rpb24odCl7cmV0dXJuKHQvPS41KTwxPy41KnQqdDotMC41KigtLXQqKHQtMiktMSl9LGVhc2VJbkN1YmljOmZ1bmN0aW9uKHQpe3JldHVybiB0KnQqdH0sZWFzZU91dEN1YmljOmZ1bmN0aW9uKHQpe3JldHVybiAxKigodD10LzEtMSkqdCp0KzEpfSxlYXNlSW5PdXRDdWJpYzpmdW5jdGlvbih0KXtyZXR1cm4odC89LjUpPDE/LjUqdCp0KnQ6LjUqKCh0LT0yKSp0KnQrMil9LGVhc2VJblF1YXJ0OmZ1bmN0aW9uKHQpe3JldHVybiB0KnQqdCp0fSxlYXNlT3V0UXVhcnQ6ZnVuY3Rpb24odCl7cmV0dXJuLTEqKCh0PXQvMS0xKSp0KnQqdC0xKX0sZWFzZUluT3V0UXVhcnQ6ZnVuY3Rpb24odCl7cmV0dXJuKHQvPS41KTwxPy41KnQqdCp0KnQ6LTAuNSooKHQtPTIpKnQqdCp0LTIpfSxlYXNlSW5RdWludDpmdW5jdGlvbih0KXtyZXR1cm4gMSoodC89MSkqdCp0KnQqdH0sZWFzZU91dFF1aW50OmZ1bmN0aW9uKHQpe3JldHVybiAxKigodD10LzEtMSkqdCp0KnQqdCsxKX0sZWFzZUluT3V0UXVpbnQ6ZnVuY3Rpb24odCl7cmV0dXJuKHQvPS41KTwxPy41KnQqdCp0KnQqdDouNSooKHQtPTIpKnQqdCp0KnQrMil9LGVhc2VJblNpbmU6ZnVuY3Rpb24odCl7cmV0dXJuLTEqTWF0aC5jb3ModC8xKihNYXRoLlBJLzIpKSsxfSxlYXNlT3V0U2luZTpmdW5jdGlvbih0KXtyZXR1cm4gMSpNYXRoLnNpbih0LzEqKE1hdGguUEkvMikpfSxlYXNlSW5PdXRTaW5lOmZ1bmN0aW9uKHQpe3JldHVybi0wLjUqKE1hdGguY29zKE1hdGguUEkqdC8xKS0xKX0sZWFzZUluRXhwbzpmdW5jdGlvbih0KXtyZXR1cm4gMD09PXQ/MToxKk1hdGgucG93KDIsMTAqKHQvMS0xKSl9LGVhc2VPdXRFeHBvOmZ1bmN0aW9uKHQpe3JldHVybiAxPT09dD8xOjEqKC1NYXRoLnBvdygyLC0xMCp0LzEpKzEpfSxlYXNlSW5PdXRFeHBvOmZ1bmN0aW9uKHQpe3JldHVybiAwPT09dD8wOjE9PT10PzE6KHQvPS41KTwxPy41Kk1hdGgucG93KDIsMTAqKHQtMSkpOi41KigtTWF0aC5wb3coMiwtMTAqLS10KSsyKX0sZWFzZUluQ2lyYzpmdW5jdGlvbih0KXtyZXR1cm4gdD49MT90Oi0xKihNYXRoLnNxcnQoMS0odC89MSkqdCktMSl9LGVhc2VPdXRDaXJjOmZ1bmN0aW9uKHQpe3JldHVybiAxKk1hdGguc3FydCgxLSh0PXQvMS0xKSp0KX0sZWFzZUluT3V0Q2lyYzpmdW5jdGlvbih0KXtyZXR1cm4odC89LjUpPDE/LTAuNSooTWF0aC5zcXJ0KDEtdCp0KS0xKTouNSooTWF0aC5zcXJ0KDEtKHQtPTIpKnQpKzEpfSxlYXNlSW5FbGFzdGljOmZ1bmN0aW9uKHQpe3ZhciBlPTEuNzAxNTgsaT0wLGE9MTtyZXR1cm4gMD09PXQ/MDoxPT09KHQvPTEpPzE6KGl8fChpPS4zKSxhPE1hdGguYWJzKDEpPyhhPTEsZT1pLzQpOmU9aS8oMipNYXRoLlBJKSpNYXRoLmFzaW4oMS9hKSwtKGEqTWF0aC5wb3coMiwxMCoodC09MSkpKk1hdGguc2luKCgxKnQtZSkqKDIqTWF0aC5QSSkvaSkpKX0sZWFzZU91dEVsYXN0aWM6ZnVuY3Rpb24odCl7dmFyIGU9MS43MDE1OCxpPTAsYT0xO3JldHVybiAwPT09dD8wOjE9PT0odC89MSk/MTooaXx8KGk9LjMpLGE8TWF0aC5hYnMoMSk/KGE9MSxlPWkvNCk6ZT1pLygyKk1hdGguUEkpKk1hdGguYXNpbigxL2EpLGEqTWF0aC5wb3coMiwtMTAqdCkqTWF0aC5zaW4oKDEqdC1lKSooMipNYXRoLlBJKS9pKSsxKX0sZWFzZUluT3V0RWxhc3RpYzpmdW5jdGlvbih0KXt2YXIgZT0xLjcwMTU4LGk9MCxhPTE7cmV0dXJuIDA9PT10PzA6Mj09PSh0Lz0uNSk/MTooaXx8KGk9MSooLjMqMS41KSksYTxNYXRoLmFicygxKT8oYT0xLGU9aS80KTplPWkvKDIqTWF0aC5QSSkqTWF0aC5hc2luKDEvYSksMT50Py0uNSooYSpNYXRoLnBvdygyLDEwKih0LT0xKSkqTWF0aC5zaW4oKDEqdC1lKSooMipNYXRoLlBJKS9pKSk6YSpNYXRoLnBvdygyLC0xMCoodC09MSkpKk1hdGguc2luKCgxKnQtZSkqKDIqTWF0aC5QSSkvaSkqLjUrMSl9LGVhc2VJbkJhY2s6ZnVuY3Rpb24odCl7dmFyIGU9MS43MDE1ODtyZXR1cm4gMSoodC89MSkqdCooKGUrMSkqdC1lKX0sZWFzZU91dEJhY2s6ZnVuY3Rpb24odCl7dmFyIGU9MS43MDE1ODtyZXR1cm4gMSooKHQ9dC8xLTEpKnQqKChlKzEpKnQrZSkrMSl9LGVhc2VJbk91dEJhY2s6ZnVuY3Rpb24odCl7dmFyIGU9MS43MDE1ODtyZXR1cm4odC89LjUpPDE/LjUqKHQqdCooKChlKj0xLjUyNSkrMSkqdC1lKSk6LjUqKCh0LT0yKSp0KigoKGUqPTEuNTI1KSsxKSp0K2UpKzIpfSxlYXNlSW5Cb3VuY2U6ZnVuY3Rpb24odCl7cmV0dXJuIDEtcy5lYXNlT3V0Qm91bmNlKDEtdCl9LGVhc2VPdXRCb3VuY2U6ZnVuY3Rpb24odCl7cmV0dXJuKHQvPTEpPDEvMi43NT8xKig3LjU2MjUqdCp0KToyLzIuNzU+dD8xKig3LjU2MjUqKHQtPTEuNS8yLjc1KSp0Ky43NSk6Mi41LzIuNzU+dD8xKig3LjU2MjUqKHQtPTIuMjUvMi43NSkqdCsuOTM3NSk6MSooNy41NjI1Kih0LT0yLjYyNS8yLjc1KSp0Ky45ODQzNzUpfSxlYXNlSW5PdXRCb3VuY2U6ZnVuY3Rpb24odCl7cmV0dXJuLjU+dD8uNSpzLmVhc2VJbkJvdW5jZSgyKnQpOi41KnMuZWFzZU91dEJvdW5jZSgyKnQtMSkrLjV9fTtvLnJlcXVlc3RBbmltRnJhbWU9ZnVuY3Rpb24oKXtyZXR1cm4gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZXx8d2luZG93LndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZXx8d2luZG93Lm1velJlcXVlc3RBbmltYXRpb25GcmFtZXx8d2luZG93Lm9SZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fHdpbmRvdy5tc1JlcXVlc3RBbmltYXRpb25GcmFtZXx8ZnVuY3Rpb24odCl7cmV0dXJuIHdpbmRvdy5zZXRUaW1lb3V0KHQsMWUzLzYwKX19KCksby5jYW5jZWxBbmltRnJhbWU9ZnVuY3Rpb24oKXtyZXR1cm4gd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lfHx3aW5kb3cud2Via2l0Q2FuY2VsQW5pbWF0aW9uRnJhbWV8fHdpbmRvdy5tb3pDYW5jZWxBbmltYXRpb25GcmFtZXx8d2luZG93Lm9DYW5jZWxBbmltYXRpb25GcmFtZXx8d2luZG93Lm1zQ2FuY2VsQW5pbWF0aW9uRnJhbWV8fGZ1bmN0aW9uKHQpe3JldHVybiB3aW5kb3cuY2xlYXJUaW1lb3V0KHQsMWUzLzYwKX19KCksby5nZXRSZWxhdGl2ZVBvc2l0aW9uPWZ1bmN0aW9uKHQsZSl7dmFyIGksYSxzPXQub3JpZ2luYWxFdmVudHx8dCxuPXQuY3VycmVudFRhcmdldHx8dC5zcmNFbGVtZW50LHI9bi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtzLnRvdWNoZXMmJnMudG91Y2hlcy5sZW5ndGg+MD8oaT1zLnRvdWNoZXNbMF0uY2xpZW50WCxhPXMudG91Y2hlc1swXS5jbGllbnRZKTooaT1zLmNsaWVudFgsYT1zLmNsaWVudFkpO3ZhciBoPXBhcnNlRmxvYXQoby5nZXRTdHlsZShuLFwicGFkZGluZy1sZWZ0XCIpKSxsPXBhcnNlRmxvYXQoby5nZXRTdHlsZShuLFwicGFkZGluZy10b3BcIikpLGM9cGFyc2VGbG9hdChvLmdldFN0eWxlKG4sXCJwYWRkaW5nLXJpZ2h0XCIpKSxkPXBhcnNlRmxvYXQoby5nZXRTdHlsZShuLFwicGFkZGluZy1ib3R0b21cIikpLHU9ci5yaWdodC1yLmxlZnQtaC1jLGc9ci5ib3R0b20tci50b3AtbC1kO3JldHVybiBpPU1hdGgucm91bmQoKGktci5sZWZ0LWgpL3Uqbi53aWR0aC9lLmN1cnJlbnREZXZpY2VQaXhlbFJhdGlvKSxhPU1hdGgucm91bmQoKGEtci50b3AtbCkvZypuLmhlaWdodC9lLmN1cnJlbnREZXZpY2VQaXhlbFJhdGlvKSx7eDppLHk6YX19LG8uYWRkRXZlbnQ9ZnVuY3Rpb24odCxlLGkpe3QuYWRkRXZlbnRMaXN0ZW5lcj90LmFkZEV2ZW50TGlzdGVuZXIoZSxpKTp0LmF0dGFjaEV2ZW50P3QuYXR0YWNoRXZlbnQoXCJvblwiK2UsaSk6dFtcIm9uXCIrZV09aX0sby5yZW1vdmVFdmVudD1mdW5jdGlvbih0LGUsaSl7dC5yZW1vdmVFdmVudExpc3RlbmVyP3QucmVtb3ZlRXZlbnRMaXN0ZW5lcihlLGksITEpOnQuZGV0YWNoRXZlbnQ/dC5kZXRhY2hFdmVudChcIm9uXCIrZSxpKTp0W1wib25cIitlXT1vLm5vb3B9LG8uYmluZEV2ZW50cz1mdW5jdGlvbih0LGUsaSl7dC5ldmVudHN8fCh0LmV2ZW50cz17fSksby5lYWNoKGUsZnVuY3Rpb24oZSl7dC5ldmVudHNbZV09ZnVuY3Rpb24oKXtpLmFwcGx5KHQsYXJndW1lbnRzKX0sby5hZGRFdmVudCh0LmNoYXJ0LmNhbnZhcyxlLHQuZXZlbnRzW2VdKX0pfSxvLnVuYmluZEV2ZW50cz1mdW5jdGlvbih0LGUpe28uZWFjaChlLGZ1bmN0aW9uKGUsaSl7by5yZW1vdmVFdmVudCh0LmNoYXJ0LmNhbnZhcyxpLGUpfSl9LG8uZ2V0Q29uc3RyYWludFdpZHRoPWZ1bmN0aW9uKHQpe3JldHVybiBpKHQsXCJtYXgtd2lkdGhcIixcImNsaWVudFdpZHRoXCIpfSxvLmdldENvbnN0cmFpbnRIZWlnaHQ9ZnVuY3Rpb24odCl7cmV0dXJuIGkodCxcIm1heC1oZWlnaHRcIixcImNsaWVudEhlaWdodFwiKX0sby5nZXRNYXhpbXVtV2lkdGg9ZnVuY3Rpb24odCl7dmFyIGU9dC5wYXJlbnROb2RlLGk9cGFyc2VJbnQoby5nZXRTdHlsZShlLFwicGFkZGluZy1sZWZ0XCIpKStwYXJzZUludChvLmdldFN0eWxlKGUsXCJwYWRkaW5nLXJpZ2h0XCIpKSxhPWUuY2xpZW50V2lkdGgtaSxzPW8uZ2V0Q29uc3RyYWludFdpZHRoKHQpO3JldHVybiB2b2lkIDAhPT1zJiYoYT1NYXRoLm1pbihhLHMpKSxhfSxvLmdldE1heGltdW1IZWlnaHQ9ZnVuY3Rpb24odCl7dmFyIGU9dC5wYXJlbnROb2RlLGk9cGFyc2VJbnQoby5nZXRTdHlsZShlLFwicGFkZGluZy10b3BcIikpK3BhcnNlSW50KG8uZ2V0U3R5bGUoZSxcInBhZGRpbmctYm90dG9tXCIpKSxhPWUuY2xpZW50SGVpZ2h0LWkscz1vLmdldENvbnN0cmFpbnRIZWlnaHQodCk7cmV0dXJuIHZvaWQgMCE9PXMmJihhPU1hdGgubWluKGEscykpLGF9LG8uZ2V0U3R5bGU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5jdXJyZW50U3R5bGU/dC5jdXJyZW50U3R5bGVbZV06ZG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZSh0LG51bGwpLmdldFByb3BlcnR5VmFsdWUoZSl9LG8ucmV0aW5hU2NhbGU9ZnVuY3Rpb24odCl7dmFyIGU9dC5jdHgsaT10LmNhbnZhcy53aWR0aCxhPXQuY2FudmFzLmhlaWdodCxvPXQuY3VycmVudERldmljZVBpeGVsUmF0aW89d2luZG93LmRldmljZVBpeGVsUmF0aW98fDE7MSE9PW8mJihlLmNhbnZhcy5oZWlnaHQ9YSpvLGUuY2FudmFzLndpZHRoPWkqbyxlLnNjYWxlKG8sbyksdC5vcmlnaW5hbERldmljZVBpeGVsUmF0aW89dC5vcmlnaW5hbERldmljZVBpeGVsUmF0aW98fG8pLGUuY2FudmFzLnN0eWxlLndpZHRoPWkrXCJweFwiLGUuY2FudmFzLnN0eWxlLmhlaWdodD1hK1wicHhcIn0sby5jbGVhcj1mdW5jdGlvbih0KXt0LmN0eC5jbGVhclJlY3QoMCwwLHQud2lkdGgsdC5oZWlnaHQpfSxvLmZvbnRTdHJpbmc9ZnVuY3Rpb24odCxlLGkpe3JldHVybiBlK1wiIFwiK3QrXCJweCBcIitpfSxvLmxvbmdlc3RUZXh0PWZ1bmN0aW9uKHQsZSxpLGEpe2E9YXx8e30sYS5kYXRhPWEuZGF0YXx8e30sYS5nYXJiYWdlQ29sbGVjdD1hLmdhcmJhZ2VDb2xsZWN0fHxbXSxhLmZvbnQhPT1lJiYoYS5kYXRhPXt9LGEuZ2FyYmFnZUNvbGxlY3Q9W10sYS5mb250PWUpLHQuZm9udD1lO3ZhciBzPTA7by5lYWNoKGksZnVuY3Rpb24oZSl7aWYodm9pZCAwIT09ZSYmbnVsbCE9PWUpe3ZhciBpPWEuZGF0YVtlXTtpfHwoaT1hLmRhdGFbZV09dC5tZWFzdXJlVGV4dChlKS53aWR0aCxhLmdhcmJhZ2VDb2xsZWN0LnB1c2goZSkpLFxuaT5zJiYocz1pKX19KTt2YXIgbj1hLmdhcmJhZ2VDb2xsZWN0Lmxlbmd0aC8yO2lmKG4+aS5sZW5ndGgpe2Zvcih2YXIgcj0wO24+cjtyKyspZGVsZXRlIGEuZGF0YVthLmdhcmJhZ2VDb2xsZWN0W3JdXTthLmdhcmJhZ2VDb2xsZWN0LnNwbGljZSgwLG4pfXJldHVybiBzfSxvLmRyYXdSb3VuZGVkUmVjdGFuZ2xlPWZ1bmN0aW9uKHQsZSxpLGEsbyxzKXt0LmJlZ2luUGF0aCgpLHQubW92ZVRvKGUrcyxpKSx0LmxpbmVUbyhlK2EtcyxpKSx0LnF1YWRyYXRpY0N1cnZlVG8oZSthLGksZSthLGkrcyksdC5saW5lVG8oZSthLGkrby1zKSx0LnF1YWRyYXRpY0N1cnZlVG8oZSthLGkrbyxlK2EtcyxpK28pLHQubGluZVRvKGUrcyxpK28pLHQucXVhZHJhdGljQ3VydmVUbyhlLGkrbyxlLGkrby1zKSx0LmxpbmVUbyhlLGkrcyksdC5xdWFkcmF0aWNDdXJ2ZVRvKGUsaSxlK3MsaSksdC5jbG9zZVBhdGgoKX0sby5jb2xvcj1mdW5jdGlvbihlKXtyZXR1cm4gYT9hKGUgaW5zdGFuY2VvZiBDYW52YXNHcmFkaWVudD90LmRlZmF1bHRzLmdsb2JhbC5kZWZhdWx0Q29sb3I6ZSk6KGNvbnNvbGUubG9nKFwiQ29sb3IuanMgbm90IGZvdW5kIVwiKSxlKX0sby5hZGRSZXNpemVMaXN0ZW5lcj1mdW5jdGlvbih0LGUpe3ZhciBpPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpZnJhbWVcIiksYT1cImNoYXJ0anMtaGlkZGVuLWlmcmFtZVwiO2kuY2xhc3NsaXN0P2kuY2xhc3NsaXN0LmFkZChhKTppLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsYSksaS5zdHlsZS53aWR0aD1cIjEwMCVcIixpLnN0eWxlLmRpc3BsYXk9XCJibG9ja1wiLGkuc3R5bGUuYm9yZGVyPTAsaS5zdHlsZS5oZWlnaHQ9MCxpLnN0eWxlLm1hcmdpbj0wLGkuc3R5bGUucG9zaXRpb249XCJhYnNvbHV0ZVwiLGkuc3R5bGUubGVmdD0wLGkuc3R5bGUucmlnaHQ9MCxpLnN0eWxlLnRvcD0wLGkuc3R5bGUuYm90dG9tPTAsdC5pbnNlcnRCZWZvcmUoaSx0LmZpcnN0Q2hpbGQpLChpLmNvbnRlbnRXaW5kb3d8fGkpLm9ucmVzaXplPWZ1bmN0aW9uKCl7ZSYmZSgpfX0sby5yZW1vdmVSZXNpemVMaXN0ZW5lcj1mdW5jdGlvbih0KXt2YXIgZT10LnF1ZXJ5U2VsZWN0b3IoXCIuY2hhcnRqcy1oaWRkZW4taWZyYW1lXCIpO2UmJmUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlKX0sby5pc0FycmF5PWZ1bmN0aW9uKHQpe3JldHVybiBBcnJheS5pc0FycmF5P0FycmF5LmlzQXJyYXkodCk6XCJbb2JqZWN0IEFycmF5XVwiPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpfSxvLnB1c2hBbGxJZkRlZmluZWQ9ZnVuY3Rpb24odCxlKXtcInVuZGVmaW5lZFwiIT10eXBlb2YgdCYmKG8uaXNBcnJheSh0KT9lLnB1c2guYXBwbHkoZSx0KTplLnB1c2godCkpfSxvLmNhbGxDYWxsYmFjaz1mdW5jdGlvbih0LGUsaSl7dCYmXCJmdW5jdGlvblwiPT10eXBlb2YgdC5jYWxsJiZ0LmFwcGx5KGksZSl9LG8uZ2V0SG92ZXJDb2xvcj1mdW5jdGlvbih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIENhbnZhc1BhdHRlcm4/dDpvLmNvbG9yKHQpLnNhdHVyYXRlKC41KS5kYXJrZW4oLjEpLnJnYlN0cmluZygpfX19LHtcImNoYXJ0anMtY29sb3JcIjozfV0sMjY6W2Z1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9ZnVuY3Rpb24oKXt2YXIgdD1mdW5jdGlvbihlLGkpe3RoaXMuY29uZmlnPWksZS5sZW5ndGgmJmVbMF0uZ2V0Q29udGV4dCYmKGU9ZVswXSksZS5nZXRDb250ZXh0JiYoZT1lLmdldENvbnRleHQoXCIyZFwiKSksdGhpcy5jdHg9ZSx0aGlzLmNhbnZhcz1lLmNhbnZhcyx0aGlzLndpZHRoPWUuY2FudmFzLndpZHRofHxwYXJzZUludCh0LmhlbHBlcnMuZ2V0U3R5bGUoZS5jYW52YXMsXCJ3aWR0aFwiKSl8fHQuaGVscGVycy5nZXRNYXhpbXVtV2lkdGgoZS5jYW52YXMpLHRoaXMuaGVpZ2h0PWUuY2FudmFzLmhlaWdodHx8cGFyc2VJbnQodC5oZWxwZXJzLmdldFN0eWxlKGUuY2FudmFzLFwiaGVpZ2h0XCIpKXx8dC5oZWxwZXJzLmdldE1heGltdW1IZWlnaHQoZS5jYW52YXMpLHRoaXMuYXNwZWN0UmF0aW89dGhpcy53aWR0aC90aGlzLmhlaWdodCwoaXNOYU4odGhpcy5hc3BlY3RSYXRpbyl8fGlzRmluaXRlKHRoaXMuYXNwZWN0UmF0aW8pPT09ITEpJiYodGhpcy5hc3BlY3RSYXRpbz12b2lkIDAhPT1pLmFzcGVjdFJhdGlvP2kuYXNwZWN0UmF0aW86MiksdGhpcy5vcmlnaW5hbENhbnZhc1N0eWxlV2lkdGg9ZS5jYW52YXMuc3R5bGUud2lkdGgsdGhpcy5vcmlnaW5hbENhbnZhc1N0eWxlSGVpZ2h0PWUuY2FudmFzLnN0eWxlLmhlaWdodCx0LmhlbHBlcnMucmV0aW5hU2NhbGUodGhpcyksaSYmKHRoaXMuY29udHJvbGxlcj1uZXcgdC5Db250cm9sbGVyKHRoaXMpKTt2YXIgYT10aGlzO3JldHVybiB0LmhlbHBlcnMuYWRkUmVzaXplTGlzdGVuZXIoZS5jYW52YXMucGFyZW50Tm9kZSxmdW5jdGlvbigpe2EuY29udHJvbGxlciYmYS5jb250cm9sbGVyLmNvbmZpZy5vcHRpb25zLnJlc3BvbnNpdmUmJmEuY29udHJvbGxlci5yZXNpemUoKX0pLHRoaXMuY29udHJvbGxlcj90aGlzLmNvbnRyb2xsZXI6dGhpc307cmV0dXJuIHQuZGVmYXVsdHM9e2dsb2JhbDp7cmVzcG9uc2l2ZTohMCxyZXNwb25zaXZlQW5pbWF0aW9uRHVyYXRpb246MCxtYWludGFpbkFzcGVjdFJhdGlvOiEwLGV2ZW50czpbXCJtb3VzZW1vdmVcIixcIm1vdXNlb3V0XCIsXCJjbGlja1wiLFwidG91Y2hzdGFydFwiLFwidG91Y2htb3ZlXCJdLGhvdmVyOntvbkhvdmVyOm51bGwsbW9kZTpcInNpbmdsZVwiLGFuaW1hdGlvbkR1cmF0aW9uOjQwMH0sb25DbGljazpudWxsLGRlZmF1bHRDb2xvcjpcInJnYmEoMCwwLDAsMC4xKVwiLGRlZmF1bHRGb250Q29sb3I6XCIjNjY2XCIsZGVmYXVsdEZvbnRGYW1pbHk6XCInSGVsdmV0aWNhIE5ldWUnLCAnSGVsdmV0aWNhJywgJ0FyaWFsJywgc2Fucy1zZXJpZlwiLGRlZmF1bHRGb250U2l6ZToxMixkZWZhdWx0Rm9udFN0eWxlOlwibm9ybWFsXCIsc2hvd0xpbmVzOiEwLGVsZW1lbnRzOnt9LGxlZ2VuZENhbGxiYWNrOmZ1bmN0aW9uKHQpe3ZhciBlPVtdO2UucHVzaCgnPHVsIGNsYXNzPVwiJyt0LmlkKyctbGVnZW5kXCI+Jyk7Zm9yKHZhciBpPTA7aTx0LmRhdGEuZGF0YXNldHMubGVuZ3RoO2krKyllLnB1c2goJzxsaT48c3BhbiBzdHlsZT1cImJhY2tncm91bmQtY29sb3I6Jyt0LmRhdGEuZGF0YXNldHNbaV0uYmFja2dyb3VuZENvbG9yKydcIj48L3NwYW4+JyksdC5kYXRhLmRhdGFzZXRzW2ldLmxhYmVsJiZlLnB1c2godC5kYXRhLmRhdGFzZXRzW2ldLmxhYmVsKSxlLnB1c2goXCI8L2xpPlwiKTtyZXR1cm4gZS5wdXNoKFwiPC91bD5cIiksZS5qb2luKFwiXCIpfX19LHR9fSx7fV0sMjc6W2Z1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9ZnVuY3Rpb24odCl7dmFyIGU9dC5oZWxwZXJzO3QubGF5b3V0U2VydmljZT17ZGVmYXVsdHM6e30sYWRkQm94OmZ1bmN0aW9uKHQsZSl7dC5ib3hlc3x8KHQuYm94ZXM9W10pLHQuYm94ZXMucHVzaChlKX0scmVtb3ZlQm94OmZ1bmN0aW9uKHQsZSl7dC5ib3hlcyYmdC5ib3hlcy5zcGxpY2UodC5ib3hlcy5pbmRleE9mKGUpLDEpfSx1cGRhdGU6ZnVuY3Rpb24odCxpLGEpe2Z1bmN0aW9uIG8odCl7dmFyIGUsaT10LmlzSG9yaXpvbnRhbCgpO2k/KGU9dC51cGRhdGUodC5vcHRpb25zLmZ1bGxXaWR0aD9wOmsseSksUy09ZS5oZWlnaHQpOihlPXQudXBkYXRlKHYseCksay09ZS53aWR0aCksQy5wdXNoKHtob3Jpem9udGFsOmksbWluU2l6ZTplLGJveDp0fSl9ZnVuY3Rpb24gcyh0KXt2YXIgaT1lLmZpbmROZXh0V2hlcmUoQyxmdW5jdGlvbihlKXtyZXR1cm4gZS5ib3g9PT10fSk7aWYoaSlpZih0LmlzSG9yaXpvbnRhbCgpKXt2YXIgYT17bGVmdDp3LHJpZ2h0OkQsdG9wOjAsYm90dG9tOjB9O3QudXBkYXRlKHQub3B0aW9ucy5mdWxsV2lkdGg/cDprLG0vMixhKX1lbHNlIHQudXBkYXRlKGkubWluU2l6ZS53aWR0aCxTKX1mdW5jdGlvbiBuKHQpe3ZhciBpPWUuZmluZE5leHRXaGVyZShDLGZ1bmN0aW9uKGUpe3JldHVybiBlLmJveD09PXR9KSxhPXtsZWZ0OjAscmlnaHQ6MCx0b3A6TSxib3R0b206X307aSYmdC51cGRhdGUoaS5taW5TaXplLndpZHRoLFMsYSl9ZnVuY3Rpb24gcih0KXt0LmlzSG9yaXpvbnRhbCgpPyh0LmxlZnQ9dC5vcHRpb25zLmZ1bGxXaWR0aD9oOncsdC5yaWdodD10Lm9wdGlvbnMuZnVsbFdpZHRoP2ktaDp3K2ssdC50b3A9UCx0LmJvdHRvbT1QK3QuaGVpZ2h0LFA9dC5ib3R0b20pOih0LmxlZnQ9Rix0LnJpZ2h0PUYrdC53aWR0aCx0LnRvcD1NLHQuYm90dG9tPU0rUyxGPXQucmlnaHQpfWlmKHQpe3ZhciBoPTAsbD0wLGM9ZS53aGVyZSh0LmJveGVzLGZ1bmN0aW9uKHQpe3JldHVyblwibGVmdFwiPT09dC5vcHRpb25zLnBvc2l0aW9ufSksZD1lLndoZXJlKHQuYm94ZXMsZnVuY3Rpb24odCl7cmV0dXJuXCJyaWdodFwiPT09dC5vcHRpb25zLnBvc2l0aW9ufSksdT1lLndoZXJlKHQuYm94ZXMsZnVuY3Rpb24odCl7cmV0dXJuXCJ0b3BcIj09PXQub3B0aW9ucy5wb3NpdGlvbn0pLGc9ZS53aGVyZSh0LmJveGVzLGZ1bmN0aW9uKHQpe3JldHVyblwiYm90dG9tXCI9PT10Lm9wdGlvbnMucG9zaXRpb259KSxmPWUud2hlcmUodC5ib3hlcyxmdW5jdGlvbih0KXtyZXR1cm5cImNoYXJ0QXJlYVwiPT09dC5vcHRpb25zLnBvc2l0aW9ufSk7dS5zb3J0KGZ1bmN0aW9uKHQsZSl7cmV0dXJuKGUub3B0aW9ucy5mdWxsV2lkdGg/MTowKS0odC5vcHRpb25zLmZ1bGxXaWR0aD8xOjApfSksZy5zb3J0KGZ1bmN0aW9uKHQsZSl7cmV0dXJuKHQub3B0aW9ucy5mdWxsV2lkdGg/MTowKS0oZS5vcHRpb25zLmZ1bGxXaWR0aD8xOjApfSk7dmFyIHA9aS0yKmgsbT1hLTIqbCxiPXAvMix4PW0vMix2PShpLWIpLyhjLmxlbmd0aCtkLmxlbmd0aCkseT0oYS14KS8odS5sZW5ndGgrZy5sZW5ndGgpLGs9cCxTPW0sQz1bXTtlLmVhY2goYy5jb25jYXQoZCx1LGcpLG8pO3ZhciB3PWgsRD1oLE09bCxfPWw7ZS5lYWNoKGMuY29uY2F0KGQpLHMpLGUuZWFjaChjLGZ1bmN0aW9uKHQpe3crPXQud2lkdGh9KSxlLmVhY2goZCxmdW5jdGlvbih0KXtEKz10LndpZHRofSksZS5lYWNoKHUuY29uY2F0KGcpLHMpLGUuZWFjaCh1LGZ1bmN0aW9uKHQpe00rPXQuaGVpZ2h0fSksZS5lYWNoKGcsZnVuY3Rpb24odCl7Xys9dC5oZWlnaHR9KSxlLmVhY2goYy5jb25jYXQoZCksbiksdz1oLEQ9aCxNPWwsXz1sLGUuZWFjaChjLGZ1bmN0aW9uKHQpe3crPXQud2lkdGh9KSxlLmVhY2goZCxmdW5jdGlvbih0KXtEKz10LndpZHRofSksZS5lYWNoKHUsZnVuY3Rpb24odCl7TSs9dC5oZWlnaHR9KSxlLmVhY2goZyxmdW5jdGlvbih0KXtfKz10LmhlaWdodH0pO3ZhciBBPWEtTS1fLEk9aS13LUQ7KEkhPT1rfHxBIT09UykmJihlLmVhY2goYyxmdW5jdGlvbih0KXt0LmhlaWdodD1BfSksZS5lYWNoKGQsZnVuY3Rpb24odCl7dC5oZWlnaHQ9QX0pLGUuZWFjaCh1LGZ1bmN0aW9uKHQpe3Qub3B0aW9ucy5mdWxsV2lkdGh8fCh0LndpZHRoPUkpfSksZS5lYWNoKGcsZnVuY3Rpb24odCl7dC5vcHRpb25zLmZ1bGxXaWR0aHx8KHQud2lkdGg9SSl9KSxTPUEsaz1JKTt2YXIgRj1oLFA9bDtlLmVhY2goYy5jb25jYXQodSksciksRis9ayxQKz1TLGUuZWFjaChkLHIpLGUuZWFjaChnLHIpLHQuY2hhcnRBcmVhPXtsZWZ0OncsdG9wOk0scmlnaHQ6dytrLGJvdHRvbTpNK1N9LGUuZWFjaChmLGZ1bmN0aW9uKGUpe2UubGVmdD10LmNoYXJ0QXJlYS5sZWZ0LGUudG9wPXQuY2hhcnRBcmVhLnRvcCxlLnJpZ2h0PXQuY2hhcnRBcmVhLnJpZ2h0LGUuYm90dG9tPXQuY2hhcnRBcmVhLmJvdHRvbSxlLnVwZGF0ZShrLFMpfSl9fX19fSx7fV0sMjg6W2Z1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9ZnVuY3Rpb24odCl7dmFyIGU9dC5oZWxwZXJzLGk9ZS5ub29wO3QuZGVmYXVsdHMuZ2xvYmFsLmxlZ2VuZD17ZGlzcGxheTohMCxwb3NpdGlvbjpcInRvcFwiLGZ1bGxXaWR0aDohMCxyZXZlcnNlOiExLG9uQ2xpY2s6ZnVuY3Rpb24odCxlKXt2YXIgaT1lLmRhdGFzZXRJbmRleCxhPXRoaXMuY2hhcnQsbz1hLmdldERhdGFzZXRNZXRhKGkpO28uaGlkZGVuPW51bGw9PT1vLmhpZGRlbj8hYS5kYXRhLmRhdGFzZXRzW2ldLmhpZGRlbjpudWxsLGEudXBkYXRlKCl9LGxhYmVsczp7Ym94V2lkdGg6NDAscGFkZGluZzoxMCxnZW5lcmF0ZUxhYmVsczpmdW5jdGlvbih0KXt2YXIgaT10LmRhdGE7cmV0dXJuIGUuaXNBcnJheShpLmRhdGFzZXRzKT9pLmRhdGFzZXRzLm1hcChmdW5jdGlvbihlLGkpe3JldHVybnt0ZXh0OmUubGFiZWwsZmlsbFN0eWxlOmUuYmFja2dyb3VuZENvbG9yLGhpZGRlbjohdC5pc0RhdGFzZXRWaXNpYmxlKGkpLGxpbmVDYXA6ZS5ib3JkZXJDYXBTdHlsZSxsaW5lRGFzaDplLmJvcmRlckRhc2gsbGluZURhc2hPZmZzZXQ6ZS5ib3JkZXJEYXNoT2Zmc2V0LGxpbmVKb2luOmUuYm9yZGVySm9pblN0eWxlLGxpbmVXaWR0aDplLmJvcmRlcldpZHRoLHN0cm9rZVN0eWxlOmUuYm9yZGVyQ29sb3IsZGF0YXNldEluZGV4Oml9fSx0aGlzKTpbXX19fSx0LkxlZ2VuZD10LkVsZW1lbnQuZXh0ZW5kKHtpbml0aWFsaXplOmZ1bmN0aW9uKHQpe2UuZXh0ZW5kKHRoaXMsdCksdGhpcy5sZWdlbmRIaXRCb3hlcz1bXSx0aGlzLmRvdWdobnV0TW9kZT0hMX0sYmVmb3JlVXBkYXRlOmksdXBkYXRlOmZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gdGhpcy5iZWZvcmVVcGRhdGUoKSx0aGlzLm1heFdpZHRoPXQsdGhpcy5tYXhIZWlnaHQ9ZSx0aGlzLm1hcmdpbnM9aSx0aGlzLmJlZm9yZVNldERpbWVuc2lvbnMoKSx0aGlzLnNldERpbWVuc2lvbnMoKSx0aGlzLmFmdGVyU2V0RGltZW5zaW9ucygpLHRoaXMuYmVmb3JlQnVpbGRMYWJlbHMoKSx0aGlzLmJ1aWxkTGFiZWxzKCksdGhpcy5hZnRlckJ1aWxkTGFiZWxzKCksdGhpcy5iZWZvcmVGaXQoKSx0aGlzLmZpdCgpLHRoaXMuYWZ0ZXJGaXQoKSx0aGlzLmFmdGVyVXBkYXRlKCksdGhpcy5taW5TaXplfSxhZnRlclVwZGF0ZTppLGJlZm9yZVNldERpbWVuc2lvbnM6aSxzZXREaW1lbnNpb25zOmZ1bmN0aW9uKCl7dGhpcy5pc0hvcml6b250YWwoKT8odGhpcy53aWR0aD10aGlzLm1heFdpZHRoLHRoaXMubGVmdD0wLHRoaXMucmlnaHQ9dGhpcy53aWR0aCk6KHRoaXMuaGVpZ2h0PXRoaXMubWF4SGVpZ2h0LHRoaXMudG9wPTAsdGhpcy5ib3R0b209dGhpcy5oZWlnaHQpLHRoaXMucGFkZGluZ0xlZnQ9MCx0aGlzLnBhZGRpbmdUb3A9MCx0aGlzLnBhZGRpbmdSaWdodD0wLHRoaXMucGFkZGluZ0JvdHRvbT0wLHRoaXMubWluU2l6ZT17d2lkdGg6MCxoZWlnaHQ6MH19LGFmdGVyU2V0RGltZW5zaW9uczppLGJlZm9yZUJ1aWxkTGFiZWxzOmksYnVpbGRMYWJlbHM6ZnVuY3Rpb24oKXt0aGlzLmxlZ2VuZEl0ZW1zPXRoaXMub3B0aW9ucy5sYWJlbHMuZ2VuZXJhdGVMYWJlbHMuY2FsbCh0aGlzLHRoaXMuY2hhcnQpLHRoaXMub3B0aW9ucy5yZXZlcnNlJiZ0aGlzLmxlZ2VuZEl0ZW1zLnJldmVyc2UoKX0sYWZ0ZXJCdWlsZExhYmVsczppLGJlZm9yZUZpdDppLGZpdDpmdW5jdGlvbigpe3ZhciBpPXRoaXMub3B0aW9ucyxhPWkubGFiZWxzLG89aS5kaXNwbGF5LHM9dGhpcy5jdHgsbj10LmRlZmF1bHRzLmdsb2JhbCxyPWUuZ2V0VmFsdWVPckRlZmF1bHQsaD1yKGEuZm9udFNpemUsbi5kZWZhdWx0Rm9udFNpemUpLGw9cihhLmZvbnRTdHlsZSxuLmRlZmF1bHRGb250U3R5bGUpLGM9cihhLmZvbnRGYW1pbHksbi5kZWZhdWx0Rm9udEZhbWlseSksZD1lLmZvbnRTdHJpbmcoaCxsLGMpLHU9dGhpcy5sZWdlbmRIaXRCb3hlcz1bXSxnPXRoaXMubWluU2l6ZSxmPXRoaXMuaXNIb3Jpem9udGFsKCk7aWYoZj8oZy53aWR0aD10aGlzLm1heFdpZHRoLGcuaGVpZ2h0PW8/MTA6MCk6KGcud2lkdGg9bz8xMDowLGcuaGVpZ2h0PXRoaXMubWF4SGVpZ2h0KSxvJiZmKXt2YXIgcD10aGlzLmxpbmVXaWR0aHM9WzBdLG09dGhpcy5sZWdlbmRJdGVtcy5sZW5ndGg/aCthLnBhZGRpbmc6MDtzLnRleHRBbGlnbj1cImxlZnRcIixzLnRleHRCYXNlbGluZT1cInRvcFwiLHMuZm9udD1kLGUuZWFjaCh0aGlzLmxlZ2VuZEl0ZW1zLGZ1bmN0aW9uKHQsZSl7dmFyIGk9YS5ib3hXaWR0aCtoLzIrcy5tZWFzdXJlVGV4dCh0LnRleHQpLndpZHRoO3BbcC5sZW5ndGgtMV0raSthLnBhZGRpbmc+PXRoaXMud2lkdGgmJihtKz1oK2EucGFkZGluZyxwW3AubGVuZ3RoXT10aGlzLmxlZnQpLHVbZV09e2xlZnQ6MCx0b3A6MCx3aWR0aDppLGhlaWdodDpofSxwW3AubGVuZ3RoLTFdKz1pK2EucGFkZGluZ30sdGhpcyksZy5oZWlnaHQrPW19dGhpcy53aWR0aD1nLndpZHRoLHRoaXMuaGVpZ2h0PWcuaGVpZ2h0fSxhZnRlckZpdDppLGlzSG9yaXpvbnRhbDpmdW5jdGlvbigpe3JldHVyblwidG9wXCI9PT10aGlzLm9wdGlvbnMucG9zaXRpb258fFwiYm90dG9tXCI9PT10aGlzLm9wdGlvbnMucG9zaXRpb259LGRyYXc6ZnVuY3Rpb24oKXt2YXIgaT10aGlzLm9wdGlvbnMsYT1pLmxhYmVscyxvPXQuZGVmYXVsdHMuZ2xvYmFsLHM9by5lbGVtZW50cy5saW5lLG49dGhpcy53aWR0aCxyPXRoaXMubGluZVdpZHRocztpZihpLmRpc3BsYXkpe3ZhciBoPXRoaXMuY3R4LGw9e3g6dGhpcy5sZWZ0KyhuLXJbMF0pLzIseTp0aGlzLnRvcCthLnBhZGRpbmcsbGluZTowfSxjPWUuZ2V0VmFsdWVPckRlZmF1bHQsZD1jKGEuZm9udENvbG9yLG8uZGVmYXVsdEZvbnRDb2xvciksdT1jKGEuZm9udFNpemUsby5kZWZhdWx0Rm9udFNpemUpLGc9YyhhLmZvbnRTdHlsZSxvLmRlZmF1bHRGb250U3R5bGUpLGY9YyhhLmZvbnRGYW1pbHksby5kZWZhdWx0Rm9udEZhbWlseSkscD1lLmZvbnRTdHJpbmcodSxnLGYpO2lmKHRoaXMuaXNIb3Jpem9udGFsKCkpe2gudGV4dEFsaWduPVwibGVmdFwiLGgudGV4dEJhc2VsaW5lPVwidG9wXCIsaC5saW5lV2lkdGg9LjUsaC5zdHJva2VTdHlsZT1kLGguZmlsbFN0eWxlPWQsaC5mb250PXA7dmFyIG09YS5ib3hXaWR0aCxiPXRoaXMubGVnZW5kSGl0Qm94ZXM7ZS5lYWNoKHRoaXMubGVnZW5kSXRlbXMsZnVuY3Rpb24odCxlKXt2YXIgaT1oLm1lYXN1cmVUZXh0KHQudGV4dCkud2lkdGgsZD1tK3UvMitpLGc9bC54LGY9bC55O2crZD49biYmKGY9bC55Kz11K2EucGFkZGluZyxsLmxpbmUrKyxnPWwueD10aGlzLmxlZnQrKG4tcltsLmxpbmVdKS8yKSxoLnNhdmUoKSxoLmZpbGxTdHlsZT1jKHQuZmlsbFN0eWxlLG8uZGVmYXVsdENvbG9yKSxoLmxpbmVDYXA9Yyh0LmxpbmVDYXAscy5ib3JkZXJDYXBTdHlsZSksaC5saW5lRGFzaE9mZnNldD1jKHQubGluZURhc2hPZmZzZXQscy5ib3JkZXJEYXNoT2Zmc2V0KSxoLmxpbmVKb2luPWModC5saW5lSm9pbixzLmJvcmRlckpvaW5TdHlsZSksaC5saW5lV2lkdGg9Yyh0LmxpbmVXaWR0aCxzLmJvcmRlcldpZHRoKSxoLnN0cm9rZVN0eWxlPWModC5zdHJva2VTdHlsZSxvLmRlZmF1bHRDb2xvciksaC5zZXRMaW5lRGFzaCYmaC5zZXRMaW5lRGFzaChjKHQubGluZURhc2gscy5ib3JkZXJEYXNoKSksaC5zdHJva2VSZWN0KGcsZixtLHUpLGguZmlsbFJlY3QoZyxmLG0sdSksaC5yZXN0b3JlKCksYltlXS5sZWZ0PWcsYltlXS50b3A9ZixoLmZpbGxUZXh0KHQudGV4dCxtK3UvMitnLGYpLHQuaGlkZGVuJiYoaC5iZWdpblBhdGgoKSxoLmxpbmVXaWR0aD0yLGgubW92ZVRvKG0rdS8yK2csZit1LzIpLGgubGluZVRvKG0rdS8yK2craSxmK3UvMiksaC5zdHJva2UoKSksbC54Kz1kK2EucGFkZGluZ30sdGhpcyl9fX0saGFuZGxlRXZlbnQ6ZnVuY3Rpb24odCl7dmFyIGk9ZS5nZXRSZWxhdGl2ZVBvc2l0aW9uKHQsdGhpcy5jaGFydC5jaGFydCksYT1pLngsbz1pLnkscz10aGlzLm9wdGlvbnM7aWYoYT49dGhpcy5sZWZ0JiZhPD10aGlzLnJpZ2h0JiZvPj10aGlzLnRvcCYmbzw9dGhpcy5ib3R0b20pZm9yKHZhciBuPXRoaXMubGVnZW5kSGl0Qm94ZXMscj0wO3I8bi5sZW5ndGg7KytyKXt2YXIgaD1uW3JdO2lmKGE+PWgubGVmdCYmYTw9aC5sZWZ0K2gud2lkdGgmJm8+PWgudG9wJiZvPD1oLnRvcCtoLmhlaWdodCl7cy5vbkNsaWNrJiZzLm9uQ2xpY2suY2FsbCh0aGlzLHQsdGhpcy5sZWdlbmRJdGVtc1tyXSk7YnJlYWt9fX19KX19LHt9XSwyOTpbZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1mdW5jdGlvbih0KXt2YXIgZT10LmhlbHBlcnM7dC5wbHVnaW5zPVtdLHQucGx1Z2luU2VydmljZT17cmVnaXN0ZXI6ZnVuY3Rpb24oZSl7dmFyIGk9dC5wbHVnaW5zOy0xPT09aS5pbmRleE9mKGUpJiZpLnB1c2goZSl9LHJlbW92ZTpmdW5jdGlvbihlKXt2YXIgaT10LnBsdWdpbnMsYT1pLmluZGV4T2YoZSk7LTEhPT1hJiZpLnNwbGljZShhLDEpfSxub3RpZnlQbHVnaW5zOmZ1bmN0aW9uKGksYSxvKXtlLmVhY2godC5wbHVnaW5zLGZ1bmN0aW9uKHQpe3RbaV0mJlwiZnVuY3Rpb25cIj09dHlwZW9mIHRbaV0mJnRbaV0uYXBwbHkobyxhKX0sbyl9fTt2YXIgaT1lLm5vb3A7dC5QbHVnaW5CYXNlPXQuRWxlbWVudC5leHRlbmQoe2JlZm9yZUluaXQ6aSxhZnRlckluaXQ6aSxiZWZvcmVVcGRhdGU6aSxhZnRlclVwZGF0ZTppLGJlZm9yZURyYXc6aSxhZnRlckRyYXc6aSxkZXN0cm95Oml9KX19LHt9XSwzMDpbZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1mdW5jdGlvbih0KXt2YXIgZT10LmhlbHBlcnM7dC5kZWZhdWx0cy5zY2FsZT17ZGlzcGxheTohMCxwb3NpdGlvbjpcImxlZnRcIixncmlkTGluZXM6e2Rpc3BsYXk6ITAsY29sb3I6XCJyZ2JhKDAsIDAsIDAsIDAuMSlcIixsaW5lV2lkdGg6MSxkcmF3T25DaGFydEFyZWE6ITAsZHJhd1RpY2tzOiEwLHRpY2tNYXJrTGVuZ3RoOjEwLHplcm9MaW5lV2lkdGg6MSx6ZXJvTGluZUNvbG9yOlwicmdiYSgwLDAsMCwwLjI1KVwiLG9mZnNldEdyaWRMaW5lczohMX0sc2NhbGVMYWJlbDp7bGFiZWxTdHJpbmc6XCJcIixkaXNwbGF5OiExfSx0aWNrczp7YmVnaW5BdFplcm86ITEsbWluUm90YXRpb246MCxtYXhSb3RhdGlvbjo1MCxtaXJyb3I6ITEscGFkZGluZzoxMCxyZXZlcnNlOiExLGRpc3BsYXk6ITAsYXV0b1NraXA6ITAsYXV0b1NraXBQYWRkaW5nOjAsbGFiZWxPZmZzZXQ6MCxjYWxsYmFjazpmdW5jdGlvbih0KXtyZXR1cm5cIlwiK3R9fX0sdC5TY2FsZT10LkVsZW1lbnQuZXh0ZW5kKHtiZWZvcmVVcGRhdGU6ZnVuY3Rpb24oKXtlLmNhbGxDYWxsYmFjayh0aGlzLm9wdGlvbnMuYmVmb3JlVXBkYXRlLFt0aGlzXSl9LHVwZGF0ZTpmdW5jdGlvbih0LGksYSl7cmV0dXJuIHRoaXMuYmVmb3JlVXBkYXRlKCksdGhpcy5tYXhXaWR0aD10LHRoaXMubWF4SGVpZ2h0PWksdGhpcy5tYXJnaW5zPWUuZXh0ZW5kKHtsZWZ0OjAscmlnaHQ6MCx0b3A6MCxib3R0b206MH0sYSksdGhpcy5iZWZvcmVTZXREaW1lbnNpb25zKCksdGhpcy5zZXREaW1lbnNpb25zKCksdGhpcy5hZnRlclNldERpbWVuc2lvbnMoKSx0aGlzLmJlZm9yZURhdGFMaW1pdHMoKSx0aGlzLmRldGVybWluZURhdGFMaW1pdHMoKSx0aGlzLmFmdGVyRGF0YUxpbWl0cygpLHRoaXMuYmVmb3JlQnVpbGRUaWNrcygpLHRoaXMuYnVpbGRUaWNrcygpLHRoaXMuYWZ0ZXJCdWlsZFRpY2tzKCksdGhpcy5iZWZvcmVUaWNrVG9MYWJlbENvbnZlcnNpb24oKSx0aGlzLmNvbnZlcnRUaWNrc1RvTGFiZWxzKCksdGhpcy5hZnRlclRpY2tUb0xhYmVsQ29udmVyc2lvbigpLHRoaXMuYmVmb3JlQ2FsY3VsYXRlVGlja1JvdGF0aW9uKCksdGhpcy5jYWxjdWxhdGVUaWNrUm90YXRpb24oKSx0aGlzLmFmdGVyQ2FsY3VsYXRlVGlja1JvdGF0aW9uKCksdGhpcy5iZWZvcmVGaXQoKSx0aGlzLmZpdCgpLHRoaXMuYWZ0ZXJGaXQoKSx0aGlzLmFmdGVyVXBkYXRlKCksdGhpcy5taW5TaXplfSxhZnRlclVwZGF0ZTpmdW5jdGlvbigpe2UuY2FsbENhbGxiYWNrKHRoaXMub3B0aW9ucy5hZnRlclVwZGF0ZSxbdGhpc10pfSxiZWZvcmVTZXREaW1lbnNpb25zOmZ1bmN0aW9uKCl7ZS5jYWxsQ2FsbGJhY2sodGhpcy5vcHRpb25zLmJlZm9yZVNldERpbWVuc2lvbnMsW3RoaXNdKX0sc2V0RGltZW5zaW9uczpmdW5jdGlvbigpe3RoaXMuaXNIb3Jpem9udGFsKCk/KHRoaXMud2lkdGg9dGhpcy5tYXhXaWR0aCx0aGlzLmxlZnQ9MCx0aGlzLnJpZ2h0PXRoaXMud2lkdGgpOih0aGlzLmhlaWdodD10aGlzLm1heEhlaWdodCx0aGlzLnRvcD0wLHRoaXMuYm90dG9tPXRoaXMuaGVpZ2h0KSx0aGlzLnBhZGRpbmdMZWZ0PTAsdGhpcy5wYWRkaW5nVG9wPTAsdGhpcy5wYWRkaW5nUmlnaHQ9MCx0aGlzLnBhZGRpbmdCb3R0b209MH0sYWZ0ZXJTZXREaW1lbnNpb25zOmZ1bmN0aW9uKCl7ZS5jYWxsQ2FsbGJhY2sodGhpcy5vcHRpb25zLmFmdGVyU2V0RGltZW5zaW9ucyxbdGhpc10pfSxiZWZvcmVEYXRhTGltaXRzOmZ1bmN0aW9uKCl7ZS5jYWxsQ2FsbGJhY2sodGhpcy5vcHRpb25zLmJlZm9yZURhdGFMaW1pdHMsW3RoaXNdKX0sZGV0ZXJtaW5lRGF0YUxpbWl0czplLm5vb3AsYWZ0ZXJEYXRhTGltaXRzOmZ1bmN0aW9uKCl7ZS5jYWxsQ2FsbGJhY2sodGhpcy5vcHRpb25zLmFmdGVyRGF0YUxpbWl0cyxbdGhpc10pfSxiZWZvcmVCdWlsZFRpY2tzOmZ1bmN0aW9uKCl7ZS5jYWxsQ2FsbGJhY2sodGhpcy5vcHRpb25zLmJlZm9yZUJ1aWxkVGlja3MsW3RoaXNdKX0sYnVpbGRUaWNrczplLm5vb3AsYWZ0ZXJCdWlsZFRpY2tzOmZ1bmN0aW9uKCl7ZS5jYWxsQ2FsbGJhY2sodGhpcy5vcHRpb25zLmFmdGVyQnVpbGRUaWNrcyxbdGhpc10pfSxiZWZvcmVUaWNrVG9MYWJlbENvbnZlcnNpb246ZnVuY3Rpb24oKXtlLmNhbGxDYWxsYmFjayh0aGlzLm9wdGlvbnMuYmVmb3JlVGlja1RvTGFiZWxDb252ZXJzaW9uLFt0aGlzXSl9LGNvbnZlcnRUaWNrc1RvTGFiZWxzOmZ1bmN0aW9uKCl7dGhpcy50aWNrcz10aGlzLnRpY2tzLm1hcChmdW5jdGlvbih0LGUsaSl7cmV0dXJuIHRoaXMub3B0aW9ucy50aWNrcy51c2VyQ2FsbGJhY2s/dGhpcy5vcHRpb25zLnRpY2tzLnVzZXJDYWxsYmFjayh0LGUsaSk6dGhpcy5vcHRpb25zLnRpY2tzLmNhbGxiYWNrKHQsZSxpKX0sdGhpcyl9LGFmdGVyVGlja1RvTGFiZWxDb252ZXJzaW9uOmZ1bmN0aW9uKCl7ZS5jYWxsQ2FsbGJhY2sodGhpcy5vcHRpb25zLmFmdGVyVGlja1RvTGFiZWxDb252ZXJzaW9uLFt0aGlzXSl9LGJlZm9yZUNhbGN1bGF0ZVRpY2tSb3RhdGlvbjpmdW5jdGlvbigpe2UuY2FsbENhbGxiYWNrKHRoaXMub3B0aW9ucy5iZWZvcmVDYWxjdWxhdGVUaWNrUm90YXRpb24sW3RoaXNdKX0sY2FsY3VsYXRlVGlja1JvdGF0aW9uOmZ1bmN0aW9uKCl7dmFyIGk9ZS5nZXRWYWx1ZU9yRGVmYXVsdCh0aGlzLm9wdGlvbnMudGlja3MuZm9udFNpemUsdC5kZWZhdWx0cy5nbG9iYWwuZGVmYXVsdEZvbnRTaXplKSxhPWUuZ2V0VmFsdWVPckRlZmF1bHQodGhpcy5vcHRpb25zLnRpY2tzLmZvbnRTdHlsZSx0LmRlZmF1bHRzLmdsb2JhbC5kZWZhdWx0Rm9udFN0eWxlKSxvPWUuZ2V0VmFsdWVPckRlZmF1bHQodGhpcy5vcHRpb25zLnRpY2tzLmZvbnRGYW1pbHksdC5kZWZhdWx0cy5nbG9iYWwuZGVmYXVsdEZvbnRGYW1pbHkpLHM9ZS5mb250U3RyaW5nKGksYSxvKTt0aGlzLmN0eC5mb250PXM7dmFyIG4scj10aGlzLmN0eC5tZWFzdXJlVGV4dCh0aGlzLnRpY2tzWzBdKS53aWR0aCxoPXRoaXMuY3R4Lm1lYXN1cmVUZXh0KHRoaXMudGlja3NbdGhpcy50aWNrcy5sZW5ndGgtMV0pLndpZHRoO2lmKHRoaXMubGFiZWxSb3RhdGlvbj10aGlzLm9wdGlvbnMudGlja3MubWluUm90YXRpb258fDAsdGhpcy5wYWRkaW5nUmlnaHQ9MCx0aGlzLnBhZGRpbmdMZWZ0PTAsdGhpcy5vcHRpb25zLmRpc3BsYXkmJnRoaXMuaXNIb3Jpem9udGFsKCkpe3RoaXMucGFkZGluZ1JpZ2h0PWgvMiszLHRoaXMucGFkZGluZ0xlZnQ9ci8yKzMsdGhpcy5sb25nZXN0VGV4dENhY2hlfHwodGhpcy5sb25nZXN0VGV4dENhY2hlPXt9KTtmb3IodmFyIGwsYyxkPWUubG9uZ2VzdFRleHQodGhpcy5jdHgscyx0aGlzLnRpY2tzLHRoaXMubG9uZ2VzdFRleHRDYWNoZSksdT1kLGc9dGhpcy5nZXRQaXhlbEZvclRpY2soMSktdGhpcy5nZXRQaXhlbEZvclRpY2soMCktNjt1PmcmJnRoaXMubGFiZWxSb3RhdGlvbjx0aGlzLm9wdGlvbnMudGlja3MubWF4Um90YXRpb247KXtpZihsPU1hdGguY29zKGUudG9SYWRpYW5zKHRoaXMubGFiZWxSb3RhdGlvbikpLGM9TWF0aC5zaW4oZS50b1JhZGlhbnModGhpcy5sYWJlbFJvdGF0aW9uKSksbj1sKnIsbitpLzI+dGhpcy55TGFiZWxXaWR0aCYmKHRoaXMucGFkZGluZ0xlZnQ9bitpLzIpLHRoaXMucGFkZGluZ1JpZ2h0PWkvMixjKmQ+dGhpcy5tYXhIZWlnaHQpe3RoaXMubGFiZWxSb3RhdGlvbi0tO2JyZWFrfXRoaXMubGFiZWxSb3RhdGlvbisrLHU9bCpkfX10aGlzLm1hcmdpbnMmJih0aGlzLnBhZGRpbmdMZWZ0PU1hdGgubWF4KHRoaXMucGFkZGluZ0xlZnQtdGhpcy5tYXJnaW5zLmxlZnQsMCksdGhpcy5wYWRkaW5nUmlnaHQ9TWF0aC5tYXgodGhpcy5wYWRkaW5nUmlnaHQtdGhpcy5tYXJnaW5zLnJpZ2h0LDApKX0sYWZ0ZXJDYWxjdWxhdGVUaWNrUm90YXRpb246ZnVuY3Rpb24oKXtlLmNhbGxDYWxsYmFjayh0aGlzLm9wdGlvbnMuYWZ0ZXJDYWxjdWxhdGVUaWNrUm90YXRpb24sW3RoaXNdKX0sYmVmb3JlRml0OmZ1bmN0aW9uKCl7ZS5jYWxsQ2FsbGJhY2sodGhpcy5vcHRpb25zLmJlZm9yZUZpdCxbdGhpc10pfSxmaXQ6ZnVuY3Rpb24oKXt2YXIgaT10aGlzLm1pblNpemU9e3dpZHRoOjAsaGVpZ2h0OjB9LGE9dGhpcy5vcHRpb25zLG89YS50aWNrcyxzPWEuc2NhbGVMYWJlbCxuPXQuZGVmYXVsdHMuZ2xvYmFsLHI9YS5kaXNwbGF5LGg9dGhpcy5pc0hvcml6b250YWwoKSxsPWUuZ2V0VmFsdWVPckRlZmF1bHQoby5mb250U2l6ZSxuLmRlZmF1bHRGb250U2l6ZSksYz1lLmdldFZhbHVlT3JEZWZhdWx0KG8uZm9udFN0eWxlLG4uZGVmYXVsdEZvbnRTdHlsZSksZD1lLmdldFZhbHVlT3JEZWZhdWx0KG8uZm9udEZhbWlseSxuLmRlZmF1bHRGb250RmFtaWx5KSx1PWUuZm9udFN0cmluZyhsLGMsZCksZz1lLmdldFZhbHVlT3JEZWZhdWx0KHMuZm9udFNpemUsbi5kZWZhdWx0Rm9udFNpemUpLGY9ZS5nZXRWYWx1ZU9yRGVmYXVsdChzLmZvbnRTdHlsZSxuLmRlZmF1bHRGb250U3R5bGUpLHA9ZS5nZXRWYWx1ZU9yRGVmYXVsdChzLmZvbnRGYW1pbHksbi5kZWZhdWx0Rm9udEZhbWlseSksbT0oZS5mb250U3RyaW5nKGcsZixwKSxhLmdyaWRMaW5lcy50aWNrTWFya0xlbmd0aCk7aWYoaD9pLndpZHRoPXRoaXMuaXNGdWxsV2lkdGgoKT90aGlzLm1heFdpZHRoLXRoaXMubWFyZ2lucy5sZWZ0LXRoaXMubWFyZ2lucy5yaWdodDp0aGlzLm1heFdpZHRoOmkud2lkdGg9cj9tOjAsaD9pLmhlaWdodD1yP206MDppLmhlaWdodD10aGlzLm1heEhlaWdodCxzLmRpc3BsYXkmJnImJihoP2kuaGVpZ2h0Kz0xLjUqZzppLndpZHRoKz0xLjUqZyksby5kaXNwbGF5JiZyKXt0aGlzLmxvbmdlc3RUZXh0Q2FjaGV8fCh0aGlzLmxvbmdlc3RUZXh0Q2FjaGU9e30pO3ZhciBiPWUubG9uZ2VzdFRleHQodGhpcy5jdHgsdSx0aGlzLnRpY2tzLHRoaXMubG9uZ2VzdFRleHRDYWNoZSk7aWYoaCl7dGhpcy5sb25nZXN0TGFiZWxXaWR0aD1iO3ZhciB4PU1hdGguc2luKGUudG9SYWRpYW5zKHRoaXMubGFiZWxSb3RhdGlvbikpKnRoaXMubG9uZ2VzdExhYmVsV2lkdGgrMS41Kmw7aS5oZWlnaHQ9TWF0aC5taW4odGhpcy5tYXhIZWlnaHQsaS5oZWlnaHQreCksdGhpcy5jdHguZm9udD11O3ZhciB2PXRoaXMuY3R4Lm1lYXN1cmVUZXh0KHRoaXMudGlja3NbMF0pLndpZHRoLHk9dGhpcy5jdHgubWVhc3VyZVRleHQodGhpcy50aWNrc1t0aGlzLnRpY2tzLmxlbmd0aC0xXSkud2lkdGgsaz1NYXRoLmNvcyhlLnRvUmFkaWFucyh0aGlzLmxhYmVsUm90YXRpb24pKSxTPU1hdGguc2luKGUudG9SYWRpYW5zKHRoaXMubGFiZWxSb3RhdGlvbikpO3RoaXMucGFkZGluZ0xlZnQ9MCE9PXRoaXMubGFiZWxSb3RhdGlvbj9rKnYrMzp2LzIrMyx0aGlzLnBhZGRpbmdSaWdodD0wIT09dGhpcy5sYWJlbFJvdGF0aW9uP1MqKGwvMikrMzp5LzIrM31lbHNle3ZhciBDPXRoaXMubWF4V2lkdGgtaS53aWR0aCx3PW8ubWlycm9yO3c/Yj0wOmIrPXRoaXMub3B0aW9ucy50aWNrcy5wYWRkaW5nLEM+Yj9pLndpZHRoKz1iOmkud2lkdGg9dGhpcy5tYXhXaWR0aCx0aGlzLnBhZGRpbmdUb3A9bC8yLHRoaXMucGFkZGluZ0JvdHRvbT1sLzJ9fXRoaXMubWFyZ2lucyYmKHRoaXMucGFkZGluZ0xlZnQ9TWF0aC5tYXgodGhpcy5wYWRkaW5nTGVmdC10aGlzLm1hcmdpbnMubGVmdCwwKSx0aGlzLnBhZGRpbmdUb3A9TWF0aC5tYXgodGhpcy5wYWRkaW5nVG9wLXRoaXMubWFyZ2lucy50b3AsMCksdGhpcy5wYWRkaW5nUmlnaHQ9TWF0aC5tYXgodGhpcy5wYWRkaW5nUmlnaHQtdGhpcy5tYXJnaW5zLnJpZ2h0LDApLHRoaXMucGFkZGluZ0JvdHRvbT1NYXRoLm1heCh0aGlzLnBhZGRpbmdCb3R0b20tdGhpcy5tYXJnaW5zLmJvdHRvbSwwKSksdGhpcy53aWR0aD1pLndpZHRoLHRoaXMuaGVpZ2h0PWkuaGVpZ2h0fSxhZnRlckZpdDpmdW5jdGlvbigpe2UuY2FsbENhbGxiYWNrKHRoaXMub3B0aW9ucy5hZnRlckZpdCxbdGhpc10pfSxpc0hvcml6b250YWw6ZnVuY3Rpb24oKXtyZXR1cm5cInRvcFwiPT09dGhpcy5vcHRpb25zLnBvc2l0aW9ufHxcImJvdHRvbVwiPT09dGhpcy5vcHRpb25zLnBvc2l0aW9ufSxpc0Z1bGxXaWR0aDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm9wdGlvbnMuZnVsbFdpZHRofSxnZXRSaWdodFZhbHVlOmZ1bmN0aW9uIGkodCl7cmV0dXJuIG51bGw9PT10fHxcInVuZGVmaW5lZFwiPT10eXBlb2YgdD9OYU46XCJudW1iZXJcIj09dHlwZW9mIHQmJmlzTmFOKHQpP05hTjpcIm9iamVjdFwiPT10eXBlb2YgdD90IGluc3RhbmNlb2YgRGF0ZT90OmkodGhpcy5pc0hvcml6b250YWwoKT90Lng6dC55KTp0fSxnZXRMYWJlbEZvckluZGV4OmUubm9vcCxnZXRQaXhlbEZvclZhbHVlOmUubm9vcCxnZXRWYWx1ZUZvclBpeGVsOmUubm9vcCxnZXRQaXhlbEZvclRpY2s6ZnVuY3Rpb24odCxlKXtpZih0aGlzLmlzSG9yaXpvbnRhbCgpKXt2YXIgaT10aGlzLndpZHRoLSh0aGlzLnBhZGRpbmdMZWZ0K3RoaXMucGFkZGluZ1JpZ2h0KSxhPWkvTWF0aC5tYXgodGhpcy50aWNrcy5sZW5ndGgtKHRoaXMub3B0aW9ucy5ncmlkTGluZXMub2Zmc2V0R3JpZExpbmVzPzA6MSksMSksbz1hKnQrdGhpcy5wYWRkaW5nTGVmdDtlJiYobys9YS8yKTt2YXIgcz10aGlzLmxlZnQrTWF0aC5yb3VuZChvKTtyZXR1cm4gcys9dGhpcy5pc0Z1bGxXaWR0aCgpP3RoaXMubWFyZ2lucy5sZWZ0OjB9dmFyIG49dGhpcy5oZWlnaHQtKHRoaXMucGFkZGluZ1RvcCt0aGlzLnBhZGRpbmdCb3R0b20pO3JldHVybiB0aGlzLnRvcCt0KihuLyh0aGlzLnRpY2tzLmxlbmd0aC0xKSl9LGdldFBpeGVsRm9yRGVjaW1hbDpmdW5jdGlvbih0KXtpZih0aGlzLmlzSG9yaXpvbnRhbCgpKXt2YXIgZT10aGlzLndpZHRoLSh0aGlzLnBhZGRpbmdMZWZ0K3RoaXMucGFkZGluZ1JpZ2h0KSxpPWUqdCt0aGlzLnBhZGRpbmdMZWZ0LGE9dGhpcy5sZWZ0K01hdGgucm91bmQoaSk7cmV0dXJuIGErPXRoaXMuaXNGdWxsV2lkdGgoKT90aGlzLm1hcmdpbnMubGVmdDowfXJldHVybiB0aGlzLnRvcCt0KnRoaXMuaGVpZ2h0fSxkcmF3OmZ1bmN0aW9uKGkpe2lmKHRoaXMub3B0aW9ucy5kaXNwbGF5KXt2YXIgYSxvLHMsbixyLGg9MCE9PXRoaXMubGFiZWxSb3RhdGlvbixsPXRoaXMub3B0aW9ucy50aWNrcy5hdXRvU2tpcDt0aGlzLm9wdGlvbnMudGlja3MubWF4VGlja3NMaW1pdCYmKHI9dGhpcy5vcHRpb25zLnRpY2tzLm1heFRpY2tzTGltaXQpO3ZhciBjPWUuZ2V0VmFsdWVPckRlZmF1bHQodGhpcy5vcHRpb25zLnRpY2tzLmZvbnRDb2xvcix0LmRlZmF1bHRzLmdsb2JhbC5kZWZhdWx0Rm9udENvbG9yKSxkPWUuZ2V0VmFsdWVPckRlZmF1bHQodGhpcy5vcHRpb25zLnRpY2tzLmZvbnRTaXplLHQuZGVmYXVsdHMuZ2xvYmFsLmRlZmF1bHRGb250U2l6ZSksdT1lLmdldFZhbHVlT3JEZWZhdWx0KHRoaXMub3B0aW9ucy50aWNrcy5mb250U3R5bGUsdC5kZWZhdWx0cy5nbG9iYWwuZGVmYXVsdEZvbnRTdHlsZSksZz1lLmdldFZhbHVlT3JEZWZhdWx0KHRoaXMub3B0aW9ucy50aWNrcy5mb250RmFtaWx5LHQuZGVmYXVsdHMuZ2xvYmFsLmRlZmF1bHRGb250RmFtaWx5KSxmPWUuZm9udFN0cmluZyhkLHUsZykscD10aGlzLm9wdGlvbnMuZ3JpZExpbmVzLnRpY2tNYXJrTGVuZ3RoLG09ZS5nZXRWYWx1ZU9yRGVmYXVsdCh0aGlzLm9wdGlvbnMuc2NhbGVMYWJlbC5mb250Q29sb3IsdC5kZWZhdWx0cy5nbG9iYWwuZGVmYXVsdEZvbnRDb2xvciksYj1lLmdldFZhbHVlT3JEZWZhdWx0KHRoaXMub3B0aW9ucy5zY2FsZUxhYmVsLmZvbnRTaXplLHQuZGVmYXVsdHMuZ2xvYmFsLmRlZmF1bHRGb250U2l6ZSkseD1lLmdldFZhbHVlT3JEZWZhdWx0KHRoaXMub3B0aW9ucy5zY2FsZUxhYmVsLmZvbnRTdHlsZSx0LmRlZmF1bHRzLmdsb2JhbC5kZWZhdWx0Rm9udFN0eWxlKSx2PWUuZ2V0VmFsdWVPckRlZmF1bHQodGhpcy5vcHRpb25zLnNjYWxlTGFiZWwuZm9udEZhbWlseSx0LmRlZmF1bHRzLmdsb2JhbC5kZWZhdWx0Rm9udEZhbWlseSkseT1lLmZvbnRTdHJpbmcoYix4LHYpLGs9TWF0aC5jb3MoZS50b1JhZGlhbnModGhpcy5sYWJlbFJvdGF0aW9uKSksUz0oTWF0aC5zaW4oZS50b1JhZGlhbnModGhpcy5sYWJlbFJvdGF0aW9uKSksdGhpcy5sb25nZXN0TGFiZWxXaWR0aCprKTtpZih0aGlzLmN0eC5maWxsU3R5bGU9Yyx0aGlzLmlzSG9yaXpvbnRhbCgpKXthPSEwO3ZhciBDPVwiYm90dG9tXCI9PT10aGlzLm9wdGlvbnMucG9zaXRpb24/dGhpcy50b3A6dGhpcy5ib3R0b20tcCx3PVwiYm90dG9tXCI9PT10aGlzLm9wdGlvbnMucG9zaXRpb24/dGhpcy50b3ArcDp0aGlzLmJvdHRvbTtpZihvPSExLChTLzIrdGhpcy5vcHRpb25zLnRpY2tzLmF1dG9Ta2lwUGFkZGluZykqdGhpcy50aWNrcy5sZW5ndGg+dGhpcy53aWR0aC0odGhpcy5wYWRkaW5nTGVmdCt0aGlzLnBhZGRpbmdSaWdodCkmJihvPTErTWF0aC5mbG9vcigoUy8yK3RoaXMub3B0aW9ucy50aWNrcy5hdXRvU2tpcFBhZGRpbmcpKnRoaXMudGlja3MubGVuZ3RoLyh0aGlzLndpZHRoLSh0aGlzLnBhZGRpbmdMZWZ0K3RoaXMucGFkZGluZ1JpZ2h0KSkpKSxyJiZ0aGlzLnRpY2tzLmxlbmd0aD5yKWZvcig7IW98fHRoaXMudGlja3MubGVuZ3RoLyhvfHwxKT5yOylvfHwobz0xKSxvKz0xO2x8fChvPSExKSxlLmVhY2godGhpcy50aWNrcyxmdW5jdGlvbih0LHMpe3ZhciBuPXRoaXMudGlja3MubGVuZ3RoPT09cysxLHI9bz4xJiZzJW8+MHx8cyVvPT09MCYmcytvPnRoaXMudGlja3MubGVuZ3RoO2lmKCghcnx8bikmJnZvaWQgMCE9PXQmJm51bGwhPT10KXt2YXIgbD10aGlzLmdldFBpeGVsRm9yVGljayhzKSxjPXRoaXMuZ2V0UGl4ZWxGb3JUaWNrKHMsdGhpcy5vcHRpb25zLmdyaWRMaW5lcy5vZmZzZXRHcmlkTGluZXMpO3RoaXMub3B0aW9ucy5ncmlkTGluZXMuZGlzcGxheSYmKHM9PT0oXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHRoaXMuemVyb0xpbmVJbmRleD90aGlzLnplcm9MaW5lSW5kZXg6MCk/KHRoaXMuY3R4LmxpbmVXaWR0aD10aGlzLm9wdGlvbnMuZ3JpZExpbmVzLnplcm9MaW5lV2lkdGgsdGhpcy5jdHguc3Ryb2tlU3R5bGU9dGhpcy5vcHRpb25zLmdyaWRMaW5lcy56ZXJvTGluZUNvbG9yLGE9ITApOmEmJih0aGlzLmN0eC5saW5lV2lkdGg9dGhpcy5vcHRpb25zLmdyaWRMaW5lcy5saW5lV2lkdGgsdGhpcy5jdHguc3Ryb2tlU3R5bGU9dGhpcy5vcHRpb25zLmdyaWRMaW5lcy5jb2xvcixhPSExKSxsKz1lLmFsaWFzUGl4ZWwodGhpcy5jdHgubGluZVdpZHRoKSx0aGlzLmN0eC5iZWdpblBhdGgoKSx0aGlzLm9wdGlvbnMuZ3JpZExpbmVzLmRyYXdUaWNrcyYmKHRoaXMuY3R4Lm1vdmVUbyhsLEMpLHRoaXMuY3R4LmxpbmVUbyhsLHcpKSx0aGlzLm9wdGlvbnMuZ3JpZExpbmVzLmRyYXdPbkNoYXJ0QXJlYSYmKHRoaXMuY3R4Lm1vdmVUbyhsLGkudG9wKSx0aGlzLmN0eC5saW5lVG8obCxpLmJvdHRvbSkpLHRoaXMuY3R4LnN0cm9rZSgpKSx0aGlzLm9wdGlvbnMudGlja3MuZGlzcGxheSYmKHRoaXMuY3R4LnNhdmUoKSx0aGlzLmN0eC50cmFuc2xhdGUoYyt0aGlzLm9wdGlvbnMudGlja3MubGFiZWxPZmZzZXQsaD90aGlzLnRvcCsxMjpcInRvcFwiPT09dGhpcy5vcHRpb25zLnBvc2l0aW9uP3RoaXMuYm90dG9tLXA6dGhpcy50b3ArcCksdGhpcy5jdHgucm90YXRlKC0xKmUudG9SYWRpYW5zKHRoaXMubGFiZWxSb3RhdGlvbikpLHRoaXMuY3R4LmZvbnQ9Zix0aGlzLmN0eC50ZXh0QWxpZ249aD9cInJpZ2h0XCI6XCJjZW50ZXJcIix0aGlzLmN0eC50ZXh0QmFzZWxpbmU9aD9cIm1pZGRsZVwiOlwidG9wXCI9PT10aGlzLm9wdGlvbnMucG9zaXRpb24/XCJib3R0b21cIjpcInRvcFwiLHRoaXMuY3R4LmZpbGxUZXh0KHQsMCwwKSx0aGlzLmN0eC5yZXN0b3JlKCkpfX0sdGhpcyksdGhpcy5vcHRpb25zLnNjYWxlTGFiZWwuZGlzcGxheSYmKHRoaXMuY3R4LnRleHRBbGlnbj1cImNlbnRlclwiLHRoaXMuY3R4LnRleHRCYXNlbGluZT1cIm1pZGRsZVwiLHRoaXMuY3R4LmZpbGxTdHlsZT1tLHRoaXMuY3R4LmZvbnQ9eSxzPXRoaXMubGVmdCsodGhpcy5yaWdodC10aGlzLmxlZnQpLzIsbj1cImJvdHRvbVwiPT09dGhpcy5vcHRpb25zLnBvc2l0aW9uP3RoaXMuYm90dG9tLWIvMjp0aGlzLnRvcCtiLzIsdGhpcy5jdHguZmlsbFRleHQodGhpcy5vcHRpb25zLnNjYWxlTGFiZWwubGFiZWxTdHJpbmcscyxuKSl9ZWxzZXthPSEwO3ZhciBEPVwicmlnaHRcIj09PXRoaXMub3B0aW9ucy5wb3NpdGlvbj90aGlzLmxlZnQ6dGhpcy5yaWdodC01LE09XCJyaWdodFwiPT09dGhpcy5vcHRpb25zLnBvc2l0aW9uP3RoaXMubGVmdCs1OnRoaXMucmlnaHQ7aWYoZS5lYWNoKHRoaXMudGlja3MsZnVuY3Rpb24odCxvKXtpZih2b2lkIDAhPT10JiZudWxsIT09dCl7dmFyIHM9dGhpcy5nZXRQaXhlbEZvclRpY2sobyk7aWYodGhpcy5vcHRpb25zLmdyaWRMaW5lcy5kaXNwbGF5JiYobz09PShcInVuZGVmaW5lZFwiIT10eXBlb2YgdGhpcy56ZXJvTGluZUluZGV4P3RoaXMuemVyb0xpbmVJbmRleDowKT8odGhpcy5jdHgubGluZVdpZHRoPXRoaXMub3B0aW9ucy5ncmlkTGluZXMuemVyb0xpbmVXaWR0aCx0aGlzLmN0eC5zdHJva2VTdHlsZT10aGlzLm9wdGlvbnMuZ3JpZExpbmVzLnplcm9MaW5lQ29sb3IsYT0hMCk6YSYmKHRoaXMuY3R4LmxpbmVXaWR0aD10aGlzLm9wdGlvbnMuZ3JpZExpbmVzLmxpbmVXaWR0aCx0aGlzLmN0eC5zdHJva2VTdHlsZT10aGlzLm9wdGlvbnMuZ3JpZExpbmVzLmNvbG9yLGE9ITEpLHMrPWUuYWxpYXNQaXhlbCh0aGlzLmN0eC5saW5lV2lkdGgpLHRoaXMuY3R4LmJlZ2luUGF0aCgpLHRoaXMub3B0aW9ucy5ncmlkTGluZXMuZHJhd1RpY2tzJiYodGhpcy5jdHgubW92ZVRvKEQscyksdGhpcy5jdHgubGluZVRvKE0scykpLHRoaXMub3B0aW9ucy5ncmlkTGluZXMuZHJhd09uQ2hhcnRBcmVhJiYodGhpcy5jdHgubW92ZVRvKGkubGVmdCxzKSx0aGlzLmN0eC5saW5lVG8oaS5yaWdodCxzKSksdGhpcy5jdHguc3Ryb2tlKCkpLHRoaXMub3B0aW9ucy50aWNrcy5kaXNwbGF5KXt2YXIgbixyPXRoaXMuZ2V0UGl4ZWxGb3JUaWNrKG8sdGhpcy5vcHRpb25zLmdyaWRMaW5lcy5vZmZzZXRHcmlkTGluZXMpO3RoaXMuY3R4LnNhdmUoKSxcImxlZnRcIj09PXRoaXMub3B0aW9ucy5wb3NpdGlvbj90aGlzLm9wdGlvbnMudGlja3MubWlycm9yPyhuPXRoaXMucmlnaHQrdGhpcy5vcHRpb25zLnRpY2tzLnBhZGRpbmcsdGhpcy5jdHgudGV4dEFsaWduPVwibGVmdFwiKToobj10aGlzLnJpZ2h0LXRoaXMub3B0aW9ucy50aWNrcy5wYWRkaW5nLHRoaXMuY3R4LnRleHRBbGlnbj1cInJpZ2h0XCIpOnRoaXMub3B0aW9ucy50aWNrcy5taXJyb3I/KG49dGhpcy5sZWZ0LXRoaXMub3B0aW9ucy50aWNrcy5wYWRkaW5nLHRoaXMuY3R4LnRleHRBbGlnbj1cInJpZ2h0XCIpOihuPXRoaXMubGVmdCt0aGlzLm9wdGlvbnMudGlja3MucGFkZGluZyx0aGlzLmN0eC50ZXh0QWxpZ249XCJsZWZ0XCIpLHRoaXMuY3R4LnRyYW5zbGF0ZShuLHIrdGhpcy5vcHRpb25zLnRpY2tzLmxhYmVsT2Zmc2V0KSx0aGlzLmN0eC5yb3RhdGUoLTEqZS50b1JhZGlhbnModGhpcy5sYWJlbFJvdGF0aW9uKSksdGhpcy5jdHguZm9udD1mLHRoaXMuY3R4LnRleHRCYXNlbGluZT1cIm1pZGRsZVwiLHRoaXMuY3R4LmZpbGxUZXh0KHQsMCwwKSx0aGlzLmN0eC5yZXN0b3JlKCl9fX0sdGhpcyksdGhpcy5vcHRpb25zLnNjYWxlTGFiZWwuZGlzcGxheSl7cz1cImxlZnRcIj09PXRoaXMub3B0aW9ucy5wb3NpdGlvbj90aGlzLmxlZnQrYi8yOnRoaXMucmlnaHQtYi8yLG49dGhpcy50b3ArKHRoaXMuYm90dG9tLXRoaXMudG9wKS8yO3ZhciBfPVwibGVmdFwiPT09dGhpcy5vcHRpb25zLnBvc2l0aW9uPy0uNSpNYXRoLlBJOi41Kk1hdGguUEk7dGhpcy5jdHguc2F2ZSgpLHRoaXMuY3R4LnRyYW5zbGF0ZShzLG4pLHRoaXMuY3R4LnJvdGF0ZShfKSx0aGlzLmN0eC50ZXh0QWxpZ249XCJjZW50ZXJcIix0aGlzLmN0eC5maWxsU3R5bGU9bSx0aGlzLmN0eC5mb250PXksdGhpcy5jdHgudGV4dEJhc2VsaW5lPVwibWlkZGxlXCIsdGhpcy5jdHguZmlsbFRleHQodGhpcy5vcHRpb25zLnNjYWxlTGFiZWwubGFiZWxTdHJpbmcsMCwwKSx0aGlzLmN0eC5yZXN0b3JlKCl9fXRoaXMuY3R4LmxpbmVXaWR0aD10aGlzLm9wdGlvbnMuZ3JpZExpbmVzLmxpbmVXaWR0aCx0aGlzLmN0eC5zdHJva2VTdHlsZT10aGlzLm9wdGlvbnMuZ3JpZExpbmVzLmNvbG9yO3ZhciBBPXRoaXMubGVmdCxJPXRoaXMucmlnaHQsRj10aGlzLnRvcCxQPXRoaXMuYm90dG9tO3RoaXMuaXNIb3Jpem9udGFsKCk/KEY9UD1cInRvcFwiPT09dGhpcy5vcHRpb25zLnBvc2l0aW9uP3RoaXMuYm90dG9tOnRoaXMudG9wLEYrPWUuYWxpYXNQaXhlbCh0aGlzLmN0eC5saW5lV2lkdGgpLFArPWUuYWxpYXNQaXhlbCh0aGlzLmN0eC5saW5lV2lkdGgpKTooQT1JPVwibGVmdFwiPT09dGhpcy5vcHRpb25zLnBvc2l0aW9uP3RoaXMucmlnaHQ6dGhpcy5sZWZ0LEErPWUuYWxpYXNQaXhlbCh0aGlzLmN0eC5saW5lV2lkdGgpLEkrPWUuYWxpYXNQaXhlbCh0aGlzLmN0eC5saW5lV2lkdGgpKSx0aGlzLmN0eC5iZWdpblBhdGgoKSx0aGlzLmN0eC5tb3ZlVG8oQSxGKSx0aGlzLmN0eC5saW5lVG8oSSxQKSx0aGlzLmN0eC5zdHJva2UoKX19fSl9fSx7fV0sMzE6W2Z1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9ZnVuY3Rpb24odCl7dmFyIGU9dC5oZWxwZXJzO3Quc2NhbGVTZXJ2aWNlPXtjb25zdHJ1Y3RvcnM6e30sZGVmYXVsdHM6e30scmVnaXN0ZXJTY2FsZVR5cGU6ZnVuY3Rpb24odCxpLGEpe3RoaXMuY29uc3RydWN0b3JzW3RdPWksdGhpcy5kZWZhdWx0c1t0XT1lLmNsb25lKGEpfSxnZXRTY2FsZUNvbnN0cnVjdG9yOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNvbnN0cnVjdG9ycy5oYXNPd25Qcm9wZXJ0eSh0KT90aGlzLmNvbnN0cnVjdG9yc1t0XTp2b2lkIDB9LGdldFNjYWxlRGVmYXVsdHM6ZnVuY3Rpb24oaSl7cmV0dXJuIHRoaXMuZGVmYXVsdHMuaGFzT3duUHJvcGVydHkoaSk/ZS5zY2FsZU1lcmdlKHQuZGVmYXVsdHMuc2NhbGUsdGhpcy5kZWZhdWx0c1tpXSk6e319LHVwZGF0ZVNjYWxlRGVmYXVsdHM6ZnVuY3Rpb24odCxpKXt2YXIgYT10aGlzLmRlZmF1bHRzO2EuaGFzT3duUHJvcGVydHkodCkmJihhW3RdPWUuZXh0ZW5kKGFbdF0saSkpfSxhZGRTY2FsZXNUb0xheW91dDpmdW5jdGlvbihpKXtlLmVhY2goaS5zY2FsZXMsZnVuY3Rpb24oZSl7dC5sYXlvdXRTZXJ2aWNlLmFkZEJveChpLGUpfSl9fX19LHt9XSwzMjpbZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1mdW5jdGlvbih0KXt2YXIgZT10LmhlbHBlcnM7dC5kZWZhdWx0cy5nbG9iYWwudGl0bGU9e2Rpc3BsYXk6ITEscG9zaXRpb246XCJ0b3BcIixmdWxsV2lkdGg6ITAsZm9udFN0eWxlOlwiYm9sZFwiLHBhZGRpbmc6MTAsdGV4dDpcIlwifTt2YXIgaT1lLm5vb3A7dC5UaXRsZT10LkVsZW1lbnQuZXh0ZW5kKHtpbml0aWFsaXplOmZ1bmN0aW9uKGkpe2UuZXh0ZW5kKHRoaXMsaSksdGhpcy5vcHRpb25zPWUuY29uZmlnTWVyZ2UodC5kZWZhdWx0cy5nbG9iYWwudGl0bGUsaS5vcHRpb25zKSx0aGlzLmxlZ2VuZEhpdEJveGVzPVtdfSxiZWZvcmVVcGRhdGU6aSx1cGRhdGU6ZnVuY3Rpb24odCxlLGkpe3JldHVybiB0aGlzLmJlZm9yZVVwZGF0ZSgpLHRoaXMubWF4V2lkdGg9dCx0aGlzLm1heEhlaWdodD1lLHRoaXMubWFyZ2lucz1pLHRoaXMuYmVmb3JlU2V0RGltZW5zaW9ucygpLHRoaXMuc2V0RGltZW5zaW9ucygpLHRoaXMuYWZ0ZXJTZXREaW1lbnNpb25zKCksdGhpcy5iZWZvcmVCdWlsZExhYmVscygpLHRoaXMuYnVpbGRMYWJlbHMoKSx0aGlzLmFmdGVyQnVpbGRMYWJlbHMoKSx0aGlzLmJlZm9yZUZpdCgpLHRoaXMuZml0KCksdGhpcy5hZnRlckZpdCgpLHRoaXMuYWZ0ZXJVcGRhdGUoKSx0aGlzLm1pblNpemV9LGFmdGVyVXBkYXRlOmksYmVmb3JlU2V0RGltZW5zaW9uczppLHNldERpbWVuc2lvbnM6ZnVuY3Rpb24oKXt0aGlzLmlzSG9yaXpvbnRhbCgpPyh0aGlzLndpZHRoPXRoaXMubWF4V2lkdGgsdGhpcy5sZWZ0PTAsdGhpcy5yaWdodD10aGlzLndpZHRoKToodGhpcy5oZWlnaHQ9dGhpcy5tYXhIZWlnaHQsdGhpcy50b3A9MCx0aGlzLmJvdHRvbT10aGlzLmhlaWdodCksdGhpcy5wYWRkaW5nTGVmdD0wLHRoaXMucGFkZGluZ1RvcD0wLHRoaXMucGFkZGluZ1JpZ2h0PTAsdGhpcy5wYWRkaW5nQm90dG9tPTAsdGhpcy5taW5TaXplPXt3aWR0aDowLGhlaWdodDowfX0sYWZ0ZXJTZXREaW1lbnNpb25zOmksYmVmb3JlQnVpbGRMYWJlbHM6aSxidWlsZExhYmVsczppLGFmdGVyQnVpbGRMYWJlbHM6aSxiZWZvcmVGaXQ6aSxmaXQ6ZnVuY3Rpb24oKXt2YXIgaT0odGhpcy5jdHgsZS5nZXRWYWx1ZU9yRGVmYXVsdCksYT10aGlzLm9wdGlvbnMsbz10LmRlZmF1bHRzLmdsb2JhbCxzPWEuZGlzcGxheSxuPWkoYS5mb250U2l6ZSxvLmRlZmF1bHRGb250U2l6ZSkscj10aGlzLm1pblNpemU7dGhpcy5pc0hvcml6b250YWwoKT8oci53aWR0aD10aGlzLm1heFdpZHRoLHIuaGVpZ2h0PXM/bisyKmEucGFkZGluZzowKTooci53aWR0aD1zP24rMiphLnBhZGRpbmc6MCxyLmhlaWdodD10aGlzLm1heEhlaWdodCksdGhpcy53aWR0aD1yLndpZHRoLHRoaXMuaGVpZ2h0PXIuaGVpZ2h0fSxhZnRlckZpdDppLGlzSG9yaXpvbnRhbDpmdW5jdGlvbigpe3ZhciB0PXRoaXMub3B0aW9ucy5wb3NpdGlvbjtyZXR1cm5cInRvcFwiPT09dHx8XCJib3R0b21cIj09PXR9LGRyYXc6ZnVuY3Rpb24oKXt2YXIgaT10aGlzLmN0eCxhPWUuZ2V0VmFsdWVPckRlZmF1bHQsbz10aGlzLm9wdGlvbnMscz10LmRlZmF1bHRzLmdsb2JhbDtpZihvLmRpc3BsYXkpe3ZhciBuLHIsaD1hKG8uZm9udFNpemUscy5kZWZhdWx0Rm9udFNpemUpLGw9YShvLmZvbnRTdHlsZSxzLmRlZmF1bHRGb250U3R5bGUpLGM9YShvLmZvbnRGYW1pbHkscy5kZWZhdWx0Rm9udEZhbWlseSksZD1lLmZvbnRTdHJpbmcoaCxsLGMpLHU9MDtpLmZpbGxTdHlsZT1hKG8uZm9udENvbG9yLHMuZGVmYXVsdEZvbnRDb2xvciksaS5mb250PWQsdGhpcy5pc0hvcml6b250YWwoKT8obj10aGlzLmxlZnQrKHRoaXMucmlnaHQtdGhpcy5sZWZ0KS8yLHI9dGhpcy50b3ArKHRoaXMuYm90dG9tLXRoaXMudG9wKS8yKToobj1cImxlZnRcIj09PW8ucG9zaXRpb24/dGhpcy5sZWZ0K2gvMjp0aGlzLnJpZ2h0LWgvMixyPXRoaXMudG9wKyh0aGlzLmJvdHRvbS10aGlzLnRvcCkvMix1PU1hdGguUEkqKFwibGVmdFwiPT09by5wb3NpdGlvbj8tLjU6LjUpKSxpLnNhdmUoKSxpLnRyYW5zbGF0ZShuLHIpLGkucm90YXRlKHUpLGkudGV4dEFsaWduPVwiY2VudGVyXCIsaS50ZXh0QmFzZWxpbmU9XCJtaWRkbGVcIixpLmZpbGxUZXh0KG8udGV4dCwwLDApLGkucmVzdG9yZSgpfX19KX19LHt9XSwzMzpbZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKHQsZSl7cmV0dXJuIGUmJihpLmlzQXJyYXkoZSk/dD10LmNvbmNhdChlKTp0LnB1c2goZSkpLHR9dmFyIGk9dC5oZWxwZXJzO3QuZGVmYXVsdHMuZ2xvYmFsLnRvb2x0aXBzPXtlbmFibGVkOiEwLGN1c3RvbTpudWxsLG1vZGU6XCJzaW5nbGVcIixiYWNrZ3JvdW5kQ29sb3I6XCJyZ2JhKDAsMCwwLDAuOClcIix0aXRsZUZvbnRTdHlsZTpcImJvbGRcIix0aXRsZVNwYWNpbmc6Mix0aXRsZU1hcmdpbkJvdHRvbTo2LHRpdGxlQ29sb3I6XCIjZmZmXCIsdGl0bGVBbGlnbjpcImxlZnRcIixib2R5U3BhY2luZzoyLGJvZHlDb2xvcjpcIiNmZmZcIixib2R5QWxpZ246XCJsZWZ0XCIsZm9vdGVyRm9udFN0eWxlOlwiYm9sZFwiLGZvb3RlclNwYWNpbmc6Mixmb290ZXJNYXJnaW5Ub3A6Nixmb290ZXJDb2xvcjpcIiNmZmZcIixmb290ZXJBbGlnbjpcImxlZnRcIix5UGFkZGluZzo2LHhQYWRkaW5nOjYseUFsaWduOlwiY2VudGVyXCIseEFsaWduOlwiY2VudGVyXCIsY2FyZXRTaXplOjUsY29ybmVyUmFkaXVzOjYsbXVsdGlLZXlCYWNrZ3JvdW5kOlwiI2ZmZlwiLGNhbGxiYWNrczp7YmVmb3JlVGl0bGU6aS5ub29wLHRpdGxlOmZ1bmN0aW9uKHQsZSl7dmFyIGk9XCJcIjtyZXR1cm4gdC5sZW5ndGg+MCYmKHRbMF0ueExhYmVsP2k9dFswXS54TGFiZWw6ZS5sYWJlbHMubGVuZ3RoPjAmJnRbMF0uaW5kZXg8ZS5sYWJlbHMubGVuZ3RoJiYoaT1lLmxhYmVsc1t0WzBdLmluZGV4XSkpLGl9LGFmdGVyVGl0bGU6aS5ub29wLGJlZm9yZUJvZHk6aS5ub29wLGJlZm9yZUxhYmVsOmkubm9vcCxsYWJlbDpmdW5jdGlvbih0LGUpe3ZhciBpPWUuZGF0YXNldHNbdC5kYXRhc2V0SW5kZXhdLmxhYmVsfHxcIlwiO3JldHVybiBpK1wiOiBcIit0LnlMYWJlbH0sYWZ0ZXJMYWJlbDppLm5vb3AsYWZ0ZXJCb2R5Omkubm9vcCxiZWZvcmVGb290ZXI6aS5ub29wLGZvb3RlcjppLm5vb3AsYWZ0ZXJGb290ZXI6aS5ub29wfX0sdC5Ub29sdGlwPXQuRWxlbWVudC5leHRlbmQoe2luaXRpYWxpemU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLl9vcHRpb25zO2kuZXh0ZW5kKHRoaXMse19tb2RlbDp7eFBhZGRpbmc6ZS50b29sdGlwcy54UGFkZGluZyx5UGFkZGluZzplLnRvb2x0aXBzLnlQYWRkaW5nLHhBbGlnbjplLnRvb2x0aXBzLnlBbGlnbix5QWxpZ246ZS50b29sdGlwcy54QWxpZ24sYm9keUNvbG9yOmUudG9vbHRpcHMuYm9keUNvbG9yLF9ib2R5Rm9udEZhbWlseTppLmdldFZhbHVlT3JEZWZhdWx0KGUudG9vbHRpcHMuYm9keUZvbnRGYW1pbHksdC5kZWZhdWx0cy5nbG9iYWwuZGVmYXVsdEZvbnRGYW1pbHkpLF9ib2R5Rm9udFN0eWxlOmkuZ2V0VmFsdWVPckRlZmF1bHQoZS50b29sdGlwcy5ib2R5Rm9udFN0eWxlLHQuZGVmYXVsdHMuZ2xvYmFsLmRlZmF1bHRGb250U3R5bGUpLF9ib2R5QWxpZ246ZS50b29sdGlwcy5ib2R5QWxpZ24sYm9keUZvbnRTaXplOmkuZ2V0VmFsdWVPckRlZmF1bHQoZS50b29sdGlwcy5ib2R5Rm9udFNpemUsdC5kZWZhdWx0cy5nbG9iYWwuZGVmYXVsdEZvbnRTaXplKSxib2R5U3BhY2luZzplLnRvb2x0aXBzLmJvZHlTcGFjaW5nLHRpdGxlQ29sb3I6ZS50b29sdGlwcy50aXRsZUNvbG9yLF90aXRsZUZvbnRGYW1pbHk6aS5nZXRWYWx1ZU9yRGVmYXVsdChlLnRvb2x0aXBzLnRpdGxlRm9udEZhbWlseSx0LmRlZmF1bHRzLmdsb2JhbC5kZWZhdWx0Rm9udEZhbWlseSksX3RpdGxlRm9udFN0eWxlOmkuZ2V0VmFsdWVPckRlZmF1bHQoZS50b29sdGlwcy50aXRsZUZvbnRTdHlsZSx0LmRlZmF1bHRzLmdsb2JhbC5kZWZhdWx0Rm9udFN0eWxlKSx0aXRsZUZvbnRTaXplOmkuZ2V0VmFsdWVPckRlZmF1bHQoZS50b29sdGlwcy50aXRsZUZvbnRTaXplLHQuZGVmYXVsdHMuZ2xvYmFsLmRlZmF1bHRGb250U2l6ZSksX3RpdGxlQWxpZ246ZS50b29sdGlwcy50aXRsZUFsaWduLHRpdGxlU3BhY2luZzplLnRvb2x0aXBzLnRpdGxlU3BhY2luZyx0aXRsZU1hcmdpbkJvdHRvbTplLnRvb2x0aXBzLnRpdGxlTWFyZ2luQm90dG9tLGZvb3RlckNvbG9yOmUudG9vbHRpcHMuZm9vdGVyQ29sb3IsX2Zvb3RlckZvbnRGYW1pbHk6aS5nZXRWYWx1ZU9yRGVmYXVsdChlLnRvb2x0aXBzLmZvb3RlckZvbnRGYW1pbHksdC5kZWZhdWx0cy5nbG9iYWwuZGVmYXVsdEZvbnRGYW1pbHkpLF9mb290ZXJGb250U3R5bGU6aS5nZXRWYWx1ZU9yRGVmYXVsdChlLnRvb2x0aXBzLmZvb3RlckZvbnRTdHlsZSx0LmRlZmF1bHRzLmdsb2JhbC5kZWZhdWx0Rm9udFN0eWxlKSxmb290ZXJGb250U2l6ZTppLmdldFZhbHVlT3JEZWZhdWx0KGUudG9vbHRpcHMuZm9vdGVyRm9udFNpemUsdC5kZWZhdWx0cy5nbG9iYWwuZGVmYXVsdEZvbnRTaXplKSxfZm9vdGVyQWxpZ246ZS50b29sdGlwcy5mb290ZXJBbGlnbixmb290ZXJTcGFjaW5nOmUudG9vbHRpcHMuZm9vdGVyU3BhY2luZyxmb290ZXJNYXJnaW5Ub3A6ZS50b29sdGlwcy5mb290ZXJNYXJnaW5Ub3AsY2FyZXRTaXplOmUudG9vbHRpcHMuY2FyZXRTaXplLGNvcm5lclJhZGl1czplLnRvb2x0aXBzLmNvcm5lclJhZGl1cyxiYWNrZ3JvdW5kQ29sb3I6ZS50b29sdGlwcy5iYWNrZ3JvdW5kQ29sb3Isb3BhY2l0eTowLGxlZ2VuZENvbG9yQmFja2dyb3VuZDplLnRvb2x0aXBzLm11bHRpS2V5QmFja2dyb3VuZH19KX0sZ2V0VGl0bGU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9vcHRpb25zLnRvb2x0aXBzLmNhbGxiYWNrcy5iZWZvcmVUaXRsZS5hcHBseSh0aGlzLGFyZ3VtZW50cyksaT10aGlzLl9vcHRpb25zLnRvb2x0aXBzLmNhbGxiYWNrcy50aXRsZS5hcHBseSh0aGlzLGFyZ3VtZW50cyksYT10aGlzLl9vcHRpb25zLnRvb2x0aXBzLmNhbGxiYWNrcy5hZnRlclRpdGxlLmFwcGx5KHRoaXMsYXJndW1lbnRzKSxvPVtdO3JldHVybiBvPWUobyx0KSxvPWUobyxpKSxvPWUobyxhKX0sZ2V0QmVmb3JlQm9keTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX29wdGlvbnMudG9vbHRpcHMuY2FsbGJhY2tzLmJlZm9yZUJvZHkuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBpLmlzQXJyYXkodCk/dDp2b2lkIDAhPT10P1t0XTpbXX0sZ2V0Qm9keTpmdW5jdGlvbih0LGUpe3ZhciBhPVtdO3JldHVybiBpLmVhY2godCxmdW5jdGlvbih0KXtpLnB1c2hBbGxJZkRlZmluZWQodGhpcy5fb3B0aW9ucy50b29sdGlwcy5jYWxsYmFja3MuYmVmb3JlTGFiZWwuY2FsbCh0aGlzLHQsZSksYSksaS5wdXNoQWxsSWZEZWZpbmVkKHRoaXMuX29wdGlvbnMudG9vbHRpcHMuY2FsbGJhY2tzLmxhYmVsLmNhbGwodGhpcyx0LGUpLGEpLGkucHVzaEFsbElmRGVmaW5lZCh0aGlzLl9vcHRpb25zLnRvb2x0aXBzLmNhbGxiYWNrcy5hZnRlckxhYmVsLmNhbGwodGhpcyx0LGUpLGEpfSx0aGlzKSxhfSxnZXRBZnRlckJvZHk6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9vcHRpb25zLnRvb2x0aXBzLmNhbGxiYWNrcy5hZnRlckJvZHkuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBpLmlzQXJyYXkodCk/dDp2b2lkIDAhPT10P1t0XTpbXX0sZ2V0Rm9vdGVyOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fb3B0aW9ucy50b29sdGlwcy5jYWxsYmFja3MuYmVmb3JlRm9vdGVyLmFwcGx5KHRoaXMsYXJndW1lbnRzKSxpPXRoaXMuX29wdGlvbnMudG9vbHRpcHMuY2FsbGJhY2tzLmZvb3Rlci5hcHBseSh0aGlzLGFyZ3VtZW50cyksYT10aGlzLl9vcHRpb25zLnRvb2x0aXBzLmNhbGxiYWNrcy5hZnRlckZvb3Rlci5hcHBseSh0aGlzLGFyZ3VtZW50cyksbz1bXTtyZXR1cm4gbz1lKG8sdCksbz1lKG8saSksbz1lKG8sYSl9LGdldEF2ZXJhZ2VQb3NpdGlvbjpmdW5jdGlvbih0KXtpZighdC5sZW5ndGgpcmV0dXJuITE7dmFyIGU9W10sYT1bXTtpLmVhY2godCxmdW5jdGlvbih0KXtpZih0KXt2YXIgaT10LnRvb2x0aXBQb3NpdGlvbigpO2UucHVzaChpLngpLGEucHVzaChpLnkpfX0pO2Zvcih2YXIgbz0wLHM9MCxuPTA7bjxlLmxlbmd0aDtuKyspbys9ZVtuXSxzKz1hW25dO3JldHVybnt4Ok1hdGgucm91bmQoby9lLmxlbmd0aCkseTpNYXRoLnJvdW5kKHMvZS5sZW5ndGgpfX0sdXBkYXRlOmZ1bmN0aW9uKHQpe2lmKHRoaXMuX2FjdGl2ZS5sZW5ndGgpe3RoaXMuX21vZGVsLm9wYWNpdHk9MTt2YXIgZSxhPXRoaXMuX2FjdGl2ZVswXSxvPVtdLHM9W107aWYoXCJzaW5nbGVcIj09PXRoaXMuX29wdGlvbnMudG9vbHRpcHMubW9kZSl7dmFyIG49YS5feVNjYWxlfHxhLl9zY2FsZTtzLnB1c2goe3hMYWJlbDphLl94U2NhbGU/YS5feFNjYWxlLmdldExhYmVsRm9ySW5kZXgoYS5faW5kZXgsYS5fZGF0YXNldEluZGV4KTpcIlwiLHlMYWJlbDpuP24uZ2V0TGFiZWxGb3JJbmRleChhLl9pbmRleCxhLl9kYXRhc2V0SW5kZXgpOlwiXCIsaW5kZXg6YS5faW5kZXgsZGF0YXNldEluZGV4OmEuX2RhdGFzZXRJbmRleH0pLGU9dGhpcy5nZXRBdmVyYWdlUG9zaXRpb24odGhpcy5fYWN0aXZlKX1lbHNlIGkuZWFjaCh0aGlzLl9kYXRhLmRhdGFzZXRzLGZ1bmN0aW9uKHQsZSl7aWYodGhpcy5fY2hhcnRJbnN0YW5jZS5pc0RhdGFzZXRWaXNpYmxlKGUpKXt2YXIgaT10aGlzLl9jaGFydEluc3RhbmNlLmdldERhdGFzZXRNZXRhKGUpLG89aS5kYXRhW2EuX2luZGV4XTtpZihvKXt2YXIgbj1hLl95U2NhbGV8fGEuX3NjYWxlO3MucHVzaCh7eExhYmVsOm8uX3hTY2FsZT9vLl94U2NhbGUuZ2V0TGFiZWxGb3JJbmRleChvLl9pbmRleCxvLl9kYXRhc2V0SW5kZXgpOlwiXCIseUxhYmVsOm4/bi5nZXRMYWJlbEZvckluZGV4KG8uX2luZGV4LG8uX2RhdGFzZXRJbmRleCk6XCJcIixpbmRleDphLl9pbmRleCxkYXRhc2V0SW5kZXg6ZX0pfX19LHRoaXMpLGkuZWFjaCh0aGlzLl9hY3RpdmUsZnVuY3Rpb24odCl7dCYmby5wdXNoKHtib3JkZXJDb2xvcjp0Ll92aWV3LmJvcmRlckNvbG9yLGJhY2tncm91bmRDb2xvcjp0Ll92aWV3LmJhY2tncm91bmRDb2xvcn0pfSxudWxsKSxlPXRoaXMuZ2V0QXZlcmFnZVBvc2l0aW9uKHRoaXMuX2FjdGl2ZSk7aS5leHRlbmQodGhpcy5fbW9kZWwse3RpdGxlOnRoaXMuZ2V0VGl0bGUocyx0aGlzLl9kYXRhKSxiZWZvcmVCb2R5OnRoaXMuZ2V0QmVmb3JlQm9keShzLHRoaXMuX2RhdGEpLGJvZHk6dGhpcy5nZXRCb2R5KHMsdGhpcy5fZGF0YSksYWZ0ZXJCb2R5OnRoaXMuZ2V0QWZ0ZXJCb2R5KHMsdGhpcy5fZGF0YSksZm9vdGVyOnRoaXMuZ2V0Rm9vdGVyKHMsdGhpcy5fZGF0YSl9KSxpLmV4dGVuZCh0aGlzLl9tb2RlbCx7eDpNYXRoLnJvdW5kKGUueCkseTpNYXRoLnJvdW5kKGUueSksY2FyZXRQYWRkaW5nOmkuZ2V0VmFsdWVPckRlZmF1bHQoZS5wYWRkaW5nLDIpLGxhYmVsQ29sb3JzOm99KTt2YXIgcj10aGlzLmdldFRvb2x0aXBTaXplKHRoaXMuX21vZGVsKTt0aGlzLmRldGVybWluZUFsaWdubWVudChyKSxpLmV4dGVuZCh0aGlzLl9tb2RlbCx0aGlzLmdldEJhY2tncm91bmRQb2ludCh0aGlzLl9tb2RlbCxyKSl9ZWxzZSB0aGlzLl9tb2RlbC5vcGFjaXR5PTA7cmV0dXJuIHQmJnRoaXMuX29wdGlvbnMudG9vbHRpcHMuY3VzdG9tJiZ0aGlzLl9vcHRpb25zLnRvb2x0aXBzLmN1c3RvbS5jYWxsKHRoaXMsdGhpcy5fbW9kZWwpLHRoaXN9LGdldFRvb2x0aXBTaXplOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2NoYXJ0LmN0eCxhPXtoZWlnaHQ6Mip0LnlQYWRkaW5nLHdpZHRoOjB9LG89dC5ib2R5Lmxlbmd0aCt0LmJlZm9yZUJvZHkubGVuZ3RoK3QuYWZ0ZXJCb2R5Lmxlbmd0aDtyZXR1cm4gYS5oZWlnaHQrPXQudGl0bGUubGVuZ3RoKnQudGl0bGVGb250U2l6ZSxhLmhlaWdodCs9KHQudGl0bGUubGVuZ3RoLTEpKnQudGl0bGVTcGFjaW5nLGEuaGVpZ2h0Kz10LnRpdGxlLmxlbmd0aD90LnRpdGxlTWFyZ2luQm90dG9tOjAsYS5oZWlnaHQrPW8qdC5ib2R5Rm9udFNpemUsYS5oZWlnaHQrPW8/KG8tMSkqdC5ib2R5U3BhY2luZzowLGEuaGVpZ2h0Kz10LmZvb3Rlci5sZW5ndGg/dC5mb290ZXJNYXJnaW5Ub3A6MCxhLmhlaWdodCs9dC5mb290ZXIubGVuZ3RoKnQuZm9vdGVyRm9udFNpemUsYS5oZWlnaHQrPXQuZm9vdGVyLmxlbmd0aD8odC5mb290ZXIubGVuZ3RoLTEpKnQuZm9vdGVyU3BhY2luZzowLGUuZm9udD1pLmZvbnRTdHJpbmcodC50aXRsZUZvbnRTaXplLHQuX3RpdGxlRm9udFN0eWxlLHQuX3RpdGxlRm9udEZhbWlseSksaS5lYWNoKHQudGl0bGUsZnVuY3Rpb24odCl7YS53aWR0aD1NYXRoLm1heChhLndpZHRoLGUubWVhc3VyZVRleHQodCkud2lkdGgpfSksZS5mb250PWkuZm9udFN0cmluZyh0LmJvZHlGb250U2l6ZSx0Ll9ib2R5Rm9udFN0eWxlLHQuX2JvZHlGb250RmFtaWx5KSxpLmVhY2godC5iZWZvcmVCb2R5LmNvbmNhdCh0LmFmdGVyQm9keSksZnVuY3Rpb24odCl7YS53aWR0aD1NYXRoLm1heChhLndpZHRoLGUubWVhc3VyZVRleHQodCkud2lkdGgpO1xufSksaS5lYWNoKHQuYm9keSxmdW5jdGlvbihpKXthLndpZHRoPU1hdGgubWF4KGEud2lkdGgsZS5tZWFzdXJlVGV4dChpKS53aWR0aCsoXCJzaW5nbGVcIiE9PXRoaXMuX29wdGlvbnMudG9vbHRpcHMubW9kZT90LmJvZHlGb250U2l6ZSsyOjApKX0sdGhpcyksZS5mb250PWkuZm9udFN0cmluZyh0LmZvb3RlckZvbnRTaXplLHQuX2Zvb3RlckZvbnRTdHlsZSx0Ll9mb290ZXJGb250RmFtaWx5KSxpLmVhY2godC5mb290ZXIsZnVuY3Rpb24odCl7YS53aWR0aD1NYXRoLm1heChhLndpZHRoLGUubWVhc3VyZVRleHQodCkud2lkdGgpfSksYS53aWR0aCs9Mip0LnhQYWRkaW5nLGF9LGRldGVybWluZUFsaWdubWVudDpmdW5jdGlvbih0KXt0aGlzLl9tb2RlbC55PHQuaGVpZ2h0P3RoaXMuX21vZGVsLnlBbGlnbj1cInRvcFwiOnRoaXMuX21vZGVsLnk+dGhpcy5fY2hhcnQuaGVpZ2h0LXQuaGVpZ2h0JiYodGhpcy5fbW9kZWwueUFsaWduPVwiYm90dG9tXCIpO3ZhciBlLGksYSxvLHMsbj10aGlzLHI9KHRoaXMuX2NoYXJ0SW5zdGFuY2UuY2hhcnRBcmVhLmxlZnQrdGhpcy5fY2hhcnRJbnN0YW5jZS5jaGFydEFyZWEucmlnaHQpLzIsaD0odGhpcy5fY2hhcnRJbnN0YW5jZS5jaGFydEFyZWEudG9wK3RoaXMuX2NoYXJ0SW5zdGFuY2UuY2hhcnRBcmVhLmJvdHRvbSkvMjtcImNlbnRlclwiPT09dGhpcy5fbW9kZWwueUFsaWduPyhlPWZ1bmN0aW9uKHQpe3JldHVybiByPj10fSxpPWZ1bmN0aW9uKHQpe3JldHVybiB0PnJ9KTooZT1mdW5jdGlvbihlKXtyZXR1cm4gZTw9dC53aWR0aC8yfSxpPWZ1bmN0aW9uKGUpe3JldHVybiBlPj1uLl9jaGFydC53aWR0aC10LndpZHRoLzJ9KSxhPWZ1bmN0aW9uKGUpe3JldHVybiBlK3Qud2lkdGg+bi5fY2hhcnQud2lkdGh9LG89ZnVuY3Rpb24oZSl7cmV0dXJuIGUtdC53aWR0aDwwfSxzPWZ1bmN0aW9uKHQpe3JldHVybiBoPj10P1widG9wXCI6XCJib3R0b21cIn0sZSh0aGlzLl9tb2RlbC54KT8odGhpcy5fbW9kZWwueEFsaWduPVwibGVmdFwiLGEodGhpcy5fbW9kZWwueCkmJih0aGlzLl9tb2RlbC54QWxpZ249XCJjZW50ZXJcIix0aGlzLl9tb2RlbC55QWxpZ249cyh0aGlzLl9tb2RlbC55KSkpOmkodGhpcy5fbW9kZWwueCkmJih0aGlzLl9tb2RlbC54QWxpZ249XCJyaWdodFwiLG8odGhpcy5fbW9kZWwueCkmJih0aGlzLl9tb2RlbC54QWxpZ249XCJjZW50ZXJcIix0aGlzLl9tb2RlbC55QWxpZ249cyh0aGlzLl9tb2RlbC55KSkpfSxnZXRCYWNrZ3JvdW5kUG9pbnQ6ZnVuY3Rpb24odCxlKXt2YXIgaT17eDp0LngseTp0Lnl9O3JldHVyblwicmlnaHRcIj09PXQueEFsaWduP2kueC09ZS53aWR0aDpcImNlbnRlclwiPT09dC54QWxpZ24mJihpLngtPWUud2lkdGgvMiksXCJ0b3BcIj09PXQueUFsaWduP2kueSs9dC5jYXJldFBhZGRpbmcrdC5jYXJldFNpemU6XCJib3R0b21cIj09PXQueUFsaWduP2kueS09ZS5oZWlnaHQrdC5jYXJldFBhZGRpbmcrdC5jYXJldFNpemU6aS55LT1lLmhlaWdodC8yLFwiY2VudGVyXCI9PT10LnlBbGlnbj9cImxlZnRcIj09PXQueEFsaWduP2kueCs9dC5jYXJldFBhZGRpbmcrdC5jYXJldFNpemU6XCJyaWdodFwiPT09dC54QWxpZ24mJihpLngtPXQuY2FyZXRQYWRkaW5nK3QuY2FyZXRTaXplKTpcImxlZnRcIj09PXQueEFsaWduP2kueC09dC5jb3JuZXJSYWRpdXMrdC5jYXJldFBhZGRpbmc6XCJyaWdodFwiPT09dC54QWxpZ24mJihpLngrPXQuY29ybmVyUmFkaXVzK3QuY2FyZXRQYWRkaW5nKSxpfSxkcmF3Q2FyZXQ6ZnVuY3Rpb24odCxlLGEsbyl7dmFyIHMsbixyLGgsbCxjLGQ9dGhpcy5fdmlldyx1PXRoaXMuX2NoYXJ0LmN0eDtcImNlbnRlclwiPT09ZC55QWxpZ24/KFwibGVmdFwiPT09ZC54QWxpZ24/KHM9dC54LG49cy1kLmNhcmV0U2l6ZSxyPXMpOihzPXQueCtlLndpZHRoLG49cytkLmNhcmV0U2l6ZSxyPXMpLGw9dC55K2UuaGVpZ2h0LzIsaD1sLWQuY2FyZXRTaXplLGM9bCtkLmNhcmV0U2l6ZSk6KFwibGVmdFwiPT09ZC54QWxpZ24/KHM9dC54K2QuY29ybmVyUmFkaXVzLG49cytkLmNhcmV0U2l6ZSxyPW4rZC5jYXJldFNpemUpOlwicmlnaHRcIj09PWQueEFsaWduPyhzPXQueCtlLndpZHRoLWQuY29ybmVyUmFkaXVzLG49cy1kLmNhcmV0U2l6ZSxyPW4tZC5jYXJldFNpemUpOihuPXQueCtlLndpZHRoLzIscz1uLWQuY2FyZXRTaXplLHI9bitkLmNhcmV0U2l6ZSksXCJ0b3BcIj09PWQueUFsaWduPyhoPXQueSxsPWgtZC5jYXJldFNpemUsYz1oKTooaD10LnkrZS5oZWlnaHQsbD1oK2QuY2FyZXRTaXplLGM9aCkpO3ZhciBnPWkuY29sb3IoZC5iYWNrZ3JvdW5kQ29sb3IpO3UuZmlsbFN0eWxlPWcuYWxwaGEoYSpnLmFscGhhKCkpLnJnYlN0cmluZygpLHUuYmVnaW5QYXRoKCksdS5tb3ZlVG8ocyxoKSx1LmxpbmVUbyhuLGwpLHUubGluZVRvKHIsYyksdS5jbG9zZVBhdGgoKSx1LmZpbGwoKX0sZHJhd1RpdGxlOmZ1bmN0aW9uKHQsZSxhLG8pe2lmKGUudGl0bGUubGVuZ3RoKXthLnRleHRBbGlnbj1lLl90aXRsZUFsaWduLGEudGV4dEJhc2VsaW5lPVwidG9wXCI7dmFyIHM9aS5jb2xvcihlLnRpdGxlQ29sb3IpO2EuZmlsbFN0eWxlPXMuYWxwaGEobypzLmFscGhhKCkpLnJnYlN0cmluZygpLGEuZm9udD1pLmZvbnRTdHJpbmcoZS50aXRsZUZvbnRTaXplLGUuX3RpdGxlRm9udFN0eWxlLGUuX3RpdGxlRm9udEZhbWlseSksaS5lYWNoKGUudGl0bGUsZnVuY3Rpb24oaSxvKXthLmZpbGxUZXh0KGksdC54LHQueSksdC55Kz1lLnRpdGxlRm9udFNpemUrZS50aXRsZVNwYWNpbmcsbysxPT09ZS50aXRsZS5sZW5ndGgmJih0LnkrPWUudGl0bGVNYXJnaW5Cb3R0b20tZS50aXRsZVNwYWNpbmcpfSl9fSxkcmF3Qm9keTpmdW5jdGlvbih0LGUsYSxvKXthLnRleHRBbGlnbj1lLl9ib2R5QWxpZ24sYS50ZXh0QmFzZWxpbmU9XCJ0b3BcIjt2YXIgcz1pLmNvbG9yKGUuYm9keUNvbG9yKTthLmZpbGxTdHlsZT1zLmFscGhhKG8qcy5hbHBoYSgpKS5yZ2JTdHJpbmcoKSxhLmZvbnQ9aS5mb250U3RyaW5nKGUuYm9keUZvbnRTaXplLGUuX2JvZHlGb250U3R5bGUsZS5fYm9keUZvbnRGYW1pbHkpLGkuZWFjaChlLmJlZm9yZUJvZHksZnVuY3Rpb24oaSl7YS5maWxsVGV4dChpLHQueCx0LnkpLHQueSs9ZS5ib2R5Rm9udFNpemUrZS5ib2R5U3BhY2luZ30pLGkuZWFjaChlLmJvZHksZnVuY3Rpb24ocyxuKXtcInNpbmdsZVwiIT09dGhpcy5fb3B0aW9ucy50b29sdGlwcy5tb2RlJiYoYS5maWxsU3R5bGU9aS5jb2xvcihlLmxlZ2VuZENvbG9yQmFja2dyb3VuZCkuYWxwaGEobykucmdiYVN0cmluZygpLGEuZmlsbFJlY3QodC54LHQueSxlLmJvZHlGb250U2l6ZSxlLmJvZHlGb250U2l6ZSksYS5zdHJva2VTdHlsZT1pLmNvbG9yKGUubGFiZWxDb2xvcnNbbl0uYm9yZGVyQ29sb3IpLmFscGhhKG8pLnJnYmFTdHJpbmcoKSxhLnN0cm9rZVJlY3QodC54LHQueSxlLmJvZHlGb250U2l6ZSxlLmJvZHlGb250U2l6ZSksYS5maWxsU3R5bGU9aS5jb2xvcihlLmxhYmVsQ29sb3JzW25dLmJhY2tncm91bmRDb2xvcikuYWxwaGEobykucmdiYVN0cmluZygpLGEuZmlsbFJlY3QodC54KzEsdC55KzEsZS5ib2R5Rm9udFNpemUtMixlLmJvZHlGb250U2l6ZS0yKSxhLmZpbGxTdHlsZT1pLmNvbG9yKGUuYm9keUNvbG9yKS5hbHBoYShvKS5yZ2JhU3RyaW5nKCkpLGEuZmlsbFRleHQocyx0LngrKFwic2luZ2xlXCIhPT10aGlzLl9vcHRpb25zLnRvb2x0aXBzLm1vZGU/ZS5ib2R5Rm9udFNpemUrMjowKSx0LnkpLHQueSs9ZS5ib2R5Rm9udFNpemUrZS5ib2R5U3BhY2luZ30sdGhpcyksaS5lYWNoKGUuYWZ0ZXJCb2R5LGZ1bmN0aW9uKGkpe2EuZmlsbFRleHQoaSx0LngsdC55KSx0LnkrPWUuYm9keUZvbnRTaXplfSksdC55LT1lLmJvZHlTcGFjaW5nfSxkcmF3Rm9vdGVyOmZ1bmN0aW9uKHQsZSxhLG8pe2lmKGUuZm9vdGVyLmxlbmd0aCl7dC55Kz1lLmZvb3Rlck1hcmdpblRvcCxhLnRleHRBbGlnbj1lLl9mb290ZXJBbGlnbixhLnRleHRCYXNlbGluZT1cInRvcFwiO3ZhciBzPWkuY29sb3IoZS5mb290ZXJDb2xvcik7YS5maWxsU3R5bGU9cy5hbHBoYShvKnMuYWxwaGEoKSkucmdiU3RyaW5nKCksYS5mb250PWkuZm9udFN0cmluZyhlLmZvb3RlckZvbnRTaXplLGUuX2Zvb3RlckZvbnRTdHlsZSxlLl9mb290ZXJGb250RmFtaWx5KSxpLmVhY2goZS5mb290ZXIsZnVuY3Rpb24oaSl7YS5maWxsVGV4dChpLHQueCx0LnkpLHQueSs9ZS5mb290ZXJGb250U2l6ZStlLmZvb3RlclNwYWNpbmd9KX19LGRyYXc6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9jaGFydC5jdHgsZT10aGlzLl92aWV3O2lmKDAhPT1lLm9wYWNpdHkpe3ZhciBhPWUuY2FyZXRQYWRkaW5nLG89dGhpcy5nZXRUb29sdGlwU2l6ZShlKSxzPXt4OmUueCx5OmUueX0sbj1NYXRoLmFicyhlLm9wYWNpdHk8LjAwMSk/MDplLm9wYWNpdHk7aWYodGhpcy5fb3B0aW9ucy50b29sdGlwcy5lbmFibGVkKXt2YXIgcj1pLmNvbG9yKGUuYmFja2dyb3VuZENvbG9yKTt0LmZpbGxTdHlsZT1yLmFscGhhKG4qci5hbHBoYSgpKS5yZ2JTdHJpbmcoKSxpLmRyYXdSb3VuZGVkUmVjdGFuZ2xlKHQscy54LHMueSxvLndpZHRoLG8uaGVpZ2h0LGUuY29ybmVyUmFkaXVzKSx0LmZpbGwoKSx0aGlzLmRyYXdDYXJldChzLG8sbixhKSxzLngrPWUueFBhZGRpbmcscy55Kz1lLnlQYWRkaW5nLHRoaXMuZHJhd1RpdGxlKHMsZSx0LG4pLHRoaXMuZHJhd0JvZHkocyxlLHQsbiksdGhpcy5kcmF3Rm9vdGVyKHMsZSx0LG4pfX19fSl9fSx7fV0sMzQ6W2Z1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9ZnVuY3Rpb24odCxlKXt2YXIgaT10LmhlbHBlcnMsYT10LmRlZmF1bHRzLmdsb2JhbDthLmVsZW1lbnRzLmFyYz17YmFja2dyb3VuZENvbG9yOmEuZGVmYXVsdENvbG9yLGJvcmRlckNvbG9yOlwiI2ZmZlwiLGJvcmRlcldpZHRoOjJ9LHQuZWxlbWVudHMuQXJjPXQuRWxlbWVudC5leHRlbmQoe2luTGFiZWxSYW5nZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl92aWV3O3JldHVybiBlP01hdGgucG93KHQtZS54LDIpPE1hdGgucG93KGUucmFkaXVzK2UuaG92ZXJSYWRpdXMsMik6ITF9LGluUmFuZ2U6ZnVuY3Rpb24odCxlKXt2YXIgYT10aGlzLl92aWV3O2lmKGEpe2Zvcih2YXIgbz1pLmdldEFuZ2xlRnJvbVBvaW50KGEse3g6dCx5OmV9KSxzPW8uYW5nbGUsbj1vLmRpc3RhbmNlLHI9YS5zdGFydEFuZ2xlLGg9YS5lbmRBbmdsZTtyPmg7KWgrPTIqTWF0aC5QSTtmb3IoO3M+aDspcy09MipNYXRoLlBJO2Zvcig7cj5zOylzKz0yKk1hdGguUEk7dmFyIGw9cz49ciYmaD49cyxjPW4+PWEuaW5uZXJSYWRpdXMmJm48PWEub3V0ZXJSYWRpdXM7cmV0dXJuIGwmJmN9cmV0dXJuITF9LHRvb2x0aXBQb3NpdGlvbjpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX3ZpZXcsZT10LnN0YXJ0QW5nbGUrKHQuZW5kQW5nbGUtdC5zdGFydEFuZ2xlKS8yLGk9KHQub3V0ZXJSYWRpdXMtdC5pbm5lclJhZGl1cykvMit0LmlubmVyUmFkaXVzO3JldHVybnt4OnQueCtNYXRoLmNvcyhlKSppLHk6dC55K01hdGguc2luKGUpKml9fSxkcmF3OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fY2hhcnQuY3R4LGU9dGhpcy5fdmlldyxpPWUuc3RhcnRBbmdsZSxhPWUuZW5kQW5nbGU7dC5iZWdpblBhdGgoKSx0LmFyYyhlLngsZS55LGUub3V0ZXJSYWRpdXMsaSxhKSx0LmFyYyhlLngsZS55LGUuaW5uZXJSYWRpdXMsYSxpLCEwKSx0LmNsb3NlUGF0aCgpLHQuc3Ryb2tlU3R5bGU9ZS5ib3JkZXJDb2xvcix0LmxpbmVXaWR0aD1lLmJvcmRlcldpZHRoLHQuZmlsbFN0eWxlPWUuYmFja2dyb3VuZENvbG9yLHQuZmlsbCgpLHQubGluZUpvaW49XCJiZXZlbFwiLGUuYm9yZGVyV2lkdGgmJnQuc3Ryb2tlKCl9fSl9fSx7fV0sMzU6W2Z1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9ZnVuY3Rpb24odCl7dmFyIGU9dC5oZWxwZXJzO3QuZGVmYXVsdHMuZ2xvYmFsLmVsZW1lbnRzLmxpbmU9e3RlbnNpb246LjQsYmFja2dyb3VuZENvbG9yOnQuZGVmYXVsdHMuZ2xvYmFsLmRlZmF1bHRDb2xvcixib3JkZXJXaWR0aDozLGJvcmRlckNvbG9yOnQuZGVmYXVsdHMuZ2xvYmFsLmRlZmF1bHRDb2xvcixib3JkZXJDYXBTdHlsZTpcImJ1dHRcIixib3JkZXJEYXNoOltdLGJvcmRlckRhc2hPZmZzZXQ6MCxib3JkZXJKb2luU3R5bGU6XCJtaXRlclwiLGZpbGw6ITB9LHQuZWxlbWVudHMuTGluZT10LkVsZW1lbnQuZXh0ZW5kKHtsaW5lVG9OZXh0UG9pbnQ6ZnVuY3Rpb24odCxlLGksYSxvKXt2YXIgcz10aGlzLl9jaGFydC5jdHg7ZS5fdmlldy5za2lwP2EuY2FsbCh0aGlzLHQsZSxpKTp0Ll92aWV3LnNraXA/by5jYWxsKHRoaXMsdCxlLGkpOjA9PT1lLl92aWV3LnRlbnNpb24/cy5saW5lVG8oZS5fdmlldy54LGUuX3ZpZXcueSk6cy5iZXppZXJDdXJ2ZVRvKHQuX3ZpZXcuY29udHJvbFBvaW50TmV4dFgsdC5fdmlldy5jb250cm9sUG9pbnROZXh0WSxlLl92aWV3LmNvbnRyb2xQb2ludFByZXZpb3VzWCxlLl92aWV3LmNvbnRyb2xQb2ludFByZXZpb3VzWSxlLl92aWV3LngsZS5fdmlldy55KX0sZHJhdzpmdW5jdGlvbigpe2Z1bmN0aW9uIGkodCl7bi5fdmlldy5za2lwfHxyLl92aWV3LnNraXA/dCYmcy5saW5lVG8oYS5fdmlldy5zY2FsZVplcm8ueCxhLl92aWV3LnNjYWxlWmVyby55KTpzLmJlemllckN1cnZlVG8oci5fdmlldy5jb250cm9sUG9pbnROZXh0WCxyLl92aWV3LmNvbnRyb2xQb2ludE5leHRZLG4uX3ZpZXcuY29udHJvbFBvaW50UHJldmlvdXNYLG4uX3ZpZXcuY29udHJvbFBvaW50UHJldmlvdXNZLG4uX3ZpZXcueCxuLl92aWV3LnkpfXZhciBhPXRoaXMsbz10aGlzLl92aWV3LHM9dGhpcy5fY2hhcnQuY3R4LG49dGhpcy5fY2hpbGRyZW5bMF0scj10aGlzLl9jaGlsZHJlblt0aGlzLl9jaGlsZHJlbi5sZW5ndGgtMV07cy5zYXZlKCksdGhpcy5fY2hpbGRyZW4ubGVuZ3RoPjAmJm8uZmlsbCYmKHMuYmVnaW5QYXRoKCksZS5lYWNoKHRoaXMuX2NoaWxkcmVuLGZ1bmN0aW9uKHQsaSl7dmFyIGE9ZS5wcmV2aW91c0l0ZW0odGhpcy5fY2hpbGRyZW4saSksbj1lLm5leHRJdGVtKHRoaXMuX2NoaWxkcmVuLGkpOzA9PT1pPyh0aGlzLl9sb29wP3MubW92ZVRvKG8uc2NhbGVaZXJvLngsby5zY2FsZVplcm8ueSk6cy5tb3ZlVG8odC5fdmlldy54LG8uc2NhbGVaZXJvKSx0Ll92aWV3LnNraXA/dGhpcy5fbG9vcHx8cy5tb3ZlVG8obi5fdmlldy54LHRoaXMuX3ZpZXcuc2NhbGVaZXJvKTpzLmxpbmVUbyh0Ll92aWV3LngsdC5fdmlldy55KSk6dGhpcy5saW5lVG9OZXh0UG9pbnQoYSx0LG4sZnVuY3Rpb24odCxlLGkpe3RoaXMuX2xvb3A/cy5saW5lVG8odGhpcy5fdmlldy5zY2FsZVplcm8ueCx0aGlzLl92aWV3LnNjYWxlWmVyby55KToocy5saW5lVG8odC5fdmlldy54LHRoaXMuX3ZpZXcuc2NhbGVaZXJvKSxzLm1vdmVUbyhpLl92aWV3LngsdGhpcy5fdmlldy5zY2FsZVplcm8pKX0sZnVuY3Rpb24odCxlKXtzLmxpbmVUbyhlLl92aWV3LngsZS5fdmlldy55KX0pfSx0aGlzKSx0aGlzLl9sb29wP2koITApOihzLmxpbmVUbyh0aGlzLl9jaGlsZHJlblt0aGlzLl9jaGlsZHJlbi5sZW5ndGgtMV0uX3ZpZXcueCxvLnNjYWxlWmVybykscy5saW5lVG8odGhpcy5fY2hpbGRyZW5bMF0uX3ZpZXcueCxvLnNjYWxlWmVybykpLHMuZmlsbFN0eWxlPW8uYmFja2dyb3VuZENvbG9yfHx0LmRlZmF1bHRzLmdsb2JhbC5kZWZhdWx0Q29sb3Iscy5jbG9zZVBhdGgoKSxzLmZpbGwoKSkscy5saW5lQ2FwPW8uYm9yZGVyQ2FwU3R5bGV8fHQuZGVmYXVsdHMuZ2xvYmFsLmVsZW1lbnRzLmxpbmUuYm9yZGVyQ2FwU3R5bGUscy5zZXRMaW5lRGFzaCYmcy5zZXRMaW5lRGFzaChvLmJvcmRlckRhc2h8fHQuZGVmYXVsdHMuZ2xvYmFsLmVsZW1lbnRzLmxpbmUuYm9yZGVyRGFzaCkscy5saW5lRGFzaE9mZnNldD1vLmJvcmRlckRhc2hPZmZzZXR8fHQuZGVmYXVsdHMuZ2xvYmFsLmVsZW1lbnRzLmxpbmUuYm9yZGVyRGFzaE9mZnNldCxzLmxpbmVKb2luPW8uYm9yZGVySm9pblN0eWxlfHx0LmRlZmF1bHRzLmdsb2JhbC5lbGVtZW50cy5saW5lLmJvcmRlckpvaW5TdHlsZSxzLmxpbmVXaWR0aD1vLmJvcmRlcldpZHRofHx0LmRlZmF1bHRzLmdsb2JhbC5lbGVtZW50cy5saW5lLmJvcmRlcldpZHRoLHMuc3Ryb2tlU3R5bGU9by5ib3JkZXJDb2xvcnx8dC5kZWZhdWx0cy5nbG9iYWwuZGVmYXVsdENvbG9yLHMuYmVnaW5QYXRoKCksZS5lYWNoKHRoaXMuX2NoaWxkcmVuLGZ1bmN0aW9uKHQsaSl7dmFyIGE9ZS5wcmV2aW91c0l0ZW0odGhpcy5fY2hpbGRyZW4saSksbz1lLm5leHRJdGVtKHRoaXMuX2NoaWxkcmVuLGkpOzA9PT1pP3MubW92ZVRvKHQuX3ZpZXcueCx0Ll92aWV3LnkpOnRoaXMubGluZVRvTmV4dFBvaW50KGEsdCxvLGZ1bmN0aW9uKHQsZSxpKXtzLm1vdmVUbyhpLl92aWV3LngsaS5fdmlldy55KX0sZnVuY3Rpb24odCxlKXtzLm1vdmVUbyhlLl92aWV3LngsZS5fdmlldy55KX0pfSx0aGlzKSx0aGlzLl9sb29wJiZ0aGlzLl9jaGlsZHJlbi5sZW5ndGg+MCYmaSgpLHMuc3Ryb2tlKCkscy5yZXN0b3JlKCl9fSl9fSx7fV0sMzY6W2Z1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9ZnVuY3Rpb24odCl7dmFyIGU9dC5oZWxwZXJzLGk9dC5kZWZhdWx0cy5nbG9iYWw7aS5lbGVtZW50cy5wb2ludD17cmFkaXVzOjMscG9pbnRTdHlsZTpcImNpcmNsZVwiLGJhY2tncm91bmRDb2xvcjppLmRlZmF1bHRDb2xvcixib3JkZXJXaWR0aDoxLGJvcmRlckNvbG9yOmkuZGVmYXVsdENvbG9yLGhpdFJhZGl1czoxLGhvdmVyUmFkaXVzOjQsaG92ZXJCb3JkZXJXaWR0aDoxfSx0LmVsZW1lbnRzLlBvaW50PXQuRWxlbWVudC5leHRlbmQoe2luUmFuZ2U6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLl92aWV3O3JldHVybiBpP01hdGgucG93KHQtaS54LDIpK01hdGgucG93KGUtaS55LDIpPE1hdGgucG93KGkuaGl0UmFkaXVzK2kucmFkaXVzLDIpOiExfSxpbkxhYmVsUmFuZ2U6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fdmlldztyZXR1cm4gZT9NYXRoLnBvdyh0LWUueCwyKTxNYXRoLnBvdyhlLnJhZGl1cytlLmhpdFJhZGl1cywyKTohMX0sdG9vbHRpcFBvc2l0aW9uOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fdmlldztyZXR1cm57eDp0LngseTp0LnkscGFkZGluZzp0LnJhZGl1cyt0LmJvcmRlcldpZHRofX0sZHJhdzpmdW5jdGlvbigpe3ZhciBpPXRoaXMuX3ZpZXcsYT1pLngsbz1pLnkscz10aGlzLl9jaGFydC5jdHg7aWYoIWkuc2tpcCl7dmFyIG49aS5wb2ludFN0eWxlO2lmKFwib2JqZWN0XCI9PXR5cGVvZiBuJiYoXCJbb2JqZWN0IEhUTUxJbWFnZUVsZW1lbnRdXCI9PT1uLnRvU3RyaW5nKCl8fFwiW29iamVjdCBIVE1MQ2FudmFzRWxlbWVudF1cIj09PW4udG9TdHJpbmcoKSkpcmV0dXJuIHZvaWQgcy5kcmF3SW1hZ2UobixhLW4ud2lkdGgvMixvLW4uaGVpZ2h0LzIpO2lmKCFpc05hTihpLnJhZGl1cykmJmkucmFkaXVzPjApe3Muc3Ryb2tlU3R5bGU9aS5ib3JkZXJDb2xvcnx8dC5kZWZhdWx0cy5nbG9iYWwuZGVmYXVsdENvbG9yLHMubGluZVdpZHRoPWUuZ2V0VmFsdWVPckRlZmF1bHQoaS5ib3JkZXJXaWR0aCx0LmRlZmF1bHRzLmdsb2JhbC5lbGVtZW50cy5wb2ludC5ib3JkZXJXaWR0aCkscy5maWxsU3R5bGU9aS5iYWNrZ3JvdW5kQ29sb3J8fHQuZGVmYXVsdHMuZ2xvYmFsLmRlZmF1bHRDb2xvcjt2YXIgcixoLGw9aS5yYWRpdXM7c3dpdGNoKG4pe2RlZmF1bHQ6cy5iZWdpblBhdGgoKSxzLmFyYyhhLG8sbCwwLDIqTWF0aC5QSSkscy5jbG9zZVBhdGgoKSxzLmZpbGwoKTticmVhaztjYXNlXCJ0cmlhbmdsZVwiOnMuYmVnaW5QYXRoKCk7dmFyIGM9MypsL01hdGguc3FydCgzKSxkPWMqTWF0aC5zcXJ0KDMpLzI7cy5tb3ZlVG8oYS1jLzIsbytkLzMpLHMubGluZVRvKGErYy8yLG8rZC8zKSxzLmxpbmVUbyhhLG8tMipkLzMpLHMuY2xvc2VQYXRoKCkscy5maWxsKCk7YnJlYWs7Y2FzZVwicmVjdFwiOnMuZmlsbFJlY3QoYS0xL01hdGguU1FSVDIqbCxvLTEvTWF0aC5TUVJUMipsLDIvTWF0aC5TUVJUMipsLDIvTWF0aC5TUVJUMipsKSxzLnN0cm9rZVJlY3QoYS0xL01hdGguU1FSVDIqbCxvLTEvTWF0aC5TUVJUMipsLDIvTWF0aC5TUVJUMipsLDIvTWF0aC5TUVJUMipsKTticmVhaztjYXNlXCJyZWN0Um90XCI6cy50cmFuc2xhdGUoYSxvKSxzLnJvdGF0ZShNYXRoLlBJLzQpLHMuZmlsbFJlY3QoLTEvTWF0aC5TUVJUMipsLC0xL01hdGguU1FSVDIqbCwyL01hdGguU1FSVDIqbCwyL01hdGguU1FSVDIqbCkscy5zdHJva2VSZWN0KC0xL01hdGguU1FSVDIqbCwtMS9NYXRoLlNRUlQyKmwsMi9NYXRoLlNRUlQyKmwsMi9NYXRoLlNRUlQyKmwpLHMuc2V0VHJhbnNmb3JtKDEsMCwwLDEsMCwwKTticmVhaztjYXNlXCJjcm9zc1wiOnMuYmVnaW5QYXRoKCkscy5tb3ZlVG8oYSxvK2wpLHMubGluZVRvKGEsby1sKSxzLm1vdmVUbyhhLWwsbykscy5saW5lVG8oYStsLG8pLHMuY2xvc2VQYXRoKCk7YnJlYWs7Y2FzZVwiY3Jvc3NSb3RcIjpzLmJlZ2luUGF0aCgpLHI9TWF0aC5jb3MoTWF0aC5QSS80KSpsLGg9TWF0aC5zaW4oTWF0aC5QSS80KSpsLHMubW92ZVRvKGEtcixvLWgpLHMubGluZVRvKGErcixvK2gpLHMubW92ZVRvKGEtcixvK2gpLHMubGluZVRvKGErcixvLWgpLHMuY2xvc2VQYXRoKCk7YnJlYWs7Y2FzZVwic3RhclwiOnMuYmVnaW5QYXRoKCkscy5tb3ZlVG8oYSxvK2wpLHMubGluZVRvKGEsby1sKSxzLm1vdmVUbyhhLWwsbykscy5saW5lVG8oYStsLG8pLHI9TWF0aC5jb3MoTWF0aC5QSS80KSpsLGg9TWF0aC5zaW4oTWF0aC5QSS80KSpsLHMubW92ZVRvKGEtcixvLWgpLHMubGluZVRvKGErcixvK2gpLHMubW92ZVRvKGEtcixvK2gpLHMubGluZVRvKGErcixvLWgpLHMuY2xvc2VQYXRoKCk7YnJlYWs7Y2FzZVwibGluZVwiOnMuYmVnaW5QYXRoKCkscy5tb3ZlVG8oYS1sLG8pLHMubGluZVRvKGErbCxvKSxzLmNsb3NlUGF0aCgpO2JyZWFrO2Nhc2VcImRhc2hcIjpzLmJlZ2luUGF0aCgpLHMubW92ZVRvKGEsbykscy5saW5lVG8oYStsLG8pLHMuY2xvc2VQYXRoKCl9cy5zdHJva2UoKX19fX0pfX0se31dLDM3OltmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPWZ1bmN0aW9uKHQpe3ZhciBlPSh0LmhlbHBlcnMsdC5kZWZhdWx0cy5nbG9iYWwpO2UuZWxlbWVudHMucmVjdGFuZ2xlPXtiYWNrZ3JvdW5kQ29sb3I6ZS5kZWZhdWx0Q29sb3IsYm9yZGVyV2lkdGg6MCxib3JkZXJDb2xvcjplLmRlZmF1bHRDb2xvcixib3JkZXJTa2lwcGVkOlwiYm90dG9tXCJ9LHQuZWxlbWVudHMuUmVjdGFuZ2xlPXQuRWxlbWVudC5leHRlbmQoe2RyYXc6ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3JldHVybiBoWyhjK3QpJTRdfXZhciBlPXRoaXMuX2NoYXJ0LmN0eCxpPXRoaXMuX3ZpZXcsYT1pLndpZHRoLzIsbz1pLngtYSxzPWkueCthLG49aS5iYXNlLShpLmJhc2UtaS55KSxyPWkuYm9yZGVyV2lkdGgvMjtpLmJvcmRlcldpZHRoJiYobys9cixzLT1yLG4rPXIpLGUuYmVnaW5QYXRoKCksZS5maWxsU3R5bGU9aS5iYWNrZ3JvdW5kQ29sb3IsZS5zdHJva2VTdHlsZT1pLmJvcmRlckNvbG9yLGUubGluZVdpZHRoPWkuYm9yZGVyV2lkdGg7dmFyIGg9W1tvLGkuYmFzZV0sW28sbl0sW3Msbl0sW3MsaS5iYXNlXV0sbD1bXCJib3R0b21cIixcImxlZnRcIixcInRvcFwiLFwicmlnaHRcIl0sYz1sLmluZGV4T2YoaS5ib3JkZXJTa2lwcGVkLDApOy0xPT09YyYmKGM9MCksZS5tb3ZlVG8uYXBwbHkoZSx0KDApKTtmb3IodmFyIGQ9MTs0PmQ7ZCsrKWUubGluZVRvLmFwcGx5KGUsdChkKSk7ZS5maWxsKCksaS5ib3JkZXJXaWR0aCYmZS5zdHJva2UoKX0saGVpZ2h0OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fdmlldztyZXR1cm4gdC5iYXNlLXQueX0saW5SYW5nZTpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuX3ZpZXc7cmV0dXJuIGk/aS55PGkuYmFzZT90Pj1pLngtaS53aWR0aC8yJiZ0PD1pLngraS53aWR0aC8yJiZlPj1pLnkmJmU8PWkuYmFzZTp0Pj1pLngtaS53aWR0aC8yJiZ0PD1pLngraS53aWR0aC8yJiZlPj1pLmJhc2UmJmU8PWkueTohMX0saW5MYWJlbFJhbmdlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX3ZpZXc7cmV0dXJuIGU/dD49ZS54LWUud2lkdGgvMiYmdDw9ZS54K2Uud2lkdGgvMjohMX0sdG9vbHRpcFBvc2l0aW9uOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fdmlldztyZXR1cm57eDp0LngseTp0Lnl9fX0pfX0se31dLDM4OltmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPWZ1bmN0aW9uKHQpe3ZhciBlPXQuaGVscGVycyxpPXtwb3NpdGlvbjpcImJvdHRvbVwifSxhPXQuU2NhbGUuZXh0ZW5kKHtkZXRlcm1pbmVEYXRhTGltaXRzOmZ1bmN0aW9uKCl7dGhpcy5taW5JbmRleD0wLHRoaXMubWF4SW5kZXg9dGhpcy5jaGFydC5kYXRhLmxhYmVscy5sZW5ndGgtMTt2YXIgdDt2b2lkIDAhPT10aGlzLm9wdGlvbnMudGlja3MubWluJiYodD1lLmluZGV4T2YodGhpcy5jaGFydC5kYXRhLmxhYmVscyx0aGlzLm9wdGlvbnMudGlja3MubWluKSx0aGlzLm1pbkluZGV4PS0xIT09dD90OnRoaXMubWluSW5kZXgpLHZvaWQgMCE9PXRoaXMub3B0aW9ucy50aWNrcy5tYXgmJih0PWUuaW5kZXhPZih0aGlzLmNoYXJ0LmRhdGEubGFiZWxzLHRoaXMub3B0aW9ucy50aWNrcy5tYXgpLHRoaXMubWF4SW5kZXg9LTEhPT10P3Q6dGhpcy5tYXhJbmRleCksdGhpcy5taW49dGhpcy5jaGFydC5kYXRhLmxhYmVsc1t0aGlzLm1pbkluZGV4XSx0aGlzLm1heD10aGlzLmNoYXJ0LmRhdGEubGFiZWxzW3RoaXMubWF4SW5kZXhdfSxidWlsZFRpY2tzOmZ1bmN0aW9uKHQpe3RoaXMudGlja3M9MD09PXRoaXMubWluSW5kZXgmJnRoaXMubWF4SW5kZXg9PT10aGlzLmNoYXJ0LmRhdGEubGFiZWxzLmxlbmd0aC0xP3RoaXMuY2hhcnQuZGF0YS5sYWJlbHM6dGhpcy5jaGFydC5kYXRhLmxhYmVscy5zbGljZSh0aGlzLm1pbkluZGV4LHRoaXMubWF4SW5kZXgrMSl9LGdldExhYmVsRm9ySW5kZXg6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy50aWNrc1t0XX0sZ2V0UGl4ZWxGb3JWYWx1ZTpmdW5jdGlvbih0LGUsaSxhKXt2YXIgbz1NYXRoLm1heCh0aGlzLm1heEluZGV4KzEtdGhpcy5taW5JbmRleC0odGhpcy5vcHRpb25zLmdyaWRMaW5lcy5vZmZzZXRHcmlkTGluZXM/MDoxKSwxKTtpZih0aGlzLmlzSG9yaXpvbnRhbCgpKXt2YXIgcz10aGlzLndpZHRoLSh0aGlzLnBhZGRpbmdMZWZ0K3RoaXMucGFkZGluZ1JpZ2h0KSxuPXMvbyxyPW4qKGUtdGhpcy5taW5JbmRleCkrdGhpcy5wYWRkaW5nTGVmdDtyZXR1cm4gdGhpcy5vcHRpb25zLmdyaWRMaW5lcy5vZmZzZXRHcmlkTGluZXMmJmEmJihyKz1uLzIpLHRoaXMubGVmdCtNYXRoLnJvdW5kKHIpfXZhciBoPXRoaXMuaGVpZ2h0LSh0aGlzLnBhZGRpbmdUb3ArdGhpcy5wYWRkaW5nQm90dG9tKSxsPWgvbyxjPWwqKGUtdGhpcy5taW5JbmRleCkrdGhpcy5wYWRkaW5nVG9wO3JldHVybiB0aGlzLm9wdGlvbnMuZ3JpZExpbmVzLm9mZnNldEdyaWRMaW5lcyYmYSYmKGMrPWwvMiksdGhpcy50b3ArTWF0aC5yb3VuZChjKX0sZ2V0UGl4ZWxGb3JUaWNrOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuZ2V0UGl4ZWxGb3JWYWx1ZSh0aGlzLnRpY2tzW3RdLHQrdGhpcy5taW5JbmRleCxudWxsLGUpfSxnZXRWYWx1ZUZvclBpeGVsOmZ1bmN0aW9uKHQpe3ZhciBlLGk9TWF0aC5tYXgodGhpcy50aWNrcy5sZW5ndGgtKHRoaXMub3B0aW9ucy5ncmlkTGluZXMub2Zmc2V0R3JpZExpbmVzPzA6MSksMSksYT10aGlzLmlzSG9yaXpvbnRhbCgpLG89YT90aGlzLndpZHRoLSh0aGlzLnBhZGRpbmdMZWZ0K3RoaXMucGFkZGluZ1JpZ2h0KTp0aGlzLmhlaWdodC0odGhpcy5wYWRkaW5nVG9wK3RoaXMucGFkZGluZ0JvdHRvbSkscz1vL2k7cmV0dXJuIHRoaXMub3B0aW9ucy5ncmlkTGluZXMub2Zmc2V0R3JpZExpbmVzJiYodC09cy8yKSx0LT1hP3RoaXMucGFkZGluZ0xlZnQ6dGhpcy5wYWRkaW5nVG9wLGU9MD49dD8wOk1hdGgucm91bmQodC9zKX19KTt0LnNjYWxlU2VydmljZS5yZWdpc3RlclNjYWxlVHlwZShcImNhdGVnb3J5XCIsYSxpKX19LHt9XSwzOTpbZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1mdW5jdGlvbih0KXt2YXIgZT10LmhlbHBlcnMsaT17cG9zaXRpb246XCJsZWZ0XCIsdGlja3M6e2NhbGxiYWNrOmZ1bmN0aW9uKHQsaSxhKXt2YXIgbz1hLmxlbmd0aD4zP2FbMl0tYVsxXTphWzFdLWFbMF07TWF0aC5hYnMobyk+MSYmdCE9PU1hdGguZmxvb3IodCkmJihvPXQtTWF0aC5mbG9vcih0KSk7dmFyIHM9ZS5sb2cxMChNYXRoLmFicyhvKSksbj1cIlwiO2lmKDAhPT10KXt2YXIgcj0tMSpNYXRoLmZsb29yKHMpO3I9TWF0aC5tYXgoTWF0aC5taW4ociwyMCksMCksbj10LnRvRml4ZWQocil9ZWxzZSBuPVwiMFwiO3JldHVybiBufX19LGE9dC5TY2FsZS5leHRlbmQoe2RldGVybWluZURhdGFMaW1pdHM6ZnVuY3Rpb24oKXtpZih0aGlzLm1pbj1udWxsLHRoaXMubWF4PW51bGwsdGhpcy5vcHRpb25zLnN0YWNrZWQpe3ZhciB0PXt9LGk9ITEsYT0hMTtlLmVhY2godGhpcy5jaGFydC5kYXRhLmRhdGFzZXRzLGZ1bmN0aW9uKG8scyl7dmFyIG49dGhpcy5jaGFydC5nZXREYXRhc2V0TWV0YShzKTt2b2lkIDA9PT10W24udHlwZV0mJih0W24udHlwZV09e3Bvc2l0aXZlVmFsdWVzOltdLG5lZ2F0aXZlVmFsdWVzOltdfSk7dmFyIHI9dFtuLnR5cGVdLnBvc2l0aXZlVmFsdWVzLGg9dFtuLnR5cGVdLm5lZ2F0aXZlVmFsdWVzO3RoaXMuY2hhcnQuaXNEYXRhc2V0VmlzaWJsZShzKSYmKHRoaXMuaXNIb3Jpem9udGFsKCk/bi54QXhpc0lEPT09dGhpcy5pZDpuLnlBeGlzSUQ9PT10aGlzLmlkKSYmZS5lYWNoKG8uZGF0YSxmdW5jdGlvbih0LGUpe3ZhciBvPSt0aGlzLmdldFJpZ2h0VmFsdWUodCk7aXNOYU4obyl8fG4uZGF0YVtlXS5oaWRkZW58fChyW2VdPXJbZV18fDAsaFtlXT1oW2VdfHwwLHRoaXMub3B0aW9ucy5yZWxhdGl2ZVBvaW50cz9yW2VdPTEwMDowPm8/KGE9ITAsaFtlXSs9byk6KGk9ITAscltlXSs9bykpfSx0aGlzKX0sdGhpcyksZS5lYWNoKHQsZnVuY3Rpb24odCl7dmFyIGk9dC5wb3NpdGl2ZVZhbHVlcy5jb25jYXQodC5uZWdhdGl2ZVZhbHVlcyksYT1lLm1pbihpKSxvPWUubWF4KGkpO3RoaXMubWluPW51bGw9PT10aGlzLm1pbj9hOk1hdGgubWluKHRoaXMubWluLGEpLHRoaXMubWF4PW51bGw9PT10aGlzLm1heD9vOk1hdGgubWF4KHRoaXMubWF4LG8pfSx0aGlzKX1lbHNlIGUuZWFjaCh0aGlzLmNoYXJ0LmRhdGEuZGF0YXNldHMsZnVuY3Rpb24odCxpKXt2YXIgYT10aGlzLmNoYXJ0LmdldERhdGFzZXRNZXRhKGkpO3RoaXMuY2hhcnQuaXNEYXRhc2V0VmlzaWJsZShpKSYmKHRoaXMuaXNIb3Jpem9udGFsKCk/YS54QXhpc0lEPT09dGhpcy5pZDphLnlBeGlzSUQ9PT10aGlzLmlkKSYmZS5lYWNoKHQuZGF0YSxmdW5jdGlvbih0LGUpe3ZhciBpPSt0aGlzLmdldFJpZ2h0VmFsdWUodCk7aXNOYU4oaSl8fGEuZGF0YVtlXS5oaWRkZW58fChudWxsPT09dGhpcy5taW4/dGhpcy5taW49aTppPHRoaXMubWluJiYodGhpcy5taW49aSksbnVsbD09PXRoaXMubWF4P3RoaXMubWF4PWk6aT50aGlzLm1heCYmKHRoaXMubWF4PWkpKX0sdGhpcyl9LHRoaXMpO2lmKHRoaXMub3B0aW9ucy50aWNrcy5iZWdpbkF0WmVybyl7dmFyIG89ZS5zaWduKHRoaXMubWluKSxzPWUuc2lnbih0aGlzLm1heCk7MD5vJiYwPnM/dGhpcy5tYXg9MDpvPjAmJnM+MCYmKHRoaXMubWluPTApfXZvaWQgMCE9PXRoaXMub3B0aW9ucy50aWNrcy5taW4/dGhpcy5taW49dGhpcy5vcHRpb25zLnRpY2tzLm1pbjp2b2lkIDAhPT10aGlzLm9wdGlvbnMudGlja3Muc3VnZ2VzdGVkTWluJiYodGhpcy5taW49TWF0aC5taW4odGhpcy5taW4sdGhpcy5vcHRpb25zLnRpY2tzLnN1Z2dlc3RlZE1pbikpLHZvaWQgMCE9PXRoaXMub3B0aW9ucy50aWNrcy5tYXg/dGhpcy5tYXg9dGhpcy5vcHRpb25zLnRpY2tzLm1heDp2b2lkIDAhPT10aGlzLm9wdGlvbnMudGlja3Muc3VnZ2VzdGVkTWF4JiYodGhpcy5tYXg9TWF0aC5tYXgodGhpcy5tYXgsdGhpcy5vcHRpb25zLnRpY2tzLnN1Z2dlc3RlZE1heCkpLHRoaXMubWluPT09dGhpcy5tYXgmJih0aGlzLm1heCsrLHRoaXMub3B0aW9ucy50aWNrcy5iZWdpbkF0WmVyb3x8dGhpcy5taW4tLSl9LGJ1aWxkVGlja3M6ZnVuY3Rpb24oKXt0aGlzLnRpY2tzPVtdO3ZhciBpO2lmKHRoaXMuaXNIb3Jpem9udGFsKCkpaT1NYXRoLm1pbih0aGlzLm9wdGlvbnMudGlja3MubWF4VGlja3NMaW1pdD90aGlzLm9wdGlvbnMudGlja3MubWF4VGlja3NMaW1pdDoxMSxNYXRoLmNlaWwodGhpcy53aWR0aC81MCkpO2Vsc2V7dmFyIGE9ZS5nZXRWYWx1ZU9yRGVmYXVsdCh0aGlzLm9wdGlvbnMudGlja3MuZm9udFNpemUsdC5kZWZhdWx0cy5nbG9iYWwuZGVmYXVsdEZvbnRTaXplKTtpPU1hdGgubWluKHRoaXMub3B0aW9ucy50aWNrcy5tYXhUaWNrc0xpbWl0P3RoaXMub3B0aW9ucy50aWNrcy5tYXhUaWNrc0xpbWl0OjExLE1hdGguY2VpbCh0aGlzLmhlaWdodC8oMiphKSkpfWk9TWF0aC5tYXgoMixpKTt2YXIgbyxzPXRoaXMub3B0aW9ucy50aWNrcy5maXhlZFN0ZXBTaXplJiZ0aGlzLm9wdGlvbnMudGlja3MuZml4ZWRTdGVwU2l6ZT4wfHx0aGlzLm9wdGlvbnMudGlja3Muc3RlcFNpemUmJnRoaXMub3B0aW9ucy50aWNrcy5zdGVwU2l6ZT4wO2lmKHMpbz1lLmdldFZhbHVlT3JEZWZhdWx0KHRoaXMub3B0aW9ucy50aWNrcy5maXhlZFN0ZXBTaXplLHRoaXMub3B0aW9ucy50aWNrcy5zdGVwU2l6ZSk7ZWxzZXt2YXIgbj1lLm5pY2VOdW0odGhpcy5tYXgtdGhpcy5taW4sITEpO289ZS5uaWNlTnVtKG4vKGktMSksITApfXZhciByPU1hdGguZmxvb3IodGhpcy5taW4vbykqbyxoPU1hdGguY2VpbCh0aGlzLm1heC9vKSpvLGw9KGgtcikvbztsPWUuYWxtb3N0RXF1YWxzKGwsTWF0aC5yb3VuZChsKSxvLzFlMyk/TWF0aC5yb3VuZChsKTpNYXRoLmNlaWwobCksdGhpcy50aWNrcy5wdXNoKHZvaWQgMCE9PXRoaXMub3B0aW9ucy50aWNrcy5taW4/dGhpcy5vcHRpb25zLnRpY2tzLm1pbjpyKTtmb3IodmFyIGM9MTtsPmM7KytjKXRoaXMudGlja3MucHVzaChyK2Mqbyk7dGhpcy50aWNrcy5wdXNoKHZvaWQgMCE9PXRoaXMub3B0aW9ucy50aWNrcy5tYXg/dGhpcy5vcHRpb25zLnRpY2tzLm1heDpoKSwoXCJsZWZ0XCI9PT10aGlzLm9wdGlvbnMucG9zaXRpb258fFwicmlnaHRcIj09PXRoaXMub3B0aW9ucy5wb3NpdGlvbikmJnRoaXMudGlja3MucmV2ZXJzZSgpLHRoaXMubWF4PWUubWF4KHRoaXMudGlja3MpLHRoaXMubWluPWUubWluKHRoaXMudGlja3MpLHRoaXMub3B0aW9ucy50aWNrcy5yZXZlcnNlPyh0aGlzLnRpY2tzLnJldmVyc2UoKSx0aGlzLnN0YXJ0PXRoaXMubWF4LHRoaXMuZW5kPXRoaXMubWluKToodGhpcy5zdGFydD10aGlzLm1pbix0aGlzLmVuZD10aGlzLm1heCl9LGdldExhYmVsRm9ySW5kZXg6ZnVuY3Rpb24odCxlKXtyZXR1cm4rdGhpcy5nZXRSaWdodFZhbHVlKHRoaXMuY2hhcnQuZGF0YS5kYXRhc2V0c1tlXS5kYXRhW3RdKX0sY29udmVydFRpY2tzVG9MYWJlbHM6ZnVuY3Rpb24oKXt0aGlzLnRpY2tzQXNOdW1iZXJzPXRoaXMudGlja3Muc2xpY2UoKSx0aGlzLnplcm9MaW5lSW5kZXg9dGhpcy50aWNrcy5pbmRleE9mKDApLHQuU2NhbGUucHJvdG90eXBlLmNvbnZlcnRUaWNrc1RvTGFiZWxzLmNhbGwodGhpcyl9LGdldFBpeGVsRm9yVmFsdWU6ZnVuY3Rpb24odCxlLGksYSl7dmFyIG8scz0rdGhpcy5nZXRSaWdodFZhbHVlKHQpLG49dGhpcy5lbmQtdGhpcy5zdGFydDtpZih0aGlzLmlzSG9yaXpvbnRhbCgpKXt2YXIgcj10aGlzLndpZHRoLSh0aGlzLnBhZGRpbmdMZWZ0K3RoaXMucGFkZGluZ1JpZ2h0KTtyZXR1cm4gbz10aGlzLmxlZnQrci9uKihzLXRoaXMuc3RhcnQpLE1hdGgucm91bmQobyt0aGlzLnBhZGRpbmdMZWZ0KX12YXIgaD10aGlzLmhlaWdodC0odGhpcy5wYWRkaW5nVG9wK3RoaXMucGFkZGluZ0JvdHRvbSk7cmV0dXJuIG89dGhpcy5ib3R0b20tdGhpcy5wYWRkaW5nQm90dG9tLWgvbioocy10aGlzLnN0YXJ0KSxNYXRoLnJvdW5kKG8pfSxnZXRWYWx1ZUZvclBpeGVsOmZ1bmN0aW9uKHQpe3ZhciBlO2lmKHRoaXMuaXNIb3Jpem9udGFsKCkpe3ZhciBpPXRoaXMud2lkdGgtKHRoaXMucGFkZGluZ0xlZnQrdGhpcy5wYWRkaW5nUmlnaHQpO2U9KHQtdGhpcy5sZWZ0LXRoaXMucGFkZGluZ0xlZnQpL2l9ZWxzZXt2YXIgYT10aGlzLmhlaWdodC0odGhpcy5wYWRkaW5nVG9wK3RoaXMucGFkZGluZ0JvdHRvbSk7ZT0odGhpcy5ib3R0b20tdGhpcy5wYWRkaW5nQm90dG9tLXQpL2F9cmV0dXJuIHRoaXMuc3RhcnQrKHRoaXMuZW5kLXRoaXMuc3RhcnQpKmV9LGdldFBpeGVsRm9yVGljazpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmdldFBpeGVsRm9yVmFsdWUodGhpcy50aWNrc0FzTnVtYmVyc1t0XSxudWxsLG51bGwsZSl9fSk7dC5zY2FsZVNlcnZpY2UucmVnaXN0ZXJTY2FsZVR5cGUoXCJsaW5lYXJcIixhLGkpfX0se31dLDQwOltmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPWZ1bmN0aW9uKHQpe3ZhciBlPXQuaGVscGVycyxpPXtwb3NpdGlvbjpcImxlZnRcIix0aWNrczp7Y2FsbGJhY2s6ZnVuY3Rpb24oZSxpLGEpe3ZhciBvPWUvTWF0aC5wb3coMTAsTWF0aC5mbG9vcih0LmhlbHBlcnMubG9nMTAoZSkpKTtyZXR1cm4gMT09PW98fDI9PT1vfHw1PT09b3x8MD09PWl8fGk9PT1hLmxlbmd0aC0xP2UudG9FeHBvbmVudGlhbCgpOlwiXCJ9fX0sYT10LlNjYWxlLmV4dGVuZCh7ZGV0ZXJtaW5lRGF0YUxpbWl0czpmdW5jdGlvbigpe2lmKHRoaXMubWluPW51bGwsdGhpcy5tYXg9bnVsbCx0aGlzLm9wdGlvbnMuc3RhY2tlZCl7dmFyIHQ9e307ZS5lYWNoKHRoaXMuY2hhcnQuZGF0YS5kYXRhc2V0cyxmdW5jdGlvbihpLGEpe3ZhciBvPXRoaXMuY2hhcnQuZ2V0RGF0YXNldE1ldGEoYSk7dGhpcy5jaGFydC5pc0RhdGFzZXRWaXNpYmxlKGEpJiYodGhpcy5pc0hvcml6b250YWwoKT9vLnhBeGlzSUQ9PT10aGlzLmlkOm8ueUF4aXNJRD09PXRoaXMuaWQpJiYodm9pZCAwPT09dFtvLnR5cGVdJiYodFtvLnR5cGVdPVtdKSxlLmVhY2goaS5kYXRhLGZ1bmN0aW9uKGUsaSl7dmFyIGE9dFtvLnR5cGVdLHM9K3RoaXMuZ2V0UmlnaHRWYWx1ZShlKTtpc05hTihzKXx8by5kYXRhW2ldLmhpZGRlbnx8KGFbaV09YVtpXXx8MCx0aGlzLm9wdGlvbnMucmVsYXRpdmVQb2ludHM/YVtpXT0xMDA6YVtpXSs9cyl9LHRoaXMpKX0sdGhpcyksZS5lYWNoKHQsZnVuY3Rpb24odCl7dmFyIGk9ZS5taW4odCksYT1lLm1heCh0KTt0aGlzLm1pbj1udWxsPT09dGhpcy5taW4/aTpNYXRoLm1pbih0aGlzLm1pbixpKSx0aGlzLm1heD1udWxsPT09dGhpcy5tYXg/YTpNYXRoLm1heCh0aGlzLm1heCxhKX0sdGhpcyl9ZWxzZSBlLmVhY2godGhpcy5jaGFydC5kYXRhLmRhdGFzZXRzLGZ1bmN0aW9uKHQsaSl7dmFyIGE9dGhpcy5jaGFydC5nZXREYXRhc2V0TWV0YShpKTt0aGlzLmNoYXJ0LmlzRGF0YXNldFZpc2libGUoaSkmJih0aGlzLmlzSG9yaXpvbnRhbCgpP2EueEF4aXNJRD09PXRoaXMuaWQ6YS55QXhpc0lEPT09dGhpcy5pZCkmJmUuZWFjaCh0LmRhdGEsZnVuY3Rpb24odCxlKXt2YXIgaT0rdGhpcy5nZXRSaWdodFZhbHVlKHQpO2lzTmFOKGkpfHxhLmRhdGFbZV0uaGlkZGVufHwobnVsbD09PXRoaXMubWluP3RoaXMubWluPWk6aTx0aGlzLm1pbiYmKHRoaXMubWluPWkpLG51bGw9PT10aGlzLm1heD90aGlzLm1heD1pOmk+dGhpcy5tYXgmJih0aGlzLm1heD1pKSl9LHRoaXMpfSx0aGlzKTt0aGlzLm1pbj12b2lkIDAhPT10aGlzLm9wdGlvbnMudGlja3MubWluP3RoaXMub3B0aW9ucy50aWNrcy5taW46dGhpcy5taW4sdGhpcy5tYXg9dm9pZCAwIT09dGhpcy5vcHRpb25zLnRpY2tzLm1heD90aGlzLm9wdGlvbnMudGlja3MubWF4OnRoaXMubWF4LHRoaXMubWluPT09dGhpcy5tYXgmJigwIT09dGhpcy5taW4mJm51bGwhPT10aGlzLm1pbj8odGhpcy5taW49TWF0aC5wb3coMTAsTWF0aC5mbG9vcihlLmxvZzEwKHRoaXMubWluKSktMSksdGhpcy5tYXg9TWF0aC5wb3coMTAsTWF0aC5mbG9vcihlLmxvZzEwKHRoaXMubWF4KSkrMSkpOih0aGlzLm1pbj0xLHRoaXMubWF4PTEwKSl9LGJ1aWxkVGlja3M6ZnVuY3Rpb24oKXt0aGlzLnRpY2tzPVtdO2Zvcih2YXIgdD12b2lkIDAhPT10aGlzLm9wdGlvbnMudGlja3MubWluP3RoaXMub3B0aW9ucy50aWNrcy5taW46TWF0aC5wb3coMTAsTWF0aC5mbG9vcihlLmxvZzEwKHRoaXMubWluKSkpO3Q8dGhpcy5tYXg7KXt0aGlzLnRpY2tzLnB1c2godCk7dmFyIGk9TWF0aC5mbG9vcihlLmxvZzEwKHQpKSxhPU1hdGguZmxvb3IodC9NYXRoLnBvdygxMCxpKSkrMTsxMD09PWEmJihhPTEsKytpKSx0PWEqTWF0aC5wb3coMTAsaSl9dmFyIG89dm9pZCAwIT09dGhpcy5vcHRpb25zLnRpY2tzLm1heD90aGlzLm9wdGlvbnMudGlja3MubWF4OnQ7dGhpcy50aWNrcy5wdXNoKG8pLChcImxlZnRcIj09PXRoaXMub3B0aW9ucy5wb3NpdGlvbnx8XCJyaWdodFwiPT09dGhpcy5vcHRpb25zLnBvc2l0aW9uKSYmdGhpcy50aWNrcy5yZXZlcnNlKCksdGhpcy5tYXg9ZS5tYXgodGhpcy50aWNrcyksdGhpcy5taW49ZS5taW4odGhpcy50aWNrcyksdGhpcy5vcHRpb25zLnRpY2tzLnJldmVyc2U/KHRoaXMudGlja3MucmV2ZXJzZSgpLHRoaXMuc3RhcnQ9dGhpcy5tYXgsdGhpcy5lbmQ9dGhpcy5taW4pOih0aGlzLnN0YXJ0PXRoaXMubWluLHRoaXMuZW5kPXRoaXMubWF4KX0sY29udmVydFRpY2tzVG9MYWJlbHM6ZnVuY3Rpb24oKXt0aGlzLnRpY2tWYWx1ZXM9dGhpcy50aWNrcy5zbGljZSgpLHQuU2NhbGUucHJvdG90eXBlLmNvbnZlcnRUaWNrc1RvTGFiZWxzLmNhbGwodGhpcyl9LGdldExhYmVsRm9ySW5kZXg6ZnVuY3Rpb24odCxlKXtyZXR1cm4rdGhpcy5nZXRSaWdodFZhbHVlKHRoaXMuY2hhcnQuZGF0YS5kYXRhc2V0c1tlXS5kYXRhW3RdKX0sZ2V0UGl4ZWxGb3JUaWNrOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuZ2V0UGl4ZWxGb3JWYWx1ZSh0aGlzLnRpY2tWYWx1ZXNbdF0sbnVsbCxudWxsLGUpfSxnZXRQaXhlbEZvclZhbHVlOmZ1bmN0aW9uKHQsaSxhLG8pe3ZhciBzLG49K3RoaXMuZ2V0UmlnaHRWYWx1ZSh0KSxyPWUubG9nMTAodGhpcy5lbmQpLWUubG9nMTAodGhpcy5zdGFydCk7aWYodGhpcy5pc0hvcml6b250YWwoKSlpZigwPT09bilzPXRoaXMubGVmdCt0aGlzLnBhZGRpbmdMZWZ0O2Vsc2V7dmFyIGg9dGhpcy53aWR0aC0odGhpcy5wYWRkaW5nTGVmdCt0aGlzLnBhZGRpbmdSaWdodCk7cz10aGlzLmxlZnQraC9yKihlLmxvZzEwKG4pLWUubG9nMTAodGhpcy5zdGFydCkpLHMrPXRoaXMucGFkZGluZ0xlZnR9ZWxzZSBpZigwPT09bilzPXRoaXMudG9wK3RoaXMucGFkZGluZ1RvcDtlbHNle3ZhciBsPXRoaXMuaGVpZ2h0LSh0aGlzLnBhZGRpbmdUb3ArdGhpcy5wYWRkaW5nQm90dG9tKTtzPXRoaXMuYm90dG9tLXRoaXMucGFkZGluZ0JvdHRvbS1sL3IqKGUubG9nMTAobiktZS5sb2cxMCh0aGlzLnN0YXJ0KSl9cmV0dXJuIHN9LGdldFZhbHVlRm9yUGl4ZWw6ZnVuY3Rpb24odCl7dmFyIGksYT1lLmxvZzEwKHRoaXMuZW5kKS1lLmxvZzEwKHRoaXMuc3RhcnQpO2lmKHRoaXMuaXNIb3Jpem9udGFsKCkpe3ZhciBvPXRoaXMud2lkdGgtKHRoaXMucGFkZGluZ0xlZnQrdGhpcy5wYWRkaW5nUmlnaHQpO2k9dGhpcy5zdGFydCpNYXRoLnBvdygxMCwodC10aGlzLmxlZnQtdGhpcy5wYWRkaW5nTGVmdCkqYS9vKX1lbHNle3ZhciBzPXRoaXMuaGVpZ2h0LSh0aGlzLnBhZGRpbmdUb3ArdGhpcy5wYWRkaW5nQm90dG9tKTtpPU1hdGgucG93KDEwLCh0aGlzLmJvdHRvbS10aGlzLnBhZGRpbmdCb3R0b20tdCkqYS9zKS90aGlzLnN0YXJ0fXJldHVybiBpfX0pO3Quc2NhbGVTZXJ2aWNlLnJlZ2lzdGVyU2NhbGVUeXBlKFwibG9nYXJpdGhtaWNcIixhLGkpfX0se31dLDQxOltmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPWZ1bmN0aW9uKHQpe3ZhciBlPXQuaGVscGVycyxpPXtkaXNwbGF5OiEwLGFuaW1hdGU6ITAsbGluZUFyYzohMSxwb3NpdGlvbjpcImNoYXJ0QXJlYVwiLGFuZ2xlTGluZXM6e2Rpc3BsYXk6ITAsY29sb3I6XCJyZ2JhKDAsIDAsIDAsIDAuMSlcIixsaW5lV2lkdGg6MX0sdGlja3M6e3Nob3dMYWJlbEJhY2tkcm9wOiEwLGJhY2tkcm9wQ29sb3I6XCJyZ2JhKDI1NSwyNTUsMjU1LDAuNzUpXCIsYmFja2Ryb3BQYWRkaW5nWToyLGJhY2tkcm9wUGFkZGluZ1g6Mn0scG9pbnRMYWJlbHM6e2ZvbnRTaXplOjEwLGNhbGxiYWNrOmZ1bmN0aW9uKHQpe3JldHVybiB0fX19LGE9dC5TY2FsZS5leHRlbmQoe2dldFZhbHVlQ291bnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jaGFydC5kYXRhLmxhYmVscy5sZW5ndGh9LHNldERpbWVuc2lvbnM6ZnVuY3Rpb24oKXt0aGlzLndpZHRoPXRoaXMubWF4V2lkdGgsdGhpcy5oZWlnaHQ9dGhpcy5tYXhIZWlnaHQsdGhpcy54Q2VudGVyPU1hdGgucm91bmQodGhpcy53aWR0aC8yKSx0aGlzLnlDZW50ZXI9TWF0aC5yb3VuZCh0aGlzLmhlaWdodC8yKTt2YXIgaT1lLm1pbihbdGhpcy5oZWlnaHQsdGhpcy53aWR0aF0pLGE9ZS5nZXRWYWx1ZU9yRGVmYXVsdCh0aGlzLm9wdGlvbnMudGlja3MuZm9udFNpemUsdC5kZWZhdWx0cy5nbG9iYWwuZGVmYXVsdEZvbnRTaXplKTt0aGlzLmRyYXdpbmdBcmVhPXRoaXMub3B0aW9ucy5kaXNwbGF5P2kvMi0oYS8yK3RoaXMub3B0aW9ucy50aWNrcy5iYWNrZHJvcFBhZGRpbmdZKTppLzJ9LGRldGVybWluZURhdGFMaW1pdHM6ZnVuY3Rpb24oKXtpZih0aGlzLm1pbj1udWxsLHRoaXMubWF4PW51bGwsZS5lYWNoKHRoaXMuY2hhcnQuZGF0YS5kYXRhc2V0cyxmdW5jdGlvbih0LGkpe2lmKHRoaXMuY2hhcnQuaXNEYXRhc2V0VmlzaWJsZShpKSl7dmFyIGE9dGhpcy5jaGFydC5nZXREYXRhc2V0TWV0YShpKTtlLmVhY2godC5kYXRhLGZ1bmN0aW9uKHQsZSl7dmFyIGk9K3RoaXMuZ2V0UmlnaHRWYWx1ZSh0KTtpc05hTihpKXx8YS5kYXRhW2VdLmhpZGRlbnx8KG51bGw9PT10aGlzLm1pbj90aGlzLm1pbj1pOmk8dGhpcy5taW4mJih0aGlzLm1pbj1pKSxudWxsPT09dGhpcy5tYXg/dGhpcy5tYXg9aTppPnRoaXMubWF4JiYodGhpcy5tYXg9aSkpfSx0aGlzKX19LHRoaXMpLHRoaXMub3B0aW9ucy50aWNrcy5iZWdpbkF0WmVybyl7dmFyIHQ9ZS5zaWduKHRoaXMubWluKSxpPWUuc2lnbih0aGlzLm1heCk7MD50JiYwPmk/dGhpcy5tYXg9MDp0PjAmJmk+MCYmKHRoaXMubWluPTApfXZvaWQgMCE9PXRoaXMub3B0aW9ucy50aWNrcy5taW4/dGhpcy5taW49dGhpcy5vcHRpb25zLnRpY2tzLm1pbjp2b2lkIDAhPT10aGlzLm9wdGlvbnMudGlja3Muc3VnZ2VzdGVkTWluJiYodGhpcy5taW49TWF0aC5taW4odGhpcy5taW4sdGhpcy5vcHRpb25zLnRpY2tzLnN1Z2dlc3RlZE1pbikpLHZvaWQgMCE9PXRoaXMub3B0aW9ucy50aWNrcy5tYXg/dGhpcy5tYXg9dGhpcy5vcHRpb25zLnRpY2tzLm1heDp2b2lkIDAhPT10aGlzLm9wdGlvbnMudGlja3Muc3VnZ2VzdGVkTWF4JiYodGhpcy5tYXg9TWF0aC5tYXgodGhpcy5tYXgsdGhpcy5vcHRpb25zLnRpY2tzLnN1Z2dlc3RlZE1heCkpLHRoaXMubWluPT09dGhpcy5tYXgmJih0aGlzLm1pbi0tLHRoaXMubWF4KyspfSxidWlsZFRpY2tzOmZ1bmN0aW9uKCl7dGhpcy50aWNrcz1bXTt2YXIgaT1lLmdldFZhbHVlT3JEZWZhdWx0KHRoaXMub3B0aW9ucy50aWNrcy5mb250U2l6ZSx0LmRlZmF1bHRzLmdsb2JhbC5kZWZhdWx0Rm9udFNpemUpLGE9TWF0aC5taW4odGhpcy5vcHRpb25zLnRpY2tzLm1heFRpY2tzTGltaXQ/dGhpcy5vcHRpb25zLnRpY2tzLm1heFRpY2tzTGltaXQ6MTEsTWF0aC5jZWlsKHRoaXMuZHJhd2luZ0FyZWEvKDEuNSppKSkpO2E9TWF0aC5tYXgoMixhKTt2YXIgbz1lLm5pY2VOdW0odGhpcy5tYXgtdGhpcy5taW4sITEpLHM9ZS5uaWNlTnVtKG8vKGEtMSksITApLG49TWF0aC5mbG9vcih0aGlzLm1pbi9zKSpzLHI9TWF0aC5jZWlsKHRoaXMubWF4L3MpKnMsaD1NYXRoLmNlaWwoKHItbikvcyk7dGhpcy50aWNrcy5wdXNoKHZvaWQgMCE9PXRoaXMub3B0aW9ucy50aWNrcy5taW4/dGhpcy5vcHRpb25zLnRpY2tzLm1pbjpuKTtmb3IodmFyIGw9MTtoPmw7KytsKXRoaXMudGlja3MucHVzaChuK2wqcyk7dGhpcy50aWNrcy5wdXNoKHZvaWQgMCE9PXRoaXMub3B0aW9ucy50aWNrcy5tYXg/dGhpcy5vcHRpb25zLnRpY2tzLm1heDpyKSx0aGlzLm1heD1lLm1heCh0aGlzLnRpY2tzKSx0aGlzLm1pbj1lLm1pbih0aGlzLnRpY2tzKSx0aGlzLm9wdGlvbnMudGlja3MucmV2ZXJzZT8odGhpcy50aWNrcy5yZXZlcnNlKCksdGhpcy5zdGFydD10aGlzLm1heCx0aGlzLmVuZD10aGlzLm1pbik6KHRoaXMuc3RhcnQ9dGhpcy5taW4sdGhpcy5lbmQ9dGhpcy5tYXgpLHRoaXMuemVyb0xpbmVJbmRleD10aGlzLnRpY2tzLmluZGV4T2YoMCl9LGNvbnZlcnRUaWNrc1RvTGFiZWxzOmZ1bmN0aW9uKCl7dC5TY2FsZS5wcm90b3R5cGUuY29udmVydFRpY2tzVG9MYWJlbHMuY2FsbCh0aGlzKSx0aGlzLnBvaW50TGFiZWxzPXRoaXMuY2hhcnQuZGF0YS5sYWJlbHMubWFwKHRoaXMub3B0aW9ucy5wb2ludExhYmVscy5jYWxsYmFjayx0aGlzKX0sZ2V0TGFiZWxGb3JJbmRleDpmdW5jdGlvbih0LGUpe3JldHVybit0aGlzLmdldFJpZ2h0VmFsdWUodGhpcy5jaGFydC5kYXRhLmRhdGFzZXRzW2VdLmRhdGFbdF0pfSxmaXQ6ZnVuY3Rpb24oKXt2YXIgaSxhLG8scyxuLHIsaCxsLGMsZCx1LGcsZj1lLmdldFZhbHVlT3JEZWZhdWx0KHRoaXMub3B0aW9ucy5wb2ludExhYmVscy5mb250U2l6ZSx0LmRlZmF1bHRzLmdsb2JhbC5kZWZhdWx0Rm9udFNpemUpLHA9ZS5nZXRWYWx1ZU9yRGVmYXVsdCh0aGlzLm9wdGlvbnMucG9pbnRMYWJlbHMuZm9udFN0eWxlLHQuZGVmYXVsdHMuZ2xvYmFsLmRlZmF1bHRGb250U3R5bGUpLG09ZS5nZXRWYWx1ZU9yRGVmYXVsdCh0aGlzLm9wdGlvbnMucG9pbnRMYWJlbHMuZm9udEZhbWlseSx0LmRlZmF1bHRzLmdsb2JhbC5kZWZhdWx0Rm9udEZhbWlseSksYj1lLmZvbnRTdHJpbmcoZixwLG0pLHg9ZS5taW4oW3RoaXMuaGVpZ2h0LzItZi01LHRoaXMud2lkdGgvMl0pLHY9dGhpcy53aWR0aCx5PTA7Zm9yKHRoaXMuY3R4LmZvbnQ9YixhPTA7YTx0aGlzLmdldFZhbHVlQ291bnQoKTthKyspaT10aGlzLmdldFBvaW50UG9zaXRpb24oYSx4KSxvPXRoaXMuY3R4Lm1lYXN1cmVUZXh0KHRoaXMucG9pbnRMYWJlbHNbYV0/dGhpcy5wb2ludExhYmVsc1thXTpcIlwiKS53aWR0aCs1LDA9PT1hfHxhPT09dGhpcy5nZXRWYWx1ZUNvdW50KCkvMj8ocz1vLzIsaS54K3M+diYmKHY9aS54K3Msbj1hKSxpLngtczx5JiYoeT1pLngtcyxoPWEpKTphPHRoaXMuZ2V0VmFsdWVDb3VudCgpLzI/aS54K28+diYmKHY9aS54K28sbj1hKTphPnRoaXMuZ2V0VmFsdWVDb3VudCgpLzImJmkueC1vPHkmJih5PWkueC1vLGg9YSk7Yz15LGQ9TWF0aC5jZWlsKHYtdGhpcy53aWR0aCkscj10aGlzLmdldEluZGV4QW5nbGUobiksbD10aGlzLmdldEluZGV4QW5nbGUoaCksdT1kL01hdGguc2luKHIrTWF0aC5QSS8yKSxnPWMvTWF0aC5zaW4obCtNYXRoLlBJLzIpLHU9ZS5pc051bWJlcih1KT91OjAsZz1lLmlzTnVtYmVyKGcpP2c6MCx0aGlzLmRyYXdpbmdBcmVhPU1hdGgucm91bmQoeC0oZyt1KS8yKSx0aGlzLnNldENlbnRlclBvaW50KGcsdSl9LHNldENlbnRlclBvaW50OmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy53aWR0aC1lLXRoaXMuZHJhd2luZ0FyZWEsYT10K3RoaXMuZHJhd2luZ0FyZWE7dGhpcy54Q2VudGVyPU1hdGgucm91bmQoKGEraSkvMit0aGlzLmxlZnQpLHRoaXMueUNlbnRlcj1NYXRoLnJvdW5kKHRoaXMuaGVpZ2h0LzIrdGhpcy50b3ApfSxnZXRJbmRleEFuZ2xlOmZ1bmN0aW9uKHQpe3ZhciBlPTIqTWF0aC5QSS90aGlzLmdldFZhbHVlQ291bnQoKTtyZXR1cm4gdCplLU1hdGguUEkvMn0sZ2V0RGlzdGFuY2VGcm9tQ2VudGVyRm9yVmFsdWU6ZnVuY3Rpb24odCl7aWYobnVsbD09PXQpcmV0dXJuIDA7dmFyIGU9dGhpcy5kcmF3aW5nQXJlYS8odGhpcy5tYXgtdGhpcy5taW4pO3JldHVybiB0aGlzLm9wdGlvbnMucmV2ZXJzZT8odGhpcy5tYXgtdCkqZToodC10aGlzLm1pbikqZX0sZ2V0UG9pbnRQb3NpdGlvbjpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuZ2V0SW5kZXhBbmdsZSh0KTtyZXR1cm57eDpNYXRoLnJvdW5kKE1hdGguY29zKGkpKmUpK3RoaXMueENlbnRlcix5Ok1hdGgucm91bmQoTWF0aC5zaW4oaSkqZSkrdGhpcy55Q2VudGVyfX0sZ2V0UG9pbnRQb3NpdGlvbkZvclZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuZ2V0UG9pbnRQb3NpdGlvbih0LHRoaXMuZ2V0RGlzdGFuY2VGcm9tQ2VudGVyRm9yVmFsdWUoZSkpfSxkcmF3OmZ1bmN0aW9uKCl7aWYodGhpcy5vcHRpb25zLmRpc3BsYXkpe3ZhciBpPXRoaXMuY3R4O2lmKGUuZWFjaCh0aGlzLnRpY2tzLGZ1bmN0aW9uKGEsbyl7aWYobz4wfHx0aGlzLm9wdGlvbnMucmV2ZXJzZSl7dmFyIHM9dGhpcy5nZXREaXN0YW5jZUZyb21DZW50ZXJGb3JWYWx1ZSh0aGlzLnRpY2tzW29dKSxuPXRoaXMueUNlbnRlci1zO2lmKHRoaXMub3B0aW9ucy5ncmlkTGluZXMuZGlzcGxheSlpZihpLnN0cm9rZVN0eWxlPXRoaXMub3B0aW9ucy5ncmlkTGluZXMuY29sb3IsaS5saW5lV2lkdGg9dGhpcy5vcHRpb25zLmdyaWRMaW5lcy5saW5lV2lkdGgsdGhpcy5vcHRpb25zLmxpbmVBcmMpaS5iZWdpblBhdGgoKSxpLmFyYyh0aGlzLnhDZW50ZXIsdGhpcy55Q2VudGVyLHMsMCwyKk1hdGguUEkpLGkuY2xvc2VQYXRoKCksaS5zdHJva2UoKTtlbHNle2kuYmVnaW5QYXRoKCk7Zm9yKHZhciByPTA7cjx0aGlzLmdldFZhbHVlQ291bnQoKTtyKyspe3ZhciBoPXRoaXMuZ2V0UG9pbnRQb3NpdGlvbihyLHRoaXMuZ2V0RGlzdGFuY2VGcm9tQ2VudGVyRm9yVmFsdWUodGhpcy50aWNrc1tvXSkpOzA9PT1yP2kubW92ZVRvKGgueCxoLnkpOmkubGluZVRvKGgueCxoLnkpfWkuY2xvc2VQYXRoKCksaS5zdHJva2UoKX1pZih0aGlzLm9wdGlvbnMudGlja3MuZGlzcGxheSl7dmFyIGw9ZS5nZXRWYWx1ZU9yRGVmYXVsdCh0aGlzLm9wdGlvbnMudGlja3MuZm9udENvbG9yLHQuZGVmYXVsdHMuZ2xvYmFsLmRlZmF1bHRGb250Q29sb3IpLGM9ZS5nZXRWYWx1ZU9yRGVmYXVsdCh0aGlzLm9wdGlvbnMudGlja3MuZm9udFNpemUsdC5kZWZhdWx0cy5nbG9iYWwuZGVmYXVsdEZvbnRTaXplKSxkPWUuZ2V0VmFsdWVPckRlZmF1bHQodGhpcy5vcHRpb25zLnRpY2tzLmZvbnRTdHlsZSx0LmRlZmF1bHRzLmdsb2JhbC5kZWZhdWx0Rm9udFN0eWxlKSx1PWUuZ2V0VmFsdWVPckRlZmF1bHQodGhpcy5vcHRpb25zLnRpY2tzLmZvbnRGYW1pbHksdC5kZWZhdWx0cy5nbG9iYWwuZGVmYXVsdEZvbnRGYW1pbHkpLGc9ZS5mb250U3RyaW5nKGMsZCx1KTtpZihpLmZvbnQ9Zyx0aGlzLm9wdGlvbnMudGlja3Muc2hvd0xhYmVsQmFja2Ryb3Ape3ZhciBmPWkubWVhc3VyZVRleHQoYSkud2lkdGg7aS5maWxsU3R5bGU9dGhpcy5vcHRpb25zLnRpY2tzLmJhY2tkcm9wQ29sb3IsaS5maWxsUmVjdCh0aGlzLnhDZW50ZXItZi8yLXRoaXMub3B0aW9ucy50aWNrcy5iYWNrZHJvcFBhZGRpbmdYLG4tYy8yLXRoaXMub3B0aW9ucy50aWNrcy5iYWNrZHJvcFBhZGRpbmdZLGYrMip0aGlzLm9wdGlvbnMudGlja3MuYmFja2Ryb3BQYWRkaW5nWCxjKzIqdGhpcy5vcHRpb25zLnRpY2tzLmJhY2tkcm9wUGFkZGluZ1kpfWkudGV4dEFsaWduPVwiY2VudGVyXCIsaS50ZXh0QmFzZWxpbmU9XCJtaWRkbGVcIixpLmZpbGxTdHlsZT1sLGkuZmlsbFRleHQoYSx0aGlzLnhDZW50ZXIsbil9fX0sdGhpcyksIXRoaXMub3B0aW9ucy5saW5lQXJjKXtpLmxpbmVXaWR0aD10aGlzLm9wdGlvbnMuYW5nbGVMaW5lcy5saW5lV2lkdGgsaS5zdHJva2VTdHlsZT10aGlzLm9wdGlvbnMuYW5nbGVMaW5lcy5jb2xvcjtmb3IodmFyIGE9dGhpcy5nZXRWYWx1ZUNvdW50KCktMTthPj0wO2EtLSl7aWYodGhpcy5vcHRpb25zLmFuZ2xlTGluZXMuZGlzcGxheSl7dmFyIG89dGhpcy5nZXRQb2ludFBvc2l0aW9uKGEsdGhpcy5nZXREaXN0YW5jZUZyb21DZW50ZXJGb3JWYWx1ZSh0aGlzLm9wdGlvbnMucmV2ZXJzZT90aGlzLm1pbjp0aGlzLm1heCkpO2kuYmVnaW5QYXRoKCksaS5tb3ZlVG8odGhpcy54Q2VudGVyLHRoaXMueUNlbnRlciksaS5saW5lVG8oby54LG8ueSksaS5zdHJva2UoKSxpLmNsb3NlUGF0aCgpfXZhciBzPXRoaXMuZ2V0UG9pbnRQb3NpdGlvbihhLHRoaXMuZ2V0RGlzdGFuY2VGcm9tQ2VudGVyRm9yVmFsdWUodGhpcy5vcHRpb25zLnJldmVyc2U/dGhpcy5taW46dGhpcy5tYXgpKzUpLG49ZS5nZXRWYWx1ZU9yRGVmYXVsdCh0aGlzLm9wdGlvbnMucG9pbnRMYWJlbHMuZm9udENvbG9yLHQuZGVmYXVsdHMuZ2xvYmFsLmRlZmF1bHRGb250Q29sb3IpLHI9ZS5nZXRWYWx1ZU9yRGVmYXVsdCh0aGlzLm9wdGlvbnMucG9pbnRMYWJlbHMuZm9udFNpemUsdC5kZWZhdWx0cy5nbG9iYWwuZGVmYXVsdEZvbnRTaXplKSxoPWUuZ2V0VmFsdWVPckRlZmF1bHQodGhpcy5vcHRpb25zLnBvaW50TGFiZWxzLmZvbnRTdHlsZSx0LmRlZmF1bHRzLmdsb2JhbC5kZWZhdWx0Rm9udFN0eWxlKSxsPWUuZ2V0VmFsdWVPckRlZmF1bHQodGhpcy5vcHRpb25zLnBvaW50TGFiZWxzLmZvbnRGYW1pbHksdC5kZWZhdWx0cy5nbG9iYWwuZGVmYXVsdEZvbnRGYW1pbHkpLGM9ZS5mb250U3RyaW5nKHIsaCxsKTtpLmZvbnQ9YyxpLmZpbGxTdHlsZT1uO3ZhciBkPXRoaXMucG9pbnRMYWJlbHMubGVuZ3RoLHU9dGhpcy5wb2ludExhYmVscy5sZW5ndGgvMixnPXUvMixmPWc+YXx8YT5kLWcscD1hPT09Z3x8YT09PWQtZzswPT09YT9pLnRleHRBbGlnbj1cImNlbnRlclwiOmE9PT11P2kudGV4dEFsaWduPVwiY2VudGVyXCI6dT5hP2kudGV4dEFsaWduPVwibGVmdFwiOmkudGV4dEFsaWduPVwicmlnaHRcIixwP2kudGV4dEJhc2VsaW5lPVwibWlkZGxlXCI6Zj9pLnRleHRCYXNlbGluZT1cImJvdHRvbVwiOmkudGV4dEJhc2VsaW5lPVwidG9wXCIsaS5maWxsVGV4dCh0aGlzLnBvaW50TGFiZWxzW2FdP3RoaXMucG9pbnRMYWJlbHNbYV06XCJcIixzLngscy55KX19fX19KTt0LnNjYWxlU2VydmljZS5yZWdpc3RlclNjYWxlVHlwZShcInJhZGlhbExpbmVhclwiLGEsaSl9fSx7fV0sNDI6W2Z1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjt2YXIgYT10KFwibW9tZW50XCIpO2E9XCJmdW5jdGlvblwiPT10eXBlb2YgYT9hOndpbmRvdy5tb21lbnQsZS5leHBvcnRzPWZ1bmN0aW9uKHQpe3ZhciBlPXQuaGVscGVycyxpPXt1bml0czpbe25hbWU6XCJtaWxsaXNlY29uZFwiLHN0ZXBzOlsxLDIsNSwxMCwyMCw1MCwxMDAsMjUwLDUwMF19LHtuYW1lOlwic2Vjb25kXCIsc3RlcHM6WzEsMiw1LDEwLDMwXX0se25hbWU6XCJtaW51dGVcIixzdGVwczpbMSwyLDUsMTAsMzBdfSx7bmFtZTpcImhvdXJcIixzdGVwczpbMSwyLDMsNiwxMl19LHtuYW1lOlwiZGF5XCIsc3RlcHM6WzEsMiw1XX0se25hbWU6XCJ3ZWVrXCIsbWF4U3RlcDo0fSx7bmFtZTpcIm1vbnRoXCIsbWF4U3RlcDozfSx7bmFtZTpcInF1YXJ0ZXJcIixtYXhTdGVwOjR9LHtuYW1lOlwieWVhclwiLG1heFN0ZXA6ITF9XX0sbz17cG9zaXRpb246XCJib3R0b21cIix0aW1lOntwYXJzZXI6ITEsZm9ybWF0OiExLHVuaXQ6ITEscm91bmQ6ITEsZGlzcGxheUZvcm1hdDohMSxpc29XZWVrZGF5OiExLGRpc3BsYXlGb3JtYXRzOnttaWxsaXNlY29uZDpcImg6bW06c3MuU1NTIGFcIixzZWNvbmQ6XCJoOm1tOnNzIGFcIixtaW51dGU6XCJoOm1tOnNzIGFcIixob3VyOlwiTU1NIEQsIGhBXCIsZGF5OlwibGxcIix3ZWVrOlwibGxcIixtb250aDpcIk1NTSBZWVlZXCIscXVhcnRlcjpcIltRXVEgLSBZWVlZXCIseWVhcjpcIllZWVlcIn19LHRpY2tzOnthdXRvU2tpcDohMX19LHM9dC5TY2FsZS5leHRlbmQoe2luaXRpYWxpemU6ZnVuY3Rpb24oKXtpZighYSl0aHJvdyBuZXcgRXJyb3IoXCJDaGFydC5qcyAtIE1vbWVudC5qcyBjb3VsZCBub3QgYmUgZm91bmQhIFlvdSBtdXN0IGluY2x1ZGUgaXQgYmVmb3JlIENoYXJ0LmpzIHRvIHVzZSB0aGUgdGltZSBzY2FsZS4gRG93bmxvYWQgYXQgaHR0cHM6Ly9tb21lbnRqcy5jb21cIik7dC5TY2FsZS5wcm90b3R5cGUuaW5pdGlhbGl6ZS5jYWxsKHRoaXMpfSxnZXRMYWJlbE1vbWVudDpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmxhYmVsTW9tZW50c1t0XVtlXX0sZ2V0TW9tZW50U3RhcnRPZjpmdW5jdGlvbih0KXtyZXR1cm5cIndlZWtcIj09PXRoaXMub3B0aW9ucy50aW1lLnVuaXQmJnRoaXMub3B0aW9ucy50aW1lLmlzb1dlZWtkYXkhPT0hMT90LmNsb25lKCkuc3RhcnRPZihcImlzb1dlZWtcIikuaXNvV2Vla2RheSh0aGlzLm9wdGlvbnMudGltZS5pc29XZWVrZGF5KTp0LmNsb25lKCkuc3RhcnRPZih0aGlzLnRpY2tVbml0KX0sZGV0ZXJtaW5lRGF0YUxpbWl0czpmdW5jdGlvbigpe3RoaXMubGFiZWxNb21lbnRzPVtdO3ZhciB0PVtdO3RoaXMuY2hhcnQuZGF0YS5sYWJlbHMmJnRoaXMuY2hhcnQuZGF0YS5sYWJlbHMubGVuZ3RoPjA/KGUuZWFjaCh0aGlzLmNoYXJ0LmRhdGEubGFiZWxzLGZ1bmN0aW9uKGUsaSl7dmFyIGE9dGhpcy5wYXJzZVRpbWUoZSk7YS5pc1ZhbGlkKCkmJih0aGlzLm9wdGlvbnMudGltZS5yb3VuZCYmYS5zdGFydE9mKHRoaXMub3B0aW9ucy50aW1lLnJvdW5kKSx0LnB1c2goYSkpfSx0aGlzKSx0aGlzLmZpcnN0VGljaz1hLm1pbi5jYWxsKHRoaXMsdCksdGhpcy5sYXN0VGljaz1hLm1heC5jYWxsKHRoaXMsdCkpOih0aGlzLmZpcnN0VGljaz1udWxsLHRoaXMubGFzdFRpY2s9bnVsbCksZS5lYWNoKHRoaXMuY2hhcnQuZGF0YS5kYXRhc2V0cyxmdW5jdGlvbihpLG8pe3ZhciBzPVtdLG49dGhpcy5jaGFydC5pc0RhdGFzZXRWaXNpYmxlKG8pO1wib2JqZWN0XCI9PXR5cGVvZiBpLmRhdGFbMF0/ZS5lYWNoKGkuZGF0YSxmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMucGFyc2VUaW1lKHRoaXMuZ2V0UmlnaHRWYWx1ZSh0KSk7aS5pc1ZhbGlkKCkmJih0aGlzLm9wdGlvbnMudGltZS5yb3VuZCYmaS5zdGFydE9mKHRoaXMub3B0aW9ucy50aW1lLnJvdW5kKSxzLnB1c2goaSksbiYmKHRoaXMuZmlyc3RUaWNrPW51bGwhPT10aGlzLmZpcnN0VGljaz9hLm1pbih0aGlzLmZpcnN0VGljayxpKTppLHRoaXMubGFzdFRpY2s9bnVsbCE9PXRoaXMubGFzdFRpY2s/YS5tYXgodGhpcy5sYXN0VGljayxpKTppKSl9LHRoaXMpOnM9dCx0aGlzLmxhYmVsTW9tZW50cy5wdXNoKHMpfSx0aGlzKSx0aGlzLm9wdGlvbnMudGltZS5taW4mJih0aGlzLmZpcnN0VGljaz10aGlzLnBhcnNlVGltZSh0aGlzLm9wdGlvbnMudGltZS5taW4pKSx0aGlzLm9wdGlvbnMudGltZS5tYXgmJih0aGlzLmxhc3RUaWNrPXRoaXMucGFyc2VUaW1lKHRoaXMub3B0aW9ucy50aW1lLm1heCkpLHRoaXMuZmlyc3RUaWNrPSh0aGlzLmZpcnN0VGlja3x8YSgpKS5jbG9uZSgpLHRoaXMubGFzdFRpY2s9KHRoaXMubGFzdFRpY2t8fGEoKSkuY2xvbmUoKX0sYnVpbGRUaWNrczpmdW5jdGlvbihhKXt0aGlzLmN0eC5zYXZlKCk7dmFyIG89ZS5nZXRWYWx1ZU9yRGVmYXVsdCh0aGlzLm9wdGlvbnMudGlja3MuZm9udFNpemUsdC5kZWZhdWx0cy5nbG9iYWwuZGVmYXVsdEZvbnRTaXplKSxzPWUuZ2V0VmFsdWVPckRlZmF1bHQodGhpcy5vcHRpb25zLnRpY2tzLmZvbnRTdHlsZSx0LmRlZmF1bHRzLmdsb2JhbC5kZWZhdWx0Rm9udFN0eWxlKSxuPWUuZ2V0VmFsdWVPckRlZmF1bHQodGhpcy5vcHRpb25zLnRpY2tzLmZvbnRGYW1pbHksdC5kZWZhdWx0cy5nbG9iYWwuZGVmYXVsdEZvbnRGYW1pbHkpLHI9ZS5mb250U3RyaW5nKG8scyxuKTtpZih0aGlzLmN0eC5mb250PXIsdGhpcy50aWNrcz1bXSx0aGlzLnVuaXRTY2FsZT0xLHRoaXMuc2NhbGVTaXplSW5Vbml0cz0wLHRoaXMub3B0aW9ucy50aW1lLnVuaXQpdGhpcy50aWNrVW5pdD10aGlzLm9wdGlvbnMudGltZS51bml0fHxcImRheVwiLHRoaXMuZGlzcGxheUZvcm1hdD10aGlzLm9wdGlvbnMudGltZS5kaXNwbGF5Rm9ybWF0c1t0aGlzLnRpY2tVbml0XSx0aGlzLnNjYWxlU2l6ZUluVW5pdHM9dGhpcy5sYXN0VGljay5kaWZmKHRoaXMuZmlyc3RUaWNrLHRoaXMudGlja1VuaXQsITApLHRoaXMudW5pdFNjYWxlPWUuZ2V0VmFsdWVPckRlZmF1bHQodGhpcy5vcHRpb25zLnRpbWUudW5pdFN0ZXBTaXplLDEpO2Vsc2V7dmFyIGg9dGhpcy5pc0hvcml6b250YWwoKT90aGlzLndpZHRoLSh0aGlzLnBhZGRpbmdMZWZ0K3RoaXMucGFkZGluZ1JpZ2h0KTp0aGlzLmhlaWdodC0odGhpcy5wYWRkaW5nVG9wK3RoaXMucGFkZGluZ0JvdHRvbSksbD10aGlzLnRpY2tGb3JtYXRGdW5jdGlvbih0aGlzLmZpcnN0VGljaywwLFtdKSxjPXRoaXMuY3R4Lm1lYXN1cmVUZXh0KGwpLndpZHRoLGQ9TWF0aC5jb3MoZS50b1JhZGlhbnModGhpcy5vcHRpb25zLnRpY2tzLm1heFJvdGF0aW9uKSksdT1NYXRoLnNpbihlLnRvUmFkaWFucyh0aGlzLm9wdGlvbnMudGlja3MubWF4Um90YXRpb24pKTtcbmM9YypkK28qdTt2YXIgZz1oL2M7dGhpcy50aWNrVW5pdD1cIm1pbGxpc2Vjb25kXCIsdGhpcy5zY2FsZVNpemVJblVuaXRzPXRoaXMubGFzdFRpY2suZGlmZih0aGlzLmZpcnN0VGljayx0aGlzLnRpY2tVbml0LCEwKSx0aGlzLmRpc3BsYXlGb3JtYXQ9dGhpcy5vcHRpb25zLnRpbWUuZGlzcGxheUZvcm1hdHNbdGhpcy50aWNrVW5pdF07Zm9yKHZhciBmPTAscD1pLnVuaXRzW2ZdO2Y8aS51bml0cy5sZW5ndGg7KXtpZih0aGlzLnVuaXRTY2FsZT0xLGUuaXNBcnJheShwLnN0ZXBzKSYmTWF0aC5jZWlsKHRoaXMuc2NhbGVTaXplSW5Vbml0cy9nKTxlLm1heChwLnN0ZXBzKSl7Zm9yKHZhciBtPTA7bTxwLnN0ZXBzLmxlbmd0aDsrK20paWYocC5zdGVwc1ttXT49TWF0aC5jZWlsKHRoaXMuc2NhbGVTaXplSW5Vbml0cy9nKSl7dGhpcy51bml0U2NhbGU9ZS5nZXRWYWx1ZU9yRGVmYXVsdCh0aGlzLm9wdGlvbnMudGltZS51bml0U3RlcFNpemUscC5zdGVwc1ttXSk7YnJlYWt9YnJlYWt9aWYocC5tYXhTdGVwPT09ITF8fE1hdGguY2VpbCh0aGlzLnNjYWxlU2l6ZUluVW5pdHMvZyk8cC5tYXhTdGVwKXt0aGlzLnVuaXRTY2FsZT1lLmdldFZhbHVlT3JEZWZhdWx0KHRoaXMub3B0aW9ucy50aW1lLnVuaXRTdGVwU2l6ZSxNYXRoLmNlaWwodGhpcy5zY2FsZVNpemVJblVuaXRzL2cpKTticmVha30rK2YscD1pLnVuaXRzW2ZdLHRoaXMudGlja1VuaXQ9cC5uYW1lO3ZhciBiPXRoaXMuZmlyc3RUaWNrLmRpZmYodGhpcy5nZXRNb21lbnRTdGFydE9mKHRoaXMuZmlyc3RUaWNrKSx0aGlzLnRpY2tVbml0LCEwKSx4PXRoaXMuZ2V0TW9tZW50U3RhcnRPZih0aGlzLmxhc3RUaWNrLmNsb25lKCkuYWRkKDEsdGhpcy50aWNrVW5pdCkpLmRpZmYodGhpcy5sYXN0VGljayx0aGlzLnRpY2tVbml0LCEwKTt0aGlzLnNjYWxlU2l6ZUluVW5pdHM9dGhpcy5sYXN0VGljay5kaWZmKHRoaXMuZmlyc3RUaWNrLHRoaXMudGlja1VuaXQsITApK2IreCx0aGlzLmRpc3BsYXlGb3JtYXQ9dGhpcy5vcHRpb25zLnRpbWUuZGlzcGxheUZvcm1hdHNbcC5uYW1lXX19dmFyIHY7aWYodGhpcy5vcHRpb25zLnRpbWUubWluP3Y9dGhpcy5nZXRNb21lbnRTdGFydE9mKHRoaXMuZmlyc3RUaWNrKToodGhpcy5maXJzdFRpY2s9dGhpcy5nZXRNb21lbnRTdGFydE9mKHRoaXMuZmlyc3RUaWNrKSx2PXRoaXMuZmlyc3RUaWNrKSwhdGhpcy5vcHRpb25zLnRpbWUubWF4KXt2YXIgeT10aGlzLmdldE1vbWVudFN0YXJ0T2YodGhpcy5sYXN0VGljayk7MCE9PXkuZGlmZih0aGlzLmxhc3RUaWNrLHRoaXMudGlja1VuaXQsITApJiYodGhpcy5sYXN0VGljaz10aGlzLmdldE1vbWVudFN0YXJ0T2YodGhpcy5sYXN0VGljay5hZGQoMSx0aGlzLnRpY2tVbml0KSkpfXRoaXMuc21hbGxlc3RMYWJlbFNlcGFyYXRpb249dGhpcy53aWR0aCxlLmVhY2godGhpcy5jaGFydC5kYXRhLmRhdGFzZXRzLGZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBpPTE7aTx0aGlzLmxhYmVsTW9tZW50c1tlXS5sZW5ndGg7aSsrKXRoaXMuc21hbGxlc3RMYWJlbFNlcGFyYXRpb249TWF0aC5taW4odGhpcy5zbWFsbGVzdExhYmVsU2VwYXJhdGlvbix0aGlzLmxhYmVsTW9tZW50c1tlXVtpXS5kaWZmKHRoaXMubGFiZWxNb21lbnRzW2VdW2ktMV0sdGhpcy50aWNrVW5pdCwhMCkpfSx0aGlzKSx0aGlzLm9wdGlvbnMudGltZS5kaXNwbGF5Rm9ybWF0JiYodGhpcy5kaXNwbGF5Rm9ybWF0PXRoaXMub3B0aW9ucy50aW1lLmRpc3BsYXlGb3JtYXQpLHRoaXMudGlja3MucHVzaCh0aGlzLmZpcnN0VGljay5jbG9uZSgpKTtmb3IodmFyIGs9MTtrPD10aGlzLnNjYWxlU2l6ZUluVW5pdHM7KytrKXt2YXIgUz12LmNsb25lKCkuYWRkKGssdGhpcy50aWNrVW5pdCk7aWYodGhpcy5vcHRpb25zLnRpbWUubWF4JiZTLmRpZmYodGhpcy5sYXN0VGljayx0aGlzLnRpY2tVbml0LCEwKT49MClicmVhaztrJXRoaXMudW5pdFNjYWxlPT09MCYmdGhpcy50aWNrcy5wdXNoKFMpfXZhciBDPXRoaXMudGlja3NbdGhpcy50aWNrcy5sZW5ndGgtMV0uZGlmZih0aGlzLmxhc3RUaWNrLHRoaXMudGlja1VuaXQpOygwIT09Q3x8MD09PXRoaXMuc2NhbGVTaXplSW5Vbml0cykmJih0aGlzLm9wdGlvbnMudGltZS5tYXg/KHRoaXMudGlja3MucHVzaCh0aGlzLmxhc3RUaWNrLmNsb25lKCkpLHRoaXMuc2NhbGVTaXplSW5Vbml0cz10aGlzLmxhc3RUaWNrLmRpZmYodGhpcy50aWNrc1swXSx0aGlzLnRpY2tVbml0LCEwKSk6KHRoaXMudGlja3MucHVzaCh0aGlzLmxhc3RUaWNrLmNsb25lKCkpLHRoaXMuc2NhbGVTaXplSW5Vbml0cz10aGlzLmxhc3RUaWNrLmRpZmYodGhpcy5maXJzdFRpY2ssdGhpcy50aWNrVW5pdCwhMCkpKSx0aGlzLmN0eC5yZXN0b3JlKCl9LGdldExhYmVsRm9ySW5kZXg6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLmNoYXJ0LmRhdGEubGFiZWxzJiZ0PHRoaXMuY2hhcnQuZGF0YS5sYWJlbHMubGVuZ3RoP3RoaXMuY2hhcnQuZGF0YS5sYWJlbHNbdF06XCJcIjtyZXR1cm5cIm9iamVjdFwiPT10eXBlb2YgdGhpcy5jaGFydC5kYXRhLmRhdGFzZXRzW2VdLmRhdGFbMF0mJihpPXRoaXMuZ2V0UmlnaHRWYWx1ZSh0aGlzLmNoYXJ0LmRhdGEuZGF0YXNldHNbZV0uZGF0YVt0XSkpLHRoaXMub3B0aW9ucy50aW1lLnRvb2x0aXBGb3JtYXQmJihpPXRoaXMucGFyc2VUaW1lKGkpLmZvcm1hdCh0aGlzLm9wdGlvbnMudGltZS50b29sdGlwRm9ybWF0KSksaX0sdGlja0Zvcm1hdEZ1bmN0aW9uOmZ1bmN0aW9uKHQsaSxhKXt2YXIgbz10LmZvcm1hdCh0aGlzLmRpc3BsYXlGb3JtYXQpLHM9dGhpcy5vcHRpb25zLnRpY2tzLG49ZS5nZXRWYWx1ZU9yRGVmYXVsdChzLmNhbGxiYWNrLHMudXNlckNhbGxiYWNrKTtyZXR1cm4gbj9uKG8saSxhKTpvfSxjb252ZXJ0VGlja3NUb0xhYmVsczpmdW5jdGlvbigpe3RoaXMudGlja01vbWVudHM9dGhpcy50aWNrcyx0aGlzLnRpY2tzPXRoaXMudGlja3MubWFwKHRoaXMudGlja0Zvcm1hdEZ1bmN0aW9uLHRoaXMpfSxnZXRQaXhlbEZvclZhbHVlOmZ1bmN0aW9uKHQsZSxpLGEpe3ZhciBvPXQmJnQuaXNWYWxpZCYmdC5pc1ZhbGlkKCk/dDp0aGlzLmdldExhYmVsTW9tZW50KGksZSk7aWYobyl7dmFyIHM9by5kaWZmKHRoaXMuZmlyc3RUaWNrLHRoaXMudGlja1VuaXQsITApLG49cy90aGlzLnNjYWxlU2l6ZUluVW5pdHM7aWYodGhpcy5pc0hvcml6b250YWwoKSl7dmFyIHI9dGhpcy53aWR0aC0odGhpcy5wYWRkaW5nTGVmdCt0aGlzLnBhZGRpbmdSaWdodCksaD0oci9NYXRoLm1heCh0aGlzLnRpY2tzLmxlbmd0aC0xLDEpLHIqbit0aGlzLnBhZGRpbmdMZWZ0KTtyZXR1cm4gdGhpcy5sZWZ0K01hdGgucm91bmQoaCl9dmFyIGw9dGhpcy5oZWlnaHQtKHRoaXMucGFkZGluZ1RvcCt0aGlzLnBhZGRpbmdCb3R0b20pLGM9KGwvTWF0aC5tYXgodGhpcy50aWNrcy5sZW5ndGgtMSwxKSxsKm4rdGhpcy5wYWRkaW5nVG9wKTtyZXR1cm4gdGhpcy50b3ArTWF0aC5yb3VuZChjKX19LGdldFBpeGVsRm9yVGljazpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmdldFBpeGVsRm9yVmFsdWUodGhpcy50aWNrTW9tZW50c1t0XSxudWxsLG51bGwsZSl9LGdldFZhbHVlRm9yUGl4ZWw6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5pc0hvcml6b250YWwoKT90aGlzLndpZHRoLSh0aGlzLnBhZGRpbmdMZWZ0K3RoaXMucGFkZGluZ1JpZ2h0KTp0aGlzLmhlaWdodC0odGhpcy5wYWRkaW5nVG9wK3RoaXMucGFkZGluZ0JvdHRvbSksaT0odC0odGhpcy5pc0hvcml6b250YWwoKT90aGlzLmxlZnQrdGhpcy5wYWRkaW5nTGVmdDp0aGlzLnRvcCt0aGlzLnBhZGRpbmdUb3ApKS9lO3JldHVybiBpKj10aGlzLnNjYWxlU2l6ZUluVW5pdHMsdGhpcy5maXJzdFRpY2suY2xvbmUoKS5hZGQoYS5kdXJhdGlvbihpLHRoaXMudGlja1VuaXQpLmFzU2Vjb25kcygpLFwic2Vjb25kc1wiKX0scGFyc2VUaW1lOmZ1bmN0aW9uKHQpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiB0aGlzLm9wdGlvbnMudGltZS5wYXJzZXI/YSh0LHRoaXMub3B0aW9ucy50aW1lLnBhcnNlcik6XCJmdW5jdGlvblwiPT10eXBlb2YgdGhpcy5vcHRpb25zLnRpbWUucGFyc2VyP3RoaXMub3B0aW9ucy50aW1lLnBhcnNlcih0KTpcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LmdldE1vbnRofHxcIm51bWJlclwiPT10eXBlb2YgdD9hKHQpOnQuaXNWYWxpZCYmdC5pc1ZhbGlkKCk/dDpcInN0cmluZ1wiIT10eXBlb2YgdGhpcy5vcHRpb25zLnRpbWUuZm9ybWF0JiZ0aGlzLm9wdGlvbnMudGltZS5mb3JtYXQuY2FsbD8oY29uc29sZS53YXJuKFwib3B0aW9ucy50aW1lLmZvcm1hdCBpcyBkZXByZWNhdGVkIGFuZCByZXBsYWNlZCBieSBvcHRpb25zLnRpbWUucGFyc2VyLiBTZWUgaHR0cDovL25ubmljay5naXRodWIuaW8vQ2hhcnQuanMvZG9jcy12Mi8jc2NhbGVzLXRpbWUtc2NhbGVcIiksdGhpcy5vcHRpb25zLnRpbWUuZm9ybWF0KHQpKTphKHQsdGhpcy5vcHRpb25zLnRpbWUuZm9ybWF0KX19KTt0LnNjYWxlU2VydmljZS5yZWdpc3RlclNjYWxlVHlwZShcInRpbWVcIixzLG8pfX0se21vbWVudDoxfV19LHt9LFs3XSk7IiwiLypcbiBBbmd1bGFySlMgdjEuNS42XG4gKGMpIDIwMTAtMjAxNiBHb29nbGUsIEluYy4gaHR0cDovL2FuZ3VsYXJqcy5vcmdcbiBMaWNlbnNlOiBNSVRcbiovXG4oZnVuY3Rpb24oeCxuKXsndXNlIHN0cmljdCc7ZnVuY3Rpb24gcyhmLGspe3ZhciBlPSExLGE9ITE7dGhpcy5uZ0NsaWNrT3ZlcnJpZGVFbmFibGVkPWZ1bmN0aW9uKGIpe3JldHVybiBuLmlzRGVmaW5lZChiKT8oYiYmIWEmJihhPSEwLHQuJCRtb2R1bGVOYW1lPVwibmdUb3VjaFwiLGsuZGlyZWN0aXZlKFwibmdDbGlja1wiLHQpLGYuZGVjb3JhdG9yKFwibmdDbGlja0RpcmVjdGl2ZVwiLFtcIiRkZWxlZ2F0ZVwiLGZ1bmN0aW9uKGEpe2lmKGUpYS5zaGlmdCgpO2Vsc2UgZm9yKHZhciBiPWEubGVuZ3RoLTE7MDw9Yjspe2lmKFwibmdUb3VjaFwiPT09YVtiXS4kJG1vZHVsZU5hbWUpe2Euc3BsaWNlKGIsMSk7YnJlYWt9Yi0tfXJldHVybiBhfV0pKSxlPWIsdGhpcyk6ZX07dGhpcy4kZ2V0PWZ1bmN0aW9uKCl7cmV0dXJue25nQ2xpY2tPdmVycmlkZUVuYWJsZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gZX19fX1mdW5jdGlvbiB2KGYsayxlKXtwLmRpcmVjdGl2ZShmLFtcIiRwYXJzZVwiLFwiJHN3aXBlXCIsZnVuY3Rpb24oYSxcbmIpe3JldHVybiBmdW5jdGlvbihsLHUsZyl7ZnVuY3Rpb24gaChjKXtpZighZClyZXR1cm4hMTt2YXIgYT1NYXRoLmFicyhjLnktZC55KTtjPShjLngtZC54KSprO3JldHVybiByJiY3NT5hJiYwPGMmJjMwPGMmJi4zPmEvY312YXIgbT1hKGdbZl0pLGQscixjPVtcInRvdWNoXCJdO24uaXNEZWZpbmVkKGcubmdTd2lwZURpc2FibGVNb3VzZSl8fGMucHVzaChcIm1vdXNlXCIpO2IuYmluZCh1LHtzdGFydDpmdW5jdGlvbihjLGEpe2Q9YztyPSEwfSxjYW5jZWw6ZnVuY3Rpb24oYyl7cj0hMX0sZW5kOmZ1bmN0aW9uKGMsZCl7aChjKSYmbC4kYXBwbHkoZnVuY3Rpb24oKXt1LnRyaWdnZXJIYW5kbGVyKGUpO20obCx7JGV2ZW50OmR9KX0pfX0sYyl9fV0pfXZhciBwPW4ubW9kdWxlKFwibmdUb3VjaFwiLFtdKTtwLnByb3ZpZGVyKFwiJHRvdWNoXCIscyk7cy4kaW5qZWN0PVtcIiRwcm92aWRlXCIsXCIkY29tcGlsZVByb3ZpZGVyXCJdO3AuZmFjdG9yeShcIiRzd2lwZVwiLFtmdW5jdGlvbigpe2Z1bmN0aW9uIGYoYSl7YT1cbmEub3JpZ2luYWxFdmVudHx8YTt2YXIgYj1hLnRvdWNoZXMmJmEudG91Y2hlcy5sZW5ndGg/YS50b3VjaGVzOlthXTthPWEuY2hhbmdlZFRvdWNoZXMmJmEuY2hhbmdlZFRvdWNoZXNbMF18fGJbMF07cmV0dXJue3g6YS5jbGllbnRYLHk6YS5jbGllbnRZfX1mdW5jdGlvbiBrKGEsYil7dmFyIGw9W107bi5mb3JFYWNoKGEsZnVuY3Rpb24oYSl7KGE9ZVthXVtiXSkmJmwucHVzaChhKX0pO3JldHVybiBsLmpvaW4oXCIgXCIpfXZhciBlPXttb3VzZTp7c3RhcnQ6XCJtb3VzZWRvd25cIixtb3ZlOlwibW91c2Vtb3ZlXCIsZW5kOlwibW91c2V1cFwifSx0b3VjaDp7c3RhcnQ6XCJ0b3VjaHN0YXJ0XCIsbW92ZTpcInRvdWNobW92ZVwiLGVuZDpcInRvdWNoZW5kXCIsY2FuY2VsOlwidG91Y2hjYW5jZWxcIn19O3JldHVybntiaW5kOmZ1bmN0aW9uKGEsYixsKXt2YXIgZSxnLGgsbSxkPSExO2w9bHx8W1wibW91c2VcIixcInRvdWNoXCJdO2Eub24oayhsLFwic3RhcnRcIiksZnVuY3Rpb24oYyl7aD1mKGMpO2Q9ITA7Zz1lPTA7bT1cbmg7Yi5zdGFydCYmYi5zdGFydChoLGMpfSk7dmFyIHI9ayhsLFwiY2FuY2VsXCIpO2lmKHIpYS5vbihyLGZ1bmN0aW9uKGMpe2Q9ITE7Yi5jYW5jZWwmJmIuY2FuY2VsKGMpfSk7YS5vbihrKGwsXCJtb3ZlXCIpLGZ1bmN0aW9uKGMpe2lmKGQmJmgpe3ZhciBhPWYoYyk7ZSs9TWF0aC5hYnMoYS54LW0ueCk7Zys9TWF0aC5hYnMoYS55LW0ueSk7bT1hOzEwPmUmJjEwPmd8fChnPmU/KGQ9ITEsYi5jYW5jZWwmJmIuY2FuY2VsKGMpKTooYy5wcmV2ZW50RGVmYXVsdCgpLGIubW92ZSYmYi5tb3ZlKGEsYykpKX19KTthLm9uKGsobCxcImVuZFwiKSxmdW5jdGlvbihjKXtkJiYoZD0hMSxiLmVuZCYmYi5lbmQoZihjKSxjKSl9KX19fV0pO3ZhciB0PVtcIiRwYXJzZVwiLFwiJHRpbWVvdXRcIixcIiRyb290RWxlbWVudFwiLGZ1bmN0aW9uKGYsayxlKXtmdW5jdGlvbiBhKGEsZCxiKXtmb3IodmFyIGM9MDtjPGEubGVuZ3RoO2MrPTIpe3ZhciBnPWFbYysxXSxlPWI7aWYoMjU+TWF0aC5hYnMoYVtjXS1kKSYmMjU+TWF0aC5hYnMoZy1cbmUpKXJldHVybiBhLnNwbGljZShjLGMrMiksITB9cmV0dXJuITF9ZnVuY3Rpb24gYihiKXtpZighKDI1MDA8RGF0ZS5ub3coKS11KSl7dmFyIGQ9Yi50b3VjaGVzJiZiLnRvdWNoZXMubGVuZ3RoP2IudG91Y2hlczpbYl0sZT1kWzBdLmNsaWVudFgsZD1kWzBdLmNsaWVudFk7aWYoISgxPmUmJjE+ZHx8aCYmaFswXT09PWUmJmhbMV09PT1kKSl7aCYmKGg9bnVsbCk7dmFyIGM9Yi50YXJnZXQ7XCJsYWJlbFwiPT09bi5sb3dlcmNhc2UoYy5ub2RlTmFtZXx8Y1swXSYmY1swXS5ub2RlTmFtZSkmJihoPVtlLGRdKTthKGcsZSxkKXx8KGIuc3RvcFByb3BhZ2F0aW9uKCksYi5wcmV2ZW50RGVmYXVsdCgpLGIudGFyZ2V0JiZiLnRhcmdldC5ibHVyJiZiLnRhcmdldC5ibHVyKCkpfX19ZnVuY3Rpb24gbChhKXthPWEudG91Y2hlcyYmYS50b3VjaGVzLmxlbmd0aD9hLnRvdWNoZXM6W2FdO3ZhciBiPWFbMF0uY2xpZW50WCxlPWFbMF0uY2xpZW50WTtnLnB1c2goYixlKTtrKGZ1bmN0aW9uKCl7Zm9yKHZhciBhPVxuMDthPGcubGVuZ3RoO2ErPTIpaWYoZ1thXT09YiYmZ1thKzFdPT1lKXtnLnNwbGljZShhLGErMik7YnJlYWt9fSwyNTAwLCExKX12YXIgdSxnLGg7cmV0dXJuIGZ1bmN0aW9uKGgsZCxrKXt2YXIgYz1mKGsubmdDbGljayksdz0hMSxxLHAscyx0O2Qub24oXCJ0b3VjaHN0YXJ0XCIsZnVuY3Rpb24oYSl7dz0hMDtxPWEudGFyZ2V0P2EudGFyZ2V0OmEuc3JjRWxlbWVudDszPT1xLm5vZGVUeXBlJiYocT1xLnBhcmVudE5vZGUpO2QuYWRkQ2xhc3MoXCJuZy1jbGljay1hY3RpdmVcIik7cD1EYXRlLm5vdygpO2E9YS5vcmlnaW5hbEV2ZW50fHxhO2E9KGEudG91Y2hlcyYmYS50b3VjaGVzLmxlbmd0aD9hLnRvdWNoZXM6W2FdKVswXTtzPWEuY2xpZW50WDt0PWEuY2xpZW50WX0pO2Qub24oXCJ0b3VjaGNhbmNlbFwiLGZ1bmN0aW9uKGEpe3c9ITE7ZC5yZW1vdmVDbGFzcyhcIm5nLWNsaWNrLWFjdGl2ZVwiKX0pO2Qub24oXCJ0b3VjaGVuZFwiLGZ1bmN0aW9uKGMpe3ZhciBoPURhdGUubm93KCktcCxmPWMub3JpZ2luYWxFdmVudHx8XG5jLG09KGYuY2hhbmdlZFRvdWNoZXMmJmYuY2hhbmdlZFRvdWNoZXMubGVuZ3RoP2YuY2hhbmdlZFRvdWNoZXM6Zi50b3VjaGVzJiZmLnRvdWNoZXMubGVuZ3RoP2YudG91Y2hlczpbZl0pWzBdLGY9bS5jbGllbnRYLG09bS5jbGllbnRZLHY9TWF0aC5zcXJ0KE1hdGgucG93KGYtcywyKStNYXRoLnBvdyhtLXQsMikpO3cmJjc1MD5oJiYxMj52JiYoZ3x8KGVbMF0uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsYiwhMCksZVswXS5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hzdGFydFwiLGwsITApLGc9W10pLHU9RGF0ZS5ub3coKSxhKGcsZixtKSxxJiZxLmJsdXIoKSxuLmlzRGVmaW5lZChrLmRpc2FibGVkKSYmITEhPT1rLmRpc2FibGVkfHxkLnRyaWdnZXJIYW5kbGVyKFwiY2xpY2tcIixbY10pKTt3PSExO2QucmVtb3ZlQ2xhc3MoXCJuZy1jbGljay1hY3RpdmVcIil9KTtkLm9uY2xpY2s9ZnVuY3Rpb24oYSl7fTtkLm9uKFwiY2xpY2tcIixmdW5jdGlvbihhLGIpe2guJGFwcGx5KGZ1bmN0aW9uKCl7YyhoLFxueyRldmVudDpifHxhfSl9KX0pO2Qub24oXCJtb3VzZWRvd25cIixmdW5jdGlvbihhKXtkLmFkZENsYXNzKFwibmctY2xpY2stYWN0aXZlXCIpfSk7ZC5vbihcIm1vdXNlbW92ZSBtb3VzZXVwXCIsZnVuY3Rpb24oYSl7ZC5yZW1vdmVDbGFzcyhcIm5nLWNsaWNrLWFjdGl2ZVwiKX0pfX1dO3YoXCJuZ1N3aXBlTGVmdFwiLC0xLFwic3dpcGVsZWZ0XCIpO3YoXCJuZ1N3aXBlUmlnaHRcIiwxLFwic3dpcGVyaWdodFwiKX0pKHdpbmRvdyx3aW5kb3cuYW5ndWxhcik7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hbmd1bGFyLXRvdWNoLm1pbi5qcy5tYXBcbiIsIi8qKiFcbiAqIFNvcnRhYmxlXG4gKiBAYXV0aG9yXHRSdWJhWGEgICA8dHJhc2hAcnViYXhhLm9yZz5cbiAqIEBsaWNlbnNlIE1JVFxuICovXG5cblxuKGZ1bmN0aW9uIChmYWN0b3J5KSB7XG5cdFwidXNlIHN0cmljdFwiO1xuXG5cdGlmICh0eXBlb2YgZGVmaW5lID09PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCkge1xuXHRcdGRlZmluZShmYWN0b3J5KTtcblx0fVxuXHRlbHNlIGlmICh0eXBlb2YgbW9kdWxlICE9IFwidW5kZWZpbmVkXCIgJiYgdHlwZW9mIG1vZHVsZS5leHBvcnRzICE9IFwidW5kZWZpbmVkXCIpIHtcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcblx0fVxuXHRlbHNlIGlmICh0eXBlb2YgUGFja2FnZSAhPT0gXCJ1bmRlZmluZWRcIikge1xuXHRcdFNvcnRhYmxlID0gZmFjdG9yeSgpOyAgLy8gZXhwb3J0IGZvciBNZXRlb3IuanNcblx0fVxuXHRlbHNlIHtcblx0XHQvKiBqc2hpbnQgc3ViOnRydWUgKi9cblx0XHR3aW5kb3dbXCJTb3J0YWJsZVwiXSA9IGZhY3RvcnkoKTtcblx0fVxufSkoZnVuY3Rpb24gKCkge1xuXHRcInVzZSBzdHJpY3RcIjtcblxuXHR2YXIgZHJhZ0VsLFxuXHRcdHBhcmVudEVsLFxuXHRcdGdob3N0RWwsXG5cdFx0Y2xvbmVFbCxcblx0XHRyb290RWwsXG5cdFx0bmV4dEVsLFxuXG5cdFx0c2Nyb2xsRWwsXG5cdFx0c2Nyb2xsUGFyZW50RWwsXG5cblx0XHRsYXN0RWwsXG5cdFx0bGFzdENTUyxcblx0XHRsYXN0UGFyZW50Q1NTLFxuXG5cdFx0b2xkSW5kZXgsXG5cdFx0bmV3SW5kZXgsXG5cblx0XHRhY3RpdmVHcm91cCxcblx0XHRhdXRvU2Nyb2xsID0ge30sXG5cblx0XHR0YXBFdnQsXG5cdFx0dG91Y2hFdnQsXG5cblx0XHRtb3ZlZCxcblxuXHRcdC8qKiBAY29uc3QgKi9cblx0XHRSU1BBQ0UgPSAvXFxzKy9nLFxuXG5cdFx0ZXhwYW5kbyA9ICdTb3J0YWJsZScgKyAobmV3IERhdGUpLmdldFRpbWUoKSxcblxuXHRcdHdpbiA9IHdpbmRvdyxcblx0XHRkb2N1bWVudCA9IHdpbi5kb2N1bWVudCxcblx0XHRwYXJzZUludCA9IHdpbi5wYXJzZUludCxcblxuXHRcdHN1cHBvcnREcmFnZ2FibGUgPSAhISgnZHJhZ2dhYmxlJyBpbiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSksXG5cdFx0c3VwcG9ydENzc1BvaW50ZXJFdmVudHMgPSAoZnVuY3Rpb24gKGVsKSB7XG5cdFx0XHRlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3gnKTtcblx0XHRcdGVsLnN0eWxlLmNzc1RleHQgPSAncG9pbnRlci1ldmVudHM6YXV0byc7XG5cdFx0XHRyZXR1cm4gZWwuc3R5bGUucG9pbnRlckV2ZW50cyA9PT0gJ2F1dG8nO1xuXHRcdH0pKCksXG5cblx0XHRfc2lsZW50ID0gZmFsc2UsXG5cblx0XHRhYnMgPSBNYXRoLmFicyxcblx0XHRzbGljZSA9IFtdLnNsaWNlLFxuXG5cdFx0dG91Y2hEcmFnT3Zlckxpc3RlbmVycyA9IFtdLFxuXG5cdFx0X2F1dG9TY3JvbGwgPSBfdGhyb3R0bGUoZnVuY3Rpb24gKC8qKkV2ZW50Ki9ldnQsIC8qKk9iamVjdCovb3B0aW9ucywgLyoqSFRNTEVsZW1lbnQqL3Jvb3RFbCkge1xuXHRcdFx0Ly8gQnVnOiBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD01MDU1MjFcblx0XHRcdGlmIChyb290RWwgJiYgb3B0aW9ucy5zY3JvbGwpIHtcblx0XHRcdFx0dmFyIGVsLFxuXHRcdFx0XHRcdHJlY3QsXG5cdFx0XHRcdFx0c2VucyA9IG9wdGlvbnMuc2Nyb2xsU2Vuc2l0aXZpdHksXG5cdFx0XHRcdFx0c3BlZWQgPSBvcHRpb25zLnNjcm9sbFNwZWVkLFxuXG5cdFx0XHRcdFx0eCA9IGV2dC5jbGllbnRYLFxuXHRcdFx0XHRcdHkgPSBldnQuY2xpZW50WSxcblxuXHRcdFx0XHRcdHdpbldpZHRoID0gd2luZG93LmlubmVyV2lkdGgsXG5cdFx0XHRcdFx0d2luSGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0LFxuXG5cdFx0XHRcdFx0dngsXG5cdFx0XHRcdFx0dnlcblx0XHRcdFx0O1xuXG5cdFx0XHRcdC8vIERlbGVjdCBzY3JvbGxFbFxuXHRcdFx0XHRpZiAoc2Nyb2xsUGFyZW50RWwgIT09IHJvb3RFbCkge1xuXHRcdFx0XHRcdHNjcm9sbEVsID0gb3B0aW9ucy5zY3JvbGw7XG5cdFx0XHRcdFx0c2Nyb2xsUGFyZW50RWwgPSByb290RWw7XG5cblx0XHRcdFx0XHRpZiAoc2Nyb2xsRWwgPT09IHRydWUpIHtcblx0XHRcdFx0XHRcdHNjcm9sbEVsID0gcm9vdEVsO1xuXG5cdFx0XHRcdFx0XHRkbyB7XG5cdFx0XHRcdFx0XHRcdGlmICgoc2Nyb2xsRWwub2Zmc2V0V2lkdGggPCBzY3JvbGxFbC5zY3JvbGxXaWR0aCkgfHxcblx0XHRcdFx0XHRcdFx0XHQoc2Nyb2xsRWwub2Zmc2V0SGVpZ2h0IDwgc2Nyb2xsRWwuc2Nyb2xsSGVpZ2h0KVxuXHRcdFx0XHRcdFx0XHQpIHtcblx0XHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHQvKiBqc2hpbnQgYm9zczp0cnVlICovXG5cdFx0XHRcdFx0XHR9IHdoaWxlIChzY3JvbGxFbCA9IHNjcm9sbEVsLnBhcmVudE5vZGUpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChzY3JvbGxFbCkge1xuXHRcdFx0XHRcdGVsID0gc2Nyb2xsRWw7XG5cdFx0XHRcdFx0cmVjdCA9IHNjcm9sbEVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXHRcdFx0XHRcdHZ4ID0gKGFicyhyZWN0LnJpZ2h0IC0geCkgPD0gc2VucykgLSAoYWJzKHJlY3QubGVmdCAtIHgpIDw9IHNlbnMpO1xuXHRcdFx0XHRcdHZ5ID0gKGFicyhyZWN0LmJvdHRvbSAtIHkpIDw9IHNlbnMpIC0gKGFicyhyZWN0LnRvcCAtIHkpIDw9IHNlbnMpO1xuXHRcdFx0XHR9XG5cblxuXHRcdFx0XHRpZiAoISh2eCB8fCB2eSkpIHtcblx0XHRcdFx0XHR2eCA9ICh3aW5XaWR0aCAtIHggPD0gc2VucykgLSAoeCA8PSBzZW5zKTtcblx0XHRcdFx0XHR2eSA9ICh3aW5IZWlnaHQgLSB5IDw9IHNlbnMpIC0gKHkgPD0gc2Vucyk7XG5cblx0XHRcdFx0XHQvKiBqc2hpbnQgZXhwcjp0cnVlICovXG5cdFx0XHRcdFx0KHZ4IHx8IHZ5KSAmJiAoZWwgPSB3aW4pO1xuXHRcdFx0XHR9XG5cblxuXHRcdFx0XHRpZiAoYXV0b1Njcm9sbC52eCAhPT0gdnggfHwgYXV0b1Njcm9sbC52eSAhPT0gdnkgfHwgYXV0b1Njcm9sbC5lbCAhPT0gZWwpIHtcblx0XHRcdFx0XHRhdXRvU2Nyb2xsLmVsID0gZWw7XG5cdFx0XHRcdFx0YXV0b1Njcm9sbC52eCA9IHZ4O1xuXHRcdFx0XHRcdGF1dG9TY3JvbGwudnkgPSB2eTtcblxuXHRcdFx0XHRcdGNsZWFySW50ZXJ2YWwoYXV0b1Njcm9sbC5waWQpO1xuXG5cdFx0XHRcdFx0aWYgKGVsKSB7XG5cdFx0XHRcdFx0XHRhdXRvU2Nyb2xsLnBpZCA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRcdFx0aWYgKGVsID09PSB3aW4pIHtcblx0XHRcdFx0XHRcdFx0XHR3aW4uc2Nyb2xsVG8od2luLnBhZ2VYT2Zmc2V0ICsgdnggKiBzcGVlZCwgd2luLnBhZ2VZT2Zmc2V0ICsgdnkgKiBzcGVlZCk7XG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0dnkgJiYgKGVsLnNjcm9sbFRvcCArPSB2eSAqIHNwZWVkKTtcblx0XHRcdFx0XHRcdFx0XHR2eCAmJiAoZWwuc2Nyb2xsTGVmdCArPSB2eCAqIHNwZWVkKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSwgMjQpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0sIDMwKSxcblxuXHRcdF9wcmVwYXJlR3JvdXAgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuXHRcdFx0dmFyIGdyb3VwID0gb3B0aW9ucy5ncm91cDtcblxuXHRcdFx0aWYgKCFncm91cCB8fCB0eXBlb2YgZ3JvdXAgIT0gJ29iamVjdCcpIHtcblx0XHRcdFx0Z3JvdXAgPSBvcHRpb25zLmdyb3VwID0ge25hbWU6IGdyb3VwfTtcblx0XHRcdH1cblxuXHRcdFx0WydwdWxsJywgJ3B1dCddLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuXHRcdFx0XHRpZiAoIShrZXkgaW4gZ3JvdXApKSB7XG5cdFx0XHRcdFx0Z3JvdXBba2V5XSA9IHRydWU7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXG5cdFx0XHRvcHRpb25zLmdyb3VwcyA9ICcgJyArIGdyb3VwLm5hbWUgKyAoZ3JvdXAucHV0LmpvaW4gPyAnICcgKyBncm91cC5wdXQuam9pbignICcpIDogJycpICsgJyAnO1xuXHRcdH1cblx0O1xuXG5cblxuXHQvKipcblx0ICogQGNsYXNzICBTb3J0YWJsZVxuXHQgKiBAcGFyYW0gIHtIVE1MRWxlbWVudH0gIGVsXG5cdCAqIEBwYXJhbSAge09iamVjdH0gICAgICAgW29wdGlvbnNdXG5cdCAqL1xuXHRmdW5jdGlvbiBTb3J0YWJsZShlbCwgb3B0aW9ucykge1xuXHRcdGlmICghKGVsICYmIGVsLm5vZGVUeXBlICYmIGVsLm5vZGVUeXBlID09PSAxKSkge1xuXHRcdFx0dGhyb3cgJ1NvcnRhYmxlOiBgZWxgIG11c3QgYmUgSFRNTEVsZW1lbnQsIGFuZCBub3QgJyArIHt9LnRvU3RyaW5nLmNhbGwoZWwpO1xuXHRcdH1cblxuXHRcdHRoaXMuZWwgPSBlbDsgLy8gcm9vdCBlbGVtZW50XG5cdFx0dGhpcy5vcHRpb25zID0gb3B0aW9ucyA9IF9leHRlbmQoe30sIG9wdGlvbnMpO1xuXG5cblx0XHQvLyBFeHBvcnQgaW5zdGFuY2Vcblx0XHRlbFtleHBhbmRvXSA9IHRoaXM7XG5cblxuXHRcdC8vIERlZmF1bHQgb3B0aW9uc1xuXHRcdHZhciBkZWZhdWx0cyA9IHtcblx0XHRcdGdyb3VwOiBNYXRoLnJhbmRvbSgpLFxuXHRcdFx0c29ydDogdHJ1ZSxcblx0XHRcdGRpc2FibGVkOiBmYWxzZSxcblx0XHRcdHN0b3JlOiBudWxsLFxuXHRcdFx0aGFuZGxlOiBudWxsLFxuXHRcdFx0c2Nyb2xsOiB0cnVlLFxuXHRcdFx0c2Nyb2xsU2Vuc2l0aXZpdHk6IDMwLFxuXHRcdFx0c2Nyb2xsU3BlZWQ6IDEwLFxuXHRcdFx0ZHJhZ2dhYmxlOiAvW3VvXWwvaS50ZXN0KGVsLm5vZGVOYW1lKSA/ICdsaScgOiAnPionLFxuXHRcdFx0Z2hvc3RDbGFzczogJ3NvcnRhYmxlLWdob3N0Jyxcblx0XHRcdGNob3NlbkNsYXNzOiAnc29ydGFibGUtY2hvc2VuJyxcblx0XHRcdGlnbm9yZTogJ2EsIGltZycsXG5cdFx0XHRmaWx0ZXI6IG51bGwsXG5cdFx0XHRhbmltYXRpb246IDAsXG5cdFx0XHRzZXREYXRhOiBmdW5jdGlvbiAoZGF0YVRyYW5zZmVyLCBkcmFnRWwpIHtcblx0XHRcdFx0ZGF0YVRyYW5zZmVyLnNldERhdGEoJ1RleHQnLCBkcmFnRWwudGV4dENvbnRlbnQpO1xuXHRcdFx0fSxcblx0XHRcdGRyb3BCdWJibGU6IGZhbHNlLFxuXHRcdFx0ZHJhZ292ZXJCdWJibGU6IGZhbHNlLFxuXHRcdFx0ZGF0YUlkQXR0cjogJ2RhdGEtaWQnLFxuXHRcdFx0ZGVsYXk6IDAsXG5cdFx0XHRmb3JjZUZhbGxiYWNrOiBmYWxzZSxcblx0XHRcdGZhbGxiYWNrQ2xhc3M6ICdzb3J0YWJsZS1mYWxsYmFjaycsXG5cdFx0XHRmYWxsYmFja09uQm9keTogZmFsc2Vcblx0XHR9O1xuXG5cblx0XHQvLyBTZXQgZGVmYXVsdCBvcHRpb25zXG5cdFx0Zm9yICh2YXIgbmFtZSBpbiBkZWZhdWx0cykge1xuXHRcdFx0IShuYW1lIGluIG9wdGlvbnMpICYmIChvcHRpb25zW25hbWVdID0gZGVmYXVsdHNbbmFtZV0pO1xuXHRcdH1cblxuXHRcdF9wcmVwYXJlR3JvdXAob3B0aW9ucyk7XG5cblx0XHQvLyBCaW5kIGFsbCBwcml2YXRlIG1ldGhvZHNcblx0XHRmb3IgKHZhciBmbiBpbiB0aGlzKSB7XG5cdFx0XHRpZiAoZm4uY2hhckF0KDApID09PSAnXycpIHtcblx0XHRcdFx0dGhpc1tmbl0gPSB0aGlzW2ZuXS5iaW5kKHRoaXMpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIFNldHVwIGRyYWcgbW9kZVxuXHRcdHRoaXMubmF0aXZlRHJhZ2dhYmxlID0gb3B0aW9ucy5mb3JjZUZhbGxiYWNrID8gZmFsc2UgOiBzdXBwb3J0RHJhZ2dhYmxlO1xuXG5cdFx0Ly8gQmluZCBldmVudHNcblx0XHRfb24oZWwsICdtb3VzZWRvd24nLCB0aGlzLl9vblRhcFN0YXJ0KTtcblx0XHRfb24oZWwsICd0b3VjaHN0YXJ0JywgdGhpcy5fb25UYXBTdGFydCk7XG5cblx0XHRpZiAodGhpcy5uYXRpdmVEcmFnZ2FibGUpIHtcblx0XHRcdF9vbihlbCwgJ2RyYWdvdmVyJywgdGhpcyk7XG5cdFx0XHRfb24oZWwsICdkcmFnZW50ZXInLCB0aGlzKTtcblx0XHR9XG5cblx0XHR0b3VjaERyYWdPdmVyTGlzdGVuZXJzLnB1c2godGhpcy5fb25EcmFnT3Zlcik7XG5cblx0XHQvLyBSZXN0b3JlIHNvcnRpbmdcblx0XHRvcHRpb25zLnN0b3JlICYmIHRoaXMuc29ydChvcHRpb25zLnN0b3JlLmdldCh0aGlzKSk7XG5cdH1cblxuXG5cdFNvcnRhYmxlLnByb3RvdHlwZSA9IC8qKiBAbGVuZHMgU29ydGFibGUucHJvdG90eXBlICovIHtcblx0XHRjb25zdHJ1Y3RvcjogU29ydGFibGUsXG5cblx0XHRfb25UYXBTdGFydDogZnVuY3Rpb24gKC8qKiBFdmVudHxUb3VjaEV2ZW50ICovZXZ0KSB7XG5cdFx0XHR2YXIgX3RoaXMgPSB0aGlzLFxuXHRcdFx0XHRlbCA9IHRoaXMuZWwsXG5cdFx0XHRcdG9wdGlvbnMgPSB0aGlzLm9wdGlvbnMsXG5cdFx0XHRcdHR5cGUgPSBldnQudHlwZSxcblx0XHRcdFx0dG91Y2ggPSBldnQudG91Y2hlcyAmJiBldnQudG91Y2hlc1swXSxcblx0XHRcdFx0dGFyZ2V0ID0gKHRvdWNoIHx8IGV2dCkudGFyZ2V0LFxuXHRcdFx0XHRvcmlnaW5hbFRhcmdldCA9IHRhcmdldCxcblx0XHRcdFx0ZmlsdGVyID0gb3B0aW9ucy5maWx0ZXI7XG5cblxuXHRcdFx0aWYgKHR5cGUgPT09ICdtb3VzZWRvd24nICYmIGV2dC5idXR0b24gIT09IDAgfHwgb3B0aW9ucy5kaXNhYmxlZCkge1xuXHRcdFx0XHRyZXR1cm47IC8vIG9ubHkgbGVmdCBidXR0b24gb3IgZW5hYmxlZFxuXHRcdFx0fVxuXG5cdFx0XHR0YXJnZXQgPSBfY2xvc2VzdCh0YXJnZXQsIG9wdGlvbnMuZHJhZ2dhYmxlLCBlbCk7XG5cblx0XHRcdGlmICghdGFyZ2V0KSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0Ly8gZ2V0IHRoZSBpbmRleCBvZiB0aGUgZHJhZ2dlZCBlbGVtZW50IHdpdGhpbiBpdHMgcGFyZW50XG5cdFx0XHRvbGRJbmRleCA9IF9pbmRleCh0YXJnZXQpO1xuXG5cdFx0XHQvLyBDaGVjayBmaWx0ZXJcblx0XHRcdGlmICh0eXBlb2YgZmlsdGVyID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRcdGlmIChmaWx0ZXIuY2FsbCh0aGlzLCBldnQsIHRhcmdldCwgdGhpcykpIHtcblx0XHRcdFx0XHRfZGlzcGF0Y2hFdmVudChfdGhpcywgb3JpZ2luYWxUYXJnZXQsICdmaWx0ZXInLCB0YXJnZXQsIGVsLCBvbGRJbmRleCk7XG5cdFx0XHRcdFx0ZXZ0LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdFx0cmV0dXJuOyAvLyBjYW5jZWwgZG5kXG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdGVsc2UgaWYgKGZpbHRlcikge1xuXHRcdFx0XHRmaWx0ZXIgPSBmaWx0ZXIuc3BsaXQoJywnKS5zb21lKGZ1bmN0aW9uIChjcml0ZXJpYSkge1xuXHRcdFx0XHRcdGNyaXRlcmlhID0gX2Nsb3Nlc3Qob3JpZ2luYWxUYXJnZXQsIGNyaXRlcmlhLnRyaW0oKSwgZWwpO1xuXG5cdFx0XHRcdFx0aWYgKGNyaXRlcmlhKSB7XG5cdFx0XHRcdFx0XHRfZGlzcGF0Y2hFdmVudChfdGhpcywgY3JpdGVyaWEsICdmaWx0ZXInLCB0YXJnZXQsIGVsLCBvbGRJbmRleCk7XG5cdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXG5cdFx0XHRcdGlmIChmaWx0ZXIpIHtcblx0XHRcdFx0XHRldnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0XHRyZXR1cm47IC8vIGNhbmNlbCBkbmRcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cblx0XHRcdGlmIChvcHRpb25zLmhhbmRsZSAmJiAhX2Nsb3Nlc3Qob3JpZ2luYWxUYXJnZXQsIG9wdGlvbnMuaGFuZGxlLCBlbCkpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cblx0XHRcdC8vIFByZXBhcmUgYGRyYWdzdGFydGBcblx0XHRcdHRoaXMuX3ByZXBhcmVEcmFnU3RhcnQoZXZ0LCB0b3VjaCwgdGFyZ2V0KTtcblx0XHR9LFxuXG5cdFx0X3ByZXBhcmVEcmFnU3RhcnQ6IGZ1bmN0aW9uICgvKiogRXZlbnQgKi9ldnQsIC8qKiBUb3VjaCAqL3RvdWNoLCAvKiogSFRNTEVsZW1lbnQgKi90YXJnZXQpIHtcblx0XHRcdHZhciBfdGhpcyA9IHRoaXMsXG5cdFx0XHRcdGVsID0gX3RoaXMuZWwsXG5cdFx0XHRcdG9wdGlvbnMgPSBfdGhpcy5vcHRpb25zLFxuXHRcdFx0XHRvd25lckRvY3VtZW50ID0gZWwub3duZXJEb2N1bWVudCxcblx0XHRcdFx0ZHJhZ1N0YXJ0Rm47XG5cblx0XHRcdGlmICh0YXJnZXQgJiYgIWRyYWdFbCAmJiAodGFyZ2V0LnBhcmVudE5vZGUgPT09IGVsKSkge1xuXHRcdFx0XHR0YXBFdnQgPSBldnQ7XG5cblx0XHRcdFx0cm9vdEVsID0gZWw7XG5cdFx0XHRcdGRyYWdFbCA9IHRhcmdldDtcblx0XHRcdFx0cGFyZW50RWwgPSBkcmFnRWwucGFyZW50Tm9kZTtcblx0XHRcdFx0bmV4dEVsID0gZHJhZ0VsLm5leHRTaWJsaW5nO1xuXHRcdFx0XHRhY3RpdmVHcm91cCA9IG9wdGlvbnMuZ3JvdXA7XG5cblx0XHRcdFx0ZHJhZ1N0YXJ0Rm4gPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0Ly8gRGVsYXllZCBkcmFnIGhhcyBiZWVuIHRyaWdnZXJlZFxuXHRcdFx0XHRcdC8vIHdlIGNhbiByZS1lbmFibGUgdGhlIGV2ZW50czogdG91Y2htb3ZlL21vdXNlbW92ZVxuXHRcdFx0XHRcdF90aGlzLl9kaXNhYmxlRGVsYXllZERyYWcoKTtcblxuXHRcdFx0XHRcdC8vIE1ha2UgdGhlIGVsZW1lbnQgZHJhZ2dhYmxlXG5cdFx0XHRcdFx0ZHJhZ0VsLmRyYWdnYWJsZSA9IHRydWU7XG5cblx0XHRcdFx0XHQvLyBDaG9zZW4gaXRlbVxuXHRcdFx0XHRcdF90b2dnbGVDbGFzcyhkcmFnRWwsIF90aGlzLm9wdGlvbnMuY2hvc2VuQ2xhc3MsIHRydWUpO1xuXG5cdFx0XHRcdFx0Ly8gQmluZCB0aGUgZXZlbnRzOiBkcmFnc3RhcnQvZHJhZ2VuZFxuXHRcdFx0XHRcdF90aGlzLl90cmlnZ2VyRHJhZ1N0YXJ0KHRvdWNoKTtcblx0XHRcdFx0fTtcblxuXHRcdFx0XHQvLyBEaXNhYmxlIFwiZHJhZ2dhYmxlXCJcblx0XHRcdFx0b3B0aW9ucy5pZ25vcmUuc3BsaXQoJywnKS5mb3JFYWNoKGZ1bmN0aW9uIChjcml0ZXJpYSkge1xuXHRcdFx0XHRcdF9maW5kKGRyYWdFbCwgY3JpdGVyaWEudHJpbSgpLCBfZGlzYWJsZURyYWdnYWJsZSk7XG5cdFx0XHRcdH0pO1xuXG5cdFx0XHRcdF9vbihvd25lckRvY3VtZW50LCAnbW91c2V1cCcsIF90aGlzLl9vbkRyb3ApO1xuXHRcdFx0XHRfb24ob3duZXJEb2N1bWVudCwgJ3RvdWNoZW5kJywgX3RoaXMuX29uRHJvcCk7XG5cdFx0XHRcdF9vbihvd25lckRvY3VtZW50LCAndG91Y2hjYW5jZWwnLCBfdGhpcy5fb25Ecm9wKTtcblxuXHRcdFx0XHRpZiAob3B0aW9ucy5kZWxheSkge1xuXHRcdFx0XHRcdC8vIElmIHRoZSB1c2VyIG1vdmVzIHRoZSBwb2ludGVyIG9yIGxldCBnbyB0aGUgY2xpY2sgb3IgdG91Y2hcblx0XHRcdFx0XHQvLyBiZWZvcmUgdGhlIGRlbGF5IGhhcyBiZWVuIHJlYWNoZWQ6XG5cdFx0XHRcdFx0Ly8gZGlzYWJsZSB0aGUgZGVsYXllZCBkcmFnXG5cdFx0XHRcdFx0X29uKG93bmVyRG9jdW1lbnQsICdtb3VzZXVwJywgX3RoaXMuX2Rpc2FibGVEZWxheWVkRHJhZyk7XG5cdFx0XHRcdFx0X29uKG93bmVyRG9jdW1lbnQsICd0b3VjaGVuZCcsIF90aGlzLl9kaXNhYmxlRGVsYXllZERyYWcpO1xuXHRcdFx0XHRcdF9vbihvd25lckRvY3VtZW50LCAndG91Y2hjYW5jZWwnLCBfdGhpcy5fZGlzYWJsZURlbGF5ZWREcmFnKTtcblx0XHRcdFx0XHRfb24ob3duZXJEb2N1bWVudCwgJ21vdXNlbW92ZScsIF90aGlzLl9kaXNhYmxlRGVsYXllZERyYWcpO1xuXHRcdFx0XHRcdF9vbihvd25lckRvY3VtZW50LCAndG91Y2htb3ZlJywgX3RoaXMuX2Rpc2FibGVEZWxheWVkRHJhZyk7XG5cblx0XHRcdFx0XHRfdGhpcy5fZHJhZ1N0YXJ0VGltZXIgPSBzZXRUaW1lb3V0KGRyYWdTdGFydEZuLCBvcHRpb25zLmRlbGF5KTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRkcmFnU3RhcnRGbigpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdF9kaXNhYmxlRGVsYXllZERyYWc6IGZ1bmN0aW9uICgpIHtcblx0XHRcdHZhciBvd25lckRvY3VtZW50ID0gdGhpcy5lbC5vd25lckRvY3VtZW50O1xuXG5cdFx0XHRjbGVhclRpbWVvdXQodGhpcy5fZHJhZ1N0YXJ0VGltZXIpO1xuXHRcdFx0X29mZihvd25lckRvY3VtZW50LCAnbW91c2V1cCcsIHRoaXMuX2Rpc2FibGVEZWxheWVkRHJhZyk7XG5cdFx0XHRfb2ZmKG93bmVyRG9jdW1lbnQsICd0b3VjaGVuZCcsIHRoaXMuX2Rpc2FibGVEZWxheWVkRHJhZyk7XG5cdFx0XHRfb2ZmKG93bmVyRG9jdW1lbnQsICd0b3VjaGNhbmNlbCcsIHRoaXMuX2Rpc2FibGVEZWxheWVkRHJhZyk7XG5cdFx0XHRfb2ZmKG93bmVyRG9jdW1lbnQsICdtb3VzZW1vdmUnLCB0aGlzLl9kaXNhYmxlRGVsYXllZERyYWcpO1xuXHRcdFx0X29mZihvd25lckRvY3VtZW50LCAndG91Y2htb3ZlJywgdGhpcy5fZGlzYWJsZURlbGF5ZWREcmFnKTtcblx0XHR9LFxuXG5cdFx0X3RyaWdnZXJEcmFnU3RhcnQ6IGZ1bmN0aW9uICgvKiogVG91Y2ggKi90b3VjaCkge1xuXHRcdFx0aWYgKHRvdWNoKSB7XG5cdFx0XHRcdC8vIFRvdWNoIGRldmljZSBzdXBwb3J0XG5cdFx0XHRcdHRhcEV2dCA9IHtcblx0XHRcdFx0XHR0YXJnZXQ6IGRyYWdFbCxcblx0XHRcdFx0XHRjbGllbnRYOiB0b3VjaC5jbGllbnRYLFxuXHRcdFx0XHRcdGNsaWVudFk6IHRvdWNoLmNsaWVudFlcblx0XHRcdFx0fTtcblxuXHRcdFx0XHR0aGlzLl9vbkRyYWdTdGFydCh0YXBFdnQsICd0b3VjaCcpO1xuXHRcdFx0fVxuXHRcdFx0ZWxzZSBpZiAoIXRoaXMubmF0aXZlRHJhZ2dhYmxlKSB7XG5cdFx0XHRcdHRoaXMuX29uRHJhZ1N0YXJ0KHRhcEV2dCwgdHJ1ZSk7XG5cdFx0XHR9XG5cdFx0XHRlbHNlIHtcblx0XHRcdFx0X29uKGRyYWdFbCwgJ2RyYWdlbmQnLCB0aGlzKTtcblx0XHRcdFx0X29uKHJvb3RFbCwgJ2RyYWdzdGFydCcsIHRoaXMuX29uRHJhZ1N0YXJ0KTtcblx0XHRcdH1cblxuXHRcdFx0dHJ5IHtcblx0XHRcdFx0aWYgKGRvY3VtZW50LnNlbGVjdGlvbikge1xuXHRcdFx0XHRcdGRvY3VtZW50LnNlbGVjdGlvbi5lbXB0eSgpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHdpbmRvdy5nZXRTZWxlY3Rpb24oKS5yZW1vdmVBbGxSYW5nZXMoKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdF9kcmFnU3RhcnRlZDogZnVuY3Rpb24gKCkge1xuXHRcdFx0aWYgKHJvb3RFbCAmJiBkcmFnRWwpIHtcblx0XHRcdFx0Ly8gQXBwbHkgZWZmZWN0XG5cdFx0XHRcdF90b2dnbGVDbGFzcyhkcmFnRWwsIHRoaXMub3B0aW9ucy5naG9zdENsYXNzLCB0cnVlKTtcblxuXHRcdFx0XHRTb3J0YWJsZS5hY3RpdmUgPSB0aGlzO1xuXG5cdFx0XHRcdC8vIERyYWcgc3RhcnQgZXZlbnRcblx0XHRcdFx0X2Rpc3BhdGNoRXZlbnQodGhpcywgcm9vdEVsLCAnc3RhcnQnLCBkcmFnRWwsIHJvb3RFbCwgb2xkSW5kZXgpO1xuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHRfZW11bGF0ZURyYWdPdmVyOiBmdW5jdGlvbiAoKSB7XG5cdFx0XHRpZiAodG91Y2hFdnQpIHtcblx0XHRcdFx0aWYgKHRoaXMuX2xhc3RYID09PSB0b3VjaEV2dC5jbGllbnRYICYmIHRoaXMuX2xhc3RZID09PSB0b3VjaEV2dC5jbGllbnRZKSB7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0dGhpcy5fbGFzdFggPSB0b3VjaEV2dC5jbGllbnRYO1xuXHRcdFx0XHR0aGlzLl9sYXN0WSA9IHRvdWNoRXZ0LmNsaWVudFk7XG5cblx0XHRcdFx0aWYgKCFzdXBwb3J0Q3NzUG9pbnRlckV2ZW50cykge1xuXHRcdFx0XHRcdF9jc3MoZ2hvc3RFbCwgJ2Rpc3BsYXknLCAnbm9uZScpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0dmFyIHRhcmdldCA9IGRvY3VtZW50LmVsZW1lbnRGcm9tUG9pbnQodG91Y2hFdnQuY2xpZW50WCwgdG91Y2hFdnQuY2xpZW50WSksXG5cdFx0XHRcdFx0cGFyZW50ID0gdGFyZ2V0LFxuXHRcdFx0XHRcdGdyb3VwTmFtZSA9ICcgJyArIHRoaXMub3B0aW9ucy5ncm91cC5uYW1lICsgJycsXG5cdFx0XHRcdFx0aSA9IHRvdWNoRHJhZ092ZXJMaXN0ZW5lcnMubGVuZ3RoO1xuXG5cdFx0XHRcdGlmIChwYXJlbnQpIHtcblx0XHRcdFx0XHRkbyB7XG5cdFx0XHRcdFx0XHRpZiAocGFyZW50W2V4cGFuZG9dICYmIHBhcmVudFtleHBhbmRvXS5vcHRpb25zLmdyb3Vwcy5pbmRleE9mKGdyb3VwTmFtZSkgPiAtMSkge1xuXHRcdFx0XHRcdFx0XHR3aGlsZSAoaS0tKSB7XG5cdFx0XHRcdFx0XHRcdFx0dG91Y2hEcmFnT3Zlckxpc3RlbmVyc1tpXSh7XG5cdFx0XHRcdFx0XHRcdFx0XHRjbGllbnRYOiB0b3VjaEV2dC5jbGllbnRYLFxuXHRcdFx0XHRcdFx0XHRcdFx0Y2xpZW50WTogdG91Y2hFdnQuY2xpZW50WSxcblx0XHRcdFx0XHRcdFx0XHRcdHRhcmdldDogdGFyZ2V0LFxuXHRcdFx0XHRcdFx0XHRcdFx0cm9vdEVsOiBwYXJlbnRcblx0XHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHR0YXJnZXQgPSBwYXJlbnQ7IC8vIHN0b3JlIGxhc3QgZWxlbWVudFxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHQvKiBqc2hpbnQgYm9zczp0cnVlICovXG5cdFx0XHRcdFx0d2hpbGUgKHBhcmVudCA9IHBhcmVudC5wYXJlbnROb2RlKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmICghc3VwcG9ydENzc1BvaW50ZXJFdmVudHMpIHtcblx0XHRcdFx0XHRfY3NzKGdob3N0RWwsICdkaXNwbGF5JywgJycpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSxcblxuXG5cdFx0X29uVG91Y2hNb3ZlOiBmdW5jdGlvbiAoLyoqVG91Y2hFdmVudCovZXZ0KSB7XG5cdFx0XHRpZiAodGFwRXZ0KSB7XG5cdFx0XHRcdC8vIG9ubHkgc2V0IHRoZSBzdGF0dXMgdG8gZHJhZ2dpbmcsIHdoZW4gd2UgYXJlIGFjdHVhbGx5IGRyYWdnaW5nXG5cdFx0XHRcdGlmICghU29ydGFibGUuYWN0aXZlKSB7XG5cdFx0XHRcdFx0dGhpcy5fZHJhZ1N0YXJ0ZWQoKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIGFzIHdlbGwgYXMgY3JlYXRpbmcgdGhlIGdob3N0IGVsZW1lbnQgb24gdGhlIGRvY3VtZW50IGJvZHlcblx0XHRcdFx0dGhpcy5fYXBwZW5kR2hvc3QoKTtcblxuXHRcdFx0XHR2YXIgdG91Y2ggPSBldnQudG91Y2hlcyA/IGV2dC50b3VjaGVzWzBdIDogZXZ0LFxuXHRcdFx0XHRcdGR4ID0gdG91Y2guY2xpZW50WCAtIHRhcEV2dC5jbGllbnRYLFxuXHRcdFx0XHRcdGR5ID0gdG91Y2guY2xpZW50WSAtIHRhcEV2dC5jbGllbnRZLFxuXHRcdFx0XHRcdHRyYW5zbGF0ZTNkID0gZXZ0LnRvdWNoZXMgPyAndHJhbnNsYXRlM2QoJyArIGR4ICsgJ3B4LCcgKyBkeSArICdweCwwKScgOiAndHJhbnNsYXRlKCcgKyBkeCArICdweCwnICsgZHkgKyAncHgpJztcblxuXHRcdFx0XHRtb3ZlZCA9IHRydWU7XG5cdFx0XHRcdHRvdWNoRXZ0ID0gdG91Y2g7XG5cblx0XHRcdFx0X2NzcyhnaG9zdEVsLCAnd2Via2l0VHJhbnNmb3JtJywgdHJhbnNsYXRlM2QpO1xuXHRcdFx0XHRfY3NzKGdob3N0RWwsICdtb3pUcmFuc2Zvcm0nLCB0cmFuc2xhdGUzZCk7XG5cdFx0XHRcdF9jc3MoZ2hvc3RFbCwgJ21zVHJhbnNmb3JtJywgdHJhbnNsYXRlM2QpO1xuXHRcdFx0XHRfY3NzKGdob3N0RWwsICd0cmFuc2Zvcm0nLCB0cmFuc2xhdGUzZCk7XG5cblx0XHRcdFx0ZXZ0LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdF9hcHBlbmRHaG9zdDogZnVuY3Rpb24gKCkge1xuXHRcdFx0aWYgKCFnaG9zdEVsKSB7XG5cdFx0XHRcdHZhciByZWN0ID0gZHJhZ0VsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLFxuXHRcdFx0XHRcdGNzcyA9IF9jc3MoZHJhZ0VsKSxcblx0XHRcdFx0XHRvcHRpb25zID0gdGhpcy5vcHRpb25zLFxuXHRcdFx0XHRcdGdob3N0UmVjdDtcblxuXHRcdFx0XHRnaG9zdEVsID0gZHJhZ0VsLmNsb25lTm9kZSh0cnVlKTtcblxuXHRcdFx0XHRfdG9nZ2xlQ2xhc3MoZ2hvc3RFbCwgb3B0aW9ucy5naG9zdENsYXNzLCBmYWxzZSk7XG5cdFx0XHRcdF90b2dnbGVDbGFzcyhnaG9zdEVsLCBvcHRpb25zLmZhbGxiYWNrQ2xhc3MsIHRydWUpO1xuXG5cdFx0XHRcdF9jc3MoZ2hvc3RFbCwgJ3RvcCcsIHJlY3QudG9wIC0gcGFyc2VJbnQoY3NzLm1hcmdpblRvcCwgMTApKTtcblx0XHRcdFx0X2NzcyhnaG9zdEVsLCAnbGVmdCcsIHJlY3QubGVmdCAtIHBhcnNlSW50KGNzcy5tYXJnaW5MZWZ0LCAxMCkpO1xuXHRcdFx0XHRfY3NzKGdob3N0RWwsICd3aWR0aCcsIHJlY3Qud2lkdGgpO1xuXHRcdFx0XHRfY3NzKGdob3N0RWwsICdoZWlnaHQnLCByZWN0LmhlaWdodCk7XG5cdFx0XHRcdF9jc3MoZ2hvc3RFbCwgJ29wYWNpdHknLCAnMC44Jyk7XG5cdFx0XHRcdF9jc3MoZ2hvc3RFbCwgJ3Bvc2l0aW9uJywgJ2ZpeGVkJyk7XG5cdFx0XHRcdF9jc3MoZ2hvc3RFbCwgJ3pJbmRleCcsICcxMDAwMDAnKTtcblx0XHRcdFx0X2NzcyhnaG9zdEVsLCAncG9pbnRlckV2ZW50cycsICdub25lJyk7XG5cblx0XHRcdFx0b3B0aW9ucy5mYWxsYmFja09uQm9keSAmJiBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGdob3N0RWwpIHx8IHJvb3RFbC5hcHBlbmRDaGlsZChnaG9zdEVsKTtcblxuXHRcdFx0XHQvLyBGaXhpbmcgZGltZW5zaW9ucy5cblx0XHRcdFx0Z2hvc3RSZWN0ID0gZ2hvc3RFbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblx0XHRcdFx0X2NzcyhnaG9zdEVsLCAnd2lkdGgnLCByZWN0LndpZHRoICogMiAtIGdob3N0UmVjdC53aWR0aCk7XG5cdFx0XHRcdF9jc3MoZ2hvc3RFbCwgJ2hlaWdodCcsIHJlY3QuaGVpZ2h0ICogMiAtIGdob3N0UmVjdC5oZWlnaHQpO1xuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHRfb25EcmFnU3RhcnQ6IGZ1bmN0aW9uICgvKipFdmVudCovZXZ0LCAvKipib29sZWFuKi91c2VGYWxsYmFjaykge1xuXHRcdFx0dmFyIGRhdGFUcmFuc2ZlciA9IGV2dC5kYXRhVHJhbnNmZXIsXG5cdFx0XHRcdG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG5cblx0XHRcdHRoaXMuX29mZlVwRXZlbnRzKCk7XG5cblx0XHRcdGlmIChhY3RpdmVHcm91cC5wdWxsID09ICdjbG9uZScpIHtcblx0XHRcdFx0Y2xvbmVFbCA9IGRyYWdFbC5jbG9uZU5vZGUodHJ1ZSk7XG5cdFx0XHRcdF9jc3MoY2xvbmVFbCwgJ2Rpc3BsYXknLCAnbm9uZScpO1xuXHRcdFx0XHRyb290RWwuaW5zZXJ0QmVmb3JlKGNsb25lRWwsIGRyYWdFbCk7XG5cdFx0XHR9XG5cblx0XHRcdGlmICh1c2VGYWxsYmFjaykge1xuXG5cdFx0XHRcdGlmICh1c2VGYWxsYmFjayA9PT0gJ3RvdWNoJykge1xuXHRcdFx0XHRcdC8vIEJpbmQgdG91Y2ggZXZlbnRzXG5cdFx0XHRcdFx0X29uKGRvY3VtZW50LCAndG91Y2htb3ZlJywgdGhpcy5fb25Ub3VjaE1vdmUpO1xuXHRcdFx0XHRcdF9vbihkb2N1bWVudCwgJ3RvdWNoZW5kJywgdGhpcy5fb25Ecm9wKTtcblx0XHRcdFx0XHRfb24oZG9jdW1lbnQsICd0b3VjaGNhbmNlbCcsIHRoaXMuX29uRHJvcCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Ly8gT2xkIGJyd29zZXJcblx0XHRcdFx0XHRfb24oZG9jdW1lbnQsICdtb3VzZW1vdmUnLCB0aGlzLl9vblRvdWNoTW92ZSk7XG5cdFx0XHRcdFx0X29uKGRvY3VtZW50LCAnbW91c2V1cCcsIHRoaXMuX29uRHJvcCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR0aGlzLl9sb29wSWQgPSBzZXRJbnRlcnZhbCh0aGlzLl9lbXVsYXRlRHJhZ092ZXIsIDUwKTtcblx0XHRcdH1cblx0XHRcdGVsc2Uge1xuXHRcdFx0XHRpZiAoZGF0YVRyYW5zZmVyKSB7XG5cdFx0XHRcdFx0ZGF0YVRyYW5zZmVyLmVmZmVjdEFsbG93ZWQgPSAnbW92ZSc7XG5cdFx0XHRcdFx0b3B0aW9ucy5zZXREYXRhICYmIG9wdGlvbnMuc2V0RGF0YS5jYWxsKHRoaXMsIGRhdGFUcmFuc2ZlciwgZHJhZ0VsKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdF9vbihkb2N1bWVudCwgJ2Ryb3AnLCB0aGlzKTtcblx0XHRcdFx0c2V0VGltZW91dCh0aGlzLl9kcmFnU3RhcnRlZCwgMCk7XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdF9vbkRyYWdPdmVyOiBmdW5jdGlvbiAoLyoqRXZlbnQqL2V2dCkge1xuXHRcdFx0dmFyIGVsID0gdGhpcy5lbCxcblx0XHRcdFx0dGFyZ2V0LFxuXHRcdFx0XHRkcmFnUmVjdCxcblx0XHRcdFx0cmV2ZXJ0LFxuXHRcdFx0XHRvcHRpb25zID0gdGhpcy5vcHRpb25zLFxuXHRcdFx0XHRncm91cCA9IG9wdGlvbnMuZ3JvdXAsXG5cdFx0XHRcdGdyb3VwUHV0ID0gZ3JvdXAucHV0LFxuXHRcdFx0XHRpc093bmVyID0gKGFjdGl2ZUdyb3VwID09PSBncm91cCksXG5cdFx0XHRcdGNhblNvcnQgPSBvcHRpb25zLnNvcnQ7XG5cblx0XHRcdGlmIChldnQucHJldmVudERlZmF1bHQgIT09IHZvaWQgMCkge1xuXHRcdFx0XHRldnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0IW9wdGlvbnMuZHJhZ292ZXJCdWJibGUgJiYgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xuXHRcdFx0fVxuXG5cdFx0XHRtb3ZlZCA9IHRydWU7XG5cblx0XHRcdGlmIChhY3RpdmVHcm91cCAmJiAhb3B0aW9ucy5kaXNhYmxlZCAmJlxuXHRcdFx0XHQoaXNPd25lclxuXHRcdFx0XHRcdD8gY2FuU29ydCB8fCAocmV2ZXJ0ID0gIXJvb3RFbC5jb250YWlucyhkcmFnRWwpKSAvLyBSZXZlcnRpbmcgaXRlbSBpbnRvIHRoZSBvcmlnaW5hbCBsaXN0XG5cdFx0XHRcdFx0OiBhY3RpdmVHcm91cC5wdWxsICYmIGdyb3VwUHV0ICYmIChcblx0XHRcdFx0XHRcdChhY3RpdmVHcm91cC5uYW1lID09PSBncm91cC5uYW1lKSB8fCAvLyBieSBOYW1lXG5cdFx0XHRcdFx0XHQoZ3JvdXBQdXQuaW5kZXhPZiAmJiB+Z3JvdXBQdXQuaW5kZXhPZihhY3RpdmVHcm91cC5uYW1lKSkgLy8gYnkgQXJyYXlcblx0XHRcdFx0XHQpXG5cdFx0XHRcdCkgJiZcblx0XHRcdFx0KGV2dC5yb290RWwgPT09IHZvaWQgMCB8fCBldnQucm9vdEVsID09PSB0aGlzLmVsKSAvLyB0b3VjaCBmYWxsYmFja1xuXHRcdFx0KSB7XG5cdFx0XHRcdC8vIFNtYXJ0IGF1dG8tc2Nyb2xsaW5nXG5cdFx0XHRcdF9hdXRvU2Nyb2xsKGV2dCwgb3B0aW9ucywgdGhpcy5lbCk7XG5cblx0XHRcdFx0aWYgKF9zaWxlbnQpIHtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR0YXJnZXQgPSBfY2xvc2VzdChldnQudGFyZ2V0LCBvcHRpb25zLmRyYWdnYWJsZSwgZWwpO1xuXHRcdFx0XHRkcmFnUmVjdCA9IGRyYWdFbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuXHRcdFx0XHRpZiAocmV2ZXJ0KSB7XG5cdFx0XHRcdFx0X2Nsb25lSGlkZSh0cnVlKTtcblxuXHRcdFx0XHRcdGlmIChjbG9uZUVsIHx8IG5leHRFbCkge1xuXHRcdFx0XHRcdFx0cm9vdEVsLmluc2VydEJlZm9yZShkcmFnRWwsIGNsb25lRWwgfHwgbmV4dEVsKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0ZWxzZSBpZiAoIWNhblNvcnQpIHtcblx0XHRcdFx0XHRcdHJvb3RFbC5hcHBlbmRDaGlsZChkcmFnRWwpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXG5cblx0XHRcdFx0aWYgKChlbC5jaGlsZHJlbi5sZW5ndGggPT09IDApIHx8IChlbC5jaGlsZHJlblswXSA9PT0gZ2hvc3RFbCkgfHxcblx0XHRcdFx0XHQoZWwgPT09IGV2dC50YXJnZXQpICYmICh0YXJnZXQgPSBfZ2hvc3RJc0xhc3QoZWwsIGV2dCkpXG5cdFx0XHRcdCkge1xuXG5cdFx0XHRcdFx0aWYgKHRhcmdldCkge1xuXHRcdFx0XHRcdFx0aWYgKHRhcmdldC5hbmltYXRlZCkge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdHRhcmdldFJlY3QgPSB0YXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0X2Nsb25lSGlkZShpc093bmVyKTtcblxuXHRcdFx0XHRcdGlmIChfb25Nb3ZlKHJvb3RFbCwgZWwsIGRyYWdFbCwgZHJhZ1JlY3QsIHRhcmdldCwgdGFyZ2V0UmVjdCkgIT09IGZhbHNlKSB7XG5cdFx0XHRcdFx0XHRpZiAoIWRyYWdFbC5jb250YWlucyhlbCkpIHtcblx0XHRcdFx0XHRcdFx0ZWwuYXBwZW5kQ2hpbGQoZHJhZ0VsKTtcblx0XHRcdFx0XHRcdFx0cGFyZW50RWwgPSBlbDsgLy8gYWN0dWFsaXphdGlvblxuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHR0aGlzLl9hbmltYXRlKGRyYWdSZWN0LCBkcmFnRWwpO1xuXHRcdFx0XHRcdFx0dGFyZ2V0ICYmIHRoaXMuX2FuaW1hdGUodGFyZ2V0UmVjdCwgdGFyZ2V0KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0ZWxzZSBpZiAodGFyZ2V0ICYmICF0YXJnZXQuYW5pbWF0ZWQgJiYgdGFyZ2V0ICE9PSBkcmFnRWwgJiYgKHRhcmdldC5wYXJlbnROb2RlW2V4cGFuZG9dICE9PSB2b2lkIDApKSB7XG5cdFx0XHRcdFx0aWYgKGxhc3RFbCAhPT0gdGFyZ2V0KSB7XG5cdFx0XHRcdFx0XHRsYXN0RWwgPSB0YXJnZXQ7XG5cdFx0XHRcdFx0XHRsYXN0Q1NTID0gX2Nzcyh0YXJnZXQpO1xuXHRcdFx0XHRcdFx0bGFzdFBhcmVudENTUyA9IF9jc3ModGFyZ2V0LnBhcmVudE5vZGUpO1xuXHRcdFx0XHRcdH1cblxuXG5cdFx0XHRcdFx0dmFyIHRhcmdldFJlY3QgPSB0YXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksXG5cdFx0XHRcdFx0XHR3aWR0aCA9IHRhcmdldFJlY3QucmlnaHQgLSB0YXJnZXRSZWN0LmxlZnQsXG5cdFx0XHRcdFx0XHRoZWlnaHQgPSB0YXJnZXRSZWN0LmJvdHRvbSAtIHRhcmdldFJlY3QudG9wLFxuXHRcdFx0XHRcdFx0ZmxvYXRpbmcgPSAvbGVmdHxyaWdodHxpbmxpbmUvLnRlc3QobGFzdENTUy5jc3NGbG9hdCArIGxhc3RDU1MuZGlzcGxheSlcblx0XHRcdFx0XHRcdFx0fHwgKGxhc3RQYXJlbnRDU1MuZGlzcGxheSA9PSAnZmxleCcgJiYgbGFzdFBhcmVudENTU1snZmxleC1kaXJlY3Rpb24nXS5pbmRleE9mKCdyb3cnKSA9PT0gMCksXG5cdFx0XHRcdFx0XHRpc1dpZGUgPSAodGFyZ2V0Lm9mZnNldFdpZHRoID4gZHJhZ0VsLm9mZnNldFdpZHRoKSxcblx0XHRcdFx0XHRcdGlzTG9uZyA9ICh0YXJnZXQub2Zmc2V0SGVpZ2h0ID4gZHJhZ0VsLm9mZnNldEhlaWdodCksXG5cdFx0XHRcdFx0XHRoYWxmd2F5ID0gKGZsb2F0aW5nID8gKGV2dC5jbGllbnRYIC0gdGFyZ2V0UmVjdC5sZWZ0KSAvIHdpZHRoIDogKGV2dC5jbGllbnRZIC0gdGFyZ2V0UmVjdC50b3ApIC8gaGVpZ2h0KSA+IDAuNSxcblx0XHRcdFx0XHRcdG5leHRTaWJsaW5nID0gdGFyZ2V0Lm5leHRFbGVtZW50U2libGluZyxcblx0XHRcdFx0XHRcdG1vdmVWZWN0b3IgPSBfb25Nb3ZlKHJvb3RFbCwgZWwsIGRyYWdFbCwgZHJhZ1JlY3QsIHRhcmdldCwgdGFyZ2V0UmVjdCksXG5cdFx0XHRcdFx0XHRhZnRlclxuXHRcdFx0XHRcdDtcblxuXHRcdFx0XHRcdGlmIChtb3ZlVmVjdG9yICE9PSBmYWxzZSkge1xuXHRcdFx0XHRcdFx0X3NpbGVudCA9IHRydWU7XG5cdFx0XHRcdFx0XHRzZXRUaW1lb3V0KF91bnNpbGVudCwgMzApO1xuXG5cdFx0XHRcdFx0XHRfY2xvbmVIaWRlKGlzT3duZXIpO1xuXG5cdFx0XHRcdFx0XHRpZiAobW92ZVZlY3RvciA9PT0gMSB8fCBtb3ZlVmVjdG9yID09PSAtMSkge1xuXHRcdFx0XHRcdFx0XHRhZnRlciA9IChtb3ZlVmVjdG9yID09PSAxKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGVsc2UgaWYgKGZsb2F0aW5nKSB7XG5cdFx0XHRcdFx0XHRcdHZhciBlbFRvcCA9IGRyYWdFbC5vZmZzZXRUb3AsXG5cdFx0XHRcdFx0XHRcdFx0dGdUb3AgPSB0YXJnZXQub2Zmc2V0VG9wO1xuXG5cdFx0XHRcdFx0XHRcdGlmIChlbFRvcCA9PT0gdGdUb3ApIHtcblx0XHRcdFx0XHRcdFx0XHRhZnRlciA9ICh0YXJnZXQucHJldmlvdXNFbGVtZW50U2libGluZyA9PT0gZHJhZ0VsKSAmJiAhaXNXaWRlIHx8IGhhbGZ3YXkgJiYgaXNXaWRlO1xuXHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdGFmdGVyID0gdGdUb3AgPiBlbFRvcDtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0YWZ0ZXIgPSAobmV4dFNpYmxpbmcgIT09IGRyYWdFbCkgJiYgIWlzTG9uZyB8fCBoYWxmd2F5ICYmIGlzTG9uZztcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0aWYgKCFkcmFnRWwuY29udGFpbnMoZWwpKSB7XG5cdFx0XHRcdFx0XHRcdGlmIChhZnRlciAmJiAhbmV4dFNpYmxpbmcpIHtcblx0XHRcdFx0XHRcdFx0XHRlbC5hcHBlbmRDaGlsZChkcmFnRWwpO1xuXHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdHRhcmdldC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShkcmFnRWwsIGFmdGVyID8gbmV4dFNpYmxpbmcgOiB0YXJnZXQpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdHBhcmVudEVsID0gZHJhZ0VsLnBhcmVudE5vZGU7IC8vIGFjdHVhbGl6YXRpb25cblxuXHRcdFx0XHRcdFx0dGhpcy5fYW5pbWF0ZShkcmFnUmVjdCwgZHJhZ0VsKTtcblx0XHRcdFx0XHRcdHRoaXMuX2FuaW1hdGUodGFyZ2V0UmVjdCwgdGFyZ2V0KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0X2FuaW1hdGU6IGZ1bmN0aW9uIChwcmV2UmVjdCwgdGFyZ2V0KSB7XG5cdFx0XHR2YXIgbXMgPSB0aGlzLm9wdGlvbnMuYW5pbWF0aW9uO1xuXG5cdFx0XHRpZiAobXMpIHtcblx0XHRcdFx0dmFyIGN1cnJlbnRSZWN0ID0gdGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG5cdFx0XHRcdF9jc3ModGFyZ2V0LCAndHJhbnNpdGlvbicsICdub25lJyk7XG5cdFx0XHRcdF9jc3ModGFyZ2V0LCAndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZTNkKCdcblx0XHRcdFx0XHQrIChwcmV2UmVjdC5sZWZ0IC0gY3VycmVudFJlY3QubGVmdCkgKyAncHgsJ1xuXHRcdFx0XHRcdCsgKHByZXZSZWN0LnRvcCAtIGN1cnJlbnRSZWN0LnRvcCkgKyAncHgsMCknXG5cdFx0XHRcdCk7XG5cblx0XHRcdFx0dGFyZ2V0Lm9mZnNldFdpZHRoOyAvLyByZXBhaW50XG5cblx0XHRcdFx0X2Nzcyh0YXJnZXQsICd0cmFuc2l0aW9uJywgJ2FsbCAnICsgbXMgKyAnbXMnKTtcblx0XHRcdFx0X2Nzcyh0YXJnZXQsICd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlM2QoMCwwLDApJyk7XG5cblx0XHRcdFx0Y2xlYXJUaW1lb3V0KHRhcmdldC5hbmltYXRlZCk7XG5cdFx0XHRcdHRhcmdldC5hbmltYXRlZCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdF9jc3ModGFyZ2V0LCAndHJhbnNpdGlvbicsICcnKTtcblx0XHRcdFx0XHRfY3NzKHRhcmdldCwgJ3RyYW5zZm9ybScsICcnKTtcblx0XHRcdFx0XHR0YXJnZXQuYW5pbWF0ZWQgPSBmYWxzZTtcblx0XHRcdFx0fSwgbXMpO1xuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHRfb2ZmVXBFdmVudHM6IGZ1bmN0aW9uICgpIHtcblx0XHRcdHZhciBvd25lckRvY3VtZW50ID0gdGhpcy5lbC5vd25lckRvY3VtZW50O1xuXG5cdFx0XHRfb2ZmKGRvY3VtZW50LCAndG91Y2htb3ZlJywgdGhpcy5fb25Ub3VjaE1vdmUpO1xuXHRcdFx0X29mZihvd25lckRvY3VtZW50LCAnbW91c2V1cCcsIHRoaXMuX29uRHJvcCk7XG5cdFx0XHRfb2ZmKG93bmVyRG9jdW1lbnQsICd0b3VjaGVuZCcsIHRoaXMuX29uRHJvcCk7XG5cdFx0XHRfb2ZmKG93bmVyRG9jdW1lbnQsICd0b3VjaGNhbmNlbCcsIHRoaXMuX29uRHJvcCk7XG5cdFx0fSxcblxuXHRcdF9vbkRyb3A6IGZ1bmN0aW9uICgvKipFdmVudCovZXZ0KSB7XG5cdFx0XHR2YXIgZWwgPSB0aGlzLmVsLFxuXHRcdFx0XHRvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuXG5cdFx0XHRjbGVhckludGVydmFsKHRoaXMuX2xvb3BJZCk7XG5cdFx0XHRjbGVhckludGVydmFsKGF1dG9TY3JvbGwucGlkKTtcblx0XHRcdGNsZWFyVGltZW91dCh0aGlzLl9kcmFnU3RhcnRUaW1lcik7XG5cblx0XHRcdC8vIFVuYmluZCBldmVudHNcblx0XHRcdF9vZmYoZG9jdW1lbnQsICdtb3VzZW1vdmUnLCB0aGlzLl9vblRvdWNoTW92ZSk7XG5cblx0XHRcdGlmICh0aGlzLm5hdGl2ZURyYWdnYWJsZSkge1xuXHRcdFx0XHRfb2ZmKGRvY3VtZW50LCAnZHJvcCcsIHRoaXMpO1xuXHRcdFx0XHRfb2ZmKGVsLCAnZHJhZ3N0YXJ0JywgdGhpcy5fb25EcmFnU3RhcnQpO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLl9vZmZVcEV2ZW50cygpO1xuXG5cdFx0XHRpZiAoZXZ0KSB7XG5cdFx0XHRcdGlmIChtb3ZlZCkge1xuXHRcdFx0XHRcdGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHRcdCFvcHRpb25zLmRyb3BCdWJibGUgJiYgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Z2hvc3RFbCAmJiBnaG9zdEVsLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZ2hvc3RFbCk7XG5cblx0XHRcdFx0aWYgKGRyYWdFbCkge1xuXHRcdFx0XHRcdGlmICh0aGlzLm5hdGl2ZURyYWdnYWJsZSkge1xuXHRcdFx0XHRcdFx0X29mZihkcmFnRWwsICdkcmFnZW5kJywgdGhpcyk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0X2Rpc2FibGVEcmFnZ2FibGUoZHJhZ0VsKTtcblxuXHRcdFx0XHRcdC8vIFJlbW92ZSBjbGFzcydzXG5cdFx0XHRcdFx0X3RvZ2dsZUNsYXNzKGRyYWdFbCwgdGhpcy5vcHRpb25zLmdob3N0Q2xhc3MsIGZhbHNlKTtcblx0XHRcdFx0XHRfdG9nZ2xlQ2xhc3MoZHJhZ0VsLCB0aGlzLm9wdGlvbnMuY2hvc2VuQ2xhc3MsIGZhbHNlKTtcblxuXHRcdFx0XHRcdGlmIChyb290RWwgIT09IHBhcmVudEVsKSB7XG5cdFx0XHRcdFx0XHRuZXdJbmRleCA9IF9pbmRleChkcmFnRWwpO1xuXG5cdFx0XHRcdFx0XHRpZiAobmV3SW5kZXggPj0gMCkge1xuXHRcdFx0XHRcdFx0XHQvLyBkcmFnIGZyb20gb25lIGxpc3QgYW5kIGRyb3AgaW50byBhbm90aGVyXG5cdFx0XHRcdFx0XHRcdF9kaXNwYXRjaEV2ZW50KG51bGwsIHBhcmVudEVsLCAnc29ydCcsIGRyYWdFbCwgcm9vdEVsLCBvbGRJbmRleCwgbmV3SW5kZXgpO1xuXHRcdFx0XHRcdFx0XHRfZGlzcGF0Y2hFdmVudCh0aGlzLCByb290RWwsICdzb3J0JywgZHJhZ0VsLCByb290RWwsIG9sZEluZGV4LCBuZXdJbmRleCk7XG5cblx0XHRcdFx0XHRcdFx0Ly8gQWRkIGV2ZW50XG5cdFx0XHRcdFx0XHRcdF9kaXNwYXRjaEV2ZW50KG51bGwsIHBhcmVudEVsLCAnYWRkJywgZHJhZ0VsLCByb290RWwsIG9sZEluZGV4LCBuZXdJbmRleCk7XG5cblx0XHRcdFx0XHRcdFx0Ly8gUmVtb3ZlIGV2ZW50XG5cdFx0XHRcdFx0XHRcdF9kaXNwYXRjaEV2ZW50KHRoaXMsIHJvb3RFbCwgJ3JlbW92ZScsIGRyYWdFbCwgcm9vdEVsLCBvbGRJbmRleCwgbmV3SW5kZXgpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRlbHNlIHtcblx0XHRcdFx0XHRcdC8vIFJlbW92ZSBjbG9uZVxuXHRcdFx0XHRcdFx0Y2xvbmVFbCAmJiBjbG9uZUVsLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoY2xvbmVFbCk7XG5cblx0XHRcdFx0XHRcdGlmIChkcmFnRWwubmV4dFNpYmxpbmcgIT09IG5leHRFbCkge1xuXHRcdFx0XHRcdFx0XHQvLyBHZXQgdGhlIGluZGV4IG9mIHRoZSBkcmFnZ2VkIGVsZW1lbnQgd2l0aGluIGl0cyBwYXJlbnRcblx0XHRcdFx0XHRcdFx0bmV3SW5kZXggPSBfaW5kZXgoZHJhZ0VsKTtcblxuXHRcdFx0XHRcdFx0XHRpZiAobmV3SW5kZXggPj0gMCkge1xuXHRcdFx0XHRcdFx0XHRcdC8vIGRyYWcgJiBkcm9wIHdpdGhpbiB0aGUgc2FtZSBsaXN0XG5cdFx0XHRcdFx0XHRcdFx0X2Rpc3BhdGNoRXZlbnQodGhpcywgcm9vdEVsLCAndXBkYXRlJywgZHJhZ0VsLCByb290RWwsIG9sZEluZGV4LCBuZXdJbmRleCk7XG5cdFx0XHRcdFx0XHRcdFx0X2Rpc3BhdGNoRXZlbnQodGhpcywgcm9vdEVsLCAnc29ydCcsIGRyYWdFbCwgcm9vdEVsLCBvbGRJbmRleCwgbmV3SW5kZXgpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aWYgKFNvcnRhYmxlLmFjdGl2ZSkge1xuXHRcdFx0XHRcdFx0aWYgKG5ld0luZGV4ID09PSBudWxsIHx8IG5ld0luZGV4ID09PSAtMSkge1xuXHRcdFx0XHRcdFx0XHRuZXdJbmRleCA9IG9sZEluZGV4O1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRfZGlzcGF0Y2hFdmVudCh0aGlzLCByb290RWwsICdlbmQnLCBkcmFnRWwsIHJvb3RFbCwgb2xkSW5kZXgsIG5ld0luZGV4KTtcblxuXHRcdFx0XHRcdFx0Ly8gU2F2ZSBzb3J0aW5nXG5cdFx0XHRcdFx0XHR0aGlzLnNhdmUoKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBOdWxsaW5nXG5cdFx0XHRcdHJvb3RFbCA9XG5cdFx0XHRcdGRyYWdFbCA9XG5cdFx0XHRcdHBhcmVudEVsID1cblx0XHRcdFx0Z2hvc3RFbCA9XG5cdFx0XHRcdG5leHRFbCA9XG5cdFx0XHRcdGNsb25lRWwgPVxuXG5cdFx0XHRcdHNjcm9sbEVsID1cblx0XHRcdFx0c2Nyb2xsUGFyZW50RWwgPVxuXG5cdFx0XHRcdHRhcEV2dCA9XG5cdFx0XHRcdHRvdWNoRXZ0ID1cblxuXHRcdFx0XHRtb3ZlZCA9XG5cdFx0XHRcdG5ld0luZGV4ID1cblxuXHRcdFx0XHRsYXN0RWwgPVxuXHRcdFx0XHRsYXN0Q1NTID1cblxuXHRcdFx0XHRhY3RpdmVHcm91cCA9XG5cdFx0XHRcdFNvcnRhYmxlLmFjdGl2ZSA9IG51bGw7XG5cdFx0XHR9XG5cdFx0fSxcblxuXG5cdFx0aGFuZGxlRXZlbnQ6IGZ1bmN0aW9uICgvKipFdmVudCovZXZ0KSB7XG5cdFx0XHR2YXIgdHlwZSA9IGV2dC50eXBlO1xuXG5cdFx0XHRpZiAodHlwZSA9PT0gJ2RyYWdvdmVyJyB8fCB0eXBlID09PSAnZHJhZ2VudGVyJykge1xuXHRcdFx0XHRpZiAoZHJhZ0VsKSB7XG5cdFx0XHRcdFx0dGhpcy5fb25EcmFnT3ZlcihldnQpO1xuXHRcdFx0XHRcdF9nbG9iYWxEcmFnT3ZlcihldnQpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRlbHNlIGlmICh0eXBlID09PSAnZHJvcCcgfHwgdHlwZSA9PT0gJ2RyYWdlbmQnKSB7XG5cdFx0XHRcdHRoaXMuX29uRHJvcChldnQpO1xuXHRcdFx0fVxuXHRcdH0sXG5cblxuXHRcdC8qKlxuXHRcdCAqIFNlcmlhbGl6ZXMgdGhlIGl0ZW0gaW50byBhbiBhcnJheSBvZiBzdHJpbmcuXG5cdFx0ICogQHJldHVybnMge1N0cmluZ1tdfVxuXHRcdCAqL1xuXHRcdHRvQXJyYXk6IGZ1bmN0aW9uICgpIHtcblx0XHRcdHZhciBvcmRlciA9IFtdLFxuXHRcdFx0XHRlbCxcblx0XHRcdFx0Y2hpbGRyZW4gPSB0aGlzLmVsLmNoaWxkcmVuLFxuXHRcdFx0XHRpID0gMCxcblx0XHRcdFx0biA9IGNoaWxkcmVuLmxlbmd0aCxcblx0XHRcdFx0b3B0aW9ucyA9IHRoaXMub3B0aW9ucztcblxuXHRcdFx0Zm9yICg7IGkgPCBuOyBpKyspIHtcblx0XHRcdFx0ZWwgPSBjaGlsZHJlbltpXTtcblx0XHRcdFx0aWYgKF9jbG9zZXN0KGVsLCBvcHRpb25zLmRyYWdnYWJsZSwgdGhpcy5lbCkpIHtcblx0XHRcdFx0XHRvcmRlci5wdXNoKGVsLmdldEF0dHJpYnV0ZShvcHRpb25zLmRhdGFJZEF0dHIpIHx8IF9nZW5lcmF0ZUlkKGVsKSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIG9yZGVyO1xuXHRcdH0sXG5cblxuXHRcdC8qKlxuXHRcdCAqIFNvcnRzIHRoZSBlbGVtZW50cyBhY2NvcmRpbmcgdG8gdGhlIGFycmF5LlxuXHRcdCAqIEBwYXJhbSAge1N0cmluZ1tdfSAgb3JkZXIgIG9yZGVyIG9mIHRoZSBpdGVtc1xuXHRcdCAqL1xuXHRcdHNvcnQ6IGZ1bmN0aW9uIChvcmRlcikge1xuXHRcdFx0dmFyIGl0ZW1zID0ge30sIHJvb3RFbCA9IHRoaXMuZWw7XG5cblx0XHRcdHRoaXMudG9BcnJheSgpLmZvckVhY2goZnVuY3Rpb24gKGlkLCBpKSB7XG5cdFx0XHRcdHZhciBlbCA9IHJvb3RFbC5jaGlsZHJlbltpXTtcblxuXHRcdFx0XHRpZiAoX2Nsb3Nlc3QoZWwsIHRoaXMub3B0aW9ucy5kcmFnZ2FibGUsIHJvb3RFbCkpIHtcblx0XHRcdFx0XHRpdGVtc1tpZF0gPSBlbDtcblx0XHRcdFx0fVxuXHRcdFx0fSwgdGhpcyk7XG5cblx0XHRcdG9yZGVyLmZvckVhY2goZnVuY3Rpb24gKGlkKSB7XG5cdFx0XHRcdGlmIChpdGVtc1tpZF0pIHtcblx0XHRcdFx0XHRyb290RWwucmVtb3ZlQ2hpbGQoaXRlbXNbaWRdKTtcblx0XHRcdFx0XHRyb290RWwuYXBwZW5kQ2hpbGQoaXRlbXNbaWRdKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fSxcblxuXG5cdFx0LyoqXG5cdFx0ICogU2F2ZSB0aGUgY3VycmVudCBzb3J0aW5nXG5cdFx0ICovXG5cdFx0c2F2ZTogZnVuY3Rpb24gKCkge1xuXHRcdFx0dmFyIHN0b3JlID0gdGhpcy5vcHRpb25zLnN0b3JlO1xuXHRcdFx0c3RvcmUgJiYgc3RvcmUuc2V0KHRoaXMpO1xuXHRcdH0sXG5cblxuXHRcdC8qKlxuXHRcdCAqIEZvciBlYWNoIGVsZW1lbnQgaW4gdGhlIHNldCwgZ2V0IHRoZSBmaXJzdCBlbGVtZW50IHRoYXQgbWF0Y2hlcyB0aGUgc2VsZWN0b3IgYnkgdGVzdGluZyB0aGUgZWxlbWVudCBpdHNlbGYgYW5kIHRyYXZlcnNpbmcgdXAgdGhyb3VnaCBpdHMgYW5jZXN0b3JzIGluIHRoZSBET00gdHJlZS5cblx0XHQgKiBAcGFyYW0gICB7SFRNTEVsZW1lbnR9ICBlbFxuXHRcdCAqIEBwYXJhbSAgIHtTdHJpbmd9ICAgICAgIFtzZWxlY3Rvcl0gIGRlZmF1bHQ6IGBvcHRpb25zLmRyYWdnYWJsZWBcblx0XHQgKiBAcmV0dXJucyB7SFRNTEVsZW1lbnR8bnVsbH1cblx0XHQgKi9cblx0XHRjbG9zZXN0OiBmdW5jdGlvbiAoZWwsIHNlbGVjdG9yKSB7XG5cdFx0XHRyZXR1cm4gX2Nsb3Nlc3QoZWwsIHNlbGVjdG9yIHx8IHRoaXMub3B0aW9ucy5kcmFnZ2FibGUsIHRoaXMuZWwpO1xuXHRcdH0sXG5cblxuXHRcdC8qKlxuXHRcdCAqIFNldC9nZXQgb3B0aW9uXG5cdFx0ICogQHBhcmFtICAge3N0cmluZ30gbmFtZVxuXHRcdCAqIEBwYXJhbSAgIHsqfSAgICAgIFt2YWx1ZV1cblx0XHQgKiBAcmV0dXJucyB7Kn1cblx0XHQgKi9cblx0XHRvcHRpb246IGZ1bmN0aW9uIChuYW1lLCB2YWx1ZSkge1xuXHRcdFx0dmFyIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG5cblx0XHRcdGlmICh2YWx1ZSA9PT0gdm9pZCAwKSB7XG5cdFx0XHRcdHJldHVybiBvcHRpb25zW25hbWVdO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0b3B0aW9uc1tuYW1lXSA9IHZhbHVlO1xuXG5cdFx0XHRcdGlmIChuYW1lID09PSAnZ3JvdXAnKSB7XG5cdFx0XHRcdFx0X3ByZXBhcmVHcm91cChvcHRpb25zKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0sXG5cblxuXHRcdC8qKlxuXHRcdCAqIERlc3Ryb3lcblx0XHQgKi9cblx0XHRkZXN0cm95OiBmdW5jdGlvbiAoKSB7XG5cdFx0XHR2YXIgZWwgPSB0aGlzLmVsO1xuXG5cdFx0XHRlbFtleHBhbmRvXSA9IG51bGw7XG5cblx0XHRcdF9vZmYoZWwsICdtb3VzZWRvd24nLCB0aGlzLl9vblRhcFN0YXJ0KTtcblx0XHRcdF9vZmYoZWwsICd0b3VjaHN0YXJ0JywgdGhpcy5fb25UYXBTdGFydCk7XG5cblx0XHRcdGlmICh0aGlzLm5hdGl2ZURyYWdnYWJsZSkge1xuXHRcdFx0XHRfb2ZmKGVsLCAnZHJhZ292ZXInLCB0aGlzKTtcblx0XHRcdFx0X29mZihlbCwgJ2RyYWdlbnRlcicsIHRoaXMpO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBSZW1vdmUgZHJhZ2dhYmxlIGF0dHJpYnV0ZXNcblx0XHRcdEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwoZWwucXVlcnlTZWxlY3RvckFsbCgnW2RyYWdnYWJsZV0nKSwgZnVuY3Rpb24gKGVsKSB7XG5cdFx0XHRcdGVsLnJlbW92ZUF0dHJpYnV0ZSgnZHJhZ2dhYmxlJyk7XG5cdFx0XHR9KTtcblxuXHRcdFx0dG91Y2hEcmFnT3Zlckxpc3RlbmVycy5zcGxpY2UodG91Y2hEcmFnT3Zlckxpc3RlbmVycy5pbmRleE9mKHRoaXMuX29uRHJhZ092ZXIpLCAxKTtcblxuXHRcdFx0dGhpcy5fb25Ecm9wKCk7XG5cblx0XHRcdHRoaXMuZWwgPSBlbCA9IG51bGw7XG5cdFx0fVxuXHR9O1xuXG5cblx0ZnVuY3Rpb24gX2Nsb25lSGlkZShzdGF0ZSkge1xuXHRcdGlmIChjbG9uZUVsICYmIChjbG9uZUVsLnN0YXRlICE9PSBzdGF0ZSkpIHtcblx0XHRcdF9jc3MoY2xvbmVFbCwgJ2Rpc3BsYXknLCBzdGF0ZSA/ICdub25lJyA6ICcnKTtcblx0XHRcdCFzdGF0ZSAmJiBjbG9uZUVsLnN0YXRlICYmIHJvb3RFbC5pbnNlcnRCZWZvcmUoY2xvbmVFbCwgZHJhZ0VsKTtcblx0XHRcdGNsb25lRWwuc3RhdGUgPSBzdGF0ZTtcblx0XHR9XG5cdH1cblxuXG5cdGZ1bmN0aW9uIF9jbG9zZXN0KC8qKkhUTUxFbGVtZW50Ki9lbCwgLyoqU3RyaW5nKi9zZWxlY3RvciwgLyoqSFRNTEVsZW1lbnQqL2N0eCkge1xuXHRcdGlmIChlbCkge1xuXHRcdFx0Y3R4ID0gY3R4IHx8IGRvY3VtZW50O1xuXHRcdFx0c2VsZWN0b3IgPSBzZWxlY3Rvci5zcGxpdCgnLicpO1xuXG5cdFx0XHR2YXIgdGFnID0gc2VsZWN0b3Iuc2hpZnQoKS50b1VwcGVyQ2FzZSgpLFxuXHRcdFx0XHRyZSA9IG5ldyBSZWdFeHAoJ1xcXFxzKCcgKyBzZWxlY3Rvci5qb2luKCd8JykgKyAnKSg/PVxcXFxzKScsICdnJyk7XG5cblx0XHRcdGRvIHtcblx0XHRcdFx0aWYgKFxuXHRcdFx0XHRcdCh0YWcgPT09ICc+KicgJiYgZWwucGFyZW50Tm9kZSA9PT0gY3R4KSB8fCAoXG5cdFx0XHRcdFx0XHQodGFnID09PSAnJyB8fCBlbC5ub2RlTmFtZS50b1VwcGVyQ2FzZSgpID09IHRhZykgJiZcblx0XHRcdFx0XHRcdCghc2VsZWN0b3IubGVuZ3RoIHx8ICgoJyAnICsgZWwuY2xhc3NOYW1lICsgJyAnKS5tYXRjaChyZSkgfHwgW10pLmxlbmd0aCA9PSBzZWxlY3Rvci5sZW5ndGgpXG5cdFx0XHRcdFx0KVxuXHRcdFx0XHQpIHtcblx0XHRcdFx0XHRyZXR1cm4gZWw7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHdoaWxlIChlbCAhPT0gY3R4ICYmIChlbCA9IGVsLnBhcmVudE5vZGUpKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gbnVsbDtcblx0fVxuXG5cblx0ZnVuY3Rpb24gX2dsb2JhbERyYWdPdmVyKC8qKkV2ZW50Ki9ldnQpIHtcblx0XHRpZiAoZXZ0LmRhdGFUcmFuc2Zlcikge1xuXHRcdFx0ZXZ0LmRhdGFUcmFuc2Zlci5kcm9wRWZmZWN0ID0gJ21vdmUnO1xuXHRcdH1cblx0XHRldnQucHJldmVudERlZmF1bHQoKTtcblx0fVxuXG5cblx0ZnVuY3Rpb24gX29uKGVsLCBldmVudCwgZm4pIHtcblx0XHRlbC5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBmbiwgZmFsc2UpO1xuXHR9XG5cblxuXHRmdW5jdGlvbiBfb2ZmKGVsLCBldmVudCwgZm4pIHtcblx0XHRlbC5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50LCBmbiwgZmFsc2UpO1xuXHR9XG5cblxuXHRmdW5jdGlvbiBfdG9nZ2xlQ2xhc3MoZWwsIG5hbWUsIHN0YXRlKSB7XG5cdFx0aWYgKGVsKSB7XG5cdFx0XHRpZiAoZWwuY2xhc3NMaXN0KSB7XG5cdFx0XHRcdGVsLmNsYXNzTGlzdFtzdGF0ZSA/ICdhZGQnIDogJ3JlbW92ZSddKG5hbWUpO1xuXHRcdFx0fVxuXHRcdFx0ZWxzZSB7XG5cdFx0XHRcdHZhciBjbGFzc05hbWUgPSAoJyAnICsgZWwuY2xhc3NOYW1lICsgJyAnKS5yZXBsYWNlKFJTUEFDRSwgJyAnKS5yZXBsYWNlKCcgJyArIG5hbWUgKyAnICcsICcgJyk7XG5cdFx0XHRcdGVsLmNsYXNzTmFtZSA9IChjbGFzc05hbWUgKyAoc3RhdGUgPyAnICcgKyBuYW1lIDogJycpKS5yZXBsYWNlKFJTUEFDRSwgJyAnKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXG5cdGZ1bmN0aW9uIF9jc3MoZWwsIHByb3AsIHZhbCkge1xuXHRcdHZhciBzdHlsZSA9IGVsICYmIGVsLnN0eWxlO1xuXG5cdFx0aWYgKHN0eWxlKSB7XG5cdFx0XHRpZiAodmFsID09PSB2b2lkIDApIHtcblx0XHRcdFx0aWYgKGRvY3VtZW50LmRlZmF1bHRWaWV3ICYmIGRvY3VtZW50LmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUpIHtcblx0XHRcdFx0XHR2YWwgPSBkb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKGVsLCAnJyk7XG5cdFx0XHRcdH1cblx0XHRcdFx0ZWxzZSBpZiAoZWwuY3VycmVudFN0eWxlKSB7XG5cdFx0XHRcdFx0dmFsID0gZWwuY3VycmVudFN0eWxlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIHByb3AgPT09IHZvaWQgMCA/IHZhbCA6IHZhbFtwcm9wXTtcblx0XHRcdH1cblx0XHRcdGVsc2Uge1xuXHRcdFx0XHRpZiAoIShwcm9wIGluIHN0eWxlKSkge1xuXHRcdFx0XHRcdHByb3AgPSAnLXdlYmtpdC0nICsgcHJvcDtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHN0eWxlW3Byb3BdID0gdmFsICsgKHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnID8gJycgOiAncHgnKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXG5cdGZ1bmN0aW9uIF9maW5kKGN0eCwgdGFnTmFtZSwgaXRlcmF0b3IpIHtcblx0XHRpZiAoY3R4KSB7XG5cdFx0XHR2YXIgbGlzdCA9IGN0eC5nZXRFbGVtZW50c0J5VGFnTmFtZSh0YWdOYW1lKSwgaSA9IDAsIG4gPSBsaXN0Lmxlbmd0aDtcblxuXHRcdFx0aWYgKGl0ZXJhdG9yKSB7XG5cdFx0XHRcdGZvciAoOyBpIDwgbjsgaSsrKSB7XG5cdFx0XHRcdFx0aXRlcmF0b3IobGlzdFtpXSwgaSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGxpc3Q7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIFtdO1xuXHR9XG5cblxuXG5cdGZ1bmN0aW9uIF9kaXNwYXRjaEV2ZW50KHNvcnRhYmxlLCByb290RWwsIG5hbWUsIHRhcmdldEVsLCBmcm9tRWwsIHN0YXJ0SW5kZXgsIG5ld0luZGV4KSB7XG5cdFx0dmFyIGV2dCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdFdmVudCcpLFxuXHRcdFx0b3B0aW9ucyA9IChzb3J0YWJsZSB8fCByb290RWxbZXhwYW5kb10pLm9wdGlvbnMsXG5cdFx0XHRvbk5hbWUgPSAnb24nICsgbmFtZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIG5hbWUuc3Vic3RyKDEpO1xuXG5cdFx0ZXZ0LmluaXRFdmVudChuYW1lLCB0cnVlLCB0cnVlKTtcblxuXHRcdGV2dC50byA9IHJvb3RFbDtcblx0XHRldnQuZnJvbSA9IGZyb21FbCB8fCByb290RWw7XG5cdFx0ZXZ0Lml0ZW0gPSB0YXJnZXRFbCB8fCByb290RWw7XG5cdFx0ZXZ0LmNsb25lID0gY2xvbmVFbDtcblxuXHRcdGV2dC5vbGRJbmRleCA9IHN0YXJ0SW5kZXg7XG5cdFx0ZXZ0Lm5ld0luZGV4ID0gbmV3SW5kZXg7XG5cblx0XHRyb290RWwuZGlzcGF0Y2hFdmVudChldnQpO1xuXG5cdFx0aWYgKG9wdGlvbnNbb25OYW1lXSkge1xuXHRcdFx0b3B0aW9uc1tvbk5hbWVdLmNhbGwoc29ydGFibGUsIGV2dCk7XG5cdFx0fVxuXHR9XG5cblxuXHRmdW5jdGlvbiBfb25Nb3ZlKGZyb21FbCwgdG9FbCwgZHJhZ0VsLCBkcmFnUmVjdCwgdGFyZ2V0RWwsIHRhcmdldFJlY3QpIHtcblx0XHR2YXIgZXZ0LFxuXHRcdFx0c29ydGFibGUgPSBmcm9tRWxbZXhwYW5kb10sXG5cdFx0XHRvbk1vdmVGbiA9IHNvcnRhYmxlLm9wdGlvbnMub25Nb3ZlLFxuXHRcdFx0cmV0VmFsO1xuXG5cdFx0ZXZ0ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ0V2ZW50Jyk7XG5cdFx0ZXZ0LmluaXRFdmVudCgnbW92ZScsIHRydWUsIHRydWUpO1xuXG5cdFx0ZXZ0LnRvID0gdG9FbDtcblx0XHRldnQuZnJvbSA9IGZyb21FbDtcblx0XHRldnQuZHJhZ2dlZCA9IGRyYWdFbDtcblx0XHRldnQuZHJhZ2dlZFJlY3QgPSBkcmFnUmVjdDtcblx0XHRldnQucmVsYXRlZCA9IHRhcmdldEVsIHx8IHRvRWw7XG5cdFx0ZXZ0LnJlbGF0ZWRSZWN0ID0gdGFyZ2V0UmVjdCB8fCB0b0VsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG5cdFx0ZnJvbUVsLmRpc3BhdGNoRXZlbnQoZXZ0KTtcblxuXHRcdGlmIChvbk1vdmVGbikge1xuXHRcdFx0cmV0VmFsID0gb25Nb3ZlRm4uY2FsbChzb3J0YWJsZSwgZXZ0KTtcblx0XHR9XG5cblx0XHRyZXR1cm4gcmV0VmFsO1xuXHR9XG5cblxuXHRmdW5jdGlvbiBfZGlzYWJsZURyYWdnYWJsZShlbCkge1xuXHRcdGVsLmRyYWdnYWJsZSA9IGZhbHNlO1xuXHR9XG5cblxuXHRmdW5jdGlvbiBfdW5zaWxlbnQoKSB7XG5cdFx0X3NpbGVudCA9IGZhbHNlO1xuXHR9XG5cblxuXHQvKiogQHJldHVybnMge0hUTUxFbGVtZW50fGZhbHNlfSAqL1xuXHRmdW5jdGlvbiBfZ2hvc3RJc0xhc3QoZWwsIGV2dCkge1xuXHRcdHZhciBsYXN0RWwgPSBlbC5sYXN0RWxlbWVudENoaWxkLFxuXHRcdFx0XHRyZWN0ID0gbGFzdEVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG5cdFx0cmV0dXJuICgoZXZ0LmNsaWVudFkgLSAocmVjdC50b3AgKyByZWN0LmhlaWdodCkgPiA1KSB8fCAoZXZ0LmNsaWVudFggLSAocmVjdC5yaWdodCArIHJlY3Qud2lkdGgpID4gNSkpICYmIGxhc3RFbDsgLy8gbWluIGRlbHRhXG5cdH1cblxuXG5cdC8qKlxuXHQgKiBHZW5lcmF0ZSBpZFxuXHQgKiBAcGFyYW0gICB7SFRNTEVsZW1lbnR9IGVsXG5cdCAqIEByZXR1cm5zIHtTdHJpbmd9XG5cdCAqIEBwcml2YXRlXG5cdCAqL1xuXHRmdW5jdGlvbiBfZ2VuZXJhdGVJZChlbCkge1xuXHRcdHZhciBzdHIgPSBlbC50YWdOYW1lICsgZWwuY2xhc3NOYW1lICsgZWwuc3JjICsgZWwuaHJlZiArIGVsLnRleHRDb250ZW50LFxuXHRcdFx0aSA9IHN0ci5sZW5ndGgsXG5cdFx0XHRzdW0gPSAwO1xuXG5cdFx0d2hpbGUgKGktLSkge1xuXHRcdFx0c3VtICs9IHN0ci5jaGFyQ29kZUF0KGkpO1xuXHRcdH1cblxuXHRcdHJldHVybiBzdW0udG9TdHJpbmcoMzYpO1xuXHR9XG5cblx0LyoqXG5cdCAqIFJldHVybnMgdGhlIGluZGV4IG9mIGFuIGVsZW1lbnQgd2l0aGluIGl0cyBwYXJlbnRcblx0ICogQHBhcmFtICB7SFRNTEVsZW1lbnR9IGVsXG5cdCAqIEByZXR1cm4ge251bWJlcn1cblx0ICovXG5cdGZ1bmN0aW9uIF9pbmRleChlbCkge1xuXHRcdHZhciBpbmRleCA9IDA7XG5cblx0XHRpZiAoIWVsIHx8ICFlbC5wYXJlbnROb2RlKSB7XG5cdFx0XHRyZXR1cm4gLTE7XG5cdFx0fVxuXG5cdFx0d2hpbGUgKGVsICYmIChlbCA9IGVsLnByZXZpb3VzRWxlbWVudFNpYmxpbmcpKSB7XG5cdFx0XHRpZiAoZWwubm9kZU5hbWUudG9VcHBlckNhc2UoKSAhPT0gJ1RFTVBMQVRFJykge1xuXHRcdFx0XHRpbmRleCsrO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBpbmRleDtcblx0fVxuXG5cdGZ1bmN0aW9uIF90aHJvdHRsZShjYWxsYmFjaywgbXMpIHtcblx0XHR2YXIgYXJncywgX3RoaXM7XG5cblx0XHRyZXR1cm4gZnVuY3Rpb24gKCkge1xuXHRcdFx0aWYgKGFyZ3MgPT09IHZvaWQgMCkge1xuXHRcdFx0XHRhcmdzID0gYXJndW1lbnRzO1xuXHRcdFx0XHRfdGhpcyA9IHRoaXM7XG5cblx0XHRcdFx0c2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0aWYgKGFyZ3MubGVuZ3RoID09PSAxKSB7XG5cdFx0XHRcdFx0XHRjYWxsYmFjay5jYWxsKF90aGlzLCBhcmdzWzBdKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0Y2FsbGJhY2suYXBwbHkoX3RoaXMsIGFyZ3MpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGFyZ3MgPSB2b2lkIDA7XG5cdFx0XHRcdH0sIG1zKTtcblx0XHRcdH1cblx0XHR9O1xuXHR9XG5cblx0ZnVuY3Rpb24gX2V4dGVuZChkc3QsIHNyYykge1xuXHRcdGlmIChkc3QgJiYgc3JjKSB7XG5cdFx0XHRmb3IgKHZhciBrZXkgaW4gc3JjKSB7XG5cdFx0XHRcdGlmIChzcmMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuXHRcdFx0XHRcdGRzdFtrZXldID0gc3JjW2tleV07XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gZHN0O1xuXHR9XG5cblxuXHQvLyBFeHBvcnQgdXRpbHNcblx0U29ydGFibGUudXRpbHMgPSB7XG5cdFx0b246IF9vbixcblx0XHRvZmY6IF9vZmYsXG5cdFx0Y3NzOiBfY3NzLFxuXHRcdGZpbmQ6IF9maW5kLFxuXHRcdGlzOiBmdW5jdGlvbiAoZWwsIHNlbGVjdG9yKSB7XG5cdFx0XHRyZXR1cm4gISFfY2xvc2VzdChlbCwgc2VsZWN0b3IsIGVsKTtcblx0XHR9LFxuXHRcdGV4dGVuZDogX2V4dGVuZCxcblx0XHR0aHJvdHRsZTogX3Rocm90dGxlLFxuXHRcdGNsb3Nlc3Q6IF9jbG9zZXN0LFxuXHRcdHRvZ2dsZUNsYXNzOiBfdG9nZ2xlQ2xhc3MsXG5cdFx0aW5kZXg6IF9pbmRleFxuXHR9O1xuXG5cblx0LyoqXG5cdCAqIENyZWF0ZSBzb3J0YWJsZSBpbnN0YW5jZVxuXHQgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSAgZWxcblx0ICogQHBhcmFtIHtPYmplY3R9ICAgICAgW29wdGlvbnNdXG5cdCAqL1xuXHRTb3J0YWJsZS5jcmVhdGUgPSBmdW5jdGlvbiAoZWwsIG9wdGlvbnMpIHtcblx0XHRyZXR1cm4gbmV3IFNvcnRhYmxlKGVsLCBvcHRpb25zKTtcblx0fTtcblxuXG5cdC8vIEV4cG9ydFxuXHRTb3J0YWJsZS52ZXJzaW9uID0gJzEuNC4yJztcblx0cmV0dXJuIFNvcnRhYmxlO1xufSk7XG4iLCIvKipcbiAqIEBhdXRob3IgUnViYVhhIDx0cmFzaEBydWJheGEub3JnPlxuICogQGxpY2VuY2UgTUlUXG4gKi9cbihmdW5jdGlvbiAoZmFjdG9yeSkge1xuXHQndXNlIHN0cmljdCc7XG5cblx0aWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuXHRcdGRlZmluZShbJ2FuZ3VsYXInLCAnLi9Tb3J0YWJsZSddLCBmYWN0b3J5KTtcblx0fVxuXHRlbHNlIGlmICh0eXBlb2YgcmVxdWlyZSA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpIHtcblx0XHRyZXF1aXJlKCdhbmd1bGFyJyk7XG5cdFx0ZmFjdG9yeShhbmd1bGFyLCByZXF1aXJlKCcuL1NvcnRhYmxlJykpO1xuXHRcdG1vZHVsZS5leHBvcnRzID0gJ25nLXNvcnRhYmxlJztcblx0fVxuXHRlbHNlIGlmICh3aW5kb3cuYW5ndWxhciAmJiB3aW5kb3cuU29ydGFibGUpIHtcblx0XHRmYWN0b3J5KGFuZ3VsYXIsIFNvcnRhYmxlKTtcblx0fVxufSkoZnVuY3Rpb24gKGFuZ3VsYXIsIFNvcnRhYmxlKSB7XG5cdCd1c2Ugc3RyaWN0JztcblxuXG5cdC8qKlxuXHQgKiBAdHlwZWRlZiAgIHtPYmplY3R9ICAgICAgICBuZ1NvcnRFdmVudFxuXHQgKiBAcHJvcGVydHkgIHsqfSAgICAgICAgICAgICBtb2RlbCAgICAgIExpc3QgaXRlbVxuXHQgKiBAcHJvcGVydHkgIHtPYmplY3R8QXJyYXl9ICBtb2RlbHMgICAgIExpc3Qgb2YgaXRlbXNcblx0ICogQHByb3BlcnR5ICB7bnVtYmVyfSAgICAgICAgb2xkSW5kZXggICBiZWZvcmUgc29ydFxuXHQgKiBAcHJvcGVydHkgIHtudW1iZXJ9ICAgICAgICBuZXdJbmRleCAgIGFmdGVyIHNvcnRcblx0ICovXG5cblx0dmFyIGV4cGFuZG8gPSAnU29ydGFibGU6bmctc29ydGFibGUnO1xuXG5cdGFuZ3VsYXIubW9kdWxlKCduZy1zb3J0YWJsZScsIFtdKVxuXHRcdC5jb25zdGFudCgnbmdTb3J0YWJsZVZlcnNpb24nLCAnMC40LjAnKVxuXHRcdC5jb25zdGFudCgnbmdTb3J0YWJsZUNvbmZpZycsIHt9KVxuXHRcdC5kaXJlY3RpdmUoJ25nU29ydGFibGUnLCBbJyRwYXJzZScsICduZ1NvcnRhYmxlQ29uZmlnJywgZnVuY3Rpb24gKCRwYXJzZSwgbmdTb3J0YWJsZUNvbmZpZykge1xuXHRcdFx0dmFyIHJlbW92ZWQsXG5cdFx0XHRcdG5leHRTaWJsaW5nLFxuXHRcdFx0XHRnZXRTb3VyY2VGYWN0b3J5ID0gZnVuY3Rpb24gZ2V0U291cmNlRmFjdG9yeShlbCwgc2NvcGUpIHtcblx0XHRcdFx0XHR2YXIgbmdSZXBlYXQgPSBbXS5maWx0ZXIuY2FsbChlbC5jaGlsZE5vZGVzLCBmdW5jdGlvbiAobm9kZSkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIChcblx0XHRcdFx0XHRcdFx0XHQobm9kZS5ub2RlVHlwZSA9PT0gOCkgJiZcblx0XHRcdFx0XHRcdFx0XHQobm9kZS5ub2RlVmFsdWUuaW5kZXhPZignbmdSZXBlYXQ6JykgIT09IC0xKVxuXHRcdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdH0pWzBdO1xuXG5cdFx0XHRcdFx0aWYgKCFuZ1JlcGVhdCkge1xuXHRcdFx0XHRcdFx0Ly8gV2l0aG91dCBuZy1yZXBlYXRcblx0XHRcdFx0XHRcdHJldHVybiBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybiBudWxsO1xuXHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyB0ZXN0czogaHR0cDovL2pzYmluLmNvbS9rb3N1YnV0aWxvLzEvZWRpdD9qcyxvdXRwdXRcblx0XHRcdFx0XHRuZ1JlcGVhdCA9IG5nUmVwZWF0Lm5vZGVWYWx1ZS5tYXRjaCgvbmdSZXBlYXQ6XFxzKig/OlxcKC4qPyxcXHMqKT8oW15cXHMpXSspW1xccyldK2luXFxzKyhbXlxcc3xdKykvKTtcblxuXHRcdFx0XHRcdHZhciBpdGVtc0V4cHIgPSAkcGFyc2UobmdSZXBlYXRbMl0pO1xuXG5cdFx0XHRcdFx0cmV0dXJuIGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRcdHJldHVybiBpdGVtc0V4cHIoc2NvcGUuJHBhcmVudCkgfHwgW107XG5cdFx0XHRcdFx0fTtcblx0XHRcdFx0fTtcblxuXG5cdFx0XHQvLyBFeHBvcnRcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHJlc3RyaWN0OiAnQUMnLFxuXHRcdFx0XHRzY29wZTogeyBuZ1NvcnRhYmxlOiBcIj0/XCIgfSxcblx0XHRcdFx0bGluazogZnVuY3Rpb24gKHNjb3BlLCAkZWwpIHtcblx0XHRcdFx0XHR2YXIgZWwgPSAkZWxbMF0sXG5cdFx0XHRcdFx0XHRvcHRpb25zID0gYW5ndWxhci5leHRlbmQoc2NvcGUubmdTb3J0YWJsZSB8fCB7fSwgbmdTb3J0YWJsZUNvbmZpZyksXG5cdFx0XHRcdFx0XHR3YXRjaGVycyA9IFtdLFxuXHRcdFx0XHRcdFx0Z2V0U291cmNlID0gZ2V0U291cmNlRmFjdG9yeShlbCwgc2NvcGUpLFxuXHRcdFx0XHRcdFx0c29ydGFibGVcblx0XHRcdFx0XHQ7XG5cblx0XHRcdFx0XHRlbFtleHBhbmRvXSA9IGdldFNvdXJjZTtcblxuXHRcdFx0XHRcdGZ1bmN0aW9uIF9lbWl0RXZlbnQoLyoqRXZlbnQqL2V2dCwgLypNaXhlZCovaXRlbSkge1xuXHRcdFx0XHRcdFx0dmFyIG5hbWUgPSAnb24nICsgZXZ0LnR5cGUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBldnQudHlwZS5zdWJzdHIoMSk7XG5cdFx0XHRcdFx0XHR2YXIgc291cmNlID0gZ2V0U291cmNlKCk7XG5cblx0XHRcdFx0XHRcdC8qIGpzaGludCBleHByOnRydWUgKi9cblx0XHRcdFx0XHRcdG9wdGlvbnNbbmFtZV0gJiYgb3B0aW9uc1tuYW1lXSh7XG5cdFx0XHRcdFx0XHRcdG1vZGVsOiBpdGVtIHx8IHNvdXJjZVtldnQubmV3SW5kZXhdLFxuXHRcdFx0XHRcdFx0XHRtb2RlbHM6IHNvdXJjZSxcblx0XHRcdFx0XHRcdFx0b2xkSW5kZXg6IGV2dC5vbGRJbmRleCxcblx0XHRcdFx0XHRcdFx0bmV3SW5kZXg6IGV2dC5uZXdJbmRleFxuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0fVxuXG5cblx0XHRcdFx0XHRmdW5jdGlvbiBfc3luYygvKipFdmVudCovZXZ0KSB7XG5cdFx0XHRcdFx0XHR2YXIgaXRlbXMgPSBnZXRTb3VyY2UoKTtcblxuXHRcdFx0XHRcdFx0aWYgKCFpdGVtcykge1xuXHRcdFx0XHRcdFx0XHQvLyBXaXRob3V0IG5nLXJlcGVhdFxuXHRcdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdHZhciBvbGRJbmRleCA9IGV2dC5vbGRJbmRleCxcblx0XHRcdFx0XHRcdFx0bmV3SW5kZXggPSBldnQubmV3SW5kZXg7XG5cblx0XHRcdFx0XHRcdGlmIChlbCAhPT0gZXZ0LmZyb20pIHtcblx0XHRcdFx0XHRcdFx0dmFyIHByZXZJdGVtcyA9IGV2dC5mcm9tW2V4cGFuZG9dKCk7XG5cblx0XHRcdFx0XHRcdFx0cmVtb3ZlZCA9IHByZXZJdGVtc1tvbGRJbmRleF07XG5cblx0XHRcdFx0XHRcdFx0aWYgKGV2dC5jbG9uZSkge1xuXHRcdFx0XHRcdFx0XHRcdHJlbW92ZWQgPSBhbmd1bGFyLmNvcHkocmVtb3ZlZCk7XG5cdFx0XHRcdFx0XHRcdFx0cHJldkl0ZW1zLnNwbGljZShTb3J0YWJsZS51dGlscy5pbmRleChldnQuY2xvbmUpLCAwLCBwcmV2SXRlbXMuc3BsaWNlKG9sZEluZGV4LCAxKVswXSk7XG5cdFx0XHRcdFx0XHRcdFx0ZXZ0LmZyb20ucmVtb3ZlQ2hpbGQoZXZ0LmNsb25lKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRwcmV2SXRlbXMuc3BsaWNlKG9sZEluZGV4LCAxKTtcblx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdGl0ZW1zLnNwbGljZShuZXdJbmRleCwgMCwgcmVtb3ZlZCk7XG5cblx0XHRcdFx0XHRcdFx0ZXZ0LmZyb20uaW5zZXJ0QmVmb3JlKGV2dC5pdGVtLCBuZXh0U2libGluZyk7IC8vIHJldmVydCBlbGVtZW50XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRlbHNlIHtcblx0XHRcdFx0XHRcdFx0aXRlbXMuc3BsaWNlKG5ld0luZGV4LCAwLCBpdGVtcy5zcGxpY2Uob2xkSW5kZXgsIDEpWzBdKTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0c2NvcGUuJGFwcGx5KCk7XG5cdFx0XHRcdFx0fVxuXG5cblx0XHRcdFx0XHRzb3J0YWJsZSA9IFNvcnRhYmxlLmNyZWF0ZShlbCwgT2JqZWN0LmtleXMob3B0aW9ucykucmVkdWNlKGZ1bmN0aW9uIChvcHRzLCBuYW1lKSB7XG5cdFx0XHRcdFx0XHRvcHRzW25hbWVdID0gb3B0c1tuYW1lXSB8fCBvcHRpb25zW25hbWVdO1xuXHRcdFx0XHRcdFx0cmV0dXJuIG9wdHM7XG5cdFx0XHRcdFx0fSwge1xuXHRcdFx0XHRcdFx0b25TdGFydDogZnVuY3Rpb24gKC8qKkV2ZW50Ki9ldnQpIHtcblx0XHRcdFx0XHRcdFx0bmV4dFNpYmxpbmcgPSBldnQuaXRlbS5uZXh0U2libGluZztcblx0XHRcdFx0XHRcdFx0X2VtaXRFdmVudChldnQpO1xuXHRcdFx0XHRcdFx0XHRzY29wZS4kYXBwbHkoKTtcblx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRvbkVuZDogZnVuY3Rpb24gKC8qKkV2ZW50Ki9ldnQpIHtcblx0XHRcdFx0XHRcdFx0X2VtaXRFdmVudChldnQsIHJlbW92ZWQpO1xuXHRcdFx0XHRcdFx0XHRzY29wZS4kYXBwbHkoKTtcblx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRvbkFkZDogZnVuY3Rpb24gKC8qKkV2ZW50Ki9ldnQpIHtcblx0XHRcdFx0XHRcdFx0X3N5bmMoZXZ0KTtcblx0XHRcdFx0XHRcdFx0X2VtaXRFdmVudChldnQsIHJlbW92ZWQpO1xuXHRcdFx0XHRcdFx0XHRzY29wZS4kYXBwbHkoKTtcblx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRvblVwZGF0ZTogZnVuY3Rpb24gKC8qKkV2ZW50Ki9ldnQpIHtcblx0XHRcdFx0XHRcdFx0X3N5bmMoZXZ0KTtcblx0XHRcdFx0XHRcdFx0X2VtaXRFdmVudChldnQpO1xuXHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdG9uUmVtb3ZlOiBmdW5jdGlvbiAoLyoqRXZlbnQqL2V2dCkge1xuXHRcdFx0XHRcdFx0XHRfZW1pdEV2ZW50KGV2dCwgcmVtb3ZlZCk7XG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0b25Tb3J0OiBmdW5jdGlvbiAoLyoqRXZlbnQqL2V2dCkge1xuXHRcdFx0XHRcdFx0XHRfZW1pdEV2ZW50KGV2dCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSkpO1xuXG5cdFx0XHRcdFx0JGVsLm9uKCckZGVzdHJveScsIGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRcdGFuZ3VsYXIuZm9yRWFjaCh3YXRjaGVycywgZnVuY3Rpb24gKC8qKiBGdW5jdGlvbiAqL3Vud2F0Y2gpIHtcblx0XHRcdFx0XHRcdFx0dW53YXRjaCgpO1xuXHRcdFx0XHRcdFx0fSk7XG5cblx0XHRcdFx0XHRcdHNvcnRhYmxlLmRlc3Ryb3koKTtcblxuXHRcdFx0XHRcdFx0ZWxbZXhwYW5kb10gPSBudWxsO1xuXHRcdFx0XHRcdFx0ZWwgPSBudWxsO1xuXHRcdFx0XHRcdFx0d2F0Y2hlcnMgPSBudWxsO1xuXHRcdFx0XHRcdFx0c29ydGFibGUgPSBudWxsO1xuXHRcdFx0XHRcdFx0bmV4dFNpYmxpbmcgPSBudWxsO1xuXHRcdFx0XHRcdH0pO1xuXG5cdFx0XHRcdFx0YW5ndWxhci5mb3JFYWNoKFtcblx0XHRcdFx0XHRcdCdzb3J0JywgJ2Rpc2FibGVkJywgJ2RyYWdnYWJsZScsICdoYW5kbGUnLCAnYW5pbWF0aW9uJywgJ2dyb3VwJywgJ2dob3N0Q2xhc3MnLCAnZmlsdGVyJyxcblx0XHRcdFx0XHRcdCdvblN0YXJ0JywgJ29uRW5kJywgJ29uQWRkJywgJ29uVXBkYXRlJywgJ29uUmVtb3ZlJywgJ29uU29ydCdcblx0XHRcdFx0XHRdLCBmdW5jdGlvbiAobmFtZSkge1xuXHRcdFx0XHRcdFx0d2F0Y2hlcnMucHVzaChzY29wZS4kd2F0Y2goJ25nU29ydGFibGUuJyArIG5hbWUsIGZ1bmN0aW9uICh2YWx1ZSkge1xuXHRcdFx0XHRcdFx0XHRpZiAodmFsdWUgIT09IHZvaWQgMCkge1xuXHRcdFx0XHRcdFx0XHRcdG9wdGlvbnNbbmFtZV0gPSB2YWx1ZTtcblxuXHRcdFx0XHRcdFx0XHRcdGlmICghL15vbltBLVpdLy50ZXN0KG5hbWUpKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRzb3J0YWJsZS5vcHRpb24obmFtZSwgdmFsdWUpO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSkpO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXHRcdH1dKTtcbn0pO1xuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
